var KF=Object.defineProperty;var YF=(t,e,r)=>e in t?KF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Jr=(t,e,r)=>YF(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Dk={exports:{}},rx={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QF=Symbol.for("react.transitional.element"),JF=Symbol.for("react.fragment");function Pk(t,e,r){var n=null;if(r!==void 0&&(n=""+r),e.key!==void 0&&(n=""+e.key),"key"in e){r={};for(var a in e)a!=="key"&&(r[a]=e[a])}else r=e;return e=r.ref,{$$typeof:QF,type:t,key:n,ref:e!==void 0?e:null,props:r}}rx.Fragment=JF;rx.jsx=Pk;rx.jsxs=Pk;Dk.exports=rx;var w=Dk.exports,Ok={exports:{}},hr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zw=Symbol.for("react.transitional.element"),ZF=Symbol.for("react.portal"),e9=Symbol.for("react.fragment"),t9=Symbol.for("react.strict_mode"),r9=Symbol.for("react.profiler"),n9=Symbol.for("react.consumer"),a9=Symbol.for("react.context"),i9=Symbol.for("react.forward_ref"),s9=Symbol.for("react.suspense"),o9=Symbol.for("react.memo"),Fk=Symbol.for("react.lazy"),l9=Symbol.for("react.activity"),V3=Symbol.iterator;function c9(t){return t===null||typeof t!="object"?null:(t=V3&&t[V3]||t["@@iterator"],typeof t=="function"?t:null)}var Mk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bk=Object.assign,Uk={};function bd(t,e,r){this.props=t,this.context=e,this.refs=Uk,this.updater=r||Mk}bd.prototype.isReactComponent={};bd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};bd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function jk(){}jk.prototype=bd.prototype;function eb(t,e,r){this.props=t,this.context=e,this.refs=Uk,this.updater=r||Mk}var tb=eb.prototype=new jk;tb.constructor=eb;Bk(tb,bd.prototype);tb.isPureReactComponent=!0;var z3=Array.isArray;function i5(){}var On={H:null,A:null,T:null,S:null},Vk=Object.prototype.hasOwnProperty;function rb(t,e,r){var n=r.ref;return{$$typeof:Zw,type:t,key:e,ref:n!==void 0?n:null,props:r}}function u9(t,e){return rb(t.type,e,t.props)}function nb(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zw}function f9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var q3=/\/+/g;function y_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?f9(""+t.key):e.toString(36)}function h9(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(i5,i5):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function u0(t,e,r,n,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Zw:case ZF:s=!0;break;case Fk:return s=t._init,u0(s(t._payload),e,r,n,a)}}if(s)return a=a(t),s=n===""?"."+y_(t,0):n,z3(a)?(r="",s!=null&&(r=s.replace(q3,"$&/")+"/"),u0(a,e,r,"",function(c){return c})):a!=null&&(nb(a)&&(a=u9(a,r+(a.key==null||t&&t.key===a.key?"":(""+a.key).replace(q3,"$&/")+"/")+s)),e.push(a)),1;s=0;var o=n===""?".":n+":";if(z3(t))for(var l=0;l<t.length;l++)n=t[l],i=o+y_(n,l),s+=u0(n,e,r,i,a);else if(l=c9(t),typeof l=="function")for(t=l.call(t),l=0;!(n=t.next()).done;)n=n.value,i=o+y_(n,l++),s+=u0(n,e,r,i,a);else if(i==="object"){if(typeof t.then=="function")return u0(h9(t),e,r,n,a);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function lg(t,e,r){if(t==null)return t;var n=[],a=0;return u0(t,n,"","",function(i){return e.call(r,i,a++)}),n}function d9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var H3=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},p9={map:lg,forEach:function(t,e,r){lg(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return lg(t,function(){e++}),e},toArray:function(t){return lg(t,function(e){return e})||[]},only:function(t){if(!nb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};hr.Activity=l9;hr.Children=p9;hr.Component=bd;hr.Fragment=e9;hr.Profiler=r9;hr.PureComponent=eb;hr.StrictMode=t9;hr.Suspense=s9;hr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=On;hr.__COMPILER_RUNTIME={__proto__:null,c:function(t){return On.H.useMemoCache(t)}};hr.cache=function(t){return function(){return t.apply(null,arguments)}};hr.cacheSignal=function(){return null};hr.cloneElement=function(t,e,r){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var n=Bk({},t.props),a=t.key;if(e!=null)for(i in e.key!==void 0&&(a=""+e.key),e)!Vk.call(e,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&e.ref===void 0||(n[i]=e[i]);var i=arguments.length-2;if(i===1)n.children=r;else if(1<i){for(var s=Array(i),o=0;o<i;o++)s[o]=arguments[o+2];n.children=s}return rb(t.type,a,n)};hr.createContext=function(t){return t={$$typeof:a9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:n9,_context:t},t};hr.createElement=function(t,e,r){var n,a={},i=null;if(e!=null)for(n in e.key!==void 0&&(i=""+e.key),e)Vk.call(e,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(a[n]=e[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];a.children=o}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return rb(t,i,a)};hr.createRef=function(){return{current:null}};hr.forwardRef=function(t){return{$$typeof:i9,render:t}};hr.isValidElement=nb;hr.lazy=function(t){return{$$typeof:Fk,_payload:{_status:-1,_result:t},_init:d9}};hr.memo=function(t,e){return{$$typeof:o9,type:t,compare:e===void 0?null:e}};hr.startTransition=function(t){var e=On.T,r={};On.T=r;try{var n=t(),a=On.S;a!==null&&a(r,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(i5,H3)}catch(i){H3(i)}finally{e!==null&&r.types!==null&&(e.types=r.types),On.T=e}};hr.unstable_useCacheRefresh=function(){return On.H.useCacheRefresh()};hr.use=function(t){return On.H.use(t)};hr.useActionState=function(t,e,r){return On.H.useActionState(t,e,r)};hr.useCallback=function(t,e){return On.H.useCallback(t,e)};hr.useContext=function(t){return On.H.useContext(t)};hr.useDebugValue=function(){};hr.useDeferredValue=function(t,e){return On.H.useDeferredValue(t,e)};hr.useEffect=function(t,e){return On.H.useEffect(t,e)};hr.useEffectEvent=function(t){return On.H.useEffectEvent(t)};hr.useId=function(){return On.H.useId()};hr.useImperativeHandle=function(t,e,r){return On.H.useImperativeHandle(t,e,r)};hr.useInsertionEffect=function(t,e){return On.H.useInsertionEffect(t,e)};hr.useLayoutEffect=function(t,e){return On.H.useLayoutEffect(t,e)};hr.useMemo=function(t,e){return On.H.useMemo(t,e)};hr.useOptimistic=function(t,e){return On.H.useOptimistic(t,e)};hr.useReducer=function(t,e,r){return On.H.useReducer(t,e,r)};hr.useRef=function(t){return On.H.useRef(t)};hr.useState=function(t){return On.H.useState(t)};hr.useSyncExternalStore=function(t,e,r){return On.H.useSyncExternalStore(t,e,r)};hr.useTransition=function(){return On.H.useTransition()};hr.version="19.2.4";Ok.exports=hr;var le=Ok.exports,zk={exports:{}},nx={},qk={exports:{}},Hk={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,q){var re=V.length;V.push(q);e:for(;0<re;){var W=re-1>>>1,me=V[W];if(0<a(me,q))V[W]=q,V[re]=me,re=W;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var q=V[0],re=V.pop();if(re!==q){V[0]=re;e:for(var W=0,me=V.length,Ee=me>>>1;W<Ee;){var D=2*(W+1)-1,F=V[D],U=D+1,M=V[U];if(0>a(F,re))U<me&&0>a(M,F)?(V[W]=M,V[U]=re,W=U):(V[W]=F,V[D]=re,W=D);else if(U<me&&0>a(M,re))V[W]=M,V[U]=re,W=U;else break e}}return q}function a(V,q){var re=V.sortIndex-q.sortIndex;return re!==0?re:V.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,h=null,d=3,f=!1,p=!1,m=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function I(V){for(var q=r(c);q!==null;){if(q.callback===null)n(c);else if(q.startTime<=V)n(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=r(c)}}function j(V){if(m=!1,I(V),!p)if(r(l)!==null)p=!0,O||(O=!0,k());else{var q=r(c);q!==null&&X(j,q.startTime-V)}}var O=!1,N=-1,A=5,y=-1;function R(){return _?!0:!(t.unstable_now()-y<A)}function S(){if(_=!1,O){var V=t.unstable_now();y=V;var q=!0;try{e:{p=!1,m&&(m=!1,T(N),N=-1),f=!0;var re=d;try{t:{for(I(V),h=r(l);h!==null&&!(h.expirationTime>V&&R());){var W=h.callback;if(typeof W=="function"){h.callback=null,d=h.priorityLevel;var me=W(h.expirationTime<=V);if(V=t.unstable_now(),typeof me=="function"){h.callback=me,I(V),q=!0;break t}h===r(l)&&n(l),I(V)}else n(l);h=r(l)}if(h!==null)q=!0;else{var Ee=r(c);Ee!==null&&X(j,Ee.startTime-V),q=!1}}break e}finally{h=null,d=re,f=!1}q=void 0}}finally{q?k():O=!1}}}var k;if(typeof b=="function")k=function(){b(S)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,H=C.port2;C.port1.onmessage=S,k=function(){H.postMessage(null)}}else k=function(){x(S,0)};function X(V,q){N=x(function(){V(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_next=function(V){switch(d){case 1:case 2:case 3:var q=3;break;default:q=d}var re=d;d=q;try{return V()}finally{d=re}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(V,q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var re=d;d=V;try{return q()}finally{d=re}},t.unstable_scheduleCallback=function(V,q,re){var W=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?W+re:W):re=W,V){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=re+me,V={id:u++,callback:q,priorityLevel:V,startTime:re,expirationTime:me,sortIndex:-1},re>W?(V.sortIndex=re,e(c,V),r(l)===null&&V===r(c)&&(m?(T(N),N=-1):m=!0,X(j,re-W))):(V.sortIndex=me,e(l,V),p||f||(p=!0,O||(O=!0,k()))),V},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(V){var q=d;return function(){var re=d;d=q;try{return V.apply(this,arguments)}finally{d=re}}}})(Hk);qk.exports=Hk;var m9=qk.exports,Gk={exports:{}},Ki={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g9=le;function Wk(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ou(){}var $i={d:{f:ou,r:function(){throw Error(Wk(522))},D:ou,C:ou,L:ou,m:ou,X:ou,S:ou,M:ou},p:0,findDOMNode:null},v9=Symbol.for("react.portal");function x9(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:v9,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}var F1=g9.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ax(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ki.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$i;Ki.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(Wk(299));return x9(t,e,null,r)};Ki.flushSync=function(t){var e=F1.T,r=$i.p;try{if(F1.T=null,$i.p=2,t)return t()}finally{F1.T=e,$i.p=r,$i.d.f()}};Ki.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,$i.d.C(t,e))};Ki.prefetchDNS=function(t){typeof t=="string"&&$i.d.D(t)};Ki.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var r=e.as,n=ax(r,e.crossOrigin),a=typeof e.integrity=="string"?e.integrity:void 0,i=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;r==="style"?$i.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:n,integrity:a,fetchPriority:i}):r==="script"&&$i.d.X(t,{crossOrigin:n,integrity:a,fetchPriority:i,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ki.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var r=ax(e.as,e.crossOrigin);$i.d.M(t,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&$i.d.M(t)};Ki.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var r=e.as,n=ax(r,e.crossOrigin);$i.d.L(t,r,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ki.preloadModule=function(t,e){if(typeof t=="string")if(e){var r=ax(e.as,e.crossOrigin);$i.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else $i.d.m(t)};Ki.requestFormReset=function(t){$i.d.r(t)};Ki.unstable_batchedUpdates=function(t,e){return t(e)};Ki.useFormState=function(t,e,r){return F1.H.useFormState(t,e,r)};Ki.useFormStatus=function(){return F1.H.useHostTransitionStatus()};Ki.version="19.2.4";function $k(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($k)}catch(t){console.error(t)}}$k(),Gk.exports=Ki;var _9=Gk.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ba=m9,Xk=le,y9=_9;function et(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Kk(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function rm(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Yk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Qk(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function G3(t){if(rm(t)!==t)throw Error(et(188))}function w9(t){var e=t.alternate;if(!e){if(e=rm(t),e===null)throw Error(et(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return G3(a),t;if(i===n)return G3(a),e;i=i.sibling}throw Error(et(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(et(189))}}if(r.alternate!==n)throw Error(et(190))}if(r.tag!==3)throw Error(et(188));return r.stateNode.current===r?t:e}function Jk(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=Jk(t),e!==null)return e;t=t.sibling}return null}var Bn=Object.assign,b9=Symbol.for("react.element"),cg=Symbol.for("react.transitional.element"),E1=Symbol.for("react.portal"),y0=Symbol.for("react.fragment"),Zk=Symbol.for("react.strict_mode"),s5=Symbol.for("react.profiler"),e8=Symbol.for("react.consumer"),lc=Symbol.for("react.context"),ab=Symbol.for("react.forward_ref"),o5=Symbol.for("react.suspense"),l5=Symbol.for("react.suspense_list"),ib=Symbol.for("react.memo"),du=Symbol.for("react.lazy"),c5=Symbol.for("react.activity"),E9=Symbol.for("react.memo_cache_sentinel"),W3=Symbol.iterator;function u1(t){return t===null||typeof t!="object"?null:(t=W3&&t[W3]||t["@@iterator"],typeof t=="function"?t:null)}var A9=Symbol.for("react.client.reference");function u5(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===A9?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case y0:return"Fragment";case s5:return"Profiler";case Zk:return"StrictMode";case o5:return"Suspense";case l5:return"SuspenseList";case c5:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case E1:return"Portal";case lc:return t.displayName||"Context";case e8:return(t._context.displayName||"Context")+".Consumer";case ab:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ib:return e=t.displayName||null,e!==null?e:u5(t.type)||"Memo";case du:e=t._payload,t=t._init;try{return u5(t(e))}catch{}}return null}var A1=Array.isArray,ir=Xk.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$r=y9.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Hf={pending:!1,data:null,method:null,action:null},f5=[],w0=-1;function Ol(t){return{current:t}}function Ya(t){0>w0||(t.current=f5[w0],f5[w0]=null,w0--)}function Sn(t,e){w0++,f5[w0]=t.current,t.current=e}var Cl=Ol(null),pp=Ol(null),Pu=Ol(null),P2=Ol(null);function O2(t,e){switch(Sn(Pu,e),Sn(pp,t),Sn(Cl,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?JA(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=JA(e),t=yI(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ya(Cl),Sn(Cl,t)}function nd(){Ya(Cl),Ya(pp),Ya(Pu)}function h5(t){t.memoizedState!==null&&Sn(P2,t);var e=Cl.current,r=yI(e,t.type);e!==r&&(Sn(pp,t),Sn(Cl,r))}function F2(t){pp.current===t&&(Ya(Cl),Ya(pp)),P2.current===t&&(Ya(P2),Sp._currentValue=Hf)}var w_,$3;function Df(t){if(w_===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);w_=e&&e[1]||"",$3=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+w_+t+$3}var b_=!1;function E_(t,e){if(!t||b_)return"";b_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(e){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(f){var d=f}Reflect.construct(t,[],h)}else{try{h.call()}catch(f){d=f}t.call(h.prototype)}}else{try{throw Error()}catch(f){d=f}(h=t())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(f){if(f&&d&&typeof f.stack=="string")return[f.stack,d.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),s=i[0],o=i[1];if(s&&o){var l=s.split(`
`),c=o.split(`
`);for(a=n=0;n<l.length&&!l[n].includes("DetermineComponentFrameRoot");)n++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(n===l.length||a===c.length)for(n=l.length-1,a=c.length-1;1<=n&&0<=a&&l[n]!==c[a];)a--;for(;1<=n&&0<=a;n--,a--)if(l[n]!==c[a]){if(n!==1||a!==1)do if(n--,a--,0>a||l[n]!==c[a]){var u=`
`+l[n].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=n&&0<=a);break}}}finally{b_=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Df(r):""}function S9(t,e){switch(t.tag){case 26:case 27:case 5:return Df(t.type);case 16:return Df("Lazy");case 13:return t.child!==e&&e!==null?Df("Suspense Fallback"):Df("Suspense");case 19:return Df("SuspenseList");case 0:case 15:return E_(t.type,!1);case 11:return E_(t.type.render,!1);case 1:return E_(t.type,!0);case 31:return Df("Activity");default:return""}}function X3(t){try{var e="",r=null;do e+=S9(t,r),r=t,t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var d5=Object.prototype.hasOwnProperty,sb=Ba.unstable_scheduleCallback,A_=Ba.unstable_cancelCallback,T9=Ba.unstable_shouldYield,C9=Ba.unstable_requestPaint,Hs=Ba.unstable_now,k9=Ba.unstable_getCurrentPriorityLevel,t8=Ba.unstable_ImmediatePriority,r8=Ba.unstable_UserBlockingPriority,M2=Ba.unstable_NormalPriority,N9=Ba.unstable_LowPriority,n8=Ba.unstable_IdlePriority,I9=Ba.log,R9=Ba.unstable_setDisableYieldValue,nm=null,Gs=null;function Au(t){if(typeof I9=="function"&&R9(t),Gs&&typeof Gs.setStrictMode=="function")try{Gs.setStrictMode(nm,t)}catch{}}var Ws=Math.clz32?Math.clz32:P9,L9=Math.log,D9=Math.LN2;function P9(t){return t>>>=0,t===0?32:31-(L9(t)/D9|0)|0}var ug=256,fg=262144,hg=4194304;function Pf(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ix(t,e,r){var n=t.pendingLanes;if(n===0)return 0;var a=0,i=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var o=n&134217727;return o!==0?(n=o&~i,n!==0?a=Pf(n):(s&=o,s!==0?a=Pf(s):r||(r=o&~t,r!==0&&(a=Pf(r))))):(o=n&~i,o!==0?a=Pf(o):s!==0?a=Pf(s):r||(r=n&~t,r!==0&&(a=Pf(r)))),a===0?0:e!==0&&e!==a&&!(e&i)&&(i=a&-a,r=e&-e,i>=r||i===32&&(r&4194048)!==0)?e:a}function am(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function O9(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a8(){var t=hg;return hg<<=1,!(hg&62914560)&&(hg=4194304),t}function S_(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function im(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function F9(t,e,r,n,a,i){var s=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(r=s&~r;0<r;){var u=31-Ws(r),h=1<<u;o[u]=0,l[u]=-1;var d=c[u];if(d!==null)for(c[u]=null,u=0;u<d.length;u++){var f=d[u];f!==null&&(f.lane&=-536870913)}r&=~h}n!==0&&i8(t,n,0),i!==0&&a===0&&t.tag!==0&&(t.suspendedLanes|=i&~(s&~e))}function i8(t,e,r){t.pendingLanes|=e,t.suspendedLanes&=~e;var n=31-Ws(e);t.entangledLanes|=e,t.entanglements[n]=t.entanglements[n]|1073741824|r&261930}function s8(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ws(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}function o8(t,e){var r=e&-e;return r=r&42?1:ob(r),r&(t.suspendedLanes|e)?0:r}function ob(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function lb(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function l8(){var t=$r.p;return t!==0?t:(t=window.event,t===void 0?32:RI(t.type))}function K3(t,e){var r=$r.p;try{return $r.p=t,e()}finally{$r.p=r}}var hf=Math.random().toString(36).slice(2),ii="__reactFiber$"+hf,ms="__reactProps$"+hf,Ed="__reactContainer$"+hf,p5="__reactEvents$"+hf,M9="__reactListeners$"+hf,B9="__reactHandles$"+hf,Y3="__reactResources$"+hf,sm="__reactMarker$"+hf;function cb(t){delete t[ii],delete t[ms],delete t[p5],delete t[M9],delete t[B9]}function b0(t){var e=t[ii];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ed]||r[ii]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=nS(t);t!==null;){if(r=t[ii])return r;t=nS(t)}return e}t=r,r=t.parentNode}return null}function Ad(t){if(t=t[ii]||t[Ed]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function S1(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(et(33))}function M0(t){var e=t[Y3];return e||(e=t[Y3]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Wa(t){t[sm]=!0}var c8=new Set,u8={};function Sh(t,e){ad(t,e),ad(t+"Capture",e)}function ad(t,e){for(u8[t]=e,t=0;t<e.length;t++)c8.add(e[t])}var U9=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Q3={},J3={};function j9(t){return d5.call(J3,t)?!0:d5.call(Q3,t)?!1:U9.test(t)?J3[t]=!0:(Q3[t]=!0,!1)}function Zg(t,e,r){if(j9(e))if(r===null)t.removeAttribute(e);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var n=e.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+r)}}function dg(t,e,r){if(r===null)t.removeAttribute(e);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+r)}}function Jl(t,e,r,n){if(n===null)t.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(e,r,""+n)}}function xo(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function f8(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function V9(t,e,r){var n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function m5(t){if(!t._valueTracker){var e=f8(t)?"checked":"value";t._valueTracker=V9(t,e,""+t[e])}}function h8(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=f8(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function B2(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var z9=/[\n"\\]/g;function wo(t){return t.replace(z9,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function g5(t,e,r,n,a,i,s,o){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+xo(e)):t.value!==""+xo(e)&&(t.value=""+xo(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?v5(t,s,xo(e)):r!=null?v5(t,s,xo(r)):n!=null&&t.removeAttribute("value"),a==null&&i!=null&&(t.defaultChecked=!!i),a!=null&&(t.checked=a&&typeof a!="function"&&typeof a!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+xo(o):t.removeAttribute("name")}function d8(t,e,r,n,a,i,s,o){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||r!=null){if(!(i!=="submit"&&i!=="reset"||e!=null)){m5(t);return}r=r!=null?""+xo(r):"",e=e!=null?""+xo(e):r,o||e===t.value||(t.value=e),t.defaultValue=e}n=n??a,n=typeof n!="function"&&typeof n!="symbol"&&!!n,t.checked=o?t.checked:!!n,t.defaultChecked=!!n,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s),m5(t)}function v5(t,e,r){e==="number"&&B2(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function B0(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+xo(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function p8(t,e,r){if(e!=null&&(e=""+xo(e),e!==t.value&&(t.value=e),r==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=r!=null?""+xo(r):""}function m8(t,e,r,n){if(e==null){if(n!=null){if(r!=null)throw Error(et(92));if(A1(n)){if(1<n.length)throw Error(et(93));n=n[0]}r=n}r==null&&(r=""),e=r}r=xo(e),t.defaultValue=r,n=t.textContent,n===r&&n!==""&&n!==null&&(t.value=n),m5(t)}function id(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var q9=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Z3(t,e,r){var n=e.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":n?t.setProperty(e,r):typeof r!="number"||r===0||q9.has(e)?e==="float"?t.cssFloat=r:t[e]=(""+r).trim():t[e]=r+"px"}function g8(t,e,r){if(e!=null&&typeof e!="object")throw Error(et(62));if(t=t.style,r!=null){for(var n in r)!r.hasOwnProperty(n)||e!=null&&e.hasOwnProperty(n)||(n.indexOf("--")===0?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="");for(var a in e)n=e[a],e.hasOwnProperty(a)&&r[a]!==n&&Z3(t,a,n)}else for(var i in e)e.hasOwnProperty(i)&&Z3(t,i,e[i])}function ub(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var H9=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),G9=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function e2(t){return G9.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function cc(){}var x5=null;function fb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var E0=null,U0=null;function eA(t){var e=Ad(t);if(e&&(t=e.stateNode)){var r=t[ms]||null;e:switch(t=e.stateNode,e.type){case"input":if(g5(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+wo(""+e)+'"][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=n[ms]||null;if(!a)throw Error(et(90));g5(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(e=0;e<r.length;e++)n=r[e],n.form===t.form&&h8(n)}break e;case"textarea":p8(t,r.value,r.defaultValue);break e;case"select":e=r.value,e!=null&&B0(t,!!r.multiple,e,!1)}}}var T_=!1;function v8(t,e,r){if(T_)return t(e,r);T_=!0;try{var n=t(e);return n}finally{if(T_=!1,(E0!==null||U0!==null)&&(vx(),E0&&(e=E0,t=U0,U0=E0=null,eA(e),t)))for(e=0;e<t.length;e++)eA(t[e])}}function mp(t,e){var r=t.stateNode;if(r===null)return null;var n=r[ms]||null;if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(et(231,e,typeof r));return r}var Ac=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_5=!1;if(Ac)try{var f1={};Object.defineProperty(f1,"passive",{get:function(){_5=!0}}),window.addEventListener("test",f1,f1),window.removeEventListener("test",f1,f1)}catch{_5=!1}var Su=null,hb=null,t2=null;function x8(){if(t2)return t2;var t,e=hb,r=e.length,n,a="value"in Su?Su.value:Su.textContent,i=a.length;for(t=0;t<r&&e[t]===a[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===a[i-n];n++);return t2=a.slice(t,1<n?1-n:void 0)}function r2(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pg(){return!0}function tA(){return!1}function vs(t){function e(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?pg:tA,this.isPropagationStopped=tA,this}return Bn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=pg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=pg)},persist:function(){},isPersistent:pg}),e}var Th={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sx=vs(Th),om=Bn({},Th,{view:0,detail:0}),W9=vs(om),C_,k_,h1,ox=Bn({},om,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:db,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==h1&&(h1&&t.type==="mousemove"?(C_=t.screenX-h1.screenX,k_=t.screenY-h1.screenY):k_=C_=0,h1=t),C_)},movementY:function(t){return"movementY"in t?t.movementY:k_}}),rA=vs(ox),$9=Bn({},ox,{dataTransfer:0}),X9=vs($9),K9=Bn({},om,{relatedTarget:0}),N_=vs(K9),Y9=Bn({},Th,{animationName:0,elapsedTime:0,pseudoElement:0}),Q9=vs(Y9),J9=Bn({},Th,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Z9=vs(J9),eM=Bn({},Th,{data:0}),nA=vs(eM),tM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nM[t])?!!e[t]:!1}function db(){return aM}var iM=Bn({},om,{key:function(t){if(t.key){var e=tM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=r2(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:db,charCode:function(t){return t.type==="keypress"?r2(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?r2(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sM=vs(iM),oM=Bn({},ox,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aA=vs(oM),lM=Bn({},om,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:db}),cM=vs(lM),uM=Bn({},Th,{propertyName:0,elapsedTime:0,pseudoElement:0}),fM=vs(uM),hM=Bn({},ox,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dM=vs(hM),pM=Bn({},Th,{newState:0,oldState:0}),mM=vs(pM),gM=[9,13,27,32],pb=Ac&&"CompositionEvent"in window,M1=null;Ac&&"documentMode"in document&&(M1=document.documentMode);var vM=Ac&&"TextEvent"in window&&!M1,_8=Ac&&(!pb||M1&&8<M1&&11>=M1),iA=" ",sA=!1;function y8(t,e){switch(t){case"keyup":return gM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w8(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var A0=!1;function xM(t,e){switch(t){case"compositionend":return w8(e);case"keypress":return e.which!==32?null:(sA=!0,iA);case"textInput":return t=e.data,t===iA&&sA?null:t;default:return null}}function _M(t,e){if(A0)return t==="compositionend"||!pb&&y8(t,e)?(t=x8(),t2=hb=Su=null,A0=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _8&&e.locale!=="ko"?null:e.data;default:return null}}var yM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yM[t.type]:e==="textarea"}function b8(t,e,r,n){E0?U0?U0.push(n):U0=[n]:E0=n,e=rv(e,"onChange"),0<e.length&&(r=new sx("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var B1=null,gp=null;function wM(t){vI(t,0)}function lx(t){var e=S1(t);if(h8(e))return t}function lA(t,e){if(t==="change")return e}var E8=!1;if(Ac){var I_;if(Ac){var R_="oninput"in document;if(!R_){var cA=document.createElement("div");cA.setAttribute("oninput","return;"),R_=typeof cA.oninput=="function"}I_=R_}else I_=!1;E8=I_&&(!document.documentMode||9<document.documentMode)}function uA(){B1&&(B1.detachEvent("onpropertychange",A8),gp=B1=null)}function A8(t){if(t.propertyName==="value"&&lx(gp)){var e=[];b8(e,gp,t,fb(t)),v8(wM,e)}}function bM(t,e,r){t==="focusin"?(uA(),B1=e,gp=r,B1.attachEvent("onpropertychange",A8)):t==="focusout"&&uA()}function EM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lx(gp)}function AM(t,e){if(t==="click")return lx(e)}function SM(t,e){if(t==="input"||t==="change")return lx(e)}function TM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ks=typeof Object.is=="function"?Object.is:TM;function vp(t,e){if(Ks(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!d5.call(e,a)||!Ks(t[a],e[a]))return!1}return!0}function fA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hA(t,e){var r=fA(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fA(r)}}function S8(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?S8(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function T8(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=B2(t.document);e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=B2(t.document)}return e}function mb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var CM=Ac&&"documentMode"in document&&11>=document.documentMode,S0=null,y5=null,U1=null,w5=!1;function dA(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;w5||S0==null||S0!==B2(n)||(n=S0,"selectionStart"in n&&mb(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),U1&&vp(U1,n)||(U1=n,n=rv(y5,"onSelect"),0<n.length&&(e=new sx("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=S0)))}function Lf(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var T0={animationend:Lf("Animation","AnimationEnd"),animationiteration:Lf("Animation","AnimationIteration"),animationstart:Lf("Animation","AnimationStart"),transitionrun:Lf("Transition","TransitionRun"),transitionstart:Lf("Transition","TransitionStart"),transitioncancel:Lf("Transition","TransitionCancel"),transitionend:Lf("Transition","TransitionEnd")},L_={},C8={};Ac&&(C8=document.createElement("div").style,"AnimationEvent"in window||(delete T0.animationend.animation,delete T0.animationiteration.animation,delete T0.animationstart.animation),"TransitionEvent"in window||delete T0.transitionend.transition);function Ch(t){if(L_[t])return L_[t];if(!T0[t])return t;var e=T0[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in C8)return L_[t]=e[r];return t}var k8=Ch("animationend"),N8=Ch("animationiteration"),I8=Ch("animationstart"),kM=Ch("transitionrun"),NM=Ch("transitionstart"),IM=Ch("transitioncancel"),R8=Ch("transitionend"),L8=new Map,b5="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");b5.push("scrollEnd");function el(t,e){L8.set(t,e),Sh(e,[t])}var U2=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},go=[],C0=0,gb=0;function cx(){for(var t=C0,e=gb=C0=0;e<t;){var r=go[e];go[e++]=null;var n=go[e];go[e++]=null;var a=go[e];go[e++]=null;var i=go[e];if(go[e++]=null,n!==null&&a!==null){var s=n.pending;s===null?a.next=a:(a.next=s.next,s.next=a),n.pending=a}i!==0&&D8(r,a,i)}}function ux(t,e,r,n){go[C0++]=t,go[C0++]=e,go[C0++]=r,go[C0++]=n,gb|=n,t.lanes|=n,t=t.alternate,t!==null&&(t.lanes|=n)}function vb(t,e,r,n){return ux(t,e,r,n),j2(t)}function kh(t,e){return ux(t,null,null,e),j2(t)}function D8(t,e,r){t.lanes|=r;var n=t.alternate;n!==null&&(n.lanes|=r);for(var a=!1,i=t.return;i!==null;)i.childLanes|=r,n=i.alternate,n!==null&&(n.childLanes|=r),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(a=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,a&&e!==null&&(a=31-Ws(r),t=i.hiddenUpdates,n=t[a],n===null?t[a]=[e]:n.push(e),e.lane=r|536870912),i):null}function j2(t){if(50<X1)throw X1=0,q5=null,Error(et(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var k0={};function RM(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Os(t,e,r,n){return new RM(t,e,r,n)}function xb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pc(t,e){var r=t.alternate;return r===null?(r=Os(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function P8(t,e){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function n2(t,e,r,n,a,i){var s=0;if(n=t,typeof t=="function")xb(t)&&(s=1);else if(typeof t=="string")s=FB(t,r,Cl.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case c5:return t=Os(31,r,e,a),t.elementType=c5,t.lanes=i,t;case y0:return Gf(r.children,a,i,e);case Zk:s=8,a|=24;break;case s5:return t=Os(12,r,e,a|2),t.elementType=s5,t.lanes=i,t;case o5:return t=Os(13,r,e,a),t.elementType=o5,t.lanes=i,t;case l5:return t=Os(19,r,e,a),t.elementType=l5,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lc:s=10;break e;case e8:s=9;break e;case ab:s=11;break e;case ib:s=14;break e;case du:s=16,n=null;break e}s=29,r=Error(et(130,t===null?"null":typeof t,"")),n=null}return e=Os(s,r,e,a),e.elementType=t,e.type=n,e.lanes=i,e}function Gf(t,e,r,n){return t=Os(7,t,n,e),t.lanes=r,t}function D_(t,e,r){return t=Os(6,t,null,e),t.lanes=r,t}function O8(t){var e=Os(18,null,null,0);return e.stateNode=t,e}function P_(t,e,r){return e=Os(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var pA=new WeakMap;function bo(t,e){if(typeof t=="object"&&t!==null){var r=pA.get(t);return r!==void 0?r:(e={value:t,source:e,stack:X3(e)},pA.set(t,e),e)}return{value:t,source:e,stack:X3(e)}}var N0=[],I0=0,V2=null,xp=0,_o=[],yo=0,Ku=null,wl=1,bl="";function ic(t,e){N0[I0++]=xp,N0[I0++]=V2,V2=t,xp=e}function F8(t,e,r){_o[yo++]=wl,_o[yo++]=bl,_o[yo++]=Ku,Ku=t;var n=wl;t=bl;var a=32-Ws(n)-1;n&=~(1<<a),r+=1;var i=32-Ws(e)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,wl=1<<32-Ws(e)+a|r<<a|n,bl=i+t}else wl=1<<i|r<<a|n,bl=t}function _b(t){t.return!==null&&(ic(t,1),F8(t,1,0))}function yb(t){for(;t===V2;)V2=N0[--I0],N0[I0]=null,xp=N0[--I0],N0[I0]=null;for(;t===Ku;)Ku=_o[--yo],_o[yo]=null,bl=_o[--yo],_o[yo]=null,wl=_o[--yo],_o[yo]=null}function M8(t,e){_o[yo++]=wl,_o[yo++]=bl,_o[yo++]=Ku,wl=e.id,bl=e.overflow,Ku=t}var si=null,Rn=null,Pr=!1,Ou=null,Eo=!1,E5=Error(et(519));function Yu(t){var e=Error(et(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _p(bo(e,t)),E5}function mA(t){var e=t.stateNode,r=t.type,n=t.memoizedProps;switch(e[ii]=t,e[ms]=n,r){case"dialog":Er("cancel",e),Er("close",e);break;case"iframe":case"object":case"embed":Er("load",e);break;case"video":case"audio":for(r=0;r<Ep.length;r++)Er(Ep[r],e);break;case"source":Er("error",e);break;case"img":case"image":case"link":Er("error",e),Er("load",e);break;case"details":Er("toggle",e);break;case"input":Er("invalid",e),d8(e,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Er("invalid",e);break;case"textarea":Er("invalid",e),m8(e,n.value,n.defaultValue,n.children)}r=n.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||e.textContent===""+r||n.suppressHydrationWarning===!0||_I(e.textContent,r)?(n.popover!=null&&(Er("beforetoggle",e),Er("toggle",e)),n.onScroll!=null&&Er("scroll",e),n.onScrollEnd!=null&&Er("scrollend",e),n.onClick!=null&&(e.onclick=cc),e=!0):e=!1,e||Yu(t,!0)}function gA(t){for(si=t.return;si;)switch(si.tag){case 5:case 31:case 13:Eo=!1;return;case 27:case 3:Eo=!0;return;default:si=si.return}}function e0(t){if(t!==si)return!1;if(!Pr)return gA(t),Pr=!0,!1;var e=t.tag,r;if((r=e!==3&&e!==27)&&((r=e===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||X5(t.type,t.memoizedProps)),r=!r),r&&Rn&&Yu(t),gA(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(et(317));Rn=rS(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(et(317));Rn=rS(t)}else e===27?(e=Rn,df(t.type)?(t=J5,J5=null,Rn=t):Rn=e):Rn=si?So(t.stateNode.nextSibling):null;return!0}function nh(){Rn=si=null,Pr=!1}function O_(){var t=Ou;return t!==null&&(os===null?os=t:os.push.apply(os,t),Ou=null),t}function _p(t){Ou===null?Ou=[t]:Ou.push(t)}var A5=Ol(null),Nh=null,uc=null;function mu(t,e,r){Sn(A5,e._currentValue),e._currentValue=r}function mc(t){t._currentValue=A5.current,Ya(A5)}function S5(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function T5(t,e,r,n){var a=t.child;for(a!==null&&(a.return=t);a!==null;){var i=a.dependencies;if(i!==null){var s=a.child;i=i.firstContext;e:for(;i!==null;){var o=i;i=a;for(var l=0;l<e.length;l++)if(o.context===e[l]){i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),S5(i.return,r,t),n||(s=null);break e}i=o.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(et(341));s.lanes|=r,i=s.alternate,i!==null&&(i.lanes|=r),S5(s,r,t),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function Sd(t,e,r,n){t=null;for(var a=e,i=!1;a!==null;){if(!i){if(a.flags&524288)i=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(et(387));if(s=s.memoizedProps,s!==null){var o=a.type;Ks(a.pendingProps.value,s.value)||(t!==null?t.push(o):t=[o])}}else if(a===P2.current){if(s=a.alternate,s===null)throw Error(et(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(t!==null?t.push(Sp):t=[Sp])}a=a.return}t!==null&&T5(e,t,r,n),e.flags|=262144}function z2(t){for(t=t.firstContext;t!==null;){if(!Ks(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ah(t){Nh=t,uc=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ci(t){return B8(Nh,t)}function mg(t,e){return Nh===null&&ah(t),B8(t,e)}function B8(t,e){var r=e._currentValue;if(e={context:e,memoizedValue:r,next:null},uc===null){if(t===null)throw Error(et(308));uc=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else uc=uc.next=e;return r}var LM=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(r,n){t.push(n)}};this.abort=function(){e.aborted=!0,t.forEach(function(r){return r()})}},DM=Ba.unstable_scheduleCallback,PM=Ba.unstable_NormalPriority,Sa={$$typeof:lc,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wb(){return{controller:new LM,data:new Map,refCount:0}}function lm(t){t.refCount--,t.refCount===0&&DM(PM,function(){t.controller.abort()})}var j1=null,C5=0,sd=0,j0=null;function OM(t,e){if(j1===null){var r=j1=[];C5=0,sd=Wb(),j0={status:"pending",value:void 0,then:function(n){r.push(n)}}}return C5++,e.then(vA,vA),e}function vA(){if(--C5===0&&j1!==null){j0!==null&&(j0.status="fulfilled");var t=j1;j1=null,sd=0,j0=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function FM(t,e){var r=[],n={status:"pending",value:null,reason:null,then:function(a){r.push(a)}};return t.then(function(){n.status="fulfilled",n.value=e;for(var a=0;a<r.length;a++)(0,r[a])(e)},function(a){for(n.status="rejected",n.reason=a,a=0;a<r.length;a++)(0,r[a])(void 0)}),n}var xA=ir.S;ir.S=function(t,e){JN=Hs(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&OM(t,e),xA!==null&&xA(t,e)};var Wf=Ol(null);function bb(){var t=Wf.current;return t!==null?t:mn.pooledCache}function a2(t,e){e===null?Sn(Wf,Wf.current):Sn(Wf,e.pool)}function U8(){var t=bb();return t===null?null:{parent:Sa._currentValue,pool:t}}var Td=Error(et(460)),Eb=Error(et(474)),fx=Error(et(542)),q2={then:function(){}};function _A(t){return t=t.status,t==="fulfilled"||t==="rejected"}function j8(t,e,r){switch(r=t[r],r===void 0?t.push(e):r!==e&&(e.then(cc,cc),e=r),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,wA(t),t;default:if(typeof e.status=="string")e.then(cc,cc);else{if(t=mn,t!==null&&100<t.shellSuspendCounter)throw Error(et(482));t=e,t.status="pending",t.then(function(n){if(e.status==="pending"){var a=e;a.status="fulfilled",a.value=n}},function(n){if(e.status==="pending"){var a=e;a.status="rejected",a.reason=n}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,wA(t),t}throw $f=e,Td}}function Of(t){try{var e=t._init;return e(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?($f=r,Td):r}}var $f=null;function yA(){if($f===null)throw Error(et(459));var t=$f;return $f=null,t}function wA(t){if(t===Td||t===fx)throw Error(et(483))}var V0=null,yp=0;function gg(t){var e=yp;return yp+=1,V0===null&&(V0=[]),j8(V0,t,e)}function d1(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function vg(t,e){throw e.$$typeof===b9?Error(et(525)):(t=Object.prototype.toString.call(e),Error(et(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function V8(t){function e(x,T){if(t){var b=x.deletions;b===null?(x.deletions=[T],x.flags|=16):b.push(T)}}function r(x,T){if(!t)return null;for(;T!==null;)e(x,T),T=T.sibling;return null}function n(x){for(var T=new Map;x!==null;)x.key!==null?T.set(x.key,x):T.set(x.index,x),x=x.sibling;return T}function a(x,T){return x=pc(x,T),x.index=0,x.sibling=null,x}function i(x,T,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<T?(x.flags|=67108866,T):b):(x.flags|=67108866,T)):(x.flags|=1048576,T)}function s(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function o(x,T,b,I){return T===null||T.tag!==6?(T=D_(b,x.mode,I),T.return=x,T):(T=a(T,b),T.return=x,T)}function l(x,T,b,I){var j=b.type;return j===y0?u(x,T,b.props.children,I,b.key):T!==null&&(T.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===du&&Of(j)===T.type)?(T=a(T,b.props),d1(T,b),T.return=x,T):(T=n2(b.type,b.key,b.props,null,x.mode,I),d1(T,b),T.return=x,T)}function c(x,T,b,I){return T===null||T.tag!==4||T.stateNode.containerInfo!==b.containerInfo||T.stateNode.implementation!==b.implementation?(T=P_(b,x.mode,I),T.return=x,T):(T=a(T,b.children||[]),T.return=x,T)}function u(x,T,b,I,j){return T===null||T.tag!==7?(T=Gf(b,x.mode,I,j),T.return=x,T):(T=a(T,b),T.return=x,T)}function h(x,T,b){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=D_(""+T,x.mode,b),T.return=x,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case cg:return b=n2(T.type,T.key,T.props,null,x.mode,b),d1(b,T),b.return=x,b;case E1:return T=P_(T,x.mode,b),T.return=x,T;case du:return T=Of(T),h(x,T,b)}if(A1(T)||u1(T))return T=Gf(T,x.mode,b,null),T.return=x,T;if(typeof T.then=="function")return h(x,gg(T),b);if(T.$$typeof===lc)return h(x,mg(x,T),b);vg(x,T)}return null}function d(x,T,b,I){var j=T!==null?T.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return j!==null?null:o(x,T,""+b,I);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case cg:return b.key===j?l(x,T,b,I):null;case E1:return b.key===j?c(x,T,b,I):null;case du:return b=Of(b),d(x,T,b,I)}if(A1(b)||u1(b))return j!==null?null:u(x,T,b,I,null);if(typeof b.then=="function")return d(x,T,gg(b),I);if(b.$$typeof===lc)return d(x,T,mg(x,b),I);vg(x,b)}return null}function f(x,T,b,I,j){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return x=x.get(b)||null,o(T,x,""+I,j);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case cg:return x=x.get(I.key===null?b:I.key)||null,l(T,x,I,j);case E1:return x=x.get(I.key===null?b:I.key)||null,c(T,x,I,j);case du:return I=Of(I),f(x,T,b,I,j)}if(A1(I)||u1(I))return x=x.get(b)||null,u(T,x,I,j,null);if(typeof I.then=="function")return f(x,T,b,gg(I),j);if(I.$$typeof===lc)return f(x,T,b,mg(T,I),j);vg(T,I)}return null}function p(x,T,b,I){for(var j=null,O=null,N=T,A=T=0,y=null;N!==null&&A<b.length;A++){N.index>A?(y=N,N=null):y=N.sibling;var R=d(x,N,b[A],I);if(R===null){N===null&&(N=y);break}t&&N&&R.alternate===null&&e(x,N),T=i(R,T,A),O===null?j=R:O.sibling=R,O=R,N=y}if(A===b.length)return r(x,N),Pr&&ic(x,A),j;if(N===null){for(;A<b.length;A++)N=h(x,b[A],I),N!==null&&(T=i(N,T,A),O===null?j=N:O.sibling=N,O=N);return Pr&&ic(x,A),j}for(N=n(N);A<b.length;A++)y=f(N,x,A,b[A],I),y!==null&&(t&&y.alternate!==null&&N.delete(y.key===null?A:y.key),T=i(y,T,A),O===null?j=y:O.sibling=y,O=y);return t&&N.forEach(function(S){return e(x,S)}),Pr&&ic(x,A),j}function m(x,T,b,I){if(b==null)throw Error(et(151));for(var j=null,O=null,N=T,A=T=0,y=null,R=b.next();N!==null&&!R.done;A++,R=b.next()){N.index>A?(y=N,N=null):y=N.sibling;var S=d(x,N,R.value,I);if(S===null){N===null&&(N=y);break}t&&N&&S.alternate===null&&e(x,N),T=i(S,T,A),O===null?j=S:O.sibling=S,O=S,N=y}if(R.done)return r(x,N),Pr&&ic(x,A),j;if(N===null){for(;!R.done;A++,R=b.next())R=h(x,R.value,I),R!==null&&(T=i(R,T,A),O===null?j=R:O.sibling=R,O=R);return Pr&&ic(x,A),j}for(N=n(N);!R.done;A++,R=b.next())R=f(N,x,A,R.value,I),R!==null&&(t&&R.alternate!==null&&N.delete(R.key===null?A:R.key),T=i(R,T,A),O===null?j=R:O.sibling=R,O=R);return t&&N.forEach(function(k){return e(x,k)}),Pr&&ic(x,A),j}function _(x,T,b,I){if(typeof b=="object"&&b!==null&&b.type===y0&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case cg:e:{for(var j=b.key;T!==null;){if(T.key===j){if(j=b.type,j===y0){if(T.tag===7){r(x,T.sibling),I=a(T,b.props.children),I.return=x,x=I;break e}}else if(T.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===du&&Of(j)===T.type){r(x,T.sibling),I=a(T,b.props),d1(I,b),I.return=x,x=I;break e}r(x,T);break}else e(x,T);T=T.sibling}b.type===y0?(I=Gf(b.props.children,x.mode,I,b.key),I.return=x,x=I):(I=n2(b.type,b.key,b.props,null,x.mode,I),d1(I,b),I.return=x,x=I)}return s(x);case E1:e:{for(j=b.key;T!==null;){if(T.key===j)if(T.tag===4&&T.stateNode.containerInfo===b.containerInfo&&T.stateNode.implementation===b.implementation){r(x,T.sibling),I=a(T,b.children||[]),I.return=x,x=I;break e}else{r(x,T);break}else e(x,T);T=T.sibling}I=P_(b,x.mode,I),I.return=x,x=I}return s(x);case du:return b=Of(b),_(x,T,b,I)}if(A1(b))return p(x,T,b,I);if(u1(b)){if(j=u1(b),typeof j!="function")throw Error(et(150));return b=j.call(b),m(x,T,b,I)}if(typeof b.then=="function")return _(x,T,gg(b),I);if(b.$$typeof===lc)return _(x,T,mg(x,b),I);vg(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,T!==null&&T.tag===6?(r(x,T.sibling),I=a(T,b),I.return=x,x=I):(r(x,T),I=D_(b,x.mode,I),I.return=x,x=I),s(x)):r(x,T)}return function(x,T,b,I){try{yp=0;var j=_(x,T,b,I);return V0=null,j}catch(N){if(N===Td||N===fx)throw N;var O=Os(29,N,null,x.mode);return O.lanes=I,O.return=x,O}finally{}}}var ih=V8(!0),z8=V8(!1),pu=!1;function Ab(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function k5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fu(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Mu(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Wr&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,e=j2(t),D8(t,null,r),e}return ux(t,n,e,r),j2(t)}function V1(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194048)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,s8(t,r)}}function F_(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=e:i=i.next=e}else a=i=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}var N5=!1;function z1(){if(N5){var t=j0;if(t!==null)throw t}}function q1(t,e,r,n){N5=!1;var a=t.updateQueue;pu=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(i!==null){var h=a.baseState;s=0,u=c=l=null,o=i;do{var d=o.lane&-536870913,f=d!==o.lane;if(f?(Lr&d)===d:(n&d)===d){d!==0&&d===sd&&(N5=!0),u!==null&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var p=t,m=o;d=e;var _=r;switch(m.tag){case 1:if(p=m.payload,typeof p=="function"){h=p.call(_,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(_,h,d):p,d==null)break e;h=Bn({},h,d);break e;case 2:pu=!0}}d=o.callback,d!==null&&(t.flags|=64,f&&(t.flags|=8192),f=a.callbacks,f===null?a.callbacks=[d]:f.push(d))}else f={lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,s|=d;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;f=o,o=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);u===null&&(l=h),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,i===null&&(a.shared.lanes=0),Ju|=s,t.lanes=s,t.memoizedState=h}}function q8(t,e){if(typeof t!="function")throw Error(et(191,t));t.call(e)}function H8(t,e){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)q8(r[t],e)}var od=Ol(null),H2=Ol(0);function bA(t,e){t=kc,Sn(H2,t),Sn(od,e),kc=t|e.baseLanes}function I5(){Sn(H2,kc),Sn(od,od.current)}function Sb(){kc=H2.current,Ya(od),Ya(H2)}var Ys=Ol(null),Ao=null;function gu(t){var e=t.alternate;Sn(ma,ma.current&1),Sn(Ys,t),Ao===null&&(e===null||od.current!==null||e.memoizedState!==null)&&(Ao=t)}function R5(t){Sn(ma,ma.current),Sn(Ys,t),Ao===null&&(Ao=t)}function G8(t){t.tag===22?(Sn(ma,ma.current),Sn(Ys,t),Ao===null&&(Ao=t)):vu()}function vu(){Sn(ma,ma.current),Sn(Ys,Ys.current)}function Ls(t){Ya(Ys),Ao===t&&(Ao=null),Ya(ma)}var ma=Ol(0);function G2(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Y5(r)||Q5(r)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sc=0,dr=null,ln=null,Ea=null,W2=!1,z0=!1,sh=!1,$2=0,wp=0,q0=null,MM=0;function Kn(){throw Error(et(321))}function Tb(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ks(t[r],e[r]))return!1;return!0}function Cb(t,e,r,n,a,i){return Sc=i,dr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ir.H=t===null||t.memoizedState===null?bN:Bb,sh=!1,i=r(n,a),sh=!1,z0&&(i=$8(e,r,n,a)),W8(t),i}function W8(t){ir.H=bp;var e=ln!==null&&ln.next!==null;if(Sc=0,Ea=ln=dr=null,W2=!1,wp=0,q0=null,e)throw Error(et(300));t===null||ka||(t=t.dependencies,t!==null&&z2(t)&&(ka=!0))}function $8(t,e,r,n){dr=t;var a=0;do{if(z0&&(q0=null),wp=0,z0=!1,25<=a)throw Error(et(301));if(a+=1,Ea=ln=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}ir.H=EN,i=e(r,n)}while(z0);return i}function BM(){var t=ir.H,e=t.useState()[0];return e=typeof e.then=="function"?cm(e):e,t=t.useState()[0],(ln!==null?ln.memoizedState:null)!==t&&(dr.flags|=1024),e}function kb(){var t=$2!==0;return $2=0,t}function Nb(t,e,r){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r}function Ib(t){if(W2){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}W2=!1}Sc=0,Ea=ln=dr=null,z0=!1,wp=$2=0,q0=null}function qi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ea===null?dr.memoizedState=Ea=t:Ea=Ea.next=t,Ea}function ga(){if(ln===null){var t=dr.alternate;t=t!==null?t.memoizedState:null}else t=ln.next;var e=Ea===null?dr.memoizedState:Ea.next;if(e!==null)Ea=e,ln=t;else{if(t===null)throw dr.alternate===null?Error(et(467)):Error(et(310));ln=t,t={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},Ea===null?dr.memoizedState=Ea=t:Ea=Ea.next=t}return Ea}function hx(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cm(t){var e=wp;return wp+=1,q0===null&&(q0=[]),t=j8(q0,t,e),e=dr,(Ea===null?e.memoizedState:Ea.next)===null&&(e=e.alternate,ir.H=e===null||e.memoizedState===null?bN:Bb),t}function dx(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cm(t);if(t.$$typeof===lc)return ci(t)}throw Error(et(438,String(t)))}function Rb(t){var e=null,r=dr.updateQueue;if(r!==null&&(e=r.memoCache),e==null){var n=dr.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(e={data:n.data.map(function(a){return a.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),r===null&&(r=hx(),dr.updateQueue=r),r.memoCache=e,r=e.data[e.index],r===void 0)for(r=e.data[e.index]=Array(t),n=0;n<t;n++)r[n]=E9;return e.index++,r}function Tc(t,e){return typeof e=="function"?e(t):e}function i2(t){var e=ga();return Lb(e,ln,t)}function Lb(t,e,r){var n=t.queue;if(n===null)throw Error(et(311));n.lastRenderedReducer=r;var a=t.baseQueue,i=n.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}e.baseQueue=a=i,n.pending=null}if(i=t.baseState,a===null)t.memoizedState=i;else{e=a.next;var o=s=null,l=null,c=e,u=!1;do{var h=c.lane&-536870913;if(h!==c.lane?(Lr&h)===h:(Sc&h)===h){var d=c.revertLane;if(d===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),h===sd&&(u=!0);else if((Sc&d)===d){c=c.next,d===sd&&(u=!0);continue}else h={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=h,s=i):l=l.next=h,dr.lanes|=d,Ju|=d;h=c.action,sh&&r(i,h),i=c.hasEagerState?c.eagerState:r(i,h)}else d={lane:h,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=d,s=i):l=l.next=d,dr.lanes|=h,Ju|=h;c=c.next}while(c!==null&&c!==e);if(l===null?s=i:l.next=o,!Ks(i,t.memoizedState)&&(ka=!0,u&&(r=j0,r!==null)))throw r;t.memoizedState=i,t.baseState=s,t.baseQueue=l,n.lastRenderedState=i}return a===null&&(n.lanes=0),[t.memoizedState,n.dispatch]}function M_(t){var e=ga(),r=e.queue;if(r===null)throw Error(et(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,i=e.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=t(i,s.action),s=s.next;while(s!==a);Ks(i,e.memoizedState)||(ka=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function X8(t,e,r){var n=dr,a=ga(),i=Pr;if(i){if(r===void 0)throw Error(et(407));r=r()}else r=e();var s=!Ks((ln||a).memoizedState,r);if(s&&(a.memoizedState=r,ka=!0),a=a.queue,Db(Q8.bind(null,n,a,t),[t]),a.getSnapshot!==e||s||Ea!==null&&Ea.memoizedState.tag&1){if(n.flags|=2048,ld(9,{destroy:void 0},Y8.bind(null,n,a,r,e),null),mn===null)throw Error(et(349));i||Sc&127||K8(n,e,r)}return r}function K8(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=dr.updateQueue,e===null?(e=hx(),dr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Y8(t,e,r,n){e.value=r,e.getSnapshot=n,J8(e)&&Z8(t)}function Q8(t,e,r){return r(function(){J8(e)&&Z8(t)})}function J8(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ks(t,r)}catch{return!0}}function Z8(t){var e=kh(t,2);e!==null&&hs(e,t,2)}function L5(t){var e=qi();if(typeof t=="function"){var r=t;if(t=r(),sh){Au(!0);try{r()}finally{Au(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tc,lastRenderedState:t},e}function eN(t,e,r,n){return t.baseState=r,Lb(t,ln,typeof n=="function"?n:Tc)}function UM(t,e,r,n,a){if(mx(t))throw Error(et(485));if(t=e.action,t!==null){var i={payload:a,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){i.listeners.push(s)}};ir.T!==null?r(!0):i.isTransition=!1,n(i),r=e.pending,r===null?(i.next=e.pending=i,tN(e,i)):(i.next=r.next,e.pending=r.next=i)}}function tN(t,e){var r=e.action,n=e.payload,a=t.state;if(e.isTransition){var i=ir.T,s={};ir.T=s;try{var o=r(a,n),l=ir.S;l!==null&&l(s,o),EA(t,e,o)}catch(c){D5(t,e,c)}finally{i!==null&&s.types!==null&&(i.types=s.types),ir.T=i}}else try{i=r(a,n),EA(t,e,i)}catch(c){D5(t,e,c)}}function EA(t,e,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(n){AA(t,e,n)},function(n){return D5(t,e,n)}):AA(t,e,r)}function AA(t,e,r){e.status="fulfilled",e.value=r,rN(e),t.state=r,e=t.pending,e!==null&&(r=e.next,r===e?t.pending=null:(r=r.next,e.next=r,tN(t,r)))}function D5(t,e,r){var n=t.pending;if(t.pending=null,n!==null){n=n.next;do e.status="rejected",e.reason=r,rN(e),e=e.next;while(e!==n)}t.action=null}function rN(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function nN(t,e){return e}function SA(t,e){if(Pr){var r=mn.formState;if(r!==null){e:{var n=dr;if(Pr){if(Rn){t:{for(var a=Rn,i=Eo;a.nodeType!==8;){if(!i){a=null;break t}if(a=So(a.nextSibling),a===null){a=null;break t}}i=a.data,a=i==="F!"||i==="F"?a:null}if(a){Rn=So(a.nextSibling),n=a.data==="F!";break e}}Yu(n)}n=!1}n&&(e=r[0])}}return r=qi(),r.memoizedState=r.baseState=e,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nN,lastRenderedState:e},r.queue=n,r=_N.bind(null,dr,n),n.dispatch=r,n=L5(!1),i=Mb.bind(null,dr,!1,n.queue),n=qi(),a={state:e,dispatch:null,action:t,pending:null},n.queue=a,r=UM.bind(null,dr,a,i,r),a.dispatch=r,n.memoizedState=t,[e,r,!1]}function TA(t){var e=ga();return aN(e,ln,t)}function aN(t,e,r){if(e=Lb(t,e,nN)[0],t=i2(Tc)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var n=cm(e)}catch(s){throw s===Td?fx:s}else n=e;e=ga();var a=e.queue,i=a.dispatch;return r!==e.memoizedState&&(dr.flags|=2048,ld(9,{destroy:void 0},jM.bind(null,a,r),null)),[n,i,t]}function jM(t,e){t.action=e}function CA(t){var e=ga(),r=ln;if(r!==null)return aN(e,r,t);ga(),e=e.memoizedState,r=ga();var n=r.queue.dispatch;return r.memoizedState=t,[e,n,!1]}function ld(t,e,r,n){return t={tag:t,create:r,deps:n,inst:e,next:null},e=dr.updateQueue,e===null&&(e=hx(),dr.updateQueue=e),r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t),t}function iN(){return ga().memoizedState}function s2(t,e,r,n){var a=qi();dr.flags|=t,a.memoizedState=ld(1|e,{destroy:void 0},r,n===void 0?null:n)}function px(t,e,r,n){var a=ga();n=n===void 0?null:n;var i=a.memoizedState.inst;ln!==null&&n!==null&&Tb(n,ln.memoizedState.deps)?a.memoizedState=ld(e,i,r,n):(dr.flags|=t,a.memoizedState=ld(1|e,i,r,n))}function kA(t,e){s2(8390656,8,t,e)}function Db(t,e){px(2048,8,t,e)}function VM(t){dr.flags|=4;var e=dr.updateQueue;if(e===null)e=hx(),dr.updateQueue=e,e.events=[t];else{var r=e.events;r===null?e.events=[t]:r.push(t)}}function sN(t){var e=ga().memoizedState;return VM({ref:e,nextImpl:t}),function(){if(Wr&2)throw Error(et(440));return e.impl.apply(void 0,arguments)}}function oN(t,e){return px(4,2,t,e)}function lN(t,e){return px(4,4,t,e)}function cN(t,e){if(typeof e=="function"){t=t();var r=e(t);return function(){typeof r=="function"?r():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function uN(t,e,r){r=r!=null?r.concat([t]):null,px(4,4,cN.bind(null,e,t),r)}function Pb(){}function fN(t,e){var r=ga();e=e===void 0?null:e;var n=r.memoizedState;return e!==null&&Tb(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function hN(t,e){var r=ga();e=e===void 0?null:e;var n=r.memoizedState;if(e!==null&&Tb(e,n[1]))return n[0];if(n=t(),sh){Au(!0);try{t()}finally{Au(!1)}}return r.memoizedState=[n,e],n}function Ob(t,e,r){return r===void 0||Sc&1073741824&&!(Lr&261930)?t.memoizedState=e:(t.memoizedState=r,t=eI(),dr.lanes|=t,Ju|=t,r)}function dN(t,e,r,n){return Ks(r,e)?r:od.current!==null?(t=Ob(t,r,n),Ks(t,e)||(ka=!0),t):!(Sc&42)||Sc&1073741824&&!(Lr&261930)?(ka=!0,t.memoizedState=r):(t=eI(),dr.lanes|=t,Ju|=t,e)}function pN(t,e,r,n,a){var i=$r.p;$r.p=i!==0&&8>i?i:8;var s=ir.T,o={};ir.T=o,Mb(t,!1,e,r);try{var l=a(),c=ir.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=FM(l,n);H1(t,e,u,$s(t))}else H1(t,e,n,$s(t))}catch(h){H1(t,e,{then:function(){},status:"rejected",reason:h},$s())}finally{$r.p=i,s!==null&&o.types!==null&&(s.types=o.types),ir.T=s}}function zM(){}function P5(t,e,r,n){if(t.tag!==5)throw Error(et(476));var a=mN(t).queue;pN(t,a,e,Hf,r===null?zM:function(){return gN(t),r(n)})}function mN(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Hf,baseState:Hf,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tc,lastRenderedState:Hf},next:null};var r={};return e.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tc,lastRenderedState:r},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function gN(t){var e=mN(t);e.next===null&&(e=t.alternate.memoizedState),H1(t,e.next.queue,{},$s())}function Fb(){return ci(Sp)}function vN(){return ga().memoizedState}function xN(){return ga().memoizedState}function qM(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var r=$s();t=Fu(r);var n=Mu(e,t,r);n!==null&&(hs(n,e,r),V1(n,e,r)),e={cache:wb()},t.payload=e;return}e=e.return}}function HM(t,e,r){var n=$s();r={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},mx(t)?yN(e,r):(r=vb(t,e,r,n),r!==null&&(hs(r,t,n),wN(r,e,n)))}function _N(t,e,r){var n=$s();H1(t,e,r,n)}function H1(t,e,r,n){var a={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(mx(t))yN(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,Ks(o,s))return ux(t,e,a,0),mn===null&&cx(),!1}catch{}finally{}if(r=vb(t,e,a,n),r!==null)return hs(r,t,n),wN(r,e,n),!0}return!1}function Mb(t,e,r,n){if(n={lane:2,revertLane:Wb(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},mx(t)){if(e)throw Error(et(479))}else e=vb(t,r,n,2),e!==null&&hs(e,t,2)}function mx(t){var e=t.alternate;return t===dr||e!==null&&e===dr}function yN(t,e){z0=W2=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function wN(t,e,r){if(r&4194048){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,s8(t,r)}}var bp={readContext:ci,use:dx,useCallback:Kn,useContext:Kn,useEffect:Kn,useImperativeHandle:Kn,useLayoutEffect:Kn,useInsertionEffect:Kn,useMemo:Kn,useReducer:Kn,useRef:Kn,useState:Kn,useDebugValue:Kn,useDeferredValue:Kn,useTransition:Kn,useSyncExternalStore:Kn,useId:Kn,useHostTransitionStatus:Kn,useFormState:Kn,useActionState:Kn,useOptimistic:Kn,useMemoCache:Kn,useCacheRefresh:Kn};bp.useEffectEvent=Kn;var bN={readContext:ci,use:dx,useCallback:function(t,e){return qi().memoizedState=[t,e===void 0?null:e],t},useContext:ci,useEffect:kA,useImperativeHandle:function(t,e,r){r=r!=null?r.concat([t]):null,s2(4194308,4,cN.bind(null,e,t),r)},useLayoutEffect:function(t,e){return s2(4194308,4,t,e)},useInsertionEffect:function(t,e){s2(4,2,t,e)},useMemo:function(t,e){var r=qi();e=e===void 0?null:e;var n=t();if(sh){Au(!0);try{t()}finally{Au(!1)}}return r.memoizedState=[n,e],n},useReducer:function(t,e,r){var n=qi();if(r!==void 0){var a=r(e);if(sh){Au(!0);try{r(e)}finally{Au(!1)}}}else a=e;return n.memoizedState=n.baseState=a,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:a},n.queue=t,t=t.dispatch=HM.bind(null,dr,t),[n.memoizedState,t]},useRef:function(t){var e=qi();return t={current:t},e.memoizedState=t},useState:function(t){t=L5(t);var e=t.queue,r=_N.bind(null,dr,e);return e.dispatch=r,[t.memoizedState,r]},useDebugValue:Pb,useDeferredValue:function(t,e){var r=qi();return Ob(r,t,e)},useTransition:function(){var t=L5(!1);return t=pN.bind(null,dr,t.queue,!0,!1),qi().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,r){var n=dr,a=qi();if(Pr){if(r===void 0)throw Error(et(407));r=r()}else{if(r=e(),mn===null)throw Error(et(349));Lr&127||K8(n,e,r)}a.memoizedState=r;var i={value:r,getSnapshot:e};return a.queue=i,kA(Q8.bind(null,n,i,t),[t]),n.flags|=2048,ld(9,{destroy:void 0},Y8.bind(null,n,i,r,e),null),r},useId:function(){var t=qi(),e=mn.identifierPrefix;if(Pr){var r=bl,n=wl;r=(n&~(1<<32-Ws(n)-1)).toString(32)+r,e="_"+e+"R_"+r,r=$2++,0<r&&(e+="H"+r.toString(32)),e+="_"}else r=MM++,e="_"+e+"r_"+r.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Fb,useFormState:SA,useActionState:SA,useOptimistic:function(t){var e=qi();e.memoizedState=e.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=r,e=Mb.bind(null,dr,!0,r),r.dispatch=e,[t,e]},useMemoCache:Rb,useCacheRefresh:function(){return qi().memoizedState=qM.bind(null,dr)},useEffectEvent:function(t){var e=qi(),r={impl:t};return e.memoizedState=r,function(){if(Wr&2)throw Error(et(440));return r.impl.apply(void 0,arguments)}}},Bb={readContext:ci,use:dx,useCallback:fN,useContext:ci,useEffect:Db,useImperativeHandle:uN,useInsertionEffect:oN,useLayoutEffect:lN,useMemo:hN,useReducer:i2,useRef:iN,useState:function(){return i2(Tc)},useDebugValue:Pb,useDeferredValue:function(t,e){var r=ga();return dN(r,ln.memoizedState,t,e)},useTransition:function(){var t=i2(Tc)[0],e=ga().memoizedState;return[typeof t=="boolean"?t:cm(t),e]},useSyncExternalStore:X8,useId:vN,useHostTransitionStatus:Fb,useFormState:TA,useActionState:TA,useOptimistic:function(t,e){var r=ga();return eN(r,ln,t,e)},useMemoCache:Rb,useCacheRefresh:xN};Bb.useEffectEvent=sN;var EN={readContext:ci,use:dx,useCallback:fN,useContext:ci,useEffect:Db,useImperativeHandle:uN,useInsertionEffect:oN,useLayoutEffect:lN,useMemo:hN,useReducer:M_,useRef:iN,useState:function(){return M_(Tc)},useDebugValue:Pb,useDeferredValue:function(t,e){var r=ga();return ln===null?Ob(r,t,e):dN(r,ln.memoizedState,t,e)},useTransition:function(){var t=M_(Tc)[0],e=ga().memoizedState;return[typeof t=="boolean"?t:cm(t),e]},useSyncExternalStore:X8,useId:vN,useHostTransitionStatus:Fb,useFormState:CA,useActionState:CA,useOptimistic:function(t,e){var r=ga();return ln!==null?eN(r,ln,t,e):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Rb,useCacheRefresh:xN};EN.useEffectEvent=sN;function B_(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Bn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var O5={enqueueSetState:function(t,e,r){t=t._reactInternals;var n=$s(),a=Fu(n);a.payload=e,r!=null&&(a.callback=r),e=Mu(t,a,n),e!==null&&(hs(e,t,n),V1(e,t,n))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=$s(),a=Fu(n);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Mu(t,a,n),e!==null&&(hs(e,t,n),V1(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=$s(),n=Fu(r);n.tag=2,e!=null&&(n.callback=e),e=Mu(t,n,r),e!==null&&(hs(e,t,r),V1(e,t,r))}};function NA(t,e,r,n,a,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,s):e.prototype&&e.prototype.isPureReactComponent?!vp(r,n)||!vp(a,i):!0}function IA(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&O5.enqueueReplaceState(e,e.state,null)}function oh(t,e){var r=e;if("ref"in e){r={};for(var n in e)n!=="ref"&&(r[n]=e[n])}if(t=t.defaultProps){r===e&&(r=Bn({},r));for(var a in t)r[a]===void 0&&(r[a]=t[a])}return r}function AN(t){U2(t)}function SN(t){console.error(t)}function TN(t){U2(t)}function X2(t,e){try{var r=t.onUncaughtError;r(e.value,{componentStack:e.stack})}catch(n){setTimeout(function(){throw n})}}function RA(t,e,r){try{var n=t.onCaughtError;n(r.value,{componentStack:r.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function F5(t,e,r){return r=Fu(r),r.tag=3,r.payload={element:null},r.callback=function(){X2(t,e)},r}function CN(t){return t=Fu(t),t.tag=3,t}function kN(t,e,r,n){var a=r.type.getDerivedStateFromError;if(typeof a=="function"){var i=n.value;t.payload=function(){return a(i)},t.callback=function(){RA(e,r,n)}}var s=r.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){RA(e,r,n),typeof a!="function"&&(Bu===null?Bu=new Set([this]):Bu.add(this));var o=n.stack;this.componentDidCatch(n.value,{componentStack:o!==null?o:""})})}function GM(t,e,r,n,a){if(r.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(e=r.alternate,e!==null&&Sd(e,r,a,!0),r=Ys.current,r!==null){switch(r.tag){case 31:case 13:return Ao===null?Z2():r.alternate===null&&Zn===0&&(Zn=3),r.flags&=-257,r.flags|=65536,r.lanes=a,n===q2?r.flags|=16384:(e=r.updateQueue,e===null?r.updateQueue=new Set([n]):e.add(n),K_(t,n,a)),!1;case 22:return r.flags|=65536,n===q2?r.flags|=16384:(e=r.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=e):(r=e.retryQueue,r===null?e.retryQueue=new Set([n]):r.add(n)),K_(t,n,a)),!1}throw Error(et(435,r.tag))}return K_(t,n,a),Z2(),!1}if(Pr)return e=Ys.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=a,n!==E5&&(t=Error(et(422),{cause:n}),_p(bo(t,r)))):(n!==E5&&(e=Error(et(423),{cause:n}),_p(bo(e,r))),t=t.current.alternate,t.flags|=65536,a&=-a,t.lanes|=a,n=bo(n,r),a=F5(t.stateNode,n,a),F_(t,a),Zn!==4&&(Zn=2)),!1;var i=Error(et(520),{cause:n});if(i=bo(i,r),$1===null?$1=[i]:$1.push(i),Zn!==4&&(Zn=2),e===null)return!0;n=bo(n,r),r=e;do{switch(r.tag){case 3:return r.flags|=65536,t=a&-a,r.lanes|=t,t=F5(r.stateNode,n,t),F_(r,t),!1;case 1:if(e=r.type,i=r.stateNode,(r.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Bu===null||!Bu.has(i))))return r.flags|=65536,a&=-a,r.lanes|=a,a=CN(a),kN(a,t,r,n),F_(r,a),!1}r=r.return}while(r!==null);return!1}var Ub=Error(et(461)),ka=!1;function ri(t,e,r,n){e.child=t===null?z8(e,null,r,n):ih(e,t.child,r,n)}function LA(t,e,r,n,a){r=r.render;var i=e.ref;if("ref"in n){var s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}else s=n;return ah(e),n=Cb(t,e,r,s,i,a),o=kb(),t!==null&&!ka?(Nb(t,e,a),Cc(t,e,a)):(Pr&&o&&_b(e),e.flags|=1,ri(t,e,n,a),e.child)}function DA(t,e,r,n,a){if(t===null){var i=r.type;return typeof i=="function"&&!xb(i)&&i.defaultProps===void 0&&r.compare===null?(e.tag=15,e.type=i,NN(t,e,i,n,a)):(t=n2(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!jb(t,a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:vp,r(s,n)&&t.ref===e.ref)return Cc(t,e,a)}return e.flags|=1,t=pc(i,n),t.ref=e.ref,t.return=e,e.child=t}function NN(t,e,r,n,a){if(t!==null){var i=t.memoizedProps;if(vp(i,n)&&t.ref===e.ref)if(ka=!1,e.pendingProps=n=i,jb(t,a))t.flags&131072&&(ka=!0);else return e.lanes=t.lanes,Cc(t,e,a)}return M5(t,e,r,n,a)}function IN(t,e,r,n){var a=n.children,i=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(e.flags&128){if(i=i!==null?i.baseLanes|r:r,t!==null){for(n=e.child=t.child,a=0;n!==null;)a=a|n.lanes|n.childLanes,n=n.sibling;n=a&~i}else n=0,e.child=null;return PA(t,e,i,r,n)}if(r&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&a2(e,i!==null?i.cachePool:null),i!==null?bA(e,i):I5(),G8(e);else return n=e.lanes=536870912,PA(t,e,i!==null?i.baseLanes|r:r,r,n)}else i!==null?(a2(e,i.cachePool),bA(e,i),vu(),e.memoizedState=null):(t!==null&&a2(e,null),I5(),vu());return ri(t,e,a,r),e.child}function T1(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function PA(t,e,r,n,a){var i=bb();return i=i===null?null:{parent:Sa._currentValue,pool:i},e.memoizedState={baseLanes:r,cachePool:i},t!==null&&a2(e,null),I5(),G8(e),t!==null&&Sd(t,e,n,!0),e.childLanes=a,null}function o2(t,e){return e=K2({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function OA(t,e,r){return ih(e,t.child,null,r),t=o2(e,e.pendingProps),t.flags|=2,Ls(e),e.memoizedState=null,t}function WM(t,e,r){var n=e.pendingProps,a=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Pr){if(n.mode==="hidden")return t=o2(e,n),e.lanes=536870912,T1(null,t);if(R5(e),(t=Rn)?(t=bI(t,Eo),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Ku!==null?{id:wl,overflow:bl}:null,retryLane:536870912,hydrationErrors:null},r=O8(t),r.return=e,e.child=r,si=e,Rn=null)):t=null,t===null)throw Yu(e);return e.lanes=536870912,null}return o2(e,n)}var i=t.memoizedState;if(i!==null){var s=i.dehydrated;if(R5(e),a)if(e.flags&256)e.flags&=-257,e=OA(t,e,r);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(et(558));else if(ka||Sd(t,e,r,!1),a=(r&t.childLanes)!==0,ka||a){if(n=mn,n!==null&&(s=o8(n,r),s!==0&&s!==i.retryLane))throw i.retryLane=s,kh(t,s),hs(n,t,s),Ub;Z2(),e=OA(t,e,r)}else t=i.treeContext,Rn=So(s.nextSibling),si=e,Pr=!0,Ou=null,Eo=!1,t!==null&&M8(e,t),e=o2(e,n),e.flags|=4096;return e}return t=pc(t.child,{mode:n.mode,children:n.children}),t.ref=e.ref,e.child=t,t.return=e,t}function l2(t,e){var r=e.ref;if(r===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(et(284));(t===null||t.ref!==r)&&(e.flags|=4194816)}}function M5(t,e,r,n,a){return ah(e),r=Cb(t,e,r,n,void 0,a),n=kb(),t!==null&&!ka?(Nb(t,e,a),Cc(t,e,a)):(Pr&&n&&_b(e),e.flags|=1,ri(t,e,r,a),e.child)}function FA(t,e,r,n,a,i){return ah(e),e.updateQueue=null,r=$8(e,n,r,a),W8(t),n=kb(),t!==null&&!ka?(Nb(t,e,i),Cc(t,e,i)):(Pr&&n&&_b(e),e.flags|=1,ri(t,e,r,i),e.child)}function MA(t,e,r,n,a){if(ah(e),e.stateNode===null){var i=k0,s=r.contextType;typeof s=="object"&&s!==null&&(i=ci(s)),i=new r(n,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=O5,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=n,i.state=e.memoizedState,i.refs={},Ab(e),s=r.contextType,i.context=typeof s=="object"&&s!==null?ci(s):k0,i.state=e.memoizedState,s=r.getDerivedStateFromProps,typeof s=="function"&&(B_(e,r,s,n),i.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(s=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),s!==i.state&&O5.enqueueReplaceState(i,i.state,null),q1(e,n,i,a),z1(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!0}else if(t===null){i=e.stateNode;var o=e.memoizedProps,l=oh(r,o);i.props=l;var c=i.context,u=r.contextType;s=k0,typeof u=="object"&&u!==null&&(s=ci(u));var h=r.getDerivedStateFromProps;u=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,u||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o||c!==s)&&IA(e,i,n,s),pu=!1;var d=e.memoizedState;i.state=d,q1(e,n,i,a),z1(),c=e.memoizedState,o||d!==c||pu?(typeof h=="function"&&(B_(e,r,h,n),c=e.memoizedState),(l=pu||NA(e,r,l,n,d,c,s))?(u||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),i.props=n,i.state=c,i.context=s,n=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,k5(t,e),s=e.memoizedProps,u=oh(r,s),i.props=u,h=e.pendingProps,d=i.context,c=r.contextType,l=k0,typeof c=="object"&&c!==null&&(l=ci(c)),o=r.getDerivedStateFromProps,(c=typeof o=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==h||d!==l)&&IA(e,i,n,l),pu=!1,d=e.memoizedState,i.state=d,q1(e,n,i,a),z1();var f=e.memoizedState;s!==h||d!==f||pu||t!==null&&t.dependencies!==null&&z2(t.dependencies)?(typeof o=="function"&&(B_(e,r,o,n),f=e.memoizedState),(u=pu||NA(e,r,u,n,d,f,l)||t!==null&&t.dependencies!==null&&z2(t.dependencies))?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,f,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,f,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=f),i.props=n,i.state=f,i.context=l,n=u):(typeof i.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return i=n,l2(t,e),n=(e.flags&128)!==0,i||n?(i=e.stateNode,r=n&&typeof r.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&n?(e.child=ih(e,t.child,null,a),e.child=ih(e,null,r,a)):ri(t,e,r,a),e.memoizedState=i.state,t=e.child):t=Cc(t,e,a),t}function BA(t,e,r,n){return nh(),e.flags|=256,ri(t,e,r,n),e.child}var U_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function j_(t){return{baseLanes:t,cachePool:U8()}}function V_(t,e,r){return t=t!==null?t.childLanes&~r:0,e&&(t|=js),t}function RN(t,e,r){var n=e.pendingProps,a=!1,i=(e.flags&128)!==0,s;if((s=i)||(s=t!==null&&t.memoizedState===null?!1:(ma.current&2)!==0),s&&(a=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(Pr){if(a?gu(e):vu(),(t=Rn)?(t=bI(t,Eo),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Ku!==null?{id:wl,overflow:bl}:null,retryLane:536870912,hydrationErrors:null},r=O8(t),r.return=e,e.child=r,si=e,Rn=null)):t=null,t===null)throw Yu(e);return Q5(t)?e.lanes=32:e.lanes=536870912,null}var o=n.children;return n=n.fallback,a?(vu(),a=e.mode,o=K2({mode:"hidden",children:o},a),n=Gf(n,a,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n=e.child,n.memoizedState=j_(r),n.childLanes=V_(t,s,r),e.memoizedState=U_,T1(null,n)):(gu(e),B5(e,o))}var l=t.memoizedState;if(l!==null&&(o=l.dehydrated,o!==null)){if(i)e.flags&256?(gu(e),e.flags&=-257,e=z_(t,e,r)):e.memoizedState!==null?(vu(),e.child=t.child,e.flags|=128,e=null):(vu(),o=n.fallback,a=e.mode,n=K2({mode:"visible",children:n.children},a),o=Gf(o,a,r,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,ih(e,t.child,null,r),n=e.child,n.memoizedState=j_(r),n.childLanes=V_(t,s,r),e.memoizedState=U_,e=T1(null,n));else if(gu(e),Q5(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var c=s.dgst;s=c,n=Error(et(419)),n.stack="",n.digest=s,_p({value:n,source:null,stack:null}),e=z_(t,e,r)}else if(ka||Sd(t,e,r,!1),s=(r&t.childLanes)!==0,ka||s){if(s=mn,s!==null&&(n=o8(s,r),n!==0&&n!==l.retryLane))throw l.retryLane=n,kh(t,n),hs(s,t,n),Ub;Y5(o)||Z2(),e=z_(t,e,r)}else Y5(o)?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,Rn=So(o.nextSibling),si=e,Pr=!0,Ou=null,Eo=!1,t!==null&&M8(e,t),e=B5(e,n.children),e.flags|=4096);return e}return a?(vu(),o=n.fallback,a=e.mode,l=t.child,c=l.sibling,n=pc(l,{mode:"hidden",children:n.children}),n.subtreeFlags=l.subtreeFlags&65011712,c!==null?o=pc(c,o):(o=Gf(o,a,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,T1(null,n),n=e.child,o=t.child.memoizedState,o===null?o=j_(r):(a=o.cachePool,a!==null?(l=Sa._currentValue,a=a.parent!==l?{parent:l,pool:l}:a):a=U8(),o={baseLanes:o.baseLanes|r,cachePool:a}),n.memoizedState=o,n.childLanes=V_(t,s,r),e.memoizedState=U_,T1(t.child,n)):(gu(e),r=t.child,t=r.sibling,r=pc(r,{mode:"visible",children:n.children}),r.return=e,r.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=r,e.memoizedState=null,r)}function B5(t,e){return e=K2({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function K2(t,e){return t=Os(22,t,null,e),t.lanes=0,t}function z_(t,e,r){return ih(e,t.child,null,r),t=B5(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function UA(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),S5(t.return,e,r)}function q_(t,e,r,n,a,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a,treeForkCount:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a,s.treeForkCount=i)}function LN(t,e,r){var n=e.pendingProps,a=n.revealOrder,i=n.tail;n=n.children;var s=ma.current,o=(s&2)!==0;if(o?(s=s&1|2,e.flags|=128):s&=1,Sn(ma,s),ri(t,e,n,r),n=Pr?xp:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&UA(t,r,e);else if(t.tag===19)UA(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&G2(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),q_(e,!1,a,r,i,n);break;case"backwards":case"unstable_legacy-backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&G2(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}q_(e,!0,r,null,i,n);break;case"together":q_(e,!1,null,null,void 0,n);break;default:e.memoizedState=null}return e.child}function Cc(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ju|=e.lanes,!(r&e.childLanes))if(t!==null){if(Sd(t,e,r,!1),(r&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(et(153));if(e.child!==null){for(t=e.child,r=pc(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=pc(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function jb(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&z2(t)))}function $M(t,e,r){switch(e.tag){case 3:O2(e,e.stateNode.containerInfo),mu(e,Sa,t.memoizedState.cache),nh();break;case 27:case 5:h5(e);break;case 4:O2(e,e.stateNode.containerInfo);break;case 10:mu(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,R5(e),null;break;case 13:var n=e.memoizedState;if(n!==null)return n.dehydrated!==null?(gu(e),e.flags|=128,null):r&e.child.childLanes?RN(t,e,r):(gu(e),t=Cc(t,e,r),t!==null?t.sibling:null);gu(e);break;case 19:var a=(t.flags&128)!==0;if(n=(r&e.childLanes)!==0,n||(Sd(t,e,r,!1),n=(r&e.childLanes)!==0),a){if(n)return LN(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Sn(ma,ma.current),n)break;return null;case 22:return e.lanes=0,IN(t,e,r,e.pendingProps);case 24:mu(e,Sa,t.memoizedState.cache)}return Cc(t,e,r)}function DN(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps)ka=!0;else{if(!jb(t,r)&&!(e.flags&128))return ka=!1,$M(t,e,r);ka=!!(t.flags&131072)}else ka=!1,Pr&&e.flags&1048576&&F8(e,xp,e.index);switch(e.lanes=0,e.tag){case 16:e:{var n=e.pendingProps;if(t=Of(e.elementType),e.type=t,typeof t=="function")xb(t)?(n=oh(t,n),e.tag=1,e=MA(null,e,t,n,r)):(e.tag=0,e=M5(null,e,t,n,r));else{if(t!=null){var a=t.$$typeof;if(a===ab){e.tag=11,e=LA(null,e,t,n,r);break e}else if(a===ib){e.tag=14,e=DA(null,e,t,n,r);break e}}throw e=u5(t)||t,Error(et(306,e,""))}}return e;case 0:return M5(t,e,e.type,e.pendingProps,r);case 1:return n=e.type,a=oh(n,e.pendingProps),MA(t,e,n,a,r);case 3:e:{if(O2(e,e.stateNode.containerInfo),t===null)throw Error(et(387));n=e.pendingProps;var i=e.memoizedState;a=i.element,k5(t,e),q1(e,n,null,r);var s=e.memoizedState;if(n=s.cache,mu(e,Sa,n),n!==i.cache&&T5(e,[Sa],r,!0),z1(),n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=BA(t,e,n,r);break e}else if(n!==a){a=bo(Error(et(424)),e),_p(a),e=BA(t,e,n,r);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Rn=So(t.firstChild),si=e,Pr=!0,Ou=null,Eo=!0,r=z8(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(nh(),n===a){e=Cc(t,e,r);break e}ri(t,e,n,r)}e=e.child}return e;case 26:return l2(t,e),t===null?(r=iS(e.type,null,e.pendingProps,null))?e.memoizedState=r:Pr||(r=e.type,t=e.pendingProps,n=nv(Pu.current).createElement(r),n[ii]=e,n[ms]=t,ui(n,r,t),Wa(n),e.stateNode=n):e.memoizedState=iS(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return h5(e),t===null&&Pr&&(n=e.stateNode=EI(e.type,e.pendingProps,Pu.current),si=e,Eo=!0,a=Rn,df(e.type)?(J5=a,Rn=So(n.firstChild)):Rn=a),ri(t,e,e.pendingProps.children,r),l2(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Pr&&((a=n=Rn)&&(n=EB(n,e.type,e.pendingProps,Eo),n!==null?(e.stateNode=n,si=e,Rn=So(n.firstChild),Eo=!1,a=!0):a=!1),a||Yu(e)),h5(e),a=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,n=i.children,X5(a,i)?n=null:s!==null&&X5(a,s)&&(e.flags|=32),e.memoizedState!==null&&(a=Cb(t,e,BM,null,null,r),Sp._currentValue=a),l2(t,e),ri(t,e,n,r),e.child;case 6:return t===null&&Pr&&((t=r=Rn)&&(r=AB(r,e.pendingProps,Eo),r!==null?(e.stateNode=r,si=e,Rn=null,t=!0):t=!1),t||Yu(e)),null;case 13:return RN(t,e,r);case 4:return O2(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ih(e,null,n,r):ri(t,e,n,r),e.child;case 11:return LA(t,e,e.type,e.pendingProps,r);case 7:return ri(t,e,e.pendingProps,r),e.child;case 8:return ri(t,e,e.pendingProps.children,r),e.child;case 12:return ri(t,e,e.pendingProps.children,r),e.child;case 10:return n=e.pendingProps,mu(e,e.type,n.value),ri(t,e,n.children,r),e.child;case 9:return a=e.type._context,n=e.pendingProps.children,ah(e),a=ci(a),n=n(a),e.flags|=1,ri(t,e,n,r),e.child;case 14:return DA(t,e,e.type,e.pendingProps,r);case 15:return NN(t,e,e.type,e.pendingProps,r);case 19:return LN(t,e,r);case 31:return WM(t,e,r);case 22:return IN(t,e,r,e.pendingProps);case 24:return ah(e),n=ci(Sa),t===null?(a=bb(),a===null&&(a=mn,i=wb(),a.pooledCache=i,i.refCount++,i!==null&&(a.pooledCacheLanes|=r),a=i),e.memoizedState={parent:n,cache:a},Ab(e),mu(e,Sa,a)):(t.lanes&r&&(k5(t,e),q1(e,null,null,r),z1()),a=t.memoizedState,i=e.memoizedState,a.parent!==n?(a={parent:n,cache:n},e.memoizedState=a,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=a),mu(e,Sa,n)):(n=i.cache,mu(e,Sa,n),n!==a.cache&&T5(e,[Sa],r,!0))),ri(t,e,e.pendingProps.children,r),e.child;case 29:throw e.pendingProps}throw Error(et(156,e.tag))}function Zl(t){t.flags|=4}function H_(t,e,r,n,a){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(a&335544128)===a)if(t.stateNode.complete)t.flags|=8192;else if(nI())t.flags|=8192;else throw $f=q2,Eb}else t.flags&=-16777217}function jA(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!TI(e))if(nI())t.flags|=8192;else throw $f=q2,Eb}function xg(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?a8():536870912,t.lanes|=e,cd|=e)}function p1(t,e){if(!Pr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function In(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&65011712,n|=a.flags&65011712,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function XM(t,e,r){var n=e.pendingProps;switch(yb(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(e),null;case 1:return In(e),null;case 3:return r=e.stateNode,n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),mc(Sa),nd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(e0(e)?Zl(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,O_())),In(e),null;case 26:var a=e.type,i=e.memoizedState;return t===null?(Zl(e),i!==null?(In(e),jA(e,i)):(In(e),H_(e,a,null,n,r))):i?i!==t.memoizedState?(Zl(e),In(e),jA(e,i)):(In(e),e.flags&=-16777217):(t=t.memoizedProps,t!==n&&Zl(e),In(e),H_(e,a,t,n,r)),null;case 27:if(F2(e),r=Pu.current,a=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==n&&Zl(e);else{if(!n){if(e.stateNode===null)throw Error(et(166));return In(e),null}t=Cl.current,e0(e)?mA(e):(t=EI(a,n,r),e.stateNode=t,Zl(e))}return In(e),null;case 5:if(F2(e),a=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==n&&Zl(e);else{if(!n){if(e.stateNode===null)throw Error(et(166));return In(e),null}if(i=Cl.current,e0(e))mA(e);else{var s=nv(Pu.current);switch(i){case 1:i=s.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=s.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=s.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?s.createElement("select",{is:n.is}):s.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?s.createElement(a,{is:n.is}):s.createElement(a)}}i[ii]=e,i[ms]=n;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)i.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=i;e:switch(ui(i,a,n),a){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Zl(e)}}return In(e),H_(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,r),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==n&&Zl(e);else{if(typeof n!="string"&&e.stateNode===null)throw Error(et(166));if(t=Pu.current,e0(e)){if(t=e.stateNode,r=e.memoizedProps,n=null,a=si,a!==null)switch(a.tag){case 27:case 5:n=a.memoizedProps}t[ii]=e,t=!!(t.nodeValue===r||n!==null&&n.suppressHydrationWarning===!0||_I(t.nodeValue,r)),t||Yu(e,!0)}else t=nv(t).createTextNode(n),t[ii]=e,e.stateNode=t}return In(e),null;case 31:if(r=e.memoizedState,t===null||t.memoizedState!==null){if(n=e0(e),r!==null){if(t===null){if(!n)throw Error(et(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(et(557));t[ii]=e}else nh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;In(e),t=!1}else r=O_(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return e.flags&256?(Ls(e),e):(Ls(e),null);if(e.flags&128)throw Error(et(558))}return In(e),null;case 13:if(n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(a=e0(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(et(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(et(317));a[ii]=e}else nh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;In(e),a=!1}else a=O_(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),a=!0;if(!a)return e.flags&256?(Ls(e),e):(Ls(e),null)}return Ls(e),e.flags&128?(e.lanes=r,e):(r=n!==null,t=t!==null&&t.memoizedState!==null,r&&(n=e.child,a=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(a=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==a&&(n.flags|=2048)),r!==t&&r&&(e.child.flags|=8192),xg(e,e.updateQueue),In(e),null);case 4:return nd(),t===null&&$b(e.stateNode.containerInfo),In(e),null;case 10:return mc(e.type),In(e),null;case 19:if(Ya(ma),n=e.memoizedState,n===null)return In(e),null;if(a=(e.flags&128)!==0,i=n.rendering,i===null)if(a)p1(n,!1);else{if(Zn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=G2(t),i!==null){for(e.flags|=128,p1(n,!1),t=i.updateQueue,e.updateQueue=t,xg(e,t),e.subtreeFlags=0,t=r,r=e.child;r!==null;)P8(r,t),r=r.sibling;return Sn(ma,ma.current&1|2),Pr&&ic(e,n.treeForkCount),e.child}t=t.sibling}n.tail!==null&&Hs()>Q2&&(e.flags|=128,a=!0,p1(n,!1),e.lanes=4194304)}else{if(!a)if(t=G2(i),t!==null){if(e.flags|=128,a=!0,t=t.updateQueue,e.updateQueue=t,xg(e,t),p1(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!Pr)return In(e),null}else 2*Hs()-n.renderingStartTime>Q2&&r!==536870912&&(e.flags|=128,a=!0,p1(n,!1),e.lanes=4194304);n.isBackwards?(i.sibling=e.child,e.child=i):(t=n.last,t!==null?t.sibling=i:e.child=i,n.last=i)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=Hs(),t.sibling=null,r=ma.current,Sn(ma,a?r&1|2:r&1),Pr&&ic(e,n.treeForkCount),t):(In(e),null);case 22:case 23:return Ls(e),Sb(),n=e.memoizedState!==null,t!==null?t.memoizedState!==null!==n&&(e.flags|=8192):n&&(e.flags|=8192),n?r&536870912&&!(e.flags&128)&&(In(e),e.subtreeFlags&6&&(e.flags|=8192)):In(e),r=e.updateQueue,r!==null&&xg(e,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==r&&(e.flags|=2048),t!==null&&Ya(Wf),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),mc(Sa),In(e),null;case 25:return null;case 30:return null}throw Error(et(156,e.tag))}function KM(t,e){switch(yb(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mc(Sa),nd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return F2(e),null;case 31:if(e.memoizedState!==null){if(Ls(e),e.alternate===null)throw Error(et(340));nh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Ls(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(et(340));nh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ya(ma),null;case 4:return nd(),null;case 10:return mc(e.type),null;case 22:case 23:return Ls(e),Sb(),t!==null&&Ya(Wf),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return mc(Sa),null;case 25:return null;default:return null}}function PN(t,e){switch(yb(e),e.tag){case 3:mc(Sa),nd();break;case 26:case 27:case 5:F2(e);break;case 4:nd();break;case 31:e.memoizedState!==null&&Ls(e);break;case 13:Ls(e);break;case 19:Ya(ma);break;case 10:mc(e.type);break;case 22:case 23:Ls(e),Sb(),t!==null&&Ya(Wf);break;case 24:mc(Sa)}}function um(t,e){try{var r=e.updateQueue,n=r!==null?r.lastEffect:null;if(n!==null){var a=n.next;r=a;do{if((r.tag&t)===t){n=void 0;var i=r.create,s=r.inst;n=i(),s.destroy=n}r=r.next}while(r!==a)}}catch(o){nn(e,e.return,o)}}function Qu(t,e,r){try{var n=e.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&t)===t){var s=n.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,a=e;var l=r,c=o;try{c()}catch(u){nn(a,l,u)}}}n=n.next}while(n!==i)}}catch(u){nn(e,e.return,u)}}function ON(t){var e=t.updateQueue;if(e!==null){var r=t.stateNode;try{H8(e,r)}catch(n){nn(t,t.return,n)}}}function FN(t,e,r){r.props=oh(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(n){nn(t,e,n)}}function G1(t,e){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var n=t.stateNode;break;case 30:n=t.stateNode;break;default:n=t.stateNode}typeof r=="function"?t.refCleanup=r(n):r.current=n}}catch(a){nn(t,e,a)}}function El(t,e){var r=t.ref,n=t.refCleanup;if(r!==null)if(typeof n=="function")try{n()}catch(a){nn(t,e,a)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(a){nn(t,e,a)}else r.current=null}function MN(t){var e=t.type,r=t.memoizedProps,n=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(a){nn(t,t.return,a)}}function G_(t,e,r){try{var n=t.stateNode;vB(n,t.type,r,e),n[ms]=e}catch(a){nn(t,t.return,a)}}function BN(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&df(t.type)||t.tag===4}function W_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||BN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&df(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function U5(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,e):(e=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,e.appendChild(t),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=cc));else if(n!==4&&(n===27&&df(t.type)&&(r=t.stateNode,e=null),t=t.child,t!==null))for(U5(t,e,r),t=t.sibling;t!==null;)U5(t,e,r),t=t.sibling}function Y2(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(n===27&&df(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Y2(t,e,r),t=t.sibling;t!==null;)Y2(t,e,r),t=t.sibling}function UN(t){var e=t.stateNode,r=t.memoizedProps;try{for(var n=t.type,a=e.attributes;a.length;)e.removeAttributeNode(a[0]);ui(e,n,r),e[ii]=t,e[ms]=r}catch(i){nn(t,t.return,i)}}var oc=!1,Aa=!1,$_=!1,VA=typeof WeakSet=="function"?WeakSet:Set,Ha=null;function YM(t,e){if(t=t.containerInfo,W5=ov,t=T8(t),mb(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,h=t,d=null;t:for(;;){for(var f;h!==r||a!==0&&h.nodeType!==3||(o=s+a),h!==i||n!==0&&h.nodeType!==3||(l=s+n),h.nodeType===3&&(s+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===r&&++c===a&&(o=s),d===i&&++u===n&&(l=s),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for($5={focusedElem:t,selectionRange:r},ov=!1,Ha=e;Ha!==null;)if(e=Ha,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ha=t;else for(;Ha!==null;){switch(e=Ha,i=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)a=t[r],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&i!==null){t=void 0,r=e,a=i.memoizedProps,i=i.memoizedState,n=r.stateNode;try{var p=oh(r.type,a);t=n.getSnapshotBeforeUpdate(p,i),n.__reactInternalSnapshotBeforeUpdate=t}catch(m){nn(r,r.return,m)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,r=t.nodeType,r===9)K5(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":K5(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(et(163))}if(t=e.sibling,t!==null){t.return=e.return,Ha=t;break}Ha=e.return}}function jN(t,e,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:tc(t,r),n&4&&um(5,r);break;case 1:if(tc(t,r),n&4)if(t=r.stateNode,e===null)try{t.componentDidMount()}catch(s){nn(r,r.return,s)}else{var a=oh(r.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(a,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){nn(r,r.return,s)}}n&64&&ON(r),n&512&&G1(r,r.return);break;case 3:if(tc(t,r),n&64&&(t=r.updateQueue,t!==null)){if(e=null,r.child!==null)switch(r.child.tag){case 27:case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}try{H8(t,e)}catch(s){nn(r,r.return,s)}}break;case 27:e===null&&n&4&&UN(r);case 26:case 5:tc(t,r),e===null&&n&4&&MN(r),n&512&&G1(r,r.return);break;case 12:tc(t,r);break;case 31:tc(t,r),n&4&&qN(t,r);break;case 13:tc(t,r),n&4&&HN(t,r),n&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=iB.bind(null,r),SB(t,r))));break;case 22:if(n=r.memoizedState!==null||oc,!n){e=e!==null&&e.memoizedState!==null||Aa,a=oc;var i=Aa;oc=n,(Aa=e)&&!i?ac(t,r,(r.subtreeFlags&8772)!==0):tc(t,r),oc=a,Aa=i}break;case 30:break;default:tc(t,r)}}function VN(t){var e=t.alternate;e!==null&&(t.alternate=null,VN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&cb(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var jn=null,ss=!1;function ec(t,e,r){for(r=r.child;r!==null;)zN(t,e,r),r=r.sibling}function zN(t,e,r){if(Gs&&typeof Gs.onCommitFiberUnmount=="function")try{Gs.onCommitFiberUnmount(nm,r)}catch{}switch(r.tag){case 26:Aa||El(r,e),ec(t,e,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Aa||El(r,e);var n=jn,a=ss;df(r.type)&&(jn=r.stateNode,ss=!1),ec(t,e,r),K1(r.stateNode),jn=n,ss=a;break;case 5:Aa||El(r,e);case 6:if(n=jn,a=ss,jn=null,ec(t,e,r),jn=n,ss=a,jn!==null)if(ss)try{(jn.nodeType===9?jn.body:jn.nodeName==="HTML"?jn.ownerDocument.body:jn).removeChild(r.stateNode)}catch(i){nn(r,e,i)}else try{jn.removeChild(r.stateNode)}catch(i){nn(r,e,i)}break;case 18:jn!==null&&(ss?(t=jn,eS(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),dd(t)):eS(jn,r.stateNode));break;case 4:n=jn,a=ss,jn=r.stateNode.containerInfo,ss=!0,ec(t,e,r),jn=n,ss=a;break;case 0:case 11:case 14:case 15:Qu(2,r,e),Aa||Qu(4,r,e),ec(t,e,r);break;case 1:Aa||(El(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"&&FN(r,e,n)),ec(t,e,r);break;case 21:ec(t,e,r);break;case 22:Aa=(n=Aa)||r.memoizedState!==null,ec(t,e,r),Aa=n;break;default:ec(t,e,r)}}function qN(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{dd(t)}catch(r){nn(e,e.return,r)}}}function HN(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{dd(t)}catch(r){nn(e,e.return,r)}}function QM(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new VA),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new VA),e;default:throw Error(et(435,t.tag))}}function _g(t,e){var r=QM(t);e.forEach(function(n){if(!r.has(n)){r.add(n);var a=sB.bind(null,t,n);n.then(a,a)}})}function as(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n],i=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 27:if(df(o.type)){jn=o.stateNode,ss=!1;break e}break;case 5:jn=o.stateNode,ss=!1;break e;case 3:case 4:jn=o.stateNode.containerInfo,ss=!0;break e}o=o.return}if(jn===null)throw Error(et(160));zN(i,s,a),jn=null,ss=!1,i=a.alternate,i!==null&&(i.return=null),a.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)GN(e,t),e=e.sibling}var Ho=null;function GN(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:as(e,t),is(t),n&4&&(Qu(3,t,t.return),um(3,t),Qu(5,t,t.return));break;case 1:as(e,t),is(t),n&512&&(Aa||r===null||El(r,r.return)),n&64&&oc&&(t=t.updateQueue,t!==null&&(n=t.callbacks,n!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?n:r.concat(n))));break;case 26:var a=Ho;if(as(e,t),is(t),n&512&&(Aa||r===null||El(r,r.return)),n&4){var i=r!==null?r.memoizedState:null;if(n=t.memoizedState,r===null)if(n===null)if(t.stateNode===null){e:{n=t.type,r=t.memoizedProps,a=a.ownerDocument||a;t:switch(n){case"title":i=a.getElementsByTagName("title")[0],(!i||i[sm]||i[ii]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=a.createElement(n),a.head.insertBefore(i,a.querySelector("head > title"))),ui(i,n,r),i[ii]=t,Wa(i),n=i;break e;case"link":var s=oS("link","href",a).get(n+(r.href||""));if(s){for(var o=0;o<s.length;o++)if(i=s[o],i.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&i.getAttribute("rel")===(r.rel==null?null:r.rel)&&i.getAttribute("title")===(r.title==null?null:r.title)&&i.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){s.splice(o,1);break t}}i=a.createElement(n),ui(i,n,r),a.head.appendChild(i);break;case"meta":if(s=oS("meta","content",a).get(n+(r.content||""))){for(o=0;o<s.length;o++)if(i=s[o],i.getAttribute("content")===(r.content==null?null:""+r.content)&&i.getAttribute("name")===(r.name==null?null:r.name)&&i.getAttribute("property")===(r.property==null?null:r.property)&&i.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&i.getAttribute("charset")===(r.charSet==null?null:r.charSet)){s.splice(o,1);break t}}i=a.createElement(n),ui(i,n,r),a.head.appendChild(i);break;default:throw Error(et(468,n))}i[ii]=t,Wa(i),n=i}t.stateNode=n}else lS(a,t.type,t.stateNode);else t.stateNode=sS(a,n,t.memoizedProps);else i!==n?(i===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):i.count--,n===null?lS(a,t.type,t.stateNode):sS(a,n,t.memoizedProps)):n===null&&t.stateNode!==null&&G_(t,t.memoizedProps,r.memoizedProps)}break;case 27:as(e,t),is(t),n&512&&(Aa||r===null||El(r,r.return)),r!==null&&n&4&&G_(t,t.memoizedProps,r.memoizedProps);break;case 5:if(as(e,t),is(t),n&512&&(Aa||r===null||El(r,r.return)),t.flags&32){a=t.stateNode;try{id(a,"")}catch(p){nn(t,t.return,p)}}n&4&&t.stateNode!=null&&(a=t.memoizedProps,G_(t,a,r!==null?r.memoizedProps:a)),n&1024&&($_=!0);break;case 6:if(as(e,t),is(t),n&4){if(t.stateNode===null)throw Error(et(162));n=t.memoizedProps,r=t.stateNode;try{r.nodeValue=n}catch(p){nn(t,t.return,p)}}break;case 3:if(f2=null,a=Ho,Ho=av(e.containerInfo),as(e,t),Ho=a,is(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{dd(e.containerInfo)}catch(p){nn(t,t.return,p)}$_&&($_=!1,WN(t));break;case 4:n=Ho,Ho=av(t.stateNode.containerInfo),as(e,t),is(t),Ho=n;break;case 12:as(e,t),is(t);break;case 31:as(e,t),is(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,_g(t,n)));break;case 13:as(e,t),is(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(gx=Hs()),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,_g(t,n)));break;case 22:a=t.memoizedState!==null;var l=r!==null&&r.memoizedState!==null,c=oc,u=Aa;if(oc=c||a,Aa=u||l,as(e,t),Aa=u,oc=c,is(t),n&8192)e:for(e=t.stateNode,e._visibility=a?e._visibility&-2:e._visibility|1,a&&(r===null||l||oc||Aa||Ff(t)),r=null,e=t;;){if(e.tag===5||e.tag===26){if(r===null){l=r=e;try{if(i=l.stateNode,a)s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=l.stateNode;var h=l.memoizedProps.style,d=h!=null&&h.hasOwnProperty("display")?h.display:null;o.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(p){nn(l,l.return,p)}}}else if(e.tag===6){if(r===null){l=e;try{l.stateNode.nodeValue=a?"":l.memoizedProps}catch(p){nn(l,l.return,p)}}}else if(e.tag===18){if(r===null){l=e;try{var f=l.stateNode;a?tS(f,!0):tS(l.stateNode,!1)}catch(p){nn(l,l.return,p)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;r===e&&(r=null),e=e.return}r===e&&(r=null),e.sibling.return=e.return,e=e.sibling}n&4&&(n=t.updateQueue,n!==null&&(r=n.retryQueue,r!==null&&(n.retryQueue=null,_g(t,r))));break;case 19:as(e,t),is(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,_g(t,n)));break;case 30:break;case 21:break;default:as(e,t),is(t)}}function is(t){var e=t.flags;if(e&2){try{for(var r,n=t.return;n!==null;){if(BN(n)){r=n;break}n=n.return}if(r==null)throw Error(et(160));switch(r.tag){case 27:var a=r.stateNode,i=W_(t);Y2(t,i,a);break;case 5:var s=r.stateNode;r.flags&32&&(id(s,""),r.flags&=-33);var o=W_(t);Y2(t,o,s);break;case 3:case 4:var l=r.stateNode.containerInfo,c=W_(t);U5(t,c,l);break;default:throw Error(et(161))}}catch(u){nn(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function WN(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;WN(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function tc(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)jN(t,e.alternate,e),e=e.sibling}function Ff(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Qu(4,e,e.return),Ff(e);break;case 1:El(e,e.return);var r=e.stateNode;typeof r.componentWillUnmount=="function"&&FN(e,e.return,r),Ff(e);break;case 27:K1(e.stateNode);case 26:case 5:El(e,e.return),Ff(e);break;case 22:e.memoizedState===null&&Ff(e);break;case 30:Ff(e);break;default:Ff(e)}t=t.sibling}}function ac(t,e,r){for(r=r&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var n=e.alternate,a=t,i=e,s=i.flags;switch(i.tag){case 0:case 11:case 15:ac(a,i,r),um(4,i);break;case 1:if(ac(a,i,r),n=i,a=n.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(c){nn(n,n.return,c)}if(n=i,a=n.updateQueue,a!==null){var o=n.stateNode;try{var l=a.shared.hiddenCallbacks;if(l!==null)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)q8(l[a],o)}catch(c){nn(n,n.return,c)}}r&&s&64&&ON(i),G1(i,i.return);break;case 27:UN(i);case 26:case 5:ac(a,i,r),r&&n===null&&s&4&&MN(i),G1(i,i.return);break;case 12:ac(a,i,r);break;case 31:ac(a,i,r),r&&s&4&&qN(a,i);break;case 13:ac(a,i,r),r&&s&4&&HN(a,i);break;case 22:i.memoizedState===null&&ac(a,i,r),G1(i,i.return);break;case 30:break;default:ac(a,i,r)}e=e.sibling}}function Vb(t,e){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&lm(r))}function zb(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&lm(t))}function jo(t,e,r,n){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)$N(t,e,r,n),e=e.sibling}function $N(t,e,r,n){var a=e.flags;switch(e.tag){case 0:case 11:case 15:jo(t,e,r,n),a&2048&&um(9,e);break;case 1:jo(t,e,r,n);break;case 3:jo(t,e,r,n),a&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&lm(t)));break;case 12:if(a&2048){jo(t,e,r,n),t=e.stateNode;try{var i=e.memoizedProps,s=i.id,o=i.onPostCommit;typeof o=="function"&&o(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){nn(e,e.return,l)}}else jo(t,e,r,n);break;case 31:jo(t,e,r,n);break;case 13:jo(t,e,r,n);break;case 23:break;case 22:i=e.stateNode,s=e.alternate,e.memoizedState!==null?i._visibility&2?jo(t,e,r,n):W1(t,e):i._visibility&2?jo(t,e,r,n):(i._visibility|=2,f0(t,e,r,n,(e.subtreeFlags&10256)!==0||!1)),a&2048&&Vb(s,e);break;case 24:jo(t,e,r,n),a&2048&&zb(e.alternate,e);break;default:jo(t,e,r,n)}}function f0(t,e,r,n,a){for(a=a&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var i=t,s=e,o=r,l=n,c=s.flags;switch(s.tag){case 0:case 11:case 15:f0(i,s,o,l,a),um(8,s);break;case 23:break;case 22:var u=s.stateNode;s.memoizedState!==null?u._visibility&2?f0(i,s,o,l,a):W1(i,s):(u._visibility|=2,f0(i,s,o,l,a)),a&&c&2048&&Vb(s.alternate,s);break;case 24:f0(i,s,o,l,a),a&&c&2048&&zb(s.alternate,s);break;default:f0(i,s,o,l,a)}e=e.sibling}}function W1(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var r=t,n=e,a=n.flags;switch(n.tag){case 22:W1(r,n),a&2048&&Vb(n.alternate,n);break;case 24:W1(r,n),a&2048&&zb(n.alternate,n);break;default:W1(r,n)}e=e.sibling}}var C1=8192;function t0(t,e,r){if(t.subtreeFlags&C1)for(t=t.child;t!==null;)XN(t,e,r),t=t.sibling}function XN(t,e,r){switch(t.tag){case 26:t0(t,e,r),t.flags&C1&&t.memoizedState!==null&&MB(r,Ho,t.memoizedState,t.memoizedProps);break;case 5:t0(t,e,r);break;case 3:case 4:var n=Ho;Ho=av(t.stateNode.containerInfo),t0(t,e,r),Ho=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=C1,C1=16777216,t0(t,e,r),C1=n):t0(t,e,r));break;default:t0(t,e,r)}}function KN(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function m1(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var r=0;r<e.length;r++){var n=e[r];Ha=n,QN(n,t)}KN(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)YN(t),t=t.sibling}function YN(t){switch(t.tag){case 0:case 11:case 15:m1(t),t.flags&2048&&Qu(9,t,t.return);break;case 3:m1(t);break;case 12:m1(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,c2(t)):m1(t);break;default:m1(t)}}function c2(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var r=0;r<e.length;r++){var n=e[r];Ha=n,QN(n,t)}KN(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Qu(8,e,e.return),c2(e);break;case 22:r=e.stateNode,r._visibility&2&&(r._visibility&=-3,c2(e));break;default:c2(e)}t=t.sibling}}function QN(t,e){for(;Ha!==null;){var r=Ha;switch(r.tag){case 0:case 11:case 15:Qu(8,r,e);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var n=r.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:lm(r.memoizedState.cache)}if(n=r.child,n!==null)n.return=r,Ha=n;else e:for(r=t;Ha!==null;){n=Ha;var a=n.sibling,i=n.return;if(VN(n),n===r){Ha=null;break e}if(a!==null){a.return=i,Ha=a;break e}Ha=i}}}var JM={getCacheForType:function(t){var e=ci(Sa),r=e.data.get(t);return r===void 0&&(r=t(),e.data.set(t,r)),r},cacheSignal:function(){return ci(Sa).controller.signal}},ZM=typeof WeakMap=="function"?WeakMap:Map,Wr=0,mn=null,Ar=null,Lr=0,en=0,Rs=null,Tu=!1,Cd=!1,qb=!1,kc=0,Zn=0,Ju=0,Xf=0,Hb=0,js=0,cd=0,$1=null,os=null,j5=!1,gx=0,JN=0,Q2=1/0,J2=null,Bu=null,Oa=0,Uu=null,ud=null,gc=0,V5=0,z5=null,ZN=null,X1=0,q5=null;function $s(){return Wr&2&&Lr!==0?Lr&-Lr:ir.T!==null?Wb():l8()}function eI(){if(js===0)if(!(Lr&536870912)||Pr){var t=fg;fg<<=1,!(fg&3932160)&&(fg=262144),js=t}else js=536870912;return t=Ys.current,t!==null&&(t.flags|=32),js}function hs(t,e,r){(t===mn&&(en===2||en===9)||t.cancelPendingCommit!==null)&&(fd(t,0),Cu(t,Lr,js,!1)),im(t,r),(!(Wr&2)||t!==mn)&&(t===mn&&(!(Wr&2)&&(Xf|=r),Zn===4&&Cu(t,Lr,js,!1)),Fl(t))}function tI(t,e,r){if(Wr&6)throw Error(et(327));var n=!r&&(e&127)===0&&(e&t.expiredLanes)===0||am(t,e),a=n?rB(t,e):X_(t,e,!0),i=n;do{if(a===0){Cd&&!n&&Cu(t,e,0,!1);break}else{if(r=t.current.alternate,i&&!eB(r)){a=X_(t,e,!1),i=!1;continue}if(a===2){if(i=e,t.errorRecoveryDisabledLanes&i)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var o=t;a=$1;var l=o.current.memoizedState.isDehydrated;if(l&&(fd(o,s).flags|=256),s=X_(o,s,!1),s!==2){if(qb&&!l){o.errorRecoveryDisabledLanes|=i,Xf|=i,a=4;break e}i=os,os=a,i!==null&&(os===null?os=i:os.push.apply(os,i))}a=s}if(i=!1,a!==2)continue}}if(a===1){fd(t,0),Cu(t,e,0,!0);break}e:{switch(n=t,i=a,i){case 0:case 1:throw Error(et(345));case 4:if((e&4194048)!==e)break;case 6:Cu(n,e,js,!Tu);break e;case 2:os=null;break;case 3:case 5:break;default:throw Error(et(329))}if((e&62914560)===e&&(a=gx+300-Hs(),10<a)){if(Cu(n,e,js,!Tu),ix(n,0,!0)!==0)break e;gc=e,n.timeoutHandle=wI(zA.bind(null,n,r,os,J2,j5,e,js,Xf,cd,Tu,i,"Throttled",-0,0),a);break e}zA(n,r,os,J2,j5,e,js,Xf,cd,Tu,i,null,-0,0)}}break}while(!0);Fl(t)}function zA(t,e,r,n,a,i,s,o,l,c,u,h,d,f){if(t.timeoutHandle=-1,h=e.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:cc},XN(e,i,h);var p=(i&62914560)===i?gx-Hs():(i&4194048)===i?JN-Hs():0;if(p=BB(h,p),p!==null){gc=i,t.cancelPendingCommit=p(HA.bind(null,t,e,i,r,n,a,s,o,l,u,h,null,d,f)),Cu(t,i,s,!c);return}}HA(t,e,i,r,n,a,s,o,l)}function eB(t){for(var e=t;;){var r=e.tag;if((r===0||r===11||r===15)&&e.flags&16384&&(r=e.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Ks(i(),a))return!1}catch{return!1}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cu(t,e,r,n){e&=~Hb,e&=~Xf,t.suspendedLanes|=e,t.pingedLanes&=~e,n&&(t.warmLanes|=e),n=t.expirationTimes;for(var a=e;0<a;){var i=31-Ws(a),s=1<<i;n[i]=-1,a&=~s}r!==0&&i8(t,r,e)}function vx(){return Wr&6?!0:(fm(0),!1)}function Gb(){if(Ar!==null){if(en===0)var t=Ar.return;else t=Ar,uc=Nh=null,Ib(t),V0=null,yp=0,t=Ar;for(;t!==null;)PN(t.alternate,t),t=t.return;Ar=null}}function fd(t,e){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,yB(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),gc=0,Gb(),mn=t,Ar=r=pc(t.current,null),Lr=e,en=0,Rs=null,Tu=!1,Cd=am(t,e),qb=!1,cd=js=Hb=Xf=Ju=Zn=0,os=$1=null,j5=!1,e&8&&(e|=e&32);var n=t.entangledLanes;if(n!==0)for(t=t.entanglements,n&=e;0<n;){var a=31-Ws(n),i=1<<a;e|=t[a],n&=~i}return kc=e,cx(),r}function rI(t,e){dr=null,ir.H=bp,e===Td||e===fx?(e=yA(),en=3):e===Eb?(e=yA(),en=4):en=e===Ub?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Rs=e,Ar===null&&(Zn=1,X2(t,bo(e,t.current)))}function nI(){var t=Ys.current;return t===null?!0:(Lr&4194048)===Lr?Ao===null:(Lr&62914560)===Lr||Lr&536870912?t===Ao:!1}function aI(){var t=ir.H;return ir.H=bp,t===null?bp:t}function iI(){var t=ir.A;return ir.A=JM,t}function Z2(){Zn=4,Tu||(Lr&4194048)!==Lr&&Ys.current!==null||(Cd=!0),!(Ju&134217727)&&!(Xf&134217727)||mn===null||Cu(mn,Lr,js,!1)}function X_(t,e,r){var n=Wr;Wr|=2;var a=aI(),i=iI();(mn!==t||Lr!==e)&&(J2=null,fd(t,e)),e=!1;var s=Zn;e:do try{if(en!==0&&Ar!==null){var o=Ar,l=Rs;switch(en){case 8:Gb(),s=6;break e;case 3:case 2:case 9:case 6:Ys.current===null&&(e=!0);var c=en;if(en=0,Rs=null,R0(t,o,l,c),r&&Cd){s=0;break e}break;default:c=en,en=0,Rs=null,R0(t,o,l,c)}}tB(),s=Zn;break}catch(u){rI(t,u)}while(!0);return e&&t.shellSuspendCounter++,uc=Nh=null,Wr=n,ir.H=a,ir.A=i,Ar===null&&(mn=null,Lr=0,cx()),s}function tB(){for(;Ar!==null;)sI(Ar)}function rB(t,e){var r=Wr;Wr|=2;var n=aI(),a=iI();mn!==t||Lr!==e?(J2=null,Q2=Hs()+500,fd(t,e)):Cd=am(t,e);e:do try{if(en!==0&&Ar!==null){e=Ar;var i=Rs;t:switch(en){case 1:en=0,Rs=null,R0(t,e,i,1);break;case 2:case 9:if(_A(i)){en=0,Rs=null,qA(e);break}e=function(){en!==2&&en!==9||mn!==t||(en=7),Fl(t)},i.then(e,e);break e;case 3:en=7;break e;case 4:en=5;break e;case 7:_A(i)?(en=0,Rs=null,qA(e)):(en=0,Rs=null,R0(t,e,i,7));break;case 5:var s=null;switch(Ar.tag){case 26:s=Ar.memoizedState;case 5:case 27:var o=Ar;if(s?TI(s):o.stateNode.complete){en=0,Rs=null;var l=o.sibling;if(l!==null)Ar=l;else{var c=o.return;c!==null?(Ar=c,xx(c)):Ar=null}break t}}en=0,Rs=null,R0(t,e,i,5);break;case 6:en=0,Rs=null,R0(t,e,i,6);break;case 8:Gb(),Zn=6;break e;default:throw Error(et(462))}}nB();break}catch(u){rI(t,u)}while(!0);return uc=Nh=null,ir.H=n,ir.A=a,Wr=r,Ar!==null?0:(mn=null,Lr=0,cx(),Zn)}function nB(){for(;Ar!==null&&!T9();)sI(Ar)}function sI(t){var e=DN(t.alternate,t,kc);t.memoizedProps=t.pendingProps,e===null?xx(t):Ar=e}function qA(t){var e=t,r=e.alternate;switch(e.tag){case 15:case 0:e=FA(r,e,e.pendingProps,e.type,void 0,Lr);break;case 11:e=FA(r,e,e.pendingProps,e.type.render,e.ref,Lr);break;case 5:Ib(e);default:PN(r,e),e=Ar=P8(e,kc),e=DN(r,e,kc)}t.memoizedProps=t.pendingProps,e===null?xx(t):Ar=e}function R0(t,e,r,n){uc=Nh=null,Ib(e),V0=null,yp=0;var a=e.return;try{if(GM(t,a,e,r,Lr)){Zn=1,X2(t,bo(r,t.current)),Ar=null;return}}catch(i){if(a!==null)throw Ar=a,i;Zn=1,X2(t,bo(r,t.current)),Ar=null;return}e.flags&32768?(Pr||n===1?t=!0:Cd||Lr&536870912?t=!1:(Tu=t=!0,(n===2||n===9||n===3||n===6)&&(n=Ys.current,n!==null&&n.tag===13&&(n.flags|=16384))),oI(e,t)):xx(e)}function xx(t){var e=t;do{if(e.flags&32768){oI(e,Tu);return}t=e.return;var r=XM(e.alternate,e,kc);if(r!==null){Ar=r;return}if(e=e.sibling,e!==null){Ar=e;return}Ar=e=t}while(e!==null);Zn===0&&(Zn=5)}function oI(t,e){do{var r=KM(t.alternate,t);if(r!==null){r.flags&=32767,Ar=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!e&&(t=t.sibling,t!==null)){Ar=t;return}Ar=t=r}while(t!==null);Zn=6,Ar=null}function HA(t,e,r,n,a,i,s,o,l){t.cancelPendingCommit=null;do _x();while(Oa!==0);if(Wr&6)throw Error(et(327));if(e!==null){if(e===t.current)throw Error(et(177));if(i=e.lanes|e.childLanes,i|=gb,F9(t,r,i,s,o,l),t===mn&&(Ar=mn=null,Lr=0),ud=e,Uu=t,gc=r,V5=i,z5=a,ZN=n,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,oB(M2,function(){return hI(),null})):(t.callbackNode=null,t.callbackPriority=0),n=(e.flags&13878)!==0,e.subtreeFlags&13878||n){n=ir.T,ir.T=null,a=$r.p,$r.p=2,s=Wr,Wr|=4;try{YM(t,e,r)}finally{Wr=s,$r.p=a,ir.T=n}}Oa=1,lI(),cI(),uI()}}function lI(){if(Oa===1){Oa=0;var t=Uu,e=ud,r=(e.flags&13878)!==0;if(e.subtreeFlags&13878||r){r=ir.T,ir.T=null;var n=$r.p;$r.p=2;var a=Wr;Wr|=4;try{GN(e,t);var i=$5,s=T8(t.containerInfo),o=i.focusedElem,l=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&S8(o.ownerDocument.documentElement,o)){if(l!==null&&mb(o)){var c=l.start,u=l.end;if(u===void 0&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var h=o.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),_=l.end===void 0?m:Math.min(l.end,p);!f.extend&&m>_&&(s=_,_=m,m=s);var x=hA(o,m),T=hA(o,_);if(x&&T&&(f.rangeCount!==1||f.anchorNode!==x.node||f.anchorOffset!==x.offset||f.focusNode!==T.node||f.focusOffset!==T.offset)){var b=h.createRange();b.setStart(x.node,x.offset),f.removeAllRanges(),m>_?(f.addRange(b),f.extend(T.node,T.offset)):(b.setEnd(T.node,T.offset),f.addRange(b))}}}}for(h=[],f=o;f=f.parentNode;)f.nodeType===1&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<h.length;o++){var I=h[o];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}ov=!!W5,$5=W5=null}finally{Wr=a,$r.p=n,ir.T=r}}t.current=e,Oa=2}}function cI(){if(Oa===2){Oa=0;var t=Uu,e=ud,r=(e.flags&8772)!==0;if(e.subtreeFlags&8772||r){r=ir.T,ir.T=null;var n=$r.p;$r.p=2;var a=Wr;Wr|=4;try{jN(t,e.alternate,e)}finally{Wr=a,$r.p=n,ir.T=r}}Oa=3}}function uI(){if(Oa===4||Oa===3){Oa=0,C9();var t=Uu,e=ud,r=gc,n=ZN;e.subtreeFlags&10256||e.flags&10256?Oa=5:(Oa=0,ud=Uu=null,fI(t,t.pendingLanes));var a=t.pendingLanes;if(a===0&&(Bu=null),lb(r),e=e.stateNode,Gs&&typeof Gs.onCommitFiberRoot=="function")try{Gs.onCommitFiberRoot(nm,e,void 0,(e.current.flags&128)===128)}catch{}if(n!==null){e=ir.T,a=$r.p,$r.p=2,ir.T=null;try{for(var i=t.onRecoverableError,s=0;s<n.length;s++){var o=n[s];i(o.value,{componentStack:o.stack})}}finally{ir.T=e,$r.p=a}}gc&3&&_x(),Fl(t),a=t.pendingLanes,r&261930&&a&42?t===q5?X1++:(X1=0,q5=t):X1=0,fm(0)}}function fI(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,lm(e)))}function _x(){return lI(),cI(),uI(),hI()}function hI(){if(Oa!==5)return!1;var t=Uu,e=V5;V5=0;var r=lb(gc),n=ir.T,a=$r.p;try{$r.p=32>r?32:r,ir.T=null,r=z5,z5=null;var i=Uu,s=gc;if(Oa=0,ud=Uu=null,gc=0,Wr&6)throw Error(et(331));var o=Wr;if(Wr|=4,YN(i.current),$N(i,i.current,s,r),Wr=o,fm(0,!1),Gs&&typeof Gs.onPostCommitFiberRoot=="function")try{Gs.onPostCommitFiberRoot(nm,i)}catch{}return!0}finally{$r.p=a,ir.T=n,fI(t,e)}}function GA(t,e,r){e=bo(r,e),e=F5(t.stateNode,e,2),t=Mu(t,e,2),t!==null&&(im(t,2),Fl(t))}function nn(t,e,r){if(t.tag===3)GA(t,t,r);else for(;e!==null;){if(e.tag===3){GA(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Bu===null||!Bu.has(n))){t=bo(r,t),r=CN(2),n=Mu(e,r,2),n!==null&&(kN(r,n,e,t),im(n,2),Fl(n));break}}e=e.return}}function K_(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new ZM;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(qb=!0,a.add(r),t=aB.bind(null,t,e,r),e.then(t,t))}function aB(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,mn===t&&(Lr&r)===r&&(Zn===4||Zn===3&&(Lr&62914560)===Lr&&300>Hs()-gx?!(Wr&2)&&fd(t,0):Hb|=r,cd===Lr&&(cd=0)),Fl(t)}function dI(t,e){e===0&&(e=a8()),t=kh(t,e),t!==null&&(im(t,e),Fl(t))}function iB(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),dI(t,r)}function sB(t,e){var r=0;switch(t.tag){case 31:case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;case 22:n=t.stateNode._retryCache;break;default:throw Error(et(314))}n!==null&&n.delete(e),dI(t,r)}function oB(t,e){return sb(t,e)}var ev=null,h0=null,H5=!1,tv=!1,Y_=!1,ku=0;function Fl(t){t!==h0&&t.next===null&&(h0===null?ev=h0=t:h0=h0.next=t),tv=!0,H5||(H5=!0,cB())}function fm(t,e){if(!Y_&&tv){Y_=!0;do for(var r=!1,n=ev;n!==null;){if(t!==0){var a=n.pendingLanes;if(a===0)var i=0;else{var s=n.suspendedLanes,o=n.pingedLanes;i=(1<<31-Ws(42|t)+1)-1,i&=a&~(s&~o),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(r=!0,WA(n,i))}else i=Lr,i=ix(n,n===mn?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(i&3)||am(n,i)||(r=!0,WA(n,i));n=n.next}while(r);Y_=!1}}function lB(){pI()}function pI(){tv=H5=!1;var t=0;ku!==0&&_B()&&(t=ku);for(var e=Hs(),r=null,n=ev;n!==null;){var a=n.next,i=mI(n,e);i===0?(n.next=null,r===null?ev=a:r.next=a,a===null&&(h0=r)):(r=n,(t!==0||i&3)&&(tv=!0)),n=a}Oa!==0&&Oa!==5||fm(t),ku!==0&&(ku=0)}function mI(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var s=31-Ws(i),o=1<<s,l=a[s];l===-1?(!(o&r)||o&n)&&(a[s]=O9(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}if(e=mn,r=Lr,r=ix(t,t===e?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n=t.callbackNode,r===0||t===e&&(en===2||en===9)||t.cancelPendingCommit!==null)return n!==null&&n!==null&&A_(n),t.callbackNode=null,t.callbackPriority=0;if(!(r&3)||am(t,r)){if(e=r&-r,e===t.callbackPriority)return e;switch(n!==null&&A_(n),lb(r)){case 2:case 8:r=r8;break;case 32:r=M2;break;case 268435456:r=n8;break;default:r=M2}return n=gI.bind(null,t),r=sb(r,n),t.callbackPriority=e,t.callbackNode=r,e}return n!==null&&n!==null&&A_(n),t.callbackPriority=2,t.callbackNode=null,2}function gI(t,e){if(Oa!==0&&Oa!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(_x()&&t.callbackNode!==r)return null;var n=Lr;return n=ix(t,t===mn?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n===0?null:(tI(t,n,e),mI(t,Hs()),t.callbackNode!=null&&t.callbackNode===r?gI.bind(null,t):null)}function WA(t,e){if(_x())return null;tI(t,e,!0)}function cB(){wB(function(){Wr&6?sb(t8,lB):pI()})}function Wb(){if(ku===0){var t=sd;t===0&&(t=ug,ug<<=1,!(ug&261888)&&(ug=256)),ku=t}return ku}function $A(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:e2(""+t)}function XA(t,e){var r=e.ownerDocument.createElement("input");return r.name=e.name,r.value=e.value,t.id&&r.setAttribute("form",t.id),e.parentNode.insertBefore(r,e),t=new FormData(t),r.parentNode.removeChild(r),t}function uB(t,e,r,n,a){if(e==="submit"&&r&&r.stateNode===a){var i=$A((a[ms]||null).action),s=n.submitter;s&&(e=(e=s[ms]||null)?$A(e.formAction):s.getAttribute("formAction"),e!==null&&(i=e,s=null));var o=new sx("action","action",null,n,a);t.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(ku!==0){var l=s?XA(a,s):new FormData(a);P5(r,{pending:!0,data:l,method:a.method,action:i},null,l)}}else typeof i=="function"&&(o.preventDefault(),l=s?XA(a,s):new FormData(a),P5(r,{pending:!0,data:l,method:a.method,action:i},i,l))},currentTarget:a}]})}}for(var Q_=0;Q_<b5.length;Q_++){var J_=b5[Q_],fB=J_.toLowerCase(),hB=J_[0].toUpperCase()+J_.slice(1);el(fB,"on"+hB)}el(k8,"onAnimationEnd");el(N8,"onAnimationIteration");el(I8,"onAnimationStart");el("dblclick","onDoubleClick");el("focusin","onFocus");el("focusout","onBlur");el(kM,"onTransitionRun");el(NM,"onTransitionStart");el(IM,"onTransitionCancel");el(R8,"onTransitionEnd");ad("onMouseEnter",["mouseout","mouseover"]);ad("onMouseLeave",["mouseout","mouseover"]);ad("onPointerEnter",["pointerout","pointerover"]);ad("onPointerLeave",["pointerout","pointerover"]);Sh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ep="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ep));function vI(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=c;try{i(a)}catch(u){U2(u)}a.currentTarget=null,i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=c;try{i(a)}catch(u){U2(u)}a.currentTarget=null,i=l}}}}function Er(t,e){var r=e[p5];r===void 0&&(r=e[p5]=new Set);var n=t+"__bubble";r.has(n)||(xI(e,t,2,!1),r.add(n))}function Z_(t,e,r){var n=0;e&&(n|=4),xI(r,t,n,e)}var yg="_reactListening"+Math.random().toString(36).slice(2);function $b(t){if(!t[yg]){t[yg]=!0,c8.forEach(function(r){r!=="selectionchange"&&(dB.has(r)||Z_(r,!1,t),Z_(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yg]||(e[yg]=!0,Z_("selectionchange",!1,e))}}function xI(t,e,r,n){switch(RI(e)){case 2:var a=VB;break;case 8:a=zB;break;default:a=Qb}r=a.bind(null,e,r,t),a=void 0,!_5||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function ey(t,e,r,n,a){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===a)return;s=s.return}for(;o!==null;){if(s=b0(o),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){n=i=s;continue e}o=o.parentNode}}n=n.return}v8(function(){var c=i,u=fb(r),h=[];e:{var d=L8.get(t);if(d!==void 0){var f=sx,p=t;switch(t){case"keypress":if(r2(r)===0)break e;case"keydown":case"keyup":f=sM;break;case"focusin":p="focus",f=N_;break;case"focusout":p="blur",f=N_;break;case"beforeblur":case"afterblur":f=N_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=rA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=X9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=cM;break;case k8:case N8:case I8:f=Q9;break;case R8:f=fM;break;case"scroll":case"scrollend":f=W9;break;case"wheel":f=dM;break;case"copy":case"cut":case"paste":f=Z9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=aA;break;case"toggle":case"beforetoggle":f=mM}var m=(e&4)!==0,_=!m&&(t==="scroll"||t==="scrollend"),x=m?d!==null?d+"Capture":null:d;m=[];for(var T=c,b;T!==null;){var I=T;if(b=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||b===null||x===null||(I=mp(T,x),I!=null&&m.push(Ap(T,I,b))),_)break;T=T.return}0<m.length&&(d=new f(d,p,null,r,u),h.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&r!==x5&&(p=r.relatedTarget||r.fromElement)&&(b0(p)||p[Ed]))break e;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=r.relatedTarget||r.toElement,f=c,p=p?b0(p):null,p!==null&&(_=rm(p),m=p.tag,p!==_||m!==5&&m!==27&&m!==6)&&(p=null)):(f=null,p=c),f!==p)){if(m=rA,I="onMouseLeave",x="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(m=aA,I="onPointerLeave",x="onPointerEnter",T="pointer"),_=f==null?d:S1(f),b=p==null?d:S1(p),d=new m(I,T+"leave",f,r,u),d.target=_,d.relatedTarget=b,I=null,b0(u)===c&&(m=new m(x,T+"enter",p,r,u),m.target=b,m.relatedTarget=_,I=m),_=I,f&&p)t:{for(m=pB,x=f,T=p,b=0,I=x;I;I=m(I))b++;I=0;for(var j=T;j;j=m(j))I++;for(;0<b-I;)x=m(x),b--;for(;0<I-b;)T=m(T),I--;for(;b--;){if(x===T||T!==null&&x===T.alternate){m=x;break t}x=m(x),T=m(T)}m=null}else m=null;f!==null&&KA(h,d,f,m,!1),p!==null&&_!==null&&KA(h,_,p,m,!0)}}e:{if(d=c?S1(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var O=lA;else if(oA(d))if(E8)O=SM;else{O=EM;var N=bM}else f=d.nodeName,!f||f.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?c&&ub(c.elementType)&&(O=lA):O=AM;if(O&&(O=O(t,c))){b8(h,O,r,u);break e}N&&N(t,d,c),t==="focusout"&&c&&d.type==="number"&&c.memoizedProps.value!=null&&v5(d,"number",d.value)}switch(N=c?S1(c):window,t){case"focusin":(oA(N)||N.contentEditable==="true")&&(S0=N,y5=c,U1=null);break;case"focusout":U1=y5=S0=null;break;case"mousedown":w5=!0;break;case"contextmenu":case"mouseup":case"dragend":w5=!1,dA(h,r,u);break;case"selectionchange":if(CM)break;case"keydown":case"keyup":dA(h,r,u)}var A;if(pb)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else A0?y8(t,r)&&(y="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(y="onCompositionStart");y&&(_8&&r.locale!=="ko"&&(A0||y!=="onCompositionStart"?y==="onCompositionEnd"&&A0&&(A=x8()):(Su=u,hb="value"in Su?Su.value:Su.textContent,A0=!0)),N=rv(c,y),0<N.length&&(y=new nA(y,t,null,r,u),h.push({event:y,listeners:N}),A?y.data=A:(A=w8(r),A!==null&&(y.data=A)))),(A=vM?xM(t,r):_M(t,r))&&(y=rv(c,"onBeforeInput"),0<y.length&&(N=new nA("onBeforeInput","beforeinput",null,r,u),h.push({event:N,listeners:y}),N.data=A)),uB(h,t,c,r,u)}vI(h,e)})}function Ap(t,e,r){return{instance:t,listener:e,currentTarget:r}}function rv(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||i===null||(a=mp(t,r),a!=null&&n.unshift(Ap(t,a,i)),a=mp(t,e),a!=null&&n.push(Ap(t,a,i))),t.tag===3)return n;t=t.return}return[]}function pB(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function KA(t,e,r,n,a){for(var i=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===n)break;o!==5&&o!==26&&o!==27||c===null||(l=c,a?(c=mp(r,i),c!=null&&s.unshift(Ap(r,c,l))):a||(c=mp(r,i),c!=null&&s.push(Ap(r,c,l)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var mB=/\r\n?/g,gB=/\u0000|\uFFFD/g;function YA(t){return(typeof t=="string"?t:""+t).replace(mB,`
`).replace(gB,"")}function _I(t,e){return e=YA(e),YA(t)===e}function on(t,e,r,n,a,i){switch(r){case"children":typeof n=="string"?e==="body"||e==="textarea"&&n===""||id(t,n):(typeof n=="number"||typeof n=="bigint")&&e!=="body"&&id(t,""+n);break;case"className":dg(t,"class",n);break;case"tabIndex":dg(t,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":dg(t,r,n);break;case"style":g8(t,n,i);break;case"data":if(e!=="object"){dg(t,"data",n);break}case"src":case"href":if(n===""&&(e!=="a"||r!=="href")){t.removeAttribute(r);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(r);break}n=e2(""+n),t.setAttribute(r,n);break;case"action":case"formAction":if(typeof n=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(r==="formAction"?(e!=="input"&&on(t,e,"name",a.name,a,null),on(t,e,"formEncType",a.formEncType,a,null),on(t,e,"formMethod",a.formMethod,a,null),on(t,e,"formTarget",a.formTarget,a,null)):(on(t,e,"encType",a.encType,a,null),on(t,e,"method",a.method,a,null),on(t,e,"target",a.target,a,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(r);break}n=e2(""+n),t.setAttribute(r,n);break;case"onClick":n!=null&&(t.onclick=cc);break;case"onScroll":n!=null&&Er("scroll",t);break;case"onScrollEnd":n!=null&&Er("scrollend",t);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(et(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error(et(60));t.innerHTML=r}}break;case"multiple":t.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":t.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){t.removeAttribute("xlink:href");break}r=e2(""+n),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,""+n):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":n===!0?t.setAttribute(r,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,n):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?t.setAttribute(r,n):t.removeAttribute(r);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?t.removeAttribute(r):t.setAttribute(r,n);break;case"popover":Er("beforetoggle",t),Er("toggle",t),Zg(t,"popover",n);break;case"xlinkActuate":Jl(t,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Jl(t,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Jl(t,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Jl(t,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Jl(t,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Jl(t,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Jl(t,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Jl(t,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Jl(t,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Zg(t,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=H9.get(r)||r,Zg(t,r,n))}}function G5(t,e,r,n,a,i){switch(r){case"style":g8(t,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(et(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error(et(60));t.innerHTML=r}}break;case"children":typeof n=="string"?id(t,n):(typeof n=="number"||typeof n=="bigint")&&id(t,""+n);break;case"onScroll":n!=null&&Er("scroll",t);break;case"onScrollEnd":n!=null&&Er("scrollend",t);break;case"onClick":n!=null&&(t.onclick=cc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!u8.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(a=r.endsWith("Capture"),e=r.slice(2,a?r.length-7:void 0),i=t[ms]||null,i=i!=null?i[r]:null,typeof i=="function"&&t.removeEventListener(e,i,a),typeof n=="function")){typeof i!="function"&&i!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(e,n,a);break e}r in t?t[r]=n:n===!0?t.setAttribute(r,""):Zg(t,r,n)}}}function ui(t,e,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Er("error",t),Er("load",t);var n=!1,a=!1,i;for(i in r)if(r.hasOwnProperty(i)){var s=r[i];if(s!=null)switch(i){case"src":n=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(et(137,e));default:on(t,e,i,s,r,null)}}a&&on(t,e,"srcSet",r.srcSet,r,null),n&&on(t,e,"src",r.src,r,null);return;case"input":Er("invalid",t);var o=i=s=a=null,l=null,c=null;for(n in r)if(r.hasOwnProperty(n)){var u=r[n];if(u!=null)switch(n){case"name":a=u;break;case"type":s=u;break;case"checked":l=u;break;case"defaultChecked":c=u;break;case"value":i=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(et(137,e));break;default:on(t,e,n,u,r,null)}}d8(t,i,o,l,c,s,a,!1);return;case"select":Er("invalid",t),n=s=i=null;for(a in r)if(r.hasOwnProperty(a)&&(o=r[a],o!=null))switch(a){case"value":i=o;break;case"defaultValue":s=o;break;case"multiple":n=o;default:on(t,e,a,o,r,null)}e=i,r=s,t.multiple=!!n,e!=null?B0(t,!!n,e,!1):r!=null&&B0(t,!!n,r,!0);return;case"textarea":Er("invalid",t),i=a=n=null;for(s in r)if(r.hasOwnProperty(s)&&(o=r[s],o!=null))switch(s){case"value":n=o;break;case"defaultValue":a=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(et(91));break;default:on(t,e,s,o,r,null)}m8(t,n,a,i);return;case"option":for(l in r)if(r.hasOwnProperty(l)&&(n=r[l],n!=null))switch(l){case"selected":t.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:on(t,e,l,n,r,null)}return;case"dialog":Er("beforetoggle",t),Er("toggle",t),Er("cancel",t),Er("close",t);break;case"iframe":case"object":Er("load",t);break;case"video":case"audio":for(n=0;n<Ep.length;n++)Er(Ep[n],t);break;case"image":Er("error",t),Er("load",t);break;case"details":Er("toggle",t);break;case"embed":case"source":case"link":Er("error",t),Er("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in r)if(r.hasOwnProperty(c)&&(n=r[c],n!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(et(137,e));default:on(t,e,c,n,r,null)}return;default:if(ub(e)){for(u in r)r.hasOwnProperty(u)&&(n=r[u],n!==void 0&&G5(t,e,u,n,r,void 0));return}}for(o in r)r.hasOwnProperty(o)&&(n=r[o],n!=null&&on(t,e,o,n,r,null))}function vB(t,e,r,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,s=null,o=null,l=null,c=null,u=null;for(f in r){var h=r[f];if(r.hasOwnProperty(f)&&h!=null)switch(f){case"checked":break;case"value":break;case"defaultValue":l=h;default:n.hasOwnProperty(f)||on(t,e,f,null,n,h)}}for(var d in n){var f=n[d];if(h=r[d],n.hasOwnProperty(d)&&(f!=null||h!=null))switch(d){case"type":i=f;break;case"name":a=f;break;case"checked":c=f;break;case"defaultChecked":u=f;break;case"value":s=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(et(137,e));break;default:f!==h&&on(t,e,d,f,n,h)}}g5(t,s,o,l,c,u,i,a);return;case"select":f=s=o=d=null;for(i in r)if(l=r[i],r.hasOwnProperty(i)&&l!=null)switch(i){case"value":break;case"multiple":f=l;default:n.hasOwnProperty(i)||on(t,e,i,null,n,l)}for(a in n)if(i=n[a],l=r[a],n.hasOwnProperty(a)&&(i!=null||l!=null))switch(a){case"value":d=i;break;case"defaultValue":o=i;break;case"multiple":s=i;default:i!==l&&on(t,e,a,i,n,l)}e=o,r=s,n=f,d!=null?B0(t,!!r,d,!1):!!n!=!!r&&(e!=null?B0(t,!!r,e,!0):B0(t,!!r,r?[]:"",!1));return;case"textarea":f=d=null;for(o in r)if(a=r[o],r.hasOwnProperty(o)&&a!=null&&!n.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:on(t,e,o,null,n,a)}for(s in n)if(a=n[s],i=r[s],n.hasOwnProperty(s)&&(a!=null||i!=null))switch(s){case"value":d=a;break;case"defaultValue":f=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(et(91));break;default:a!==i&&on(t,e,s,a,n,i)}p8(t,d,f);return;case"option":for(var p in r)if(d=r[p],r.hasOwnProperty(p)&&d!=null&&!n.hasOwnProperty(p))switch(p){case"selected":t.selected=!1;break;default:on(t,e,p,null,n,d)}for(l in n)if(d=n[l],f=r[l],n.hasOwnProperty(l)&&d!==f&&(d!=null||f!=null))switch(l){case"selected":t.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:on(t,e,l,d,n,f)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in r)d=r[m],r.hasOwnProperty(m)&&d!=null&&!n.hasOwnProperty(m)&&on(t,e,m,null,n,d);for(c in n)if(d=n[c],f=r[c],n.hasOwnProperty(c)&&d!==f&&(d!=null||f!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(et(137,e));break;default:on(t,e,c,d,n,f)}return;default:if(ub(e)){for(var _ in r)d=r[_],r.hasOwnProperty(_)&&d!==void 0&&!n.hasOwnProperty(_)&&G5(t,e,_,void 0,n,d);for(u in n)d=n[u],f=r[u],!n.hasOwnProperty(u)||d===f||d===void 0&&f===void 0||G5(t,e,u,d,n,f);return}}for(var x in r)d=r[x],r.hasOwnProperty(x)&&d!=null&&!n.hasOwnProperty(x)&&on(t,e,x,null,n,d);for(h in n)d=n[h],f=r[h],!n.hasOwnProperty(h)||d===f||d==null&&f==null||on(t,e,h,d,n,f)}function QA(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xB(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,r=performance.getEntriesByType("resource"),n=0;n<r.length;n++){var a=r[n],i=a.transferSize,s=a.initiatorType,o=a.duration;if(i&&o&&QA(s)){for(s=0,o=a.responseEnd,n+=1;n<r.length;n++){var l=r[n],c=l.startTime;if(c>o)break;var u=l.transferSize,h=l.initiatorType;u&&QA(h)&&(l=l.responseEnd,s+=u*(l<o?1:(o-c)/(l-c)))}if(--n,e+=8*(i+s)/(a.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var W5=null,$5=null;function nv(t){return t.nodeType===9?t:t.ownerDocument}function JA(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yI(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function X5(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ty=null;function _B(){var t=window.event;return t&&t.type==="popstate"?t===ty?!1:(ty=t,!0):(ty=null,!1)}var wI=typeof setTimeout=="function"?setTimeout:void 0,yB=typeof clearTimeout=="function"?clearTimeout:void 0,ZA=typeof Promise=="function"?Promise:void 0,wB=typeof queueMicrotask=="function"?queueMicrotask:typeof ZA<"u"?function(t){return ZA.resolve(null).then(t).catch(bB)}:wI;function bB(t){setTimeout(function(){throw t})}function df(t){return t==="head"}function eS(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"||r==="/&"){if(n===0){t.removeChild(a),dd(e);return}n--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")n++;else if(r==="html")K1(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,K1(r);for(var i=r.firstChild;i;){var s=i.nextSibling,o=i.nodeName;i[sm]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&i.rel.toLowerCase()==="stylesheet"||r.removeChild(i),i=s}}else r==="body"&&K1(t.ownerDocument.body);r=a}while(r);dd(e)}function tS(t,e){var r=t;t=0;do{var n=r.nextSibling;if(r.nodeType===1?e?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(e?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=n}while(r)}function K5(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var r=e;switch(e=e.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":K5(r),cb(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function EB(t,e,r,n){for(;t.nodeType===1;){var a=r;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!n&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(n){if(!t[sm])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==a.rel||t.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||t.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||t.getAttribute("title")!==(a.title==null?null:a.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(a.src==null?null:a.src)||t.getAttribute("type")!==(a.type==null?null:a.type)||t.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=a.name==null?null:""+a.name;if(a.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=So(t.nextSibling),t===null)break}return null}function AB(t,e,r){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=So(t.nextSibling),t===null))return null;return t}function bI(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=So(t.nextSibling),t===null))return null;return t}function Y5(t){return t.data==="$?"||t.data==="$~"}function Q5(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function SB(t,e){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||r.readyState!=="loading")e();else{var n=function(){e(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),t._reactRetry=n}}function So(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var J5=null;function rS(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(e===0)return So(t.nextSibling);e--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||e++}t=t.nextSibling}return null}function nS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(e===0)return t;e--}else r!=="/$"&&r!=="/&"||e++}t=t.previousSibling}return null}function EI(t,e,r){switch(e=nv(r),t){case"html":if(t=e.documentElement,!t)throw Error(et(452));return t;case"head":if(t=e.head,!t)throw Error(et(453));return t;case"body":if(t=e.body,!t)throw Error(et(454));return t;default:throw Error(et(451))}}function K1(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);cb(t)}var Co=new Map,aS=new Set;function av(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Oc=$r.d;$r.d={f:TB,r:CB,D:kB,C:NB,L:IB,m:RB,X:DB,S:LB,M:PB};function TB(){var t=Oc.f(),e=vx();return t||e}function CB(t){var e=Ad(t);e!==null&&e.tag===5&&e.type==="form"?gN(e):Oc.r(t)}var kd=typeof document>"u"?null:document;function AI(t,e,r){var n=kd;if(n&&typeof e=="string"&&e){var a=wo(e);a='link[rel="'+t+'"][href="'+a+'"]',typeof r=="string"&&(a+='[crossorigin="'+r+'"]'),aS.has(a)||(aS.add(a),t={rel:t,crossOrigin:r,href:e},n.querySelector(a)===null&&(e=n.createElement("link"),ui(e,"link",t),Wa(e),n.head.appendChild(e)))}}function kB(t){Oc.D(t),AI("dns-prefetch",t,null)}function NB(t,e){Oc.C(t,e),AI("preconnect",t,e)}function IB(t,e,r){Oc.L(t,e,r);var n=kd;if(n&&t&&e){var a='link[rel="preload"][as="'+wo(e)+'"]';e==="image"&&r&&r.imageSrcSet?(a+='[imagesrcset="'+wo(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(a+='[imagesizes="'+wo(r.imageSizes)+'"]')):a+='[href="'+wo(t)+'"]';var i=a;switch(e){case"style":i=hd(t);break;case"script":i=Nd(t)}Co.has(i)||(t=Bn({rel:"preload",href:e==="image"&&r&&r.imageSrcSet?void 0:t,as:e},r),Co.set(i,t),n.querySelector(a)!==null||e==="style"&&n.querySelector(hm(i))||e==="script"&&n.querySelector(dm(i))||(e=n.createElement("link"),ui(e,"link",t),Wa(e),n.head.appendChild(e)))}}function RB(t,e){Oc.m(t,e);var r=kd;if(r&&t){var n=e&&typeof e.as=="string"?e.as:"script",a='link[rel="modulepreload"][as="'+wo(n)+'"][href="'+wo(t)+'"]',i=a;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Nd(t)}if(!Co.has(i)&&(t=Bn({rel:"modulepreload",href:t},e),Co.set(i,t),r.querySelector(a)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(dm(i)))return}n=r.createElement("link"),ui(n,"link",t),Wa(n),r.head.appendChild(n)}}}function LB(t,e,r){Oc.S(t,e,r);var n=kd;if(n&&t){var a=M0(n).hoistableStyles,i=hd(t);e=e||"default";var s=a.get(i);if(!s){var o={loading:0,preload:null};if(s=n.querySelector(hm(i)))o.loading=5;else{t=Bn({rel:"stylesheet",href:t,"data-precedence":e},r),(r=Co.get(i))&&Xb(t,r);var l=s=n.createElement("link");Wa(l),ui(l,"link",t),l._p=new Promise(function(c,u){l.onload=c,l.onerror=u}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,u2(s,e,n)}s={type:"stylesheet",instance:s,count:1,state:o},a.set(i,s)}}}function DB(t,e){Oc.X(t,e);var r=kd;if(r&&t){var n=M0(r).hoistableScripts,a=Nd(t),i=n.get(a);i||(i=r.querySelector(dm(a)),i||(t=Bn({src:t,async:!0},e),(e=Co.get(a))&&Kb(t,e),i=r.createElement("script"),Wa(i),ui(i,"link",t),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function PB(t,e){Oc.M(t,e);var r=kd;if(r&&t){var n=M0(r).hoistableScripts,a=Nd(t),i=n.get(a);i||(i=r.querySelector(dm(a)),i||(t=Bn({src:t,async:!0,type:"module"},e),(e=Co.get(a))&&Kb(t,e),i=r.createElement("script"),Wa(i),ui(i,"link",t),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function iS(t,e,r,n){var a=(a=Pu.current)?av(a):null;if(!a)throw Error(et(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(e=hd(r.href),r=M0(a).hoistableStyles,n=r.get(e),n||(n={type:"style",instance:null,count:0,state:null},r.set(e,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=hd(r.href);var i=M0(a).hoistableStyles,s=i.get(t);if(s||(a=a.ownerDocument||a,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,s),(i=a.querySelector(hm(t)))&&!i._p&&(s.instance=i,s.state.loading=5),Co.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Co.set(t,r),i||OB(a,t,r,s.state))),e&&n===null)throw Error(et(528,""));return s}if(e&&n!==null)throw Error(et(529,""));return null;case"script":return e=r.async,r=r.src,typeof r=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Nd(r),r=M0(a).hoistableScripts,n=r.get(e),n||(n={type:"script",instance:null,count:0,state:null},r.set(e,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(et(444,t))}}function hd(t){return'href="'+wo(t)+'"'}function hm(t){return'link[rel="stylesheet"]['+t+"]"}function SI(t){return Bn({},t,{"data-precedence":t.precedence,precedence:null})}function OB(t,e,r,n){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?n.loading=1:(e=t.createElement("link"),n.preload=e,e.addEventListener("load",function(){return n.loading|=1}),e.addEventListener("error",function(){return n.loading|=2}),ui(e,"link",r),Wa(e),t.head.appendChild(e))}function Nd(t){return'[src="'+wo(t)+'"]'}function dm(t){return"script[async]"+t}function sS(t,e,r){if(e.count++,e.instance===null)switch(e.type){case"style":var n=t.querySelector('style[data-href~="'+wo(r.href)+'"]');if(n)return e.instance=n,Wa(n),n;var a=Bn({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return n=(t.ownerDocument||t).createElement("style"),Wa(n),ui(n,"style",a),u2(n,r.precedence,t),e.instance=n;case"stylesheet":a=hd(r.href);var i=t.querySelector(hm(a));if(i)return e.state.loading|=4,e.instance=i,Wa(i),i;n=SI(r),(a=Co.get(a))&&Xb(n,a),i=(t.ownerDocument||t).createElement("link"),Wa(i);var s=i;return s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),ui(i,"link",n),e.state.loading|=4,u2(i,r.precedence,t),e.instance=i;case"script":return i=Nd(r.src),(a=t.querySelector(dm(i)))?(e.instance=a,Wa(a),a):(n=r,(a=Co.get(i))&&(n=Bn({},r),Kb(n,a)),t=t.ownerDocument||t,a=t.createElement("script"),Wa(a),ui(a,"link",n),t.head.appendChild(a),e.instance=a);case"void":return null;default:throw Error(et(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(n=e.instance,e.state.loading|=4,u2(n,r.precedence,t));return e.instance}function u2(t,e,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=n.length?n[n.length-1]:null,i=a,s=0;s<n.length;s++){var o=n[s];if(o.dataset.precedence===e)i=o;else if(i!==a)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=r.nodeType===9?r.head:r,e.insertBefore(t,e.firstChild))}function Xb(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Kb(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var f2=null;function oS(t,e,r){if(f2===null){var n=new Map,a=f2=new Map;a.set(r,n)}else a=f2,n=a.get(r),n||(n=new Map,a.set(r,n));if(n.has(t))return n;for(n.set(t,null),r=r.getElementsByTagName(t),a=0;a<r.length;a++){var i=r[a];if(!(i[sm]||i[ii]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var s=i.getAttribute(e)||"";s=t+s;var o=n.get(s);o?o.push(i):n.set(s,[i])}}return n}function lS(t,e,r){t=t.ownerDocument||t,t.head.insertBefore(r,e==="title"?t.querySelector("head > title"):null)}function FB(t,e,r){if(r===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function TI(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function MB(t,e,r,n){if(r.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var a=hd(n.href),i=e.querySelector(hm(a));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=iv.bind(t),e.then(t,t)),r.state.loading|=4,r.instance=i,Wa(i);return}i=e.ownerDocument||e,n=SI(n),(a=Co.get(a))&&Xb(n,a),i=i.createElement("link"),Wa(i);var s=i;s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),ui(i,"link",n),r.instance=i}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,e),(e=r.state.preload)&&!(r.state.loading&3)&&(t.count++,r=iv.bind(t),e.addEventListener("load",r),e.addEventListener("error",r))}}var ry=0;function BB(t,e){return t.stylesheets&&t.count===0&&h2(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var n=setTimeout(function(){if(t.stylesheets&&h2(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4+e);0<t.imgBytes&&ry===0&&(ry=62500*xB());var a=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&h2(t,t.stylesheets),t.unsuspend)){var i=t.unsuspend;t.unsuspend=null,i()}},(t.imgBytes>ry?50:800)+e);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(n),clearTimeout(a)}}:null}function iv(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)h2(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var sv=null;function h2(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,sv=new Map,e.forEach(UB,t),sv=null,iv.call(t))}function UB(t,e){if(!(e.state.loading&4)){var r=sv.get(t);if(r)var n=r.get(null);else{r=new Map,sv.set(t,r);for(var a=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var s=a[i];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(r.set(s.dataset.precedence,s),n=s)}n&&r.set(null,n)}a=e.instance,s=a.getAttribute("data-precedence"),i=r.get(s)||n,i===n&&r.set(null,a),r.set(s,a),this.count++,n=iv.bind(this),a.addEventListener("load",n),a.addEventListener("error",n),i?i.parentNode.insertBefore(a,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(a,t.firstChild)),e.state.loading|=4}}var Sp={$$typeof:lc,Provider:null,Consumer:null,_currentValue:Hf,_currentValue2:Hf,_threadCount:0};function jB(t,e,r,n,a,i,s,o,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=S_(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=S_(0),this.hiddenUpdates=S_(null),this.identifierPrefix=n,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function CI(t,e,r,n,a,i,s,o,l,c,u,h){return t=new jB(t,e,r,s,l,c,u,h,o),e=1,i===!0&&(e|=24),i=Os(3,null,null,e),t.current=i,i.stateNode=t,e=wb(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:n,isDehydrated:r,cache:e},Ab(i),t}function kI(t){return t?(t=k0,t):k0}function NI(t,e,r,n,a,i){a=kI(a),n.context===null?n.context=a:n.pendingContext=a,n=Fu(e),n.payload={element:r},i=i===void 0?null:i,i!==null&&(n.callback=i),r=Mu(t,n,e),r!==null&&(hs(r,t,e),V1(r,t,e))}function cS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Yb(t,e){cS(t,e),(t=t.alternate)&&cS(t,e)}function II(t){if(t.tag===13||t.tag===31){var e=kh(t,67108864);e!==null&&hs(e,t,67108864),Yb(t,67108864)}}function uS(t){if(t.tag===13||t.tag===31){var e=$s();e=ob(e);var r=kh(t,e);r!==null&&hs(r,t,e),Yb(t,e)}}var ov=!0;function VB(t,e,r,n){var a=ir.T;ir.T=null;var i=$r.p;try{$r.p=2,Qb(t,e,r,n)}finally{$r.p=i,ir.T=a}}function zB(t,e,r,n){var a=ir.T;ir.T=null;var i=$r.p;try{$r.p=8,Qb(t,e,r,n)}finally{$r.p=i,ir.T=a}}function Qb(t,e,r,n){if(ov){var a=Z5(n);if(a===null)ey(t,e,n,lv,r),fS(t,n);else if(HB(a,t,e,r,n))n.stopPropagation();else if(fS(t,n),e&4&&-1<qB.indexOf(t)){for(;a!==null;){var i=Ad(a);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var s=Pf(i.pendingLanes);if(s!==0){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-Ws(s);o.entanglements[1]|=l,s&=~l}Fl(i),!(Wr&6)&&(Q2=Hs()+500,fm(0))}}break;case 31:case 13:o=kh(i,2),o!==null&&hs(o,i,2),vx(),Yb(i,2)}if(i=Z5(n),i===null&&ey(t,e,n,lv,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else ey(t,e,n,null,r)}}function Z5(t){return t=fb(t),Jb(t)}var lv=null;function Jb(t){if(lv=null,t=b0(t),t!==null){var e=rm(t);if(e===null)t=null;else{var r=e.tag;if(r===13){if(t=Yk(e),t!==null)return t;t=null}else if(r===31){if(t=Qk(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return lv=t,null}function RI(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(k9()){case t8:return 2;case r8:return 8;case M2:case N9:return 32;case n8:return 268435456;default:return 32}default:return 32}}var ew=!1,ju=null,Vu=null,zu=null,Tp=new Map,Cp=new Map,xu=[],qB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fS(t,e){switch(t){case"focusin":case"focusout":ju=null;break;case"dragenter":case"dragleave":Vu=null;break;case"mouseover":case"mouseout":zu=null;break;case"pointerover":case"pointerout":Tp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cp.delete(e.pointerId)}}function g1(t,e,r,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},e!==null&&(e=Ad(e),e!==null&&II(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function HB(t,e,r,n,a){switch(e){case"focusin":return ju=g1(ju,t,e,r,n,a),!0;case"dragenter":return Vu=g1(Vu,t,e,r,n,a),!0;case"mouseover":return zu=g1(zu,t,e,r,n,a),!0;case"pointerover":var i=a.pointerId;return Tp.set(i,g1(Tp.get(i)||null,t,e,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Cp.set(i,g1(Cp.get(i)||null,t,e,r,n,a)),!0}return!1}function LI(t){var e=b0(t.target);if(e!==null){var r=rm(e);if(r!==null){if(e=r.tag,e===13){if(e=Yk(r),e!==null){t.blockedOn=e,K3(t.priority,function(){uS(r)});return}}else if(e===31){if(e=Qk(r),e!==null){t.blockedOn=e,K3(t.priority,function(){uS(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function d2(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Z5(t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);x5=n,r.target.dispatchEvent(n),x5=null}else return e=Ad(r),e!==null&&II(e),t.blockedOn=r,!1;e.shift()}return!0}function hS(t,e,r){d2(t)&&r.delete(e)}function GB(){ew=!1,ju!==null&&d2(ju)&&(ju=null),Vu!==null&&d2(Vu)&&(Vu=null),zu!==null&&d2(zu)&&(zu=null),Tp.forEach(hS),Cp.forEach(hS)}function wg(t,e){t.blockedOn===e&&(t.blockedOn=null,ew||(ew=!0,Ba.unstable_scheduleCallback(Ba.unstable_NormalPriority,GB)))}var bg=null;function dS(t){bg!==t&&(bg=t,Ba.unstable_scheduleCallback(Ba.unstable_NormalPriority,function(){bg===t&&(bg=null);for(var e=0;e<t.length;e+=3){var r=t[e],n=t[e+1],a=t[e+2];if(typeof n!="function"){if(Jb(n||r)===null)continue;break}var i=Ad(r);i!==null&&(t.splice(e,3),e-=3,P5(i,{pending:!0,data:a,method:r.method,action:n},n,a))}}))}function dd(t){function e(l){return wg(l,t)}ju!==null&&wg(ju,t),Vu!==null&&wg(Vu,t),zu!==null&&wg(zu,t),Tp.forEach(e),Cp.forEach(e);for(var r=0;r<xu.length;r++){var n=xu[r];n.blockedOn===t&&(n.blockedOn=null)}for(;0<xu.length&&(r=xu[0],r.blockedOn===null);)LI(r),r.blockedOn===null&&xu.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(n=0;n<r.length;n+=3){var a=r[n],i=r[n+1],s=a[ms]||null;if(typeof i=="function")s||dS(r);else if(s){var o=null;if(i&&i.hasAttribute("formAction")){if(a=i,s=i[ms]||null)o=s.formAction;else if(Jb(a)!==null)continue}else o=s.action;typeof o=="function"?r[n+1]=o:(r.splice(n,3),n-=3),dS(r)}}}function DI(){function t(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(s){return a=s})},focusReset:"manual",scroll:"manual"})}function e(){a!==null&&(a(),a=null),n||setTimeout(r,20)}function r(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,a=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(r,100),function(){n=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),a!==null&&(a(),a=null)}}}function Zb(t){this._internalRoot=t}yx.prototype.render=Zb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(et(409));var r=e.current,n=$s();NI(r,n,t,e,null,null)};yx.prototype.unmount=Zb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;NI(t.current,2,null,t,null,null),vx(),e[Ed]=null}};function yx(t){this._internalRoot=t}yx.prototype.unstable_scheduleHydration=function(t){if(t){var e=l8();t={blockedOn:null,target:t,priority:e};for(var r=0;r<xu.length&&e!==0&&e<xu[r].priority;r++);xu.splice(r,0,t),r===0&&LI(t)}};var pS=Xk.version;if(pS!=="19.2.4")throw Error(et(527,pS,"19.2.4"));$r.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(et(188)):(t=Object.keys(t).join(","),Error(et(268,t)));return t=w9(e),t=t!==null?Jk(t):null,t=t===null?null:t.stateNode,t};var WB={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ir,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eg.isDisabled&&Eg.supportsFiber)try{nm=Eg.inject(WB),Gs=Eg}catch{}}nx.createRoot=function(t,e){if(!Kk(t))throw Error(et(299));var r=!1,n="",a=AN,i=SN,s=TN;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onUncaughtError!==void 0&&(a=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=CI(t,1,!1,null,null,r,n,null,a,i,s,DI),t[Ed]=e.current,$b(t),new Zb(e)};nx.hydrateRoot=function(t,e,r){if(!Kk(t))throw Error(et(299));var n=!1,a="",i=AN,s=SN,o=TN,l=null;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onUncaughtError!==void 0&&(i=r.onUncaughtError),r.onCaughtError!==void 0&&(s=r.onCaughtError),r.onRecoverableError!==void 0&&(o=r.onRecoverableError),r.formState!==void 0&&(l=r.formState)),e=CI(t,1,!0,e,r??null,n,a,l,i,s,o,DI),e.context=kI(null),r=e.current,n=$s(),n=ob(n),a=Fu(n),a.callback=null,Mu(r,a,n),r=n,e.current.lanes=r,im(e,r),Fl(e),t[Ed]=e.current,$b(t),new yx(e)};nx.version="19.2.4";function PI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PI)}catch(t){console.error(t)}}PI(),zk.exports=nx;var $B=zk.exports;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mS="popstate";function XB(t={}){function e(n,a){let{pathname:i,search:s,hash:o}=n.location;return tw("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:kp(a)}return YB(e,r,null,t)}function zn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ko(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KB(){return Math.random().toString(36).substring(2,10)}function gS(t,e){return{usr:t.state,key:t.key,idx:e}}function tw(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Id(e):e,state:r,key:e&&e.key||n||KB()}}function kp({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Id(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function YB(t,e,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o="POP",l=null,c=u();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function u(){return(s.state||{idx:null}).idx}function h(){o="POP";let _=u(),x=_==null?null:_-c;c=_,l&&l({action:o,location:m.location,delta:x})}function d(_,x){o="PUSH";let T=tw(m.location,_,x);c=u()+1;let b=gS(T,c),I=m.createHref(T);try{s.pushState(b,"",I)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(I)}i&&l&&l({action:o,location:m.location,delta:1})}function f(_,x){o="REPLACE";let T=tw(m.location,_,x);c=u();let b=gS(T,c),I=m.createHref(T);s.replaceState(b,"",I),i&&l&&l({action:o,location:m.location,delta:0})}function p(_){return QB(_)}let m={get action(){return o},get location(){return t(a,s)},listen(_){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(mS,h),l=_,()=>{a.removeEventListener(mS,h),l=null}},createHref(_){return e(a,_)},createURL:p,encodeLocation(_){let x=p(_);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:d,replace:f,go(_){return s.go(_)}};return m}function QB(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),zn(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:kp(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function OI(t,e,r="/"){return JB(t,e,r,!1)}function JB(t,e,r,n){let a=typeof e=="string"?Id(e):e,i=Nc(a.pathname||"/",r);if(i==null)return null;let s=FI(t);ZB(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=uU(i);o=lU(s[l],c,n)}return o}function FI(t,e=[],r=[],n="",a=!1){let i=(s,o,l=a,c)=>{let u={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(n)&&l)return;zn(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length)}let h=vc([n,u.relativePath]),d=r.concat(u);s.children&&s.children.length>0&&(zn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),FI(s.children,e,d,h,l)),!(s.path==null&&!s.index)&&e.push({path:h,score:sU(h,s.index),routesMeta:d})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of MI(s.path))i(s,o,!0,c)}),e}function MI(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=MI(n.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function ZB(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:oU(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var eU=/^:[\w-]+$/,tU=3,rU=2,nU=1,aU=10,iU=-2,vS=t=>t==="*";function sU(t,e){let r=t.split("/"),n=r.length;return r.some(vS)&&(n+=iU),e&&(n+=rU),r.filter(a=>!vS(a)).reduce((a,i)=>a+(eU.test(i)?tU:i===""?nU:aU),n)}function oU(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function lU(t,e,r=!1){let{routesMeta:n}=t,a={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=cv({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),d=l.route;if(!h&&c&&r&&!n[n.length-1].route.index&&(h=cv({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(a,h.params),s.push({params:a,pathname:vc([i,h.pathname]),pathnameBase:pU(vc([i,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(i=vc([i,h.pathnameBase]))}return s}function cv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=cU(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((c,{paramName:u,isOptional:h},d)=>{if(u==="*"){let p=o[d]||"";s=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const f=o[d];return h&&!f?c[u]=void 0:c[u]=(f||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:t}}function cU(t,e=!1,r=!0){ko(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function uU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ko(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Nc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}var fU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function hU(t,e="/"){let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?Id(t):t,i;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?i=xS(r.substring(1),"/"):i=xS(r,e)):i=e,{pathname:i,search:mU(n),hash:gU(a)}}function xS(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function ny(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dU(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function e4(t){let e=dU(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function t4(t,e,r,n=!1){let a;typeof t=="string"?a=Id(t):(a={...t},zn(!a.pathname||!a.pathname.includes("?"),ny("?","pathname","search",a)),zn(!a.pathname||!a.pathname.includes("#"),ny("#","pathname","hash",a)),zn(!a.search||!a.search.includes("#"),ny("#","search","hash",a)));let i=t===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let h=e.length-1;if(!n&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),h-=1;a.pathname=d.join("/")}o=h>=0?e[h]:"/"}let l=hU(a,o),c=s&&s!=="/"&&s.endsWith("/"),u=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var vc=t=>t.join("/").replace(/\/\/+/g,"/"),pU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,vU=class{constructor(t,e,r,n=!1){this.status=t,this.statusText=e||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function xU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function _U(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var BI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function UI(t,e){let r=t;if(typeof r!="string"||!fU.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(BI)try{let i=new URL(window.location.href),s=r.startsWith("//")?new URL(i.protocol+r):new URL(r),o=Nc(s.pathname,e);s.origin===i.origin&&o!=null?r=o+s.search+s.hash:a=!0}catch{ko(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jI=["POST","PUT","PATCH","DELETE"];new Set(jI);var yU=["GET",...jI];new Set(yU);var Rd=le.createContext(null);Rd.displayName="DataRouter";var wx=le.createContext(null);wx.displayName="DataRouterState";var wU=le.createContext(!1),VI=le.createContext({isTransitioning:!1});VI.displayName="ViewTransition";var bU=le.createContext(new Map);bU.displayName="Fetchers";var EU=le.createContext(null);EU.displayName="Await";var Js=le.createContext(null);Js.displayName="Navigation";var pm=le.createContext(null);pm.displayName="Location";var Ro=le.createContext({outlet:null,matches:[],isDataRoute:!1});Ro.displayName="Route";var r4=le.createContext(null);r4.displayName="RouteError";var zI="REACT_ROUTER_ERROR",AU="REDIRECT",SU="ROUTE_ERROR_RESPONSE";function TU(t){if(t.startsWith(`${zI}:${AU}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function CU(t){if(t.startsWith(`${zI}:${SU}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new vU(e.status,e.statusText,e.data)}catch{}}function kU(t,{relative:e}={}){zn(Ld(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=le.useContext(Js),{hash:a,pathname:i,search:s}=mm(t,{relative:e}),o=i;return r!=="/"&&(o=i==="/"?r:vc([r,i])),n.createHref({pathname:o,search:s,hash:a})}function Ld(){return le.useContext(pm)!=null}function Ml(){return zn(Ld(),"useLocation() may be used only in the context of a <Router> component."),le.useContext(pm).location}var qI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function HI(t){le.useContext(Js).static||le.useLayoutEffect(t)}function Zs(){let{isDataRoute:t}=le.useContext(Ro);return t?qU():NU()}function NU(){zn(Ld(),"useNavigate() may be used only in the context of a <Router> component.");let t=le.useContext(Rd),{basename:e,navigator:r}=le.useContext(Js),{matches:n}=le.useContext(Ro),{pathname:a}=Ml(),i=JSON.stringify(e4(n)),s=le.useRef(!1);return HI(()=>{s.current=!0}),le.useCallback((l,c={})=>{if(ko(s.current,qI),!s.current)return;if(typeof l=="number"){r.go(l);return}let u=t4(l,JSON.parse(i),a,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:vc([e,u.pathname])),(c.replace?r.replace:r.push)(u,c.state,c)},[e,r,i,a,t])}var IU=le.createContext(null);function RU(t){let e=le.useContext(Ro).outlet;return le.useMemo(()=>e&&le.createElement(IU.Provider,{value:t},e),[e,t])}function GI(){let{matches:t}=le.useContext(Ro),e=t[t.length-1];return e?e.params:{}}function mm(t,{relative:e}={}){let{matches:r}=le.useContext(Ro),{pathname:n}=Ml(),a=JSON.stringify(e4(r));return le.useMemo(()=>t4(t,JSON.parse(a),n,e==="path"),[t,a,n,e])}function LU(t,e){return WI(t,e)}function WI(t,e,r,n,a){var T;zn(Ld(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=le.useContext(Js),{matches:s}=le.useContext(Ro),o=s[s.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",h=o&&o.route;{let b=h&&h.path||"";XI(c,!h||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let d=Ml(),f;if(e){let b=typeof e=="string"?Id(e):e;zn(u==="/"||((T=b.pathname)==null?void 0:T.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${b.pathname}" was given in the \`location\` prop.`),f=b}else f=d;let p=f.pathname||"/",m=p;if(u!=="/"){let b=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let _=OI(t,{pathname:m});ko(h||_!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),ko(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=MU(_&&_.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:vc([u,i.encodeLocation?i.encodeLocation(b.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:vc([u,i.encodeLocation?i.encodeLocation(b.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:b.pathnameBase])})),s,r,n,a);return e&&x?le.createElement(pm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},x):x}function DU(){let t=zU(),e=xU(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=le.createElement(le.Fragment,null,le.createElement("p",null," Hey developer "),le.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",le.createElement("code",{style:i},"ErrorBoundary")," or"," ",le.createElement("code",{style:i},"errorElement")," prop on your route.")),le.createElement(le.Fragment,null,le.createElement("h2",null,"Unexpected Application Error!"),le.createElement("h3",{style:{fontStyle:"italic"}},e),r?le.createElement("pre",{style:a},r):null,s)}var PU=le.createElement(DU,null),$I=class extends le.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const r=CU(t.digest);r&&(t=r)}let e=t!==void 0?le.createElement(Ro.Provider,{value:this.props.routeContext},le.createElement(r4.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?le.createElement(OU,{error:t},e):e}};$I.contextType=wU;var ay=new WeakMap;function OU({children:t,error:e}){let{basename:r}=le.useContext(Js);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=TU(e.digest);if(n){let a=ay.get(e);if(a)throw a;let i=UI(n.location,r);if(BI&&!ay.get(e))if(i.isExternal||n.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:n.replace}));throw ay.set(e,s),s}return le.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function FU({routeContext:t,match:e,children:r}){let n=le.useContext(Rd);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),le.createElement(Ro.Provider,{value:t},r)}function MU(t,e=[],r=null,n=null,a=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,s=r==null?void 0:r.errors;if(s!=null){let u=i.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);zn(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,l=-1;if(r)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=u),h.route.id){let{loaderData:d,errors:f}=r,p=h.route.loader&&!d.hasOwnProperty(h.route.id)&&(!f||f[h.route.id]===void 0);if(h.route.lazy||p){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}let c=r&&n?(u,h)=>{var d,f;n(u,{location:r.location,params:((f=(d=r.matches)==null?void 0:d[0])==null?void 0:f.params)??{},unstable_pattern:_U(r.matches),errorInfo:h})}:void 0;return i.reduceRight((u,h,d)=>{let f,p=!1,m=null,_=null;r&&(f=s&&h.route.id?s[h.route.id]:void 0,m=h.route.errorElement||PU,o&&(l<0&&d===0?(XI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,_=null):l===d&&(p=!0,_=h.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,d+1)),T=()=>{let b;return f?b=m:p?b=_:h.route.Component?b=le.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,le.createElement(FU,{match:h,routeContext:{outlet:u,matches:x,isDataRoute:r!=null},children:b})};return r&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?le.createElement($I,{location:r.location,revalidation:r.revalidation,component:m,error:f,children:T(),routeContext:{outlet:null,matches:x,isDataRoute:!0},onError:c}):T()},null)}function n4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BU(t){let e=le.useContext(Rd);return zn(e,n4(t)),e}function UU(t){let e=le.useContext(wx);return zn(e,n4(t)),e}function jU(t){let e=le.useContext(Ro);return zn(e,n4(t)),e}function a4(t){let e=jU(t),r=e.matches[e.matches.length-1];return zn(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function VU(){return a4("useRouteId")}function zU(){var n;let t=le.useContext(r4),e=UU("useRouteError"),r=a4("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function qU(){let{router:t}=BU("useNavigate"),e=a4("useNavigate"),r=le.useRef(!1);return HI(()=>{r.current=!0}),le.useCallback(async(a,i={})=>{ko(r.current,qI),r.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...i}))},[t,e])}var _S={};function XI(t,e,r){!e&&!_S[t]&&(_S[t]=!0,ko(!1,r))}le.memo(HU);function HU({routes:t,future:e,state:r,onError:n}){return WI(t,void 0,r,n,e)}function p2({to:t,replace:e,state:r,relative:n}){zn(Ld(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=le.useContext(Js);ko(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=le.useContext(Ro),{pathname:s}=Ml(),o=Zs(),l=t4(t,e4(i),s,n==="path"),c=JSON.stringify(l);return le.useEffect(()=>{o(JSON.parse(c),{replace:e,state:r,relative:n})},[o,c,n,e,r]),null}function KI(t){return RU(t.context)}function Yn(t){zn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GU({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:a,static:i=!1,unstable_useTransitions:s}){zn(!Ld(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=le.useMemo(()=>({basename:o,navigator:a,static:i,unstable_useTransitions:s,future:{}}),[o,a,i,s]);typeof r=="string"&&(r=Id(r));let{pathname:c="/",search:u="",hash:h="",state:d=null,key:f="default"}=r,p=le.useMemo(()=>{let m=Nc(c,o);return m==null?null:{location:{pathname:m,search:u,hash:h,state:d,key:f},navigationType:n}},[o,c,u,h,d,f,n]);return ko(p!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:le.createElement(Js.Provider,{value:l},le.createElement(pm.Provider,{children:e,value:p}))}function WU({children:t,location:e}){return LU(rw(t),e)}function rw(t,e=[]){let r=[];return le.Children.forEach(t,(n,a)=>{if(!le.isValidElement(n))return;let i=[...e,a];if(n.type===le.Fragment){r.push.apply(r,rw(n.props.children,i));return}zn(n.type===Yn,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),zn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=rw(n.props.children,i)),r.push(s)}),r}var m2="get",g2="application/x-www-form-urlencoded";function bx(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function $U(t){return bx(t)&&t.tagName.toLowerCase()==="button"}function XU(t){return bx(t)&&t.tagName.toLowerCase()==="form"}function KU(t){return bx(t)&&t.tagName.toLowerCase()==="input"}function YU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function QU(t,e){return t.button===0&&(!e||e==="_self")&&!YU(t)}function nw(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function JU(t,e){let r=nw(t);return e&&e.forEach((n,a)=>{r.has(a)||e.getAll(a).forEach(i=>{r.append(a,i)})}),r}var Ag=null;function ZU(){if(Ag===null)try{new FormData(document.createElement("form"),0),Ag=!1}catch{Ag=!0}return Ag}var ej=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function iy(t){return t!=null&&!ej.has(t)?(ko(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${g2}"`),null):t}function tj(t,e){let r,n,a,i,s;if(XU(t)){let o=t.getAttribute("action");n=o?Nc(o,e):null,r=t.getAttribute("method")||m2,a=iy(t.getAttribute("enctype"))||g2,i=new FormData(t)}else if($U(t)||KU(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(n=l?Nc(l,e):null,r=t.getAttribute("formmethod")||o.getAttribute("method")||m2,a=iy(t.getAttribute("formenctype"))||iy(o.getAttribute("enctype"))||g2,i=new FormData(o,t),!ZU()){let{name:c,type:u,value:h}=t;if(u==="image"){let d=c?`${c}.`:"";i.append(`${d}x`,"0"),i.append(`${d}y`,"0")}else c&&i.append(c,h)}}else{if(bx(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=m2,n=null,a=g2,s=t}return i&&a==="text/plain"&&(s=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function i4(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rj(t,e,r,n){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:e&&Nc(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function nj(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aj(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ij(t,e,r){let n=await Promise.all(t.map(async a=>{let i=e.routes[a.route.id];if(i){let s=await nj(i,r);return s.links?s.links():[]}return[]}));return cj(n.flat(1).filter(aj).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function yS(t,e,r,n,a,i){let s=(l,c)=>r[c]?l.route.id!==r[c].route.id:!0,o=(l,c)=>{var u;return r[c].pathname!==l.pathname||((u=r[c].route.path)==null?void 0:u.endsWith("*"))&&r[c].params["*"]!==l.params["*"]};return i==="assets"?e.filter((l,c)=>s(l,c)||o(l,c)):i==="data"?e.filter((l,c)=>{var h;let u=n.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(s(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function sj(t,e,{includeHydrateFallback:r}={}){return oj(t.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function oj(t){return[...new Set(t)]}function lj(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function cj(t,e){let r=new Set;return new Set(e),t.reduce((n,a)=>{let i=JSON.stringify(lj(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function YI(){let t=le.useContext(Rd);return i4(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function uj(){let t=le.useContext(wx);return i4(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var s4=le.createContext(void 0);s4.displayName="FrameworkContext";function QI(){let t=le.useContext(s4);return i4(t,"You must render this element inside a <HydratedRouter> element"),t}function fj(t,e){let r=le.useContext(s4),[n,a]=le.useState(!1),[i,s]=le.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:h}=e,d=le.useRef(null);le.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let m=x=>{x.forEach(T=>{s(T.isIntersecting)})},_=new IntersectionObserver(m,{threshold:.5});return d.current&&_.observe(d.current),()=>{_.disconnect()}}},[t]),le.useEffect(()=>{if(n){let m=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(m)}}},[n]);let f=()=>{a(!0)},p=()=>{a(!1),s(!1)};return r?t!=="intent"?[i,d,{}]:[i,d,{onFocus:v1(o,f),onBlur:v1(l,p),onMouseEnter:v1(c,f),onMouseLeave:v1(u,p),onTouchStart:v1(h,f)}]:[!1,d,{}]}function v1(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function hj({page:t,...e}){let{router:r}=YI(),n=le.useMemo(()=>OI(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?le.createElement(pj,{page:t,matches:n,...e}):null}function dj(t){let{manifest:e,routeModules:r}=QI(),[n,a]=le.useState([]);return le.useEffect(()=>{let i=!1;return ij(t,e,r).then(s=>{i||a(s)}),()=>{i=!0}},[t,e,r]),n}function pj({page:t,matches:e,...r}){let n=Ml(),{future:a,manifest:i,routeModules:s}=QI(),{basename:o}=YI(),{loaderData:l,matches:c}=uj(),u=le.useMemo(()=>yS(t,e,c,i,n,"data"),[t,e,c,i,n]),h=le.useMemo(()=>yS(t,e,c,i,n,"assets"),[t,e,c,i,n]),d=le.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let m=new Set,_=!1;if(e.forEach(T=>{var I;let b=i.routes[T.route.id];!b||!b.hasLoader||(!u.some(j=>j.route.id===T.route.id)&&T.route.id in l&&((I=s[T.route.id])!=null&&I.shouldRevalidate)||b.hasClientLoader?_=!0:m.add(T.route.id))}),m.size===0)return[];let x=rj(t,o,a.unstable_trailingSlashAwareDataRequests,"data");return _&&m.size>0&&x.searchParams.set("_routes",e.filter(T=>m.has(T.route.id)).map(T=>T.route.id).join(",")),[x.pathname+x.search]},[o,a.unstable_trailingSlashAwareDataRequests,l,n,i,u,e,t,s]),f=le.useMemo(()=>sj(h,i),[h,i]),p=dj(h);return le.createElement(le.Fragment,null,d.map(m=>le.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...r})),f.map(m=>le.createElement("link",{key:m,rel:"modulepreload",href:m,...r})),p.map(({key:m,link:_})=>le.createElement("link",{key:m,nonce:r.nonce,..._,crossOrigin:_.crossOrigin??r.crossOrigin})))}function mj(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var gj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gj&&(window.__reactRouterVersion="7.13.0")}catch{}function vj({basename:t,children:e,unstable_useTransitions:r,window:n}){let a=le.useRef();a.current==null&&(a.current=XB({window:n,v5Compat:!0}));let i=a.current,[s,o]=le.useState({action:i.action,location:i.location}),l=le.useCallback(c=>{r===!1?o(c):le.startTransition(()=>o(c))},[r]);return le.useLayoutEffect(()=>i.listen(l),[i,l]),le.createElement(GU,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i,unstable_useTransitions:r})}var JI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kr=le.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:h,unstable_defaultShouldRevalidate:d,...f},p){let{basename:m,unstable_useTransitions:_}=le.useContext(Js),x=typeof c=="string"&&JI.test(c),T=UI(c,m);c=T.to;let b=kU(c,{relative:a}),[I,j,O]=fj(n,f),N=wj(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:a,viewTransition:h,unstable_defaultShouldRevalidate:d,unstable_useTransitions:_});function A(R){e&&e(R),R.defaultPrevented||N(R)}let y=le.createElement("a",{...f,...O,href:T.absoluteURL||b,onClick:T.isExternal||i?e:A,ref:mj(p,j),target:l,"data-discover":!x&&r==="render"?"true":void 0});return I&&!x?le.createElement(le.Fragment,null,y,le.createElement(hj,{page:b})):y});kr.displayName="Link";var xj=le.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:s,viewTransition:o,children:l,...c},u){let h=mm(s,{relative:c.relative}),d=Ml(),f=le.useContext(wx),{navigator:p,basename:m}=le.useContext(Js),_=f!=null&&Cj(h)&&o===!0,x=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,T=d.pathname,b=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;r||(T=T.toLowerCase(),b=b?b.toLowerCase():null,x=x.toLowerCase()),b&&m&&(b=Nc(b,m)||b);const I=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let j=T===x||!a&&T.startsWith(x)&&T.charAt(I)==="/",O=b!=null&&(b===x||!a&&b.startsWith(x)&&b.charAt(x.length)==="/"),N={isActive:j,isPending:O,isTransitioning:_},A=j?e:void 0,y;typeof n=="function"?y=n(N):y=[n,j?"active":null,O?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let R=typeof i=="function"?i(N):i;return le.createElement(kr,{...c,"aria-current":A,className:y,ref:u,style:R,to:s,viewTransition:o},typeof l=="function"?l(N):l)});xj.displayName="NavLink";var _j=le.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:a,state:i,method:s=m2,action:o,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:h,unstable_defaultShouldRevalidate:d,...f},p)=>{let{unstable_useTransitions:m}=le.useContext(Js),_=Sj(),x=Tj(o,{relative:c}),T=s.toLowerCase()==="get"?"get":"post",b=typeof o=="string"&&JI.test(o),I=j=>{if(l&&l(j),j.defaultPrevented)return;j.preventDefault();let O=j.nativeEvent.submitter,N=(O==null?void 0:O.getAttribute("formmethod"))||s,A=()=>_(O||j.currentTarget,{fetcherKey:e,method:N,navigate:r,replace:a,state:i,relative:c,preventScrollReset:u,viewTransition:h,unstable_defaultShouldRevalidate:d});m&&r!==!1?le.startTransition(()=>A()):A()};return le.createElement("form",{ref:p,method:T,action:x,onSubmit:n?l:I,...f,"data-discover":!b&&t==="render"?"true":void 0})});_j.displayName="Form";function yj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZI(t){let e=le.useContext(Rd);return zn(e,yj(t)),e}function wj(t,{target:e,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:o,unstable_useTransitions:l}={}){let c=Zs(),u=Ml(),h=mm(t,{relative:i});return le.useCallback(d=>{if(QU(d,e)){d.preventDefault();let f=r!==void 0?r:kp(u)===kp(h),p=()=>c(t,{replace:f,state:n,preventScrollReset:a,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:o});l?le.startTransition(()=>p()):p()}},[u,c,h,r,n,e,t,a,i,s,o,l])}function bj(t){ko(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=le.useRef(nw(t)),r=le.useRef(!1),n=Ml(),a=le.useMemo(()=>JU(n.search,r.current?null:e.current),[n.search]),i=Zs(),s=le.useCallback((o,l)=>{const c=nw(typeof o=="function"?o(new URLSearchParams(a)):o);r.current=!0,i("?"+c,l)},[i,a]);return[a,s]}var Ej=0,Aj=()=>`__${String(++Ej)}__`;function Sj(){let{router:t}=ZI("useSubmit"),{basename:e}=le.useContext(Js),r=VU(),n=t.fetch,a=t.navigate;return le.useCallback(async(i,s={})=>{let{action:o,method:l,encType:c,formData:u,body:h}=tj(i,e);if(s.navigate===!1){let d=s.fetcherKey||Aj();await n(d,r,s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:u,body:h,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await a(s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:u,body:h,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,a,e,r])}function Tj(t,{relative:e}={}){let{basename:r}=le.useContext(Js),n=le.useContext(Ro);zn(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...mm(t||".",{relative:e})},s=Ml();if(t==null){i.search=s.search;let o=new URLSearchParams(i.search),l=o.getAll("index");if(l.some(u=>u==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let u=o.toString();i.search=u?`?${u}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:vc([r,i.pathname])),kp(i)}function Cj(t,{relative:e}={}){let r=le.useContext(VI);zn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=ZI("useViewTransitionState"),a=mm(t,{relative:e});if(!r.isTransitioning)return!1;let i=Nc(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=Nc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return cv(a.pathname,s)!=null||cv(a.pathname,i)!=null}const kj=()=>{};var wS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let a=t.charCodeAt(n);a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):(a&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},Nj=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const a=t[r++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=t[r++];e[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=t[r++],s=t[r++],o=t[r++],l=((a&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const i=t[r++],s=t[r++];e[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return e.join("")},tR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<t.length;a+=3){const i=t[a],s=a+1<t.length,o=s?t[a+1]:0,l=a+2<t.length,c=l?t[a+2]:0,u=i>>2,h=(i&3)<<4|o>>4;let d=(o&15)<<2|c>>6,f=c&63;l||(f=64,s||(d=64)),n.push(r[u],r[h],r[d],r[f])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Nj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<t.length;){const i=r[t.charAt(a++)],o=a<t.length?r[t.charAt(a)]:0;++a;const c=a<t.length?r[t.charAt(a)]:64;++a;const h=a<t.length?r[t.charAt(a)]:64;if(++a,i==null||o==null||c==null||h==null)throw new Ij;const d=i<<2|o>>4;if(n.push(d),c!==64){const f=o<<4&240|c>>2;if(n.push(f),h!==64){const p=c<<6&192|h;n.push(p)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ij extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rj=function(t){const e=eR(t);return tR.encodeByteArray(e,!0)},uv=function(t){return Rj(t).replace(/\./g,"")},rR=function(t){try{return tR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=()=>Lj().__FIREBASE_DEFAULTS__,Pj=()=>{if(typeof process>"u"||typeof wS>"u")return;const t=wS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Oj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rR(t[1]);return e&&JSON.parse(e)},Ex=()=>{try{return kj()||Dj()||Pj()||Oj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nR=t=>{var e,r;return(r=(e=Ex())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},aR=t=>{const e=nR(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},iR=()=>{var t;return(t=Ex())==null?void 0:t.config},sR=t=>{var e;return(e=Ex())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function o4(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",a=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[uv(JSON.stringify(r)),uv(JSON.stringify(s)),""].join(".")}const Y1={};function Mj(){const t={prod:[],emulator:[]};for(const e of Object.keys(Y1))Y1[e]?t.emulator.push(e):t.prod.push(e);return t}function Bj(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let bS=!1;function l4(t,e){if(typeof window>"u"||typeof document>"u"||!pf(window.location.host)||Y1[t]===e||Y1[t]||bS)return;Y1[t]=e;function r(d){return`__firebase__banner__${d}`}const n="__firebase__banner",i=Mj().prod.length>0;function s(){const d=document.getElementById(n);d&&d.remove()}function o(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,f){d.setAttribute("width","24"),d.setAttribute("id",f),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{bS=!0,s()},d}function u(d,f){d.setAttribute("id",f),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function h(){const d=Bj(n),f=r("text"),p=document.getElementById(f)||document.createElement("span"),m=r("learnmore"),_=document.getElementById(m)||document.createElement("a"),x=r("preprendIcon"),T=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const b=d.element;o(b),u(_,m);const I=c();l(T,x),b.append(T,p,_,I),document.body.appendChild(b)}i?(p.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ni())}function jj(){var e;const t=(e=Ex())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Vj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Hj(){const t=Ni();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Gj(){return!jj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wj(){try{return typeof indexedDB=="object"}catch{return!1}}function $j(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var i;e(((i=a.error)==null?void 0:i.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj="FirebaseError";class Bl extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Xj,Object.setPrototypeOf(this,Bl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gm.prototype.create)}}class gm{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},a=`${this.service}/${e}`,i=this.errors[e],s=i?Kj(i,n):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new Bl(a,o,n)}}function Kj(t,e){return t.replace(Yj,(r,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const Yj=/\{\$([^}]+)}/g;function Qj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lh(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const a of r){if(!n.includes(a))return!1;const i=t[a],s=e[a];if(ES(i)&&ES(s)){if(!lh(i,s))return!1}else if(i!==s)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function ES(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(a=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function k1(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,i]=n.split("=");e[decodeURIComponent(a)]=decodeURIComponent(i)}}),e}function N1(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function Jj(t,e){const r=new Zj(t,e);return r.subscribe.bind(r)}class Zj{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let a;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");eV(e,["next","error","complete"])?a=e:a={next:e,error:r,complete:n},a.next===void 0&&(a.next=sy),a.error===void 0&&(a.error=sy),a.complete===void 0&&(a.complete=sy);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eV(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function sy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t){return t&&t._delegate?t._delegate:t}class Zu{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Fj;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(n)return null;throw a}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nV(e))try{this.getOrInitializeService({instanceIdentifier:Mf})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(e=Mf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mf){return this.instances.has(e)}getOptions(e=Mf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&s.resolve(a)}return a}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),a=this.onInitCallbacks.get(n)??new Set;a.add(e),this.onInitCallbacks.set(n,a);const i=this.instances.get(n);return i&&e(i,n),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:rV(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Mf){return this.component?this.component.multipleInstances?e:Mf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rV(t){return t===Mf?void 0:t}function nV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new tV(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Cr||(Cr={}));const iV={debug:Cr.DEBUG,verbose:Cr.VERBOSE,info:Cr.INFO,warn:Cr.WARN,error:Cr.ERROR,silent:Cr.SILENT},sV=Cr.INFO,oV={[Cr.DEBUG]:"log",[Cr.VERBOSE]:"log",[Cr.INFO]:"info",[Cr.WARN]:"warn",[Cr.ERROR]:"error"},lV=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),a=oV[e];if(a)console[a](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class c4{constructor(e){this.name=e,this._logLevel=sV,this._logHandler=lV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Cr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Cr.DEBUG,...e),this._logHandler(this,Cr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Cr.VERBOSE,...e),this._logHandler(this,Cr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Cr.INFO,...e),this._logHandler(this,Cr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Cr.WARN,...e),this._logHandler(this,Cr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Cr.ERROR,...e),this._logHandler(this,Cr.ERROR,...e)}}const cV=(t,e)=>e.some(r=>t instanceof r);let AS,SS;function uV(){return AS||(AS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fV(){return SS||(SS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lR=new WeakMap,aw=new WeakMap,cR=new WeakMap,oy=new WeakMap,u4=new WeakMap;function hV(t){const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{r(qu(t.result)),a()},s=()=>{n(t.error),a()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&lR.set(r,t)}).catch(()=>{}),u4.set(e,t),e}function dV(t){if(aw.has(t))return;const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{r(),a()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});aw.set(t,e)}let iw={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return aw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cR.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return qu(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pV(t){iw=t(iw)}function mV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(ly(this),e,...r);return cR.set(n,e.sort?e.sort():[e]),qu(n)}:fV().includes(t)?function(...e){return t.apply(ly(this),e),qu(lR.get(this))}:function(...e){return qu(t.apply(ly(this),e))}}function gV(t){return typeof t=="function"?mV(t):(t instanceof IDBTransaction&&dV(t),cV(t,uV())?new Proxy(t,iw):t)}function qu(t){if(t instanceof IDBRequest)return hV(t);if(oy.has(t))return oy.get(t);const e=gV(t);return e!==t&&(oy.set(t,e),u4.set(e,t)),e}const ly=t=>u4.get(t);function vV(t,e,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const s=indexedDB.open(t,e),o=qu(s);return n&&s.addEventListener("upgradeneeded",l=>{n(qu(s.result),l.oldVersion,l.newVersion,qu(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),a&&l.addEventListener("versionchange",c=>a(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const xV=["get","getKey","getAll","getAllKeys","count"],_V=["put","add","delete","clear"],cy=new Map;function TS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cy.get(e))return cy.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,a=_V.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||xV.includes(r)))return;const i=async function(s,...o){const l=this.transaction(s,a?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),a&&l.done]))[0]};return cy.set(e,i),i}pV(t=>({...t,get:(e,r,n)=>TS(e,r)||t.get(e,r,n),has:(e,r)=>!!TS(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(wV(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function wV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sw="@firebase/app",CS="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new c4("@firebase/app"),bV="@firebase/app-compat",EV="@firebase/analytics-compat",AV="@firebase/analytics",SV="@firebase/app-check-compat",TV="@firebase/app-check",CV="@firebase/auth",kV="@firebase/auth-compat",NV="@firebase/database",IV="@firebase/data-connect",RV="@firebase/database-compat",LV="@firebase/functions",DV="@firebase/functions-compat",PV="@firebase/installations",OV="@firebase/installations-compat",FV="@firebase/messaging",MV="@firebase/messaging-compat",BV="@firebase/performance",UV="@firebase/performance-compat",jV="@firebase/remote-config",VV="@firebase/remote-config-compat",zV="@firebase/storage",qV="@firebase/storage-compat",HV="@firebase/firestore",GV="@firebase/ai",WV="@firebase/firestore-compat",$V="firebase",XV="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="[DEFAULT]",KV={[sw]:"fire-core",[bV]:"fire-core-compat",[AV]:"fire-analytics",[EV]:"fire-analytics-compat",[TV]:"fire-app-check",[SV]:"fire-app-check-compat",[CV]:"fire-auth",[kV]:"fire-auth-compat",[NV]:"fire-rtdb",[IV]:"fire-data-connect",[RV]:"fire-rtdb-compat",[LV]:"fire-fn",[DV]:"fire-fn-compat",[PV]:"fire-iid",[OV]:"fire-iid-compat",[FV]:"fire-fcm",[MV]:"fire-fcm-compat",[BV]:"fire-perf",[UV]:"fire-perf-compat",[jV]:"fire-rc",[VV]:"fire-rc-compat",[zV]:"fire-gcs",[qV]:"fire-gcs-compat",[HV]:"fire-fst",[WV]:"fire-fst-compat",[GV]:"fire-vertex","fire-js":"fire-js",[$V]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=new Map,YV=new Map,lw=new Map;function kS(t,e){try{t.container.addComponent(e)}catch(r){Ic.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function ch(t){const e=t.name;if(lw.has(e))return Ic.debug(`There were multiple attempts to register component ${e}.`),!1;lw.set(e,t);for(const r of fv.values())kS(r,t);for(const r of YV.values())kS(r,t);return!0}function Ax(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Fs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hu=new gm("app","Firebase",QV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Zu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=XV;function uR(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:ow,automaticDataCollectionEnabled:!0,...e},a=n.name;if(typeof a!="string"||!a)throw Hu.create("bad-app-name",{appName:String(a)});if(r||(r=iR()),!r)throw Hu.create("no-options");const i=fv.get(a);if(i){if(lh(r,i.options)&&lh(n,i.config))return i;throw Hu.create("duplicate-app",{appName:a})}const s=new aV(a);for(const l of lw.values())s.addComponent(l);const o=new JV(r,n,s);return fv.set(a,o),o}function f4(t=ow){const e=fv.get(t);if(!e&&t===ow&&iR())return uR();if(!e)throw Hu.create("no-app",{appName:t});return e}function kl(t,e,r){let n=KV[t]??t;r&&(n+=`-${r}`);const a=n.match(/\s|\//),i=e.match(/\s|\//);if(a||i){const s=[`Unable to register library "${n}" with version "${e}":`];a&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),a&&i&&s.push("and"),i&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ic.warn(s.join(" "));return}ch(new Zu(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV="firebase-heartbeat-database",ez=1,Np="firebase-heartbeat-store";let uy=null;function fR(){return uy||(uy=vV(ZV,ez,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Np)}catch(r){console.warn(r)}}}}).catch(t=>{throw Hu.create("idb-open",{originalErrorMessage:t.message})})),uy}async function tz(t){try{const r=(await fR()).transaction(Np),n=await r.objectStore(Np).get(hR(t));return await r.done,n}catch(e){if(e instanceof Bl)Ic.warn(e.message);else{const r=Hu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ic.warn(r.message)}}}async function NS(t,e){try{const n=(await fR()).transaction(Np,"readwrite");await n.objectStore(Np).put(e,hR(t)),await n.done}catch(r){if(r instanceof Bl)Ic.warn(r.message);else{const n=Hu.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ic.warn(n.message)}}}function hR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz=1024,nz=30;class az{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new sz(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=IS();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>nz){const s=oz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ic.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=IS(),{heartbeatsToSend:n,unsentEntries:a}=iz(this._heartbeatsCache.heartbeats),i=uv(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return Ic.warn(r),""}}}function IS(){return new Date().toISOString().substring(0,10)}function iz(t,e=rz){const r=[];let n=t.slice();for(const a of t){const i=r.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),RS(r)>e){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),RS(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class sz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wj()?$j().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await tz(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return NS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return NS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function RS(t){return uv(JSON.stringify({version:2,heartbeats:t})).length}function oz(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lz(t){ch(new Zu("platform-logger",e=>new yV(e),"PRIVATE")),ch(new Zu("heartbeat",e=>new az(e),"PRIVATE")),kl(sw,CS,t),kl(sw,CS,"esm2020"),kl("fire-js","")}lz("");function dR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cz=dR,pR=new gm("auth","Firebase",dR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=new c4("@firebase/auth");function uz(t,...e){hv.logLevel<=Cr.WARN&&hv.warn(`Auth (${Ih}): ${t}`,...e)}function v2(t,...e){hv.logLevel<=Cr.ERROR&&hv.error(`Auth (${Ih}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(t,...e){throw h4(t,...e)}function Nl(t,...e){return h4(t,...e)}function mR(t,e,r){const n={...cz(),[e]:r};return new gm("auth","Firebase",n).create(e,{appName:t.name})}function xc(t){return mR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function h4(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return pR.create(t,...e)}function Wt(t,e,...r){if(!t)throw h4(e,...r)}function fc(t){const e="INTERNAL ASSERTION FAILED: "+t;throw v2(e),new Error(e)}function Rc(t,e){t||fc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function fz(){return LS()==="http:"||LS()==="https:"}function LS(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fz()||zj()||"connection"in navigator)?navigator.onLine:!0}function dz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,r){this.shortDelay=e,this.longDelay=r,Rc(r>e,"Short delay should be less than long delay!"),this.isMobile=Uj()||qj()}get(){return hz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(t,e){Rc(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gz=new xm(3e4,6e4);function Fc(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Mc(t,e,r,n,a={}){return vR(t,a,async()=>{let i={},s={};n&&(e==="GET"?s=n:i={body:JSON.stringify(n)});const o=vm({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return Vj()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&pf(t.emulatorConfig.host)&&(c.credentials="include"),gR.fetch()(await xR(t,t.config.apiHost,r,o),c)})}async function vR(t,e,r){t._canInitEmulator=!1;const n={...pz,...e};try{const a=new xz(t),i=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Sg(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const o=i.ok?s.errorMessage:s.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sg(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Sg(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Sg(t,"user-disabled",s);const u=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw mR(t,u,c);Qo(t,u)}}catch(a){if(a instanceof Bl)throw a;Qo(t,"network-request-failed",{message:String(a)})}}async function _m(t,e,r,n,a={}){const i=await Mc(t,e,r,n,a);return"mfaPendingCredential"in i&&Qo(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function xR(t,e,r,n){const a=`${e}${r}?${n}`,i=t,s=i.config.emulator?d4(t.config,a):`${t.config.apiScheme}://${a}`;return mz.includes(r)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(s).toString():s}function vz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Nl(this.auth,"network-request-failed")),gz.get())})}}function Sg(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const a=Nl(t,e,n);return a.customData._tokenResponse=r,a}function DS(t){return t!==void 0&&t.enterprise!==void 0}class _z{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return vz(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yz(t,e){return Mc(t,"GET","/v2/recaptchaConfig",Fc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wz(t,e){return Mc(t,"POST","/v1/accounts:delete",e)}async function dv(t,e){return Mc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bz(t,e=!1){const r=Tn(t),n=await r.getIdToken(e),a=p4(n);Wt(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const i=typeof a.firebase=="object"?a.firebase:void 0,s=i==null?void 0:i.sign_in_provider;return{claims:a,token:n,authTime:Q1(fy(a.auth_time)),issuedAtTime:Q1(fy(a.iat)),expirationTime:Q1(fy(a.exp)),signInProvider:s||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function fy(t){return Number(t)*1e3}function p4(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return v2("JWT malformed, contained fewer than 3 sections"),null;try{const a=rR(r);return a?JSON.parse(a):(v2("Failed to decode base64 JWT payload"),null)}catch(a){return v2("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function PS(t){const e=p4(t);return Wt(e,"internal-error"),Wt(typeof e.exp<"u","internal-error"),Wt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ip(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Bl&&Ez(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Ez({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Q1(this.lastLoginAt),this.creationTime=Q1(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pv(t){var h;const e=t.auth,r=await t.getIdToken(),n=await Ip(t,dv(e,{idToken:r}));Wt(n==null?void 0:n.users.length,e,"internal-error");const a=n.users[0];t._notifyReloadListener(a);const i=(h=a.providerUserInfo)!=null&&h.length?_R(a.providerUserInfo):[],s=Tz(t.providerData,i),o=t.isAnonymous,l=!(t.email&&a.passwordHash)&&!(s!=null&&s.length),c=o?l:!1,u={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new uw(a.createdAt,a.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function Sz(t){const e=Tn(t);await pv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Tz(t,e){return[...t.filter(n=>!e.some(a=>a.providerId===n.providerId)),...e]}function _R(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cz(t,e){const r=await vR(t,{},async()=>{const n=vm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:i}=t.config,s=await xR(t,a,"/v1/token",`key=${i}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:n};return t.emulatorConfig&&pf(t.emulatorConfig.host)&&(l.credentials="include"),gR.fetch()(s,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function kz(t,e){return Mc(t,"POST","/v2/accounts:revokeToken",Fc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Wt(e.idToken,"internal-error"),Wt(typeof e.idToken<"u","internal-error"),Wt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Wt(e.length!==0,"internal-error");const r=PS(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Wt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:a,expiresIn:i}=await Cz(e,r);this.updateTokensAndExpiration(n,a,Number(i))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:a,expirationTime:i}=r,s=new H0;return n&&(Wt(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),a&&(Wt(typeof a=="string","internal-error",{appName:e}),s.accessToken=a),i&&(Wt(typeof i=="number","internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new H0,this.toJSON())}_performRefresh(){return fc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(t,e){Wt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Go{constructor({uid:e,auth:r,stsTokenManager:n,...a}){this.providerId="firebase",this.proactiveRefresh=new Az(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new uw(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await Ip(this,this.stsTokenManager.getToken(this.auth,e));return Wt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return bz(this,e)}reload(){return Sz(this)}_assign(e){this!==e&&(Wt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Go({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){Wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await pv(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fs(this.auth.app))return Promise.reject(xc(this.auth));const e=await this.getIdToken();return await Ip(this,wz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,a=r.email??void 0,i=r.phoneNumber??void 0,s=r.photoURL??void 0,o=r.tenantId??void 0,l=r._redirectEventId??void 0,c=r.createdAt??void 0,u=r.lastLoginAt??void 0,{uid:h,emailVerified:d,isAnonymous:f,providerData:p,stsTokenManager:m}=r;Wt(h&&m,e,"internal-error");const _=H0.fromJSON(this.name,m);Wt(typeof h=="string",e,"internal-error"),lu(n,e.name),lu(a,e.name),Wt(typeof d=="boolean",e,"internal-error"),Wt(typeof f=="boolean",e,"internal-error"),lu(i,e.name),lu(s,e.name),lu(o,e.name),lu(l,e.name),lu(c,e.name),lu(u,e.name);const x=new Go({uid:h,auth:e,email:a,emailVerified:d,displayName:n,isAnonymous:f,photoURL:s,phoneNumber:i,tenantId:o,stsTokenManager:_,createdAt:c,lastLoginAt:u});return p&&Array.isArray(p)&&(x.providerData=p.map(T=>({...T}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,r,n=!1){const a=new H0;a.updateFromServerResponse(r);const i=new Go({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:n});return await pv(i),i}static async _fromGetAccountInfoResponse(e,r,n){const a=r.users[0];Wt(a.localId!==void 0,"internal-error");const i=a.providerUserInfo!==void 0?_R(a.providerUserInfo):[],s=!(a.email&&a.passwordHash)&&!(i!=null&&i.length),o=new H0;o.updateFromIdToken(n);const l=new Go({uid:a.localId,auth:e,stsTokenManager:o,isAnonymous:s}),c={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new uw(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=new Map;function hc(t){Rc(t instanceof Function,"Expected a class definition");let e=OS.get(t);return e?(Rc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,OS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}yR.type="NONE";const FS=yR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(t,e,r){return`firebase:${t}:${e}:${r}`}class G0{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:a,name:i}=this.auth;this.fullUserKey=x2(this.userKey,a.apiKey,i),this.fullPersistenceKey=x2("persistence",a.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await dv(this.auth,{idToken:e}).catch(()=>{});return r?Go._fromGetAccountInfoResponse(this.auth,r,e):null}return Go._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new G0(hc(FS),e,n);const a=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=a[0]||hc(FS);const s=x2(n,e.config.apiKey,e.name);let o=null;for(const c of r)try{const u=await c._get(s);if(u){let h;if(typeof u=="string"){const d=await dv(e,{idToken:u}).catch(()=>{});if(!d)break;h=await Go._fromGetAccountInfoResponse(e,d,u)}else h=Go._fromJSON(e,u);c!==i&&(o=h),i=c;break}}catch{}const l=a.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new G0(i,e,n):(i=l[0],o&&await i._set(s,o.toJSON()),await Promise.all(r.map(async c=>{if(c!==i)try{await c._remove(s)}catch{}})),new G0(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TR(e))return"Blackberry";if(CR(e))return"Webos";if(bR(e))return"Safari";if((e.includes("chrome/")||ER(e))&&!e.includes("edge/"))return"Chrome";if(SR(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function wR(t=Ni()){return/firefox\//i.test(t)}function bR(t=Ni()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ER(t=Ni()){return/crios\//i.test(t)}function AR(t=Ni()){return/iemobile/i.test(t)}function SR(t=Ni()){return/android/i.test(t)}function TR(t=Ni()){return/blackberry/i.test(t)}function CR(t=Ni()){return/webos/i.test(t)}function m4(t=Ni()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Nz(t=Ni()){var e;return m4(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Iz(){return Hj()&&document.documentMode===10}function kR(t=Ni()){return m4(t)||SR(t)||CR(t)||TR(t)||/windows phone/i.test(t)||AR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(t,e=[]){let r;switch(t){case"Browser":r=MS(Ni());break;case"Worker":r=`${MS(Ni())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Ih}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=i=>new Promise((s,o)=>{try{const l=e(i);s(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lz(t,e={}){return Mc(t,"GET","/v2/passwordPolicy",Fc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz=6;class Pz{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??Dz,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),a&&(r.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let a=0;a<e.length;a++)n=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,a,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(e,r,n,a){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BS(this),this.idTokenSubscription=new BS(this),this.beforeStateQueue=new Rz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=hc(r)),this._initializationPromise=this.queue(async()=>{var n,a,i;if(!this._deleted&&(this.persistenceManager=await G0.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await dv(this,{idToken:e}),n=await Go._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Fs(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(i=this.redirectUser)==null?void 0:i._redirectEventId,o=n==null?void 0:n._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(n=l.user,a=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await pv(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fs(this.app))return Promise.reject(xc(this));const r=e?Tn(e):null;return r&&Wt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Wt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fs(this.app)?Promise.reject(xc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fs(this.app)?Promise.reject(xc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Lz(this),r=new Pz(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gm("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await kz(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&hc(e)||this._popupRedirectResolver;Wt(r,this,"argument-error"),this.redirectPersistenceManager=await G0.create(this,[hc(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,a){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Wt(o,this,"internal-error"),o.then(()=>{s||i(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,a);return()=>{s=!0,l()}}else{const l=e.addObserver(r);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(Fs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&uz(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function mf(t){return Tn(t)}class BS{constructor(e){this.auth=e,this.observer=null,this.addObserver=Jj(r=>this.observer=r)}get next(){return Wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fz(t){Sx=t}function IR(t){return Sx.loadJS(t)}function Mz(){return Sx.recaptchaEnterpriseScript}function Bz(){return Sx.gapiScript}function Uz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class jz{constructor(){this.enterprise=new Vz}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class Vz{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const zz="recaptcha-enterprise",RR="NO_RECAPTCHA";class qz{constructor(e){this.type=zz,this.auth=mf(e)}async verify(e="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(s,o)=>{yz(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new _z(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,s(c.siteKey)}}).catch(l=>{o(l)})})}function a(i,s,o){const l=window.grecaptcha;DS(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{s(c)}).catch(()=>{s(RR)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jz().execute("siteKey",{action:"verify"}):new Promise((i,s)=>{n(this.auth).then(o=>{if(!r&&DS(window.grecaptcha))a(o,i,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Mz();l.length!==0&&(l+=o),IR(l).then(()=>{a(o,i,s)}).catch(c=>{s(c)})}}).catch(o=>{s(o)})})}}async function US(t,e,r,n=!1,a=!1){const i=new qz(t);let s;if(a)s=RR;else try{s=await i.verify(r)}catch{s=await i.verify(r,!0)}const o={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function mv(t,e,r,n,a){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await US(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await US(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hz(t,e){const r=Ax(t,"auth");if(r.isInitialized()){const a=r.getImmediate(),i=r.getOptions();if(lh(i,e??{}))return a;Qo(a,"already-initialized")}return r.initialize({options:e})}function Gz(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(hc);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Wz(t,e,r){const n=mf(t);Wt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const a=!1,i=LR(e),{host:s,port:o}=$z(e),l=o===null?"":`:${o}`,c={url:`${i}//${s}${l}/`},u=Object.freeze({host:s,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){Wt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Wt(lh(c,n.config.emulator)&&lh(u,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=c,n.emulatorConfig=u,n.settings.appVerificationDisabledForTesting=!0,pf(s)?(o4(`${i}//${s}${l}`),l4("Auth",!0)):Xz()}function LR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $z(t){const e=LR(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const i=a[1];return{host:i,port:jS(n.substr(i.length+1))}}else{const[i,s]=n.split(":");return{host:i,port:jS(s)}}}function jS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Xz(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return fc("not implemented")}_getIdTokenResponse(e){return fc("not implemented")}_linkToIdToken(e,r){return fc("not implemented")}_getReauthenticationResolver(e){return fc("not implemented")}}async function Kz(t,e){return Mc(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yz(t,e){return _m(t,"POST","/v1/accounts:signInWithPassword",Fc(t,e))}async function Qz(t,e){return Mc(t,"POST","/v1/accounts:sendOobCode",Fc(t,e))}async function Jz(t,e){return Qz(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zz(t,e){return _m(t,"POST","/v1/accounts:signInWithEmailLink",Fc(t,e))}async function eq(t,e){return _m(t,"POST","/v1/accounts:signInWithEmailLink",Fc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp extends g4{constructor(e,r,n,a=null){super("password",n),this._email=e,this._password=r,this._tenantId=a}static _fromEmailAndPassword(e,r){return new Rp(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Rp(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mv(e,r,"signInWithPassword",Yz);case"emailLink":return Zz(e,{email:this._email,oobCode:this._password});default:Qo(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mv(e,n,"signUpPassword",Kz);case"emailLink":return eq(e,{idToken:r,email:this._email,oobCode:this._password});default:Qo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W0(t,e){return _m(t,"POST","/v1/accounts:signInWithIdp",Fc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq="http://localhost";class uh extends g4{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new uh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Qo("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:a,...i}=r;if(!n||!a)return null;const s=new uh(n,a);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return W0(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,W0(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,W0(e,r)}buildRequest(){const e={requestUri:tq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=vm(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rq(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nq(t){const e=k1(N1(t)).link,r=e?k1(N1(e)).deep_link_id:null,n=k1(N1(t)).deep_link_id;return(n?k1(N1(n)).link:null)||n||r||e||t}class v4{constructor(e){const r=k1(N1(e)),n=r.apiKey??null,a=r.oobCode??null,i=rq(r.mode??null);Wt(n&&a&&i,"argument-error"),this.apiKey=n,this.operation=i,this.code=a,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=nq(e);try{return new v4(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(){this.providerId=Dd.PROVIDER_ID}static credential(e,r){return Rp._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=v4.parseLink(r);return Wt(n,"argument-error"),Rp._fromEmailAndCode(e,n.code,n.tenantId)}}Dd.PROVIDER_ID="password";Dd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym extends DR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends ym{constructor(){super("facebook.com")}static credential(e){return uh._fromParams({providerId:_u.PROVIDER_ID,signInMethod:_u.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _u.credentialFromTaggedObject(e)}static credentialFromError(e){return _u.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _u.credential(e.oauthAccessToken)}catch{return null}}}_u.FACEBOOK_SIGN_IN_METHOD="facebook.com";_u.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends ym{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return uh._fromParams({providerId:yu.PROVIDER_ID,signInMethod:yu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return yu.credentialFromTaggedObject(e)}static credentialFromError(e){return yu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return yu.credential(r,n)}catch{return null}}}yu.GOOGLE_SIGN_IN_METHOD="google.com";yu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends ym{constructor(){super("github.com")}static credential(e){return uh._fromParams({providerId:wu.PROVIDER_ID,signInMethod:wu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wu.credentialFromTaggedObject(e)}static credentialFromError(e){return wu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wu.credential(e.oauthAccessToken)}catch{return null}}}wu.GITHUB_SIGN_IN_METHOD="github.com";wu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends ym{constructor(){super("twitter.com")}static credential(e,r){return uh._fromParams({providerId:bu.PROVIDER_ID,signInMethod:bu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return bu.credentialFromTaggedObject(e)}static credentialFromError(e){return bu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return bu.credential(r,n)}catch{return null}}}bu.TWITTER_SIGN_IN_METHOD="twitter.com";bu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aq(t,e){return _m(t,"POST","/v1/accounts:signUp",Fc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,a=!1){const i=await Go._fromIdTokenResponse(e,n,a),s=VS(n);return new fh({user:i,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const a=VS(n);return new fh({user:e,providerId:a,_tokenResponse:n,operationType:r})}}function VS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv extends Bl{constructor(e,r,n,a){super(r.code,r.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,gv.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,a){return new gv(e,r,n,a)}}function PR(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?gv._fromErrorAndOperation(t,i,e,n):i})}async function iq(t,e,r=!1){const n=await Ip(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return fh._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sq(t,e,r=!1){const{auth:n}=t;if(Fs(n.app))return Promise.reject(xc(n));const a="reauthenticate";try{const i=await Ip(t,PR(n,a,e,t),r);Wt(i.idToken,n,"internal-error");const s=p4(i.idToken);Wt(s,n,"internal-error");const{sub:o}=s;return Wt(t.uid===o,n,"user-mismatch"),fh._forOperation(t,a,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Qo(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OR(t,e,r=!1){if(Fs(t.app))return Promise.reject(xc(t));const n="signIn",a=await PR(t,n,e),i=await fh._fromIdTokenResponse(t,n,a);return r||await t._updateCurrentUser(i.user),i}async function oq(t,e){return OR(mf(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lq(t,e,r){var n;Wt(((n=r.url)==null?void 0:n.length)>0,t,"invalid-continue-uri"),Wt(typeof r.dynamicLinkDomain>"u"||r.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),Wt(typeof r.linkDomain>"u"||r.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=r.url,e.dynamicLinkDomain=r.dynamicLinkDomain,e.linkDomain=r.linkDomain,e.canHandleCodeInApp=r.handleCodeInApp,r.iOS&&(Wt(r.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=r.iOS.bundleId),r.android&&(Wt(r.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=r.android.installApp,e.androidMinimumVersionCode=r.android.minimumVersion,e.androidPackageName=r.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(t){const e=mf(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function cq(t,e,r){const n=mf(t),a={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};r&&lq(n,a,r),await mv(n,a,"getOobCode",Jz)}async function uq(t,e,r){if(Fs(t.app))return Promise.reject(xc(t));const n=mf(t),s=await mv(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aq).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&FR(t),l}),o=await fh._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}function fq(t,e,r){return Fs(t.app)?Promise.reject(xc(t)):oq(Tn(t),Dd.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&FR(t),n})}function hq(t,e,r,n){return Tn(t).onIdTokenChanged(e,r,n)}function dq(t,e,r){return Tn(t).beforeAuthStateChanged(e,r)}function pq(t,e,r,n){return Tn(t).onAuthStateChanged(e,r,n)}function vv(t){return Tn(t).signOut()}const xv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(xv,"1"),this.storage.removeItem(xv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mq=1e3,gq=10;class BR extends MR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),a=this.localCache[r];n!==a&&e(r,a,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const a=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},i=this.storage.getItem(n);Iz()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,gq):a()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},mq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}BR.type="LOCAL";const vq=BR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR extends MR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}UR.type="SESSION";const jR=UR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xq(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(a=>a.isListeningto(e));if(r)return r;const n=new Tx(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:a,data:i}=r.data,s=this.handlersMap[a];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const o=Array.from(s).map(async c=>c(r.origin,i)),l=await xq(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let i,s;return new Promise((o,l)=>{const c=x4("",20);a.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);s={messageChannel:a,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(d.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(s),a.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[a.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(){return window}function yq(t){Il().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(){return typeof Il().WorkerGlobalScope<"u"&&typeof Il().importScripts=="function"}async function wq(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bq(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Eq(){return VR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="firebaseLocalStorageDb",Aq=1,_v="firebaseLocalStorage",qR="fbase_key";class wm{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Cx(t,e){return t.transaction([_v],e?"readwrite":"readonly").objectStore(_v)}function Sq(){const t=indexedDB.deleteDatabase(zR);return new wm(t).toPromise()}function fw(){const t=indexedDB.open(zR,Aq);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(_v,{keyPath:qR})}catch(a){r(a)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(_v)?e(n):(n.close(),await Sq(),e(await fw()))})})}async function zS(t,e,r){const n=Cx(t,!0).put({[qR]:e,value:r});return new wm(n).toPromise()}async function Tq(t,e){const r=Cx(t,!1).get(e),n=await new wm(r).toPromise();return n===void 0?null:n.value}function qS(t,e){const r=Cx(t,!0).delete(e);return new wm(r).toPromise()}const Cq=800,kq=3;class HR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fw(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>kq)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tx._getInstance(Eq()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await wq(),!this.activeServiceWorker)return;this.sender=new _q(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fw();return await zS(e,xv,"1"),await qS(e,xv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>zS(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Tq(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>qS(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const i=Cx(a,!1).getAll();return new wm(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:a,value:i}of e)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(i)&&(this.notifyListeners(a,i),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Cq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HR.type="LOCAL";const Nq=HR;new xm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iq(t,e){return e?hc(e):(Wt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4 extends g4{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return W0(e,this._buildIdpRequest())}_linkToIdToken(e,r){return W0(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return W0(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Rq(t){return OR(t.auth,new _4(t),t.bypassAuthState)}function Lq(t){const{auth:e,user:r}=t;return Wt(r,e,"internal-error"),sq(r,new _4(t),t.bypassAuthState)}async function Dq(t){const{auth:e,user:r}=t;return Wt(r,e,"internal-error"),iq(r,new _4(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,r,n,a,i=!1){this.auth=e,this.resolver=n,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:a,tenantId:i,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Rq;case"linkViaPopup":case"linkViaRedirect":return Dq;case"reauthViaPopup":case"reauthViaRedirect":return Lq;default:Qo(this.auth,"internal-error")}}resolve(e){Rc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq=new xm(2e3,1e4);class L0 extends GR{constructor(e,r,n,a,i){super(e,r,a,i),this.provider=n,this.authWindow=null,this.pollId=null,L0.currentPopupAction&&L0.currentPopupAction.cancel(),L0.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Wt(e,this.auth,"internal-error"),e}async onExecution(){Rc(this.filter.length===1,"Popup operations only handle one event");const e=x4();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Nl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Nl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,L0.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Pq.get())};e()}}L0.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oq="pendingRedirect",_2=new Map;class Fq extends GR{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=_2.get(this.auth._key());if(!e){try{const n=await Mq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}_2.set(this.auth._key(),e)}return this.bypassAuthState||_2.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Mq(t,e){const r=jq(e),n=Uq(t);if(!await n._isAvailable())return!1;const a=await n._get(r)==="true";return await n._remove(r),a}function Bq(t,e){_2.set(t._key(),e)}function Uq(t){return hc(t._redirectPersistence)}function jq(t){return x2(Oq,t.config.apiKey,t.name)}async function Vq(t,e,r=!1){if(Fs(t.app))return Promise.reject(xc(t));const n=mf(t),a=Iq(n,e),s=await new Fq(n,a,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zq=10*60*1e3;class qq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Hq(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!WR(e)){const a=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(Nl(this.auth,a))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zq&&this.cachedEventUids.clear(),this.cachedEventUids.has(HS(e))}saveEventToCache(e){this.cachedEventUids.add(HS(e)),this.lastProcessedEventTime=Date.now()}}function HS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function WR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Hq(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gq(t,e={}){return Mc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$q=/^https?/;async function Xq(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Gq(t);for(const r of e)try{if(Kq(r))return}catch{}Qo(t,"unauthorized-domain")}function Kq(t){const e=cw(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!$q.test(r))return!1;if(Wq.test(t))return n===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq=new xm(3e4,6e4);function GS(){const t=Il().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function Qq(t){return new Promise((e,r)=>{var a,i,s;function n(){GS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GS(),r(Nl(t,"network-request-failed"))},timeout:Yq.get()})}if((i=(a=Il().gapi)==null?void 0:a.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((s=Il().gapi)!=null&&s.load)n();else{const o=Uz("iframefcb");return Il()[o]=()=>{gapi.load?n():r(Nl(t,"network-request-failed"))},IR(`${Bz()}?onload=${o}`).catch(l=>r(l))}}).catch(e=>{throw y2=null,e})}let y2=null;function Jq(t){return y2=y2||Qq(t),y2}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zq=new xm(5e3,15e3),eH="__/auth/iframe",tH="emulator/auth/iframe",rH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aH(t){const e=t.config;Wt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?d4(e,tH):`https://${t.config.authDomain}/${eH}`,n={apiKey:e.apiKey,appName:t.name,v:Ih},a=nH.get(t.config.apiHost);a&&(n.eid=a);const i=t._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${vm(n).slice(1)}`}async function iH(t){const e=await Jq(t),r=Il().gapi;return Wt(r,t,"internal-error"),e.open({where:document.body,url:aH(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rH,dontclear:!0},n=>new Promise(async(a,i)=>{await n.restyle({setHideOnLeave:!1});const s=Nl(t,"network-request-failed"),o=Il().setTimeout(()=>{i(s)},Zq.get());function l(){Il().clearTimeout(o),a(n)}n.ping(l).then(l,()=>{i(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oH=500,lH=600,cH="_blank",uH="http://localhost";class WS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fH(t,e,r,n=oH,a=lH){const i=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l={...sH,width:n.toString(),height:a.toString(),top:i,left:s},c=Ni().toLowerCase();r&&(o=ER(c)?cH:r),wR(c)&&(e=e||uH,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[f,p])=>`${d}${f}=${p},`,"");if(Nz(c)&&o!=="_self")return hH(e||"",o),new WS(null);const h=window.open(e||"",o,u);Wt(h,t,"popup-blocked");try{h.focus()}catch{}return new WS(h)}function hH(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dH="__/auth/handler",pH="emulator/auth/handler",mH=encodeURIComponent("fac");async function $S(t,e,r,n,a,i){Wt(t.config.authDomain,t,"auth-domain-config-required"),Wt(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Ih,eventId:a};if(e instanceof DR){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Qj(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))s[u]=h}if(e instanceof ym){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${mH}=${encodeURIComponent(l)}`:"";return`${gH(t)}?${vm(o).slice(1)}${c}`}function gH({config:t}){return t.emulator?d4(t,pH):`https://${t.authDomain}/${dH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="webStorageSupport";class vH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jR,this._completeRedirectFn=Vq,this._overrideRedirectResult=Bq}async _openPopup(e,r,n,a){var s;Rc((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const i=await $S(e,r,n,cw(),a);return fH(e,i,x4())}async _openRedirect(e,r,n,a){await this._originValidation(e);const i=await $S(e,r,n,cw(),a);return yq(i),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:a,promise:i}=this.eventManagers[r];return a?Promise.resolve(a):(Rc(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await iH(e),n=new qq(e);return r.register("authEvent",a=>(Wt(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(hy,{type:hy},a=>{var s;const i=(s=a==null?void 0:a[0])==null?void 0:s[hy];i!==void 0&&r(!!i),Qo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Xq(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return kR()||bR()||m4()}}const xH=vH;var XS="@firebase/auth",KS="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wH(t){ch(new Zu("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;Wt(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NR(t)},c=new Oz(n,a,i,l);return Gz(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),ch(new Zu("auth-internal",e=>{const r=mf(e.getProvider("auth").getImmediate());return(n=>new _H(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),kl(XS,KS,yH(t)),kl(XS,KS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bH=5*60,EH=sR("authIdTokenMaxAge")||bH;let YS=null;const AH=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>EH)return;const a=r==null?void 0:r.token;YS!==a&&(YS=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function SH(t=f4()){const e=Ax(t,"auth");if(e.isInitialized())return e.getImmediate();const r=Hz(t,{popupRedirectResolver:xH,persistence:[Nq,vq,jR]}),n=sR("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const s=AH(i.toString());dq(r,s,()=>s(r.currentUser)),hq(r,o=>s(o))}}const a=nR("auth");return a&&Wz(r,`http://${a}`),r}function TH(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Fz({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=a=>{const i=Nl("internal-error");i.customData=a,r(i)},n.type="text/javascript",n.charset="UTF-8",TH().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wH("Browser");var CH="firebase",kH="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kl(CH,kH,"app");var QS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gu,$R;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function y(){}y.prototype=A.prototype,N.F=A.prototype,N.prototype=new y,N.prototype.constructor=N,N.D=function(R,S,k){for(var C=Array(arguments.length-2),H=2;H<arguments.length;H++)C[H-2]=arguments[H];return A.prototype[S].apply(R,C)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,A,y){y||(y=0);const R=Array(16);if(typeof A=="string")for(var S=0;S<16;++S)R[S]=A.charCodeAt(y++)|A.charCodeAt(y++)<<8|A.charCodeAt(y++)<<16|A.charCodeAt(y++)<<24;else for(S=0;S<16;++S)R[S]=A[y++]|A[y++]<<8|A[y++]<<16|A[y++]<<24;A=N.g[0],y=N.g[1],S=N.g[2];let k=N.g[3],C;C=A+(k^y&(S^k))+R[0]+3614090360&4294967295,A=y+(C<<7&4294967295|C>>>25),C=k+(S^A&(y^S))+R[1]+3905402710&4294967295,k=A+(C<<12&4294967295|C>>>20),C=S+(y^k&(A^y))+R[2]+606105819&4294967295,S=k+(C<<17&4294967295|C>>>15),C=y+(A^S&(k^A))+R[3]+3250441966&4294967295,y=S+(C<<22&4294967295|C>>>10),C=A+(k^y&(S^k))+R[4]+4118548399&4294967295,A=y+(C<<7&4294967295|C>>>25),C=k+(S^A&(y^S))+R[5]+1200080426&4294967295,k=A+(C<<12&4294967295|C>>>20),C=S+(y^k&(A^y))+R[6]+2821735955&4294967295,S=k+(C<<17&4294967295|C>>>15),C=y+(A^S&(k^A))+R[7]+4249261313&4294967295,y=S+(C<<22&4294967295|C>>>10),C=A+(k^y&(S^k))+R[8]+1770035416&4294967295,A=y+(C<<7&4294967295|C>>>25),C=k+(S^A&(y^S))+R[9]+2336552879&4294967295,k=A+(C<<12&4294967295|C>>>20),C=S+(y^k&(A^y))+R[10]+4294925233&4294967295,S=k+(C<<17&4294967295|C>>>15),C=y+(A^S&(k^A))+R[11]+2304563134&4294967295,y=S+(C<<22&4294967295|C>>>10),C=A+(k^y&(S^k))+R[12]+1804603682&4294967295,A=y+(C<<7&4294967295|C>>>25),C=k+(S^A&(y^S))+R[13]+4254626195&4294967295,k=A+(C<<12&4294967295|C>>>20),C=S+(y^k&(A^y))+R[14]+2792965006&4294967295,S=k+(C<<17&4294967295|C>>>15),C=y+(A^S&(k^A))+R[15]+1236535329&4294967295,y=S+(C<<22&4294967295|C>>>10),C=A+(S^k&(y^S))+R[1]+4129170786&4294967295,A=y+(C<<5&4294967295|C>>>27),C=k+(y^S&(A^y))+R[6]+3225465664&4294967295,k=A+(C<<9&4294967295|C>>>23),C=S+(A^y&(k^A))+R[11]+643717713&4294967295,S=k+(C<<14&4294967295|C>>>18),C=y+(k^A&(S^k))+R[0]+3921069994&4294967295,y=S+(C<<20&4294967295|C>>>12),C=A+(S^k&(y^S))+R[5]+3593408605&4294967295,A=y+(C<<5&4294967295|C>>>27),C=k+(y^S&(A^y))+R[10]+38016083&4294967295,k=A+(C<<9&4294967295|C>>>23),C=S+(A^y&(k^A))+R[15]+3634488961&4294967295,S=k+(C<<14&4294967295|C>>>18),C=y+(k^A&(S^k))+R[4]+3889429448&4294967295,y=S+(C<<20&4294967295|C>>>12),C=A+(S^k&(y^S))+R[9]+568446438&4294967295,A=y+(C<<5&4294967295|C>>>27),C=k+(y^S&(A^y))+R[14]+3275163606&4294967295,k=A+(C<<9&4294967295|C>>>23),C=S+(A^y&(k^A))+R[3]+4107603335&4294967295,S=k+(C<<14&4294967295|C>>>18),C=y+(k^A&(S^k))+R[8]+1163531501&4294967295,y=S+(C<<20&4294967295|C>>>12),C=A+(S^k&(y^S))+R[13]+2850285829&4294967295,A=y+(C<<5&4294967295|C>>>27),C=k+(y^S&(A^y))+R[2]+4243563512&4294967295,k=A+(C<<9&4294967295|C>>>23),C=S+(A^y&(k^A))+R[7]+1735328473&4294967295,S=k+(C<<14&4294967295|C>>>18),C=y+(k^A&(S^k))+R[12]+2368359562&4294967295,y=S+(C<<20&4294967295|C>>>12),C=A+(y^S^k)+R[5]+4294588738&4294967295,A=y+(C<<4&4294967295|C>>>28),C=k+(A^y^S)+R[8]+2272392833&4294967295,k=A+(C<<11&4294967295|C>>>21),C=S+(k^A^y)+R[11]+1839030562&4294967295,S=k+(C<<16&4294967295|C>>>16),C=y+(S^k^A)+R[14]+4259657740&4294967295,y=S+(C<<23&4294967295|C>>>9),C=A+(y^S^k)+R[1]+2763975236&4294967295,A=y+(C<<4&4294967295|C>>>28),C=k+(A^y^S)+R[4]+1272893353&4294967295,k=A+(C<<11&4294967295|C>>>21),C=S+(k^A^y)+R[7]+4139469664&4294967295,S=k+(C<<16&4294967295|C>>>16),C=y+(S^k^A)+R[10]+3200236656&4294967295,y=S+(C<<23&4294967295|C>>>9),C=A+(y^S^k)+R[13]+681279174&4294967295,A=y+(C<<4&4294967295|C>>>28),C=k+(A^y^S)+R[0]+3936430074&4294967295,k=A+(C<<11&4294967295|C>>>21),C=S+(k^A^y)+R[3]+3572445317&4294967295,S=k+(C<<16&4294967295|C>>>16),C=y+(S^k^A)+R[6]+76029189&4294967295,y=S+(C<<23&4294967295|C>>>9),C=A+(y^S^k)+R[9]+3654602809&4294967295,A=y+(C<<4&4294967295|C>>>28),C=k+(A^y^S)+R[12]+3873151461&4294967295,k=A+(C<<11&4294967295|C>>>21),C=S+(k^A^y)+R[15]+530742520&4294967295,S=k+(C<<16&4294967295|C>>>16),C=y+(S^k^A)+R[2]+3299628645&4294967295,y=S+(C<<23&4294967295|C>>>9),C=A+(S^(y|~k))+R[0]+4096336452&4294967295,A=y+(C<<6&4294967295|C>>>26),C=k+(y^(A|~S))+R[7]+1126891415&4294967295,k=A+(C<<10&4294967295|C>>>22),C=S+(A^(k|~y))+R[14]+2878612391&4294967295,S=k+(C<<15&4294967295|C>>>17),C=y+(k^(S|~A))+R[5]+4237533241&4294967295,y=S+(C<<21&4294967295|C>>>11),C=A+(S^(y|~k))+R[12]+1700485571&4294967295,A=y+(C<<6&4294967295|C>>>26),C=k+(y^(A|~S))+R[3]+2399980690&4294967295,k=A+(C<<10&4294967295|C>>>22),C=S+(A^(k|~y))+R[10]+4293915773&4294967295,S=k+(C<<15&4294967295|C>>>17),C=y+(k^(S|~A))+R[1]+2240044497&4294967295,y=S+(C<<21&4294967295|C>>>11),C=A+(S^(y|~k))+R[8]+1873313359&4294967295,A=y+(C<<6&4294967295|C>>>26),C=k+(y^(A|~S))+R[15]+4264355552&4294967295,k=A+(C<<10&4294967295|C>>>22),C=S+(A^(k|~y))+R[6]+2734768916&4294967295,S=k+(C<<15&4294967295|C>>>17),C=y+(k^(S|~A))+R[13]+1309151649&4294967295,y=S+(C<<21&4294967295|C>>>11),C=A+(S^(y|~k))+R[4]+4149444226&4294967295,A=y+(C<<6&4294967295|C>>>26),C=k+(y^(A|~S))+R[11]+3174756917&4294967295,k=A+(C<<10&4294967295|C>>>22),C=S+(A^(k|~y))+R[2]+718787259&4294967295,S=k+(C<<15&4294967295|C>>>17),C=y+(k^(S|~A))+R[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(S+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+S&4294967295,N.g[3]=N.g[3]+k&4294967295}n.prototype.v=function(N,A){A===void 0&&(A=N.length);const y=A-this.blockSize,R=this.C;let S=this.h,k=0;for(;k<A;){if(S==0)for(;k<=y;)a(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<A;)if(R[S++]=N.charCodeAt(k++),S==this.blockSize){a(this,R),S=0;break}}else for(;k<A;)if(R[S++]=N[k++],S==this.blockSize){a(this,R),S=0;break}}this.h=S,this.o+=A},n.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var y=N.length-8;y<N.length;++y)N[y]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,y=0;y<4;++y)for(let R=0;R<32;R+=8)N[A++]=this.g[y]>>>R&255;return N};function i(N,A){var y=o;return Object.prototype.hasOwnProperty.call(y,N)?y[N]:y[N]=A(N)}function s(N,A){this.h=A;const y=[];let R=!0;for(let S=N.length-1;S>=0;S--){const k=N[S]|0;R&&k==A||(y[S]=k,R=!1)}this.g=y}var o={};function l(N){return-128<=N&&N<128?i(N,function(A){return new s([A|0],A<0?-1:0)}):new s([N|0],N<0?-1:0)}function c(N){if(isNaN(N)||!isFinite(N))return h;if(N<0)return _(c(-N));const A=[];let y=1;for(let R=0;N>=y;R++)A[R]=N/y|0,y*=4294967296;return new s(A,0)}function u(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return _(u(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const y=c(Math.pow(A,8));let R=h;for(let k=0;k<N.length;k+=8){var S=Math.min(8,N.length-k);const C=parseInt(N.substring(k,k+S),A);S<8?(S=c(Math.pow(A,S)),R=R.j(S).add(c(C))):(R=R.j(y),R=R.add(c(C)))}return R}var h=l(0),d=l(1),f=l(16777216);t=s.prototype,t.m=function(){if(m(this))return-_(this).m();let N=0,A=1;for(let y=0;y<this.g.length;y++){const R=this.i(y);N+=(R>=0?R:4294967296+R)*A,A*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(p(this))return"0";if(m(this))return"-"+_(this).toString(N);const A=c(Math.pow(N,6));var y=this;let R="";for(;;){const S=I(y,A).g;y=x(y,S.j(A));let k=((y.g.length>0?y.g[0]:y.h)>>>0).toString(N);if(y=S,p(y))return k+R;for(;k.length<6;)k="0"+k;R=k+R}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function p(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function m(N){return N.h==-1}t.l=function(N){return N=x(this,N),m(N)?-1:p(N)?0:1};function _(N){const A=N.g.length,y=[];for(let R=0;R<A;R++)y[R]=~N.g[R];return new s(y,~N.h).add(d)}t.abs=function(){return m(this)?_(this):this},t.add=function(N){const A=Math.max(this.g.length,N.g.length),y=[];let R=0;for(let S=0;S<=A;S++){let k=R+(this.i(S)&65535)+(N.i(S)&65535),C=(k>>>16)+(this.i(S)>>>16)+(N.i(S)>>>16);R=C>>>16,k&=65535,C&=65535,y[S]=C<<16|k}return new s(y,y[y.length-1]&-2147483648?-1:0)};function x(N,A){return N.add(_(A))}t.j=function(N){if(p(this)||p(N))return h;if(m(this))return m(N)?_(this).j(_(N)):_(_(this).j(N));if(m(N))return _(this.j(_(N)));if(this.l(f)<0&&N.l(f)<0)return c(this.m()*N.m());const A=this.g.length+N.g.length,y=[];for(var R=0;R<2*A;R++)y[R]=0;for(R=0;R<this.g.length;R++)for(let S=0;S<N.g.length;S++){const k=this.i(R)>>>16,C=this.i(R)&65535,H=N.i(S)>>>16,X=N.i(S)&65535;y[2*R+2*S]+=C*X,T(y,2*R+2*S),y[2*R+2*S+1]+=k*X,T(y,2*R+2*S+1),y[2*R+2*S+1]+=C*H,T(y,2*R+2*S+1),y[2*R+2*S+2]+=k*H,T(y,2*R+2*S+2)}for(N=0;N<A;N++)y[N]=y[2*N+1]<<16|y[2*N];for(N=A;N<2*A;N++)y[N]=0;return new s(y,0)};function T(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function b(N,A){this.g=N,this.h=A}function I(N,A){if(p(A))throw Error("division by zero");if(p(N))return new b(h,h);if(m(N))return A=I(_(N),A),new b(_(A.g),_(A.h));if(m(A))return A=I(N,_(A)),new b(_(A.g),A.h);if(N.g.length>30){if(m(N)||m(A))throw Error("slowDivide_ only works with positive integers.");for(var y=d,R=A;R.l(N)<=0;)y=j(y),R=j(R);var S=O(y,1),k=O(R,1);for(R=O(R,2),y=O(y,2);!p(R);){var C=k.add(R);C.l(N)<=0&&(S=S.add(y),k=C),R=O(R,1),y=O(y,1)}return A=x(N,S.j(A)),new b(S,A)}for(S=h;N.l(A)>=0;){for(y=Math.max(1,Math.floor(N.m()/A.m())),R=Math.ceil(Math.log(y)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),k=c(y),C=k.j(A);m(C)||C.l(N)>0;)y-=R,k=c(y),C=k.j(A);p(k)&&(k=d),S=S.add(k),N=x(N,C)}return new b(S,N)}t.B=function(N){return I(this,N).h},t.and=function(N){const A=Math.max(this.g.length,N.g.length),y=[];for(let R=0;R<A;R++)y[R]=this.i(R)&N.i(R);return new s(y,this.h&N.h)},t.or=function(N){const A=Math.max(this.g.length,N.g.length),y=[];for(let R=0;R<A;R++)y[R]=this.i(R)|N.i(R);return new s(y,this.h|N.h)},t.xor=function(N){const A=Math.max(this.g.length,N.g.length),y=[];for(let R=0;R<A;R++)y[R]=this.i(R)^N.i(R);return new s(y,this.h^N.h)};function j(N){const A=N.g.length+1,y=[];for(let R=0;R<A;R++)y[R]=N.i(R)<<1|N.i(R-1)>>>31;return new s(y,N.h)}function O(N,A){const y=A>>5;A%=32;const R=N.g.length-y,S=[];for(let k=0;k<R;k++)S[k]=A>0?N.i(k+y)>>>A|N.i(k+y+1)<<32-A:N.i(k+y);return new s(S,N.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,$R=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,Gu=s}).apply(typeof QS<"u"?QS:typeof self<"u"?self:typeof window<"u"?window:{});var Tg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XR,I1,KR,w2,hw,YR,QR,JR;(function(){var t,e=Object.defineProperty;function r(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tg=="object"&&Tg];for(var B=0;B<v.length;++B){var G=v[B];if(G&&G.Math==Math)return G}throw Error("Cannot find global object")}var n=r(this);function a(v,B){if(B)e:{var G=n;v=v.split(".");for(var ie=0;ie<v.length-1;ie++){var Le=v[ie];if(!(Le in G))break e;G=G[Le]}v=v[v.length-1],ie=G[v],B=B(ie),B!=ie&&B!=null&&e(G,v,{configurable:!0,writable:!0,value:B})}}a("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(v){return v||function(B){var G=[],ie;for(ie in B)Object.prototype.hasOwnProperty.call(B,ie)&&G.push([ie,B[ie]]);return G}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},s=this||self;function o(v){var B=typeof v;return B=="object"&&v!=null||B=="function"}function l(v,B,G){return v.call.apply(v.bind,arguments)}function c(v,B,G){return c=l,c.apply(null,arguments)}function u(v,B){var G=Array.prototype.slice.call(arguments,1);return function(){var ie=G.slice();return ie.push.apply(ie,arguments),v.apply(this,ie)}}function h(v,B){function G(){}G.prototype=B.prototype,v.Z=B.prototype,v.prototype=new G,v.prototype.constructor=v,v.Ob=function(ie,Le,He){for(var pt=Array(arguments.length-2),or=2;or<arguments.length;or++)pt[or-2]=arguments[or];return B.prototype[Le].apply(ie,pt)}}var d=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function f(v){const B=v.length;if(B>0){const G=Array(B);for(let ie=0;ie<B;ie++)G[ie]=v[ie];return G}return[]}function p(v,B){for(let ie=1;ie<arguments.length;ie++){const Le=arguments[ie];var G=typeof Le;if(G=G!="object"?G:Le?Array.isArray(Le)?"array":G:"null",G=="array"||G=="object"&&typeof Le.length=="number"){G=v.length||0;const He=Le.length||0;v.length=G+He;for(let pt=0;pt<He;pt++)v[G+pt]=Le[pt]}else v.push(Le)}}class m{constructor(B,G){this.i=B,this.j=G,this.h=0,this.g=null}get(){let B;return this.h>0?(this.h--,B=this.g,this.g=B.next,B.next=null):B=this.i(),B}}function _(v){s.setTimeout(()=>{throw v},0)}function x(){var v=N;let B=null;return v.g&&(B=v.g,v.g=v.g.next,v.g||(v.h=null),B.next=null),B}class T{constructor(){this.h=this.g=null}add(B,G){const ie=b.get();ie.set(B,G),this.h?this.h.next=ie:this.g=ie,this.h=ie}}var b=new m(()=>new I,v=>v.reset());class I{constructor(){this.next=this.g=this.h=null}set(B,G){this.h=B,this.g=G,this.next=null}reset(){this.next=this.g=this.h=null}}let j,O=!1,N=new T,A=()=>{const v=Promise.resolve(void 0);j=()=>{v.then(y)}};function y(){for(var v;v=x();){try{v.h.call(v.g)}catch(G){_(G)}var B=b;B.j(v),B.h<100&&(B.h++,v.next=B.g,B.g=v)}O=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function S(v,B){this.type=v,this.g=this.target=B,this.defaultPrevented=!1}S.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var v=!1,B=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const G=()=>{};s.addEventListener("test",G,B),s.removeEventListener("test",G,B)}catch{}return v}();function C(v){return/^[\s\xa0]*$/.test(v)}function H(v,B){S.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,B)}h(H,S),H.prototype.init=function(v,B){const G=this.type=v.type,ie=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=B,B=v.relatedTarget,B||(G=="mouseover"?B=v.fromElement:G=="mouseout"&&(B=v.toElement)),this.relatedTarget=B,ie?(this.clientX=ie.clientX!==void 0?ie.clientX:ie.pageX,this.clientY=ie.clientY!==void 0?ie.clientY:ie.pageY,this.screenX=ie.screenX||0,this.screenY=ie.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&H.Z.h.call(this)},H.prototype.h=function(){H.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var X="closure_listenable_"+(Math.random()*1e6|0),V=0;function q(v,B,G,ie,Le){this.listener=v,this.proxy=null,this.src=B,this.type=G,this.capture=!!ie,this.ha=Le,this.key=++V,this.da=this.fa=!1}function re(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function W(v,B,G){for(const ie in v)B.call(G,v[ie],ie,v)}function me(v,B){for(const G in v)B.call(void 0,v[G],G,v)}function Ee(v){const B={};for(const G in v)B[G]=v[G];return B}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(v,B){let G,ie;for(let Le=1;Le<arguments.length;Le++){ie=arguments[Le];for(G in ie)v[G]=ie[G];for(let He=0;He<D.length;He++)G=D[He],Object.prototype.hasOwnProperty.call(ie,G)&&(v[G]=ie[G])}}function U(v){this.src=v,this.g={},this.h=0}U.prototype.add=function(v,B,G,ie,Le){const He=v.toString();v=this.g[He],v||(v=this.g[He]=[],this.h++);const pt=Y(v,B,ie,Le);return pt>-1?(B=v[pt],G||(B.fa=!1)):(B=new q(B,this.src,He,!!ie,Le),B.fa=G,v.push(B)),B};function M(v,B){const G=B.type;if(G in v.g){var ie=v.g[G],Le=Array.prototype.indexOf.call(ie,B,void 0),He;(He=Le>=0)&&Array.prototype.splice.call(ie,Le,1),He&&(re(B),v.g[G].length==0&&(delete v.g[G],v.h--))}}function Y(v,B,G,ie){for(let Le=0;Le<v.length;++Le){const He=v[Le];if(!He.da&&He.listener==B&&He.capture==!!G&&He.ha==ie)return Le}return-1}var se="closure_lm_"+(Math.random()*1e6|0),he={};function fe(v,B,G,ie,Le){if(Array.isArray(B)){for(let He=0;He<B.length;He++)fe(v,B[He],G,ie,Le);return null}return G=De(G),v&&v[X]?v.J(B,G,o(ie)?!!ie.capture:!1,Le):ve(v,B,G,!1,ie,Le)}function ve(v,B,G,ie,Le,He){if(!B)throw Error("Invalid event type");const pt=o(Le)?!!Le.capture:!!Le;let or=Ie(v);if(or||(v[se]=or=new U(v)),G=or.add(B,G,ie,pt,He),G.proxy)return G;if(ie=ke(),G.proxy=ie,ie.src=v,ie.listener=G,v.addEventListener)k||(Le=pt),Le===void 0&&(Le=!1),v.addEventListener(B.toString(),ie,Le);else if(v.attachEvent)v.attachEvent(Me(B.toString()),ie);else if(v.addListener&&v.removeListener)v.addListener(ie);else throw Error("addEventListener and attachEvent are unavailable.");return G}function ke(){function v(G){return B.call(v.src,v.listener,G)}const B=J;return v}function ne(v,B,G,ie,Le){if(Array.isArray(B))for(var He=0;He<B.length;He++)ne(v,B[He],G,ie,Le);else ie=o(ie)?!!ie.capture:!!ie,G=De(G),v&&v[X]?(v=v.i,He=String(B).toString(),He in v.g&&(B=v.g[He],G=Y(B,G,ie,Le),G>-1&&(re(B[G]),Array.prototype.splice.call(B,G,1),B.length==0&&(delete v.g[He],v.h--)))):v&&(v=Ie(v))&&(B=v.g[B.toString()],v=-1,B&&(v=Y(B,G,ie,Le)),(G=v>-1?B[v]:null)&&be(G))}function be(v){if(typeof v!="number"&&v&&!v.da){var B=v.src;if(B&&B[X])M(B.i,v);else{var G=v.type,ie=v.proxy;B.removeEventListener?B.removeEventListener(G,ie,v.capture):B.detachEvent?B.detachEvent(Me(G),ie):B.addListener&&B.removeListener&&B.removeListener(ie),(G=Ie(B))?(M(G,v),G.h==0&&(G.src=null,B[se]=null)):re(v)}}}function Me(v){return v in he?he[v]:he[v]="on"+v}function J(v,B){if(v.da)v=!0;else{B=new H(B,this);const G=v.listener,ie=v.ha||v.src;v.fa&&be(v),v=G.call(ie,B)}return v}function Ie(v){return v=v[se],v instanceof U?v:null}var Re="__closure_events_fn_"+(Math.random()*1e9>>>0);function De(v){return typeof v=="function"?v:(v[Re]||(v[Re]=function(B){return v.handleEvent(B)}),v[Re])}function Te(){R.call(this),this.i=new U(this),this.M=this,this.G=null}h(Te,R),Te.prototype[X]=!0,Te.prototype.removeEventListener=function(v,B,G,ie){ne(this,v,B,G,ie)};function Qe(v,B){var G,ie=v.G;if(ie)for(G=[];ie;ie=ie.G)G.push(ie);if(v=v.M,ie=B.type||B,typeof B=="string")B=new S(B,v);else if(B instanceof S)B.target=B.target||v;else{var Le=B;B=new S(ie,v),F(B,Le)}Le=!0;let He,pt;if(G)for(pt=G.length-1;pt>=0;pt--)He=B.g=G[pt],Le=Ye(He,ie,!0,B)&&Le;if(He=B.g=v,Le=Ye(He,ie,!0,B)&&Le,Le=Ye(He,ie,!1,B)&&Le,G)for(pt=0;pt<G.length;pt++)He=B.g=G[pt],Le=Ye(He,ie,!1,B)&&Le}Te.prototype.N=function(){if(Te.Z.N.call(this),this.i){var v=this.i;for(const B in v.g){const G=v.g[B];for(let ie=0;ie<G.length;ie++)re(G[ie]);delete v.g[B],v.h--}}this.G=null},Te.prototype.J=function(v,B,G,ie){return this.i.add(String(v),B,!1,G,ie)},Te.prototype.K=function(v,B,G,ie){return this.i.add(String(v),B,!0,G,ie)};function Ye(v,B,G,ie){if(B=v.i.g[String(B)],!B)return!0;B=B.concat();let Le=!0;for(let He=0;He<B.length;++He){const pt=B[He];if(pt&&!pt.da&&pt.capture==G){const or=pt.listener,wn=pt.ha||pt.src;pt.fa&&M(v.i,pt),Le=or.call(wn,ie)!==!1&&Le}}return Le&&!ie.defaultPrevented}function we(v,B){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=c(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(B)>2147483647?-1:s.setTimeout(v,B||0)}function qe(v){v.g=we(()=>{v.g=null,v.i&&(v.i=!1,qe(v))},v.l);const B=v.h;v.h=null,v.m.apply(null,B)}class tt extends R{constructor(B,G){super(),this.m=B,this.l=G,this.h=null,this.i=!1,this.g=null}j(B){this.h=arguments,this.g?this.i=!0:qe(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function at(v){R.call(this),this.h=v,this.g={}}h(at,R);var Tt=[];function $t(v){W(v.g,function(B,G){this.g.hasOwnProperty(G)&&be(B)},v),v.g={}}at.prototype.N=function(){at.Z.N.call(this),$t(this)},at.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var At=s.JSON.stringify,vt=s.JSON.parse,lt=class{stringify(v){return s.JSON.stringify(v,void 0)}parse(v){return s.JSON.parse(v,void 0)}};function ct(){}function Ft(){}var bt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Nt(){S.call(this,"d")}h(Nt,S);function zt(){S.call(this,"c")}h(zt,S);var xr={},Pt=null;function Oe(){return Pt=Pt||new Te}xr.Ia="serverreachability";function ut(v){S.call(this,xr.Ia,v)}h(ut,S);function dt(v){const B=Oe();Qe(B,new ut(B))}xr.STAT_EVENT="statevent";function Qt(v,B){S.call(this,xr.STAT_EVENT,v),this.stat=B}h(Qt,S);function Ct(v){const B=Oe();Qe(B,new Qt(B,v))}xr.Ja="timingevent";function kt(v,B){S.call(this,xr.Ja,v),this.size=B}h(kt,S);function Kt(v,B){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){v()},B)}function Kr(){this.g=!0}Kr.prototype.ua=function(){this.g=!1};function Jt(v,B,G,ie,Le,He){v.info(function(){if(v.g)if(He){var pt="",or=He.split("&");for(let Tr=0;Tr<or.length;Tr++){var wn=or[Tr].split("=");if(wn.length>1){const bn=wn[0];wn=wn[1];const Va=bn.split("_");pt=Va.length>=2&&Va[1]=="type"?pt+(bn+"="+wn+"&"):pt+(bn+"=redacted&")}}}else pt=null;else pt=He;return"XMLHTTP REQ ("+ie+") [attempt "+Le+"]: "+B+`
`+G+`
`+pt})}function gn(v,B,G,ie,Le,He,pt){v.info(function(){return"XMLHTTP RESP ("+ie+") [ attempt "+Le+"]: "+B+`
`+G+`
`+He+" "+pt})}function Br(v,B,G,ie){v.info(function(){return"XMLHTTP TEXT ("+B+"): "+_s(v,G)+(ie?" "+ie:"")})}function Ut(v,B){v.info(function(){return"TIMEOUT: "+B})}Kr.prototype.info=function(){};function _s(v,B){if(!v.g)return B;if(!B)return null;try{const He=JSON.parse(B);if(He){for(v=0;v<He.length;v++)if(Array.isArray(He[v])){var G=He[v];if(!(G.length<2)){var ie=G[1];if(Array.isArray(ie)&&!(ie.length<1)){var Le=ie[0];if(Le!="noop"&&Le!="stop"&&Le!="close")for(let pt=1;pt<ie.length;pt++)ie[pt]=""}}}}return At(He)}catch{return B}}var hi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ia={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Qa;function sn(){}h(sn,ct),sn.prototype.g=function(){return new XMLHttpRequest},Qa=new sn;function vn(v){return encodeURIComponent(String(v))}function Z(v){var B=1;v=v.split(":");const G=[];for(;B>0&&v.length;)G.push(v.shift()),B--;return v.length&&G.push(v.join(":")),G}function de(v,B,G,ie){this.j=v,this.i=B,this.l=G,this.S=ie||1,this.V=new at(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oe}function oe(){this.i=null,this.g="",this.h=!1}var ue={},pe={};function ye(v,B,G){v.M=1,v.A=zl(Qi(B)),v.u=G,v.R=!0,Fe(v,null)}function Fe(v,B){v.F=Date.now(),Ve(v),v.B=Qi(v.A);var G=v.B,ie=v.S;Array.isArray(ie)||(ie=[String(ie)]),Gh(G.i,"t",ie),v.C=0,G=v.j.L,v.h=new oe,v.g=Rt(v.j,G?B:null,!v.u),v.P>0&&(v.O=new tt(c(v.Y,v,v.g),v.P)),B=v.V,G=v.g,ie=v.ba;var Le="readystatechange";Array.isArray(Le)||(Le&&(Tt[0]=Le.toString()),Le=Tt);for(let He=0;He<Le.length;He++){const pt=fe(G,Le[He],ie||B.handleEvent,!1,B.h||B);if(!pt)break;B.g[pt.key]=pt}B=v.J?Ee(v.J):{},v.u?(v.v||(v.v="POST"),B["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,B)):(v.v="GET",v.g.ea(v.B,v.v,null,B)),dt(),Jt(v.i,v.v,v.B,v.l,v.S,v.u)}de.prototype.ba=function(v){v=v.target;const B=this.O;B&&ts(v)==3?B.j():this.Y(v)},de.prototype.Y=function(v){try{if(v==this.g)e:{const or=ts(this.g),wn=this.g.ya(),Tr=this.g.ca();if(!(or<3)&&(or!=3||this.g&&(this.h.h||this.g.la()||Gc(this.g)))){this.K||or!=4||wn==7||(wn==8||Tr<=0?dt(3):dt(2)),mt(this);var B=this.g.ca();this.X=B;var G=Ge(this);if(this.o=B==200,gn(this.i,this.v,this.B,this.l,this.S,or,B),this.o){if(this.U&&!this.L){t:{if(this.g){var ie,Le=this.g;if((ie=Le.g?Le.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(ie)){var He=ie;break t}}He=null}if(v=He)Br(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yt(this,v);else{this.o=!1,this.m=3,Ct(12),ft(this),wt(this);break e}}if(this.R){v=!0;let bn;for(;!this.K&&this.C<G.length;)if(bn=Ue(this,G),bn==pe){or==4&&(this.m=4,Ct(14),v=!1),Br(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==ue){this.m=4,Ct(15),Br(this.i,this.l,G,"[Invalid Chunk]"),v=!1;break}else Br(this.i,this.l,bn,null),yt(this,bn);if(Be(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),or!=4||G.length!=0||this.h.h||(this.m=1,Ct(16),v=!1),this.o=this.o&&v,!v)Br(this.i,this.l,G,"[Invalid Chunked Response]"),ft(this),wt(this);else if(G.length>0&&!this.W){this.W=!0;var pt=this.j;pt.g==this&&pt.aa&&!pt.P&&(pt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),$c(pt),pt.P=!0,Ct(11))}}else Br(this.i,this.l,G,null),yt(this,G);or==4&&ft(this),this.o&&!this.K&&(or==4?ge(this.j,this):(this.o=!1,Ve(this)))}else Xh(this.g),B==400&&G.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),ft(this),wt(this)}}}catch{}finally{}};function Ge(v){if(!Be(v))return v.g.la();const B=Gc(v.g);if(B==="")return"";let G="";const ie=B.length,Le=ts(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return ft(v),wt(v),"";v.h.i=new s.TextDecoder}for(let He=0;He<ie;He++)v.h.h=!0,G+=v.h.i.decode(B[He],{stream:!(Le&&He==ie-1)});return B.length=0,v.h.g+=G,v.C=0,v.h.g}function Be(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function Ue(v,B){var G=v.C,ie=B.indexOf(`
`,G);return ie==-1?pe:(G=Number(B.substring(G,ie)),isNaN(G)?ue:(ie+=1,ie+G>B.length?pe:(B=B.slice(ie,ie+G),v.C=ie+G,B)))}de.prototype.cancel=function(){this.K=!0,ft(this)};function Ve(v){v.T=Date.now()+v.H,ot(v,v.H)}function ot(v,B){if(v.D!=null)throw Error("WatchDog timer not null");v.D=Kt(c(v.aa,v),B)}function mt(v){v.D&&(s.clearTimeout(v.D),v.D=null)}de.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(Ut(this.i,this.B),this.M!=2&&(dt(),Ct(17)),ft(this),this.m=2,wt(this)):ot(this,this.T-v)};function wt(v){v.j.I==0||v.K||ge(v.j,v)}function ft(v){mt(v);var B=v.O;B&&typeof B.dispose=="function"&&B.dispose(),v.O=null,$t(v.V),v.g&&(B=v.g,v.g=null,B.abort(),B.dispose())}function yt(v,B){try{var G=v.j;if(G.I!=0&&(G.g==v||Yi(G.h,v))){if(!v.L&&Yi(G.h,v)&&G.I==3){try{var ie=G.Ba.g.parse(B)}catch{ie=null}if(Array.isArray(ie)&&ie.length==3){var Le=ie;if(Le[0]==0){e:if(!G.v){if(G.g)if(G.g.F+3e3<v.F)K(G),ll(G);else break e;Fo(G),Ct(18)}}else G.xa=Le[1],0<G.xa-G.K&&Le[2]<37500&&G.F&&G.A==0&&!G.C&&(G.C=Kt(c(G.Va,G),6e3));Cn(G.h)<=1&&G.ta&&(G.ta=void 0)}else Ne(G,11)}else if((v.L||G.g==v)&&K(G),!C(B))for(Le=G.Ba.g.parse(B),B=0;B<Le.length;B++){let Tr=Le[B];const bn=Tr[0];if(!(bn<=G.K))if(G.K=bn,Tr=Tr[1],G.I==2)if(Tr[0]=="c"){G.M=Tr[1],G.ba=Tr[2];const Va=Tr[3];Va!=null&&(G.ka=Va,G.j.info("VER="+G.ka));const di=Tr[4];di!=null&&(G.za=di,G.j.info("SVER="+G.za));const En=Tr[5];En!=null&&typeof En=="number"&&En>0&&(ie=1.5*En,G.O=ie,G.j.info("backChannelRequestTimeoutMs_="+ie)),ie=G;const pi=v.g;if(pi){const io=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(io){var He=ie.h;He.g||io.indexOf("spdy")==-1&&io.indexOf("quic")==-1&&io.indexOf("h2")==-1||(He.j=He.l,He.g=new Set,He.h&&(Li(He,He.h),He.h=null))}if(ie.G){const Gl=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;Gl&&(ie.wa=Gl,qr(ie.J,ie.G,Gl))}}G.I=3,G.l&&G.l.ra(),G.aa&&(G.T=Date.now()-v.F,G.j.info("Handshake RTT: "+G.T+"ms")),ie=G;var pt=v;if(ie.na=nt(ie,ie.L?ie.ba:null,ie.W),pt.L){ys(ie.h,pt);var or=pt,wn=ie.O;wn&&(or.H=wn),or.D&&(mt(or),Ve(or)),ie.g=pt}else Tf(ie);G.i.length>0&&ul(G)}else Tr[0]!="stop"&&Tr[0]!="close"||Ne(G,7);else G.I==3&&(Tr[0]=="stop"||Tr[0]=="close"?Tr[0]=="stop"?Ne(G,7):ol(G):Tr[0]!="noop"&&G.l&&G.l.qa(Tr),G.A=0)}}dt(4)}catch{}}var Zt=class{constructor(v,B){this.g=v,this.map=B}};function Gr(v){this.l=v||10,s.PerformanceNavigationTiming?(v=s.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _r(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function Cn(v){return v.h?1:v.g?v.g.size:0}function Yi(v,B){return v.h?v.h==B:v.g?v.g.has(B):!1}function Li(v,B){v.g?v.g.add(B):v.h=B}function ys(v,B){v.h&&v.h==B?v.h=null:v.g&&v.g.has(B)&&v.g.delete(B)}Gr.prototype.cancel=function(){if(this.i=Di(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function Di(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let B=v.i;for(const G of v.g.values())B=B.concat(G.G);return B}return f(v.i)}var Do=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wn(v,B){if(v){v=v.split("&");for(let G=0;G<v.length;G++){const ie=v[G].indexOf("=");let Le,He=null;ie>=0?(Le=v[G].substring(0,ie),He=v[G].substring(ie+1)):Le=v[G],B(Le,He?decodeURIComponent(He.replace(/\+/g," ")):"")}}}function Pi(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let B;v instanceof Pi?(this.l=v.l,xn(this,v.j),this.o=v.o,this.g=v.g,nl(this,v.u),this.h=v.h,Ji(this,Vc(v.i)),this.m=v.m):v&&(B=String(v).match(Do))?(this.l=!1,xn(this,B[1]||"",!0),this.o=ja(B[2]||""),this.g=ja(B[3]||"",!0),nl(this,B[4]),this.h=ja(B[5]||"",!0),Ji(this,B[6]||"",!0),this.m=ja(B[7]||"")):(this.l=!1,this.i=new al(null,this.l))}Pi.prototype.toString=function(){const v=[];var B=this.j;B&&v.push(kn(B,bf,!0),":");var G=this.g;return(G||B=="file")&&(v.push("//"),(B=this.o)&&v.push(kn(B,bf,!0),"@"),v.push(vn(G).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),G=this.u,G!=null&&v.push(":",String(G))),(G=this.h)&&(this.g&&G.charAt(0)!="/"&&v.push("/"),v.push(kn(G,G.charAt(0)=="/"?Wd:Gd,!0))),(G=this.i.toString())&&v.push("?",G),(G=this.m)&&v.push("#",kn(G,zh)),v.join("")},Pi.prototype.resolve=function(v){const B=Qi(this);let G=!!v.j;G?xn(B,v.j):G=!!v.o,G?B.o=v.o:G=!!v.g,G?B.g=v.g:G=v.u!=null;var ie=v.h;if(G)nl(B,v.u);else if(G=!!v.h){if(ie.charAt(0)!="/")if(this.g&&!this.h)ie="/"+ie;else{var Le=B.h.lastIndexOf("/");Le!=-1&&(ie=B.h.slice(0,Le+1)+ie)}if(Le=ie,Le==".."||Le==".")ie="";else if(Le.indexOf("./")!=-1||Le.indexOf("/.")!=-1){ie=Le.lastIndexOf("/",0)==0,Le=Le.split("/");const He=[];for(let pt=0;pt<Le.length;){const or=Le[pt++];or=="."?ie&&pt==Le.length&&He.push(""):or==".."?((He.length>1||He.length==1&&He[0]!="")&&He.pop(),ie&&pt==Le.length&&He.push("")):(He.push(or),ie=!0)}ie=He.join("/")}else ie=Le}return G?B.h=ie:G=v.i.toString()!=="",G?Ji(B,Vc(v.i)):G=!!v.m,G&&(B.m=v.m),B};function Qi(v){return new Pi(v)}function xn(v,B,G){v.j=G?ja(B,!0):B,v.j&&(v.j=v.j.replace(/:$/,""))}function nl(v,B){if(B){if(B=Number(B),isNaN(B)||B<0)throw Error("Bad port number "+B);v.u=B}else v.u=null}function Ji(v,B,G){B instanceof al?(v.i=B,ws(v.i,v.l)):(G||(B=kn(B,to)),v.i=new al(B,v.l))}function qr(v,B,G){v.i.set(B,G)}function zl(v){return qr(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function ja(v,B){return v?B?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function kn(v,B,G){return typeof v=="string"?(v=encodeURI(v).replace(B,Po),G&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Po(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var bf=/[#\/\?@]/g,Gd=/[#\?:]/g,Wd=/[#\?]/g,to=/[#\?@]/g,zh=/#/g;function al(v,B){this.h=this.g=null,this.i=v||null,this.j=!!B}function Zi(v){v.g||(v.g=new Map,v.h=0,v.i&&Wn(v.i,function(B,G){v.add(decodeURIComponent(B.replace(/\+/g," ")),G)}))}t=al.prototype,t.add=function(v,B){Zi(this),this.i=null,v=Oo(this,v);let G=this.g.get(v);return G||this.g.set(v,G=[]),G.push(B),this.h+=1,this};function il(v,B){Zi(v),B=Oo(v,B),v.g.has(B)&&(v.i=null,v.h-=v.g.get(B).length,v.g.delete(B))}function qh(v,B){return Zi(v),B=Oo(v,B),v.g.has(B)}t.forEach=function(v,B){Zi(this),this.g.forEach(function(G,ie){G.forEach(function(Le){v.call(B,Le,ie,this)},this)},this)};function Hh(v,B){Zi(v);let G=[];if(typeof B=="string")qh(v,B)&&(G=G.concat(v.g.get(Oo(v,B))));else for(v=Array.from(v.g.values()),B=0;B<v.length;B++)G=G.concat(v[B]);return G}t.set=function(v,B){return Zi(this),this.i=null,v=Oo(this,v),qh(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[B]),this.h+=1,this},t.get=function(v,B){return v?(v=Hh(this,v),v.length>0?String(v[0]):B):B};function Gh(v,B,G){il(v,B),G.length>0&&(v.i=null,v.g.set(Oo(v,B),f(G)),v.h+=G.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],B=Array.from(this.g.keys());for(let ie=0;ie<B.length;ie++){var G=B[ie];const Le=vn(G);G=Hh(this,G);for(let He=0;He<G.length;He++){let pt=Le;G[He]!==""&&(pt+="="+vn(G[He])),v.push(pt)}}return this.i=v.join("&")};function Vc(v){const B=new al;return B.i=v.i,v.g&&(B.g=new Map(v.g),B.h=v.h),B}function Oo(v,B){return B=String(B),v.j&&(B=B.toLowerCase()),B}function ws(v,B){B&&!v.j&&(Zi(v),v.i=null,v.g.forEach(function(G,ie){const Le=ie.toLowerCase();ie!=Le&&(il(this,ie),Gh(this,Le,G))},v)),v.j=B}function $d(v,B){const G=new Kr;if(s.Image){const ie=new Image;ie.onload=u(es,G,"TestLoadImage: loaded",!0,B,ie),ie.onerror=u(es,G,"TestLoadImage: error",!1,B,ie),ie.onabort=u(es,G,"TestLoadImage: abort",!1,B,ie),ie.ontimeout=u(es,G,"TestLoadImage: timeout",!1,B,ie),s.setTimeout(function(){ie.ontimeout&&ie.ontimeout()},1e4),ie.src=v}else B(!1)}function ql(v,B){const G=new Kr,ie=new AbortController,Le=setTimeout(()=>{ie.abort(),es(G,"TestPingServer: timeout",!1,B)},1e4);fetch(v,{signal:ie.signal}).then(He=>{clearTimeout(Le),He.ok?es(G,"TestPingServer: ok",!0,B):es(G,"TestPingServer: server error",!1,B)}).catch(()=>{clearTimeout(Le),es(G,"TestPingServer: error",!1,B)})}function es(v,B,G,ie,Le){try{Le&&(Le.onload=null,Le.onerror=null,Le.onabort=null,Le.ontimeout=null),ie(G)}catch{}}function Xd(){this.g=new lt}function tr(v){this.i=v.Sb||null,this.h=v.ab||!1}h(tr,ct),tr.prototype.g=function(){return new zc(this.i,this.h)};function zc(v,B){Te.call(this),this.H=v,this.o=B,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(zc,Te),t=zc.prototype,t.open=function(v,B){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=B,this.readyState=1,Oi(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const B={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(B.body=v),(this.H||s).fetch(new Request(this.D,B)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hl(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Oi(this)),this.g&&(this.readyState=3,Oi(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wh(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wh(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var B=v.value?v.value:new Uint8Array(0);(B=this.B.decode(B,{stream:!v.done}))&&(this.response=this.responseText+=B)}v.done?Hl(this):Oi(this),this.readyState==3&&Wh(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,Hl(this))},t.Na=function(v){this.g&&(this.response=v,Hl(this))},t.ga=function(){this.g&&Hl(this)};function Hl(v){v.readyState=4,v.l=null,v.j=null,v.B=null,Oi(v)}t.setRequestHeader=function(v,B){this.A.append(v,B)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],B=this.h.entries();for(var G=B.next();!G.done;)G=G.value,v.push(G[0]+": "+G[1]),G=B.next();return v.join(`\r
`)};function Oi(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(zc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function ro(v){let B="";return W(v,function(G,ie){B+=ie,B+=":",B+=G,B+=`\r
`}),B}function Ef(v,B,G){e:{for(ie in G){var ie=!1;break e}ie=!0}ie||(G=ro(G),typeof v=="string"?G!=null&&vn(G):qr(v,B,G))}function _n(v){Te.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(_n,Te);var qc=/^https?$/i,Af=["POST","PUT"];t=_n.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,B,G,ie){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);B=B?B.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Qa.g(),this.g.onreadystatechange=d(c(this.Ca,this));try{this.B=!0,this.g.open(B,String(v),!0),this.B=!1}catch(He){sl(this,He);return}if(v=G||"",G=new Map(this.headers),ie)if(Object.getPrototypeOf(ie)===Object.prototype)for(var Le in ie)G.set(Le,ie[Le]);else if(typeof ie.keys=="function"&&typeof ie.get=="function")for(const He of ie.keys())G.set(He,ie.get(He));else throw Error("Unknown input type for opt_headers: "+String(ie));ie=Array.from(G.keys()).find(He=>He.toLowerCase()=="content-type"),Le=s.FormData&&v instanceof s.FormData,!(Array.prototype.indexOf.call(Af,B,void 0)>=0)||ie||Le||G.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[He,pt]of G)this.g.setRequestHeader(He,pt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(He){sl(this,He)}};function sl(v,B){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=B,v.o=5,$h(v),Hc(v)}function $h(v){v.A||(v.A=!0,Qe(v,"complete"),Qe(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,Qe(this,"complete"),Qe(this,"abort"),Hc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hc(this,!0)),_n.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?no(this):this.Xa())},t.Xa=function(){no(this)};function no(v){if(v.h&&typeof i<"u"){if(v.v&&ts(v)==4)setTimeout(v.Ca.bind(v),0);else if(Qe(v,"readystatechange"),ts(v)==4){v.h=!1;try{const He=v.ca();e:switch(He){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var B=!0;break e;default:B=!1}var G;if(!(G=B)){var ie;if(ie=He===0){let pt=String(v.D).match(Do)[1]||null;!pt&&s.self&&s.self.location&&(pt=s.self.location.protocol.slice(0,-1)),ie=!qc.test(pt?pt.toLowerCase():"")}G=ie}if(G)Qe(v,"complete"),Qe(v,"success");else{v.o=6;try{var Le=ts(v)>2?v.g.statusText:""}catch{Le=""}v.l=Le+" ["+v.ca()+"]",$h(v)}}finally{Hc(v)}}}}function Hc(v,B){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const G=v.g;v.g=null,B||Qe(v,"ready");try{G.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ts(v){return v.g?v.g.readyState:0}t.ca=function(){try{return ts(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var B=this.g.responseText;return v&&B.indexOf(v)==0&&(B=B.substring(v.length)),vt(B)}};function Gc(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Xh(v){const B={};v=(v.g&&ts(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let ie=0;ie<v.length;ie++){if(C(v[ie]))continue;var G=Z(v[ie]);const Le=G[0];if(G=G[1],typeof G!="string")continue;G=G.trim();const He=B[Le]||[];B[Le]=He,He.push(G)}me(B,function(ie){return ie.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fi(v,B,G){return G&&G.internalChannelParams&&G.internalChannelParams[v]||B}function Wc(v){this.za=0,this.i=[],this.j=new Kr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fi("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fi("baseRetryDelayMs",5e3,v),this.Za=Fi("retryDelaySeedMs",1e4,v),this.Ta=Fi("forwardChannelMaxRetries",2,v),this.va=Fi("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new Gr(v&&v.concurrentRequestLimit),this.Ba=new Xd,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Wc.prototype,t.ka=8,t.I=1,t.connect=function(v,B,G,ie){Ct(0),this.W=v,this.H=B||{},G&&ie!==void 0&&(this.H.OSID=G,this.H.OAID=ie),this.F=this.X,this.J=nt(this,null,this.W),ul(this)};function ol(v){if(cl(v),v.I==3){var B=v.V++,G=Qi(v.J);if(qr(G,"SID",v.M),qr(G,"RID",B),qr(G,"TYPE","terminate"),Mi(v,G),B=new de(v,v.j,B),B.M=2,B.A=zl(Qi(G)),G=!1,s.navigator&&s.navigator.sendBeacon)try{G=s.navigator.sendBeacon(B.A.toString(),"")}catch{}!G&&s.Image&&(new Image().src=B.A,G=!0),G||(B.g=Rt(B.j,null),B.g.ea(B.A)),B.F=Date.now(),Ve(B)}Xe(v)}function ll(v){v.g&&($c(v),v.g.cancel(),v.g=null)}function cl(v){ll(v),v.v&&(s.clearTimeout(v.v),v.v=null),K(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&s.clearTimeout(v.m),v.m=null)}function ul(v){if(!_r(v.h)&&!v.m){v.m=!0;var B=v.Ea;j||A(),O||(j(),O=!0),N.add(B,v),v.D=0}}function Kh(v,B){return Cn(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=B.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=Kt(c(v.Ea,v,B),Ae(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const Le=new de(this,this.j,v);let He=this.o;if(this.U&&(He?(He=Ee(He),F(He,this.U)):He=this.U),this.u!==null||this.R||(Le.J=He,He=null),this.S)e:{for(var B=0,G=0;G<this.i.length;G++){t:{var ie=this.i[G];if("__data__"in ie.map&&(ie=ie.map.__data__,typeof ie=="string")){ie=ie.length;break t}ie=void 0}if(ie===void 0)break;if(B+=ie,B>4096){B=G;break e}if(B===4096||G===this.i.length-1){B=G+1;break e}}B=1e3}else B=1e3;B=ao(this,Le,B),G=Qi(this.J),qr(G,"RID",v),qr(G,"CVER",22),this.G&&qr(G,"X-HTTP-Session-Id",this.G),Mi(this,G),He&&(this.R?B="headers="+vn(ro(He))+"&"+B:this.u&&Ef(G,this.u,He)),Li(this.h,Le),this.Ra&&qr(G,"TYPE","init"),this.S?(qr(G,"$req",B),qr(G,"SID","null"),Le.U=!0,ye(Le,G,null)):ye(Le,G,B),this.I=2}}else this.I==3&&(v?Sf(this,v):this.i.length==0||_r(this.h)||Sf(this))};function Sf(v,B){var G;B?G=B.l:G=v.V++;const ie=Qi(v.J);qr(ie,"SID",v.M),qr(ie,"RID",G),qr(ie,"AID",v.K),Mi(v,ie),v.u&&v.o&&Ef(ie,v.u,v.o),G=new de(v,v.j,G,v.D+1),v.u===null&&(G.J=v.o),B&&(v.i=B.G.concat(v.i)),B=ao(v,G,1e3),G.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),Li(v.h,G),ye(G,ie,B)}function Mi(v,B){v.H&&W(v.H,function(G,ie){qr(B,ie,G)}),v.l&&W({},function(G,ie){qr(B,ie,G)})}function ao(v,B,G){G=Math.min(v.i.length,G);const ie=v.l?c(v.l.Ka,v.l,v):null;e:{var Le=v.i;let or=-1;for(;;){const wn=["count="+G];or==-1?G>0?(or=Le[0].g,wn.push("ofs="+or)):or=0:wn.push("ofs="+or);let Tr=!0;for(let bn=0;bn<G;bn++){var He=Le[bn].g;const Va=Le[bn].map;if(He-=or,He<0)or=Math.max(0,Le[bn].g-100),Tr=!1;else try{He="req"+He+"_"||"";try{var pt=Va instanceof Map?Va:Object.entries(Va);for(const[di,En]of pt){let pi=En;o(En)&&(pi=At(En)),wn.push(He+di+"="+encodeURIComponent(pi))}}catch(di){throw wn.push(He+"type="+encodeURIComponent("_badmap")),di}}catch{ie&&ie(Va)}}if(Tr){pt=wn.join("&");break e}}pt=void 0}return v=v.i.splice(0,G),B.G=v,pt}function Tf(v){if(!v.g&&!v.v){v.Y=1;var B=v.Da;j||A(),O||(j(),O=!0),N.add(B,v),v.A=0}}function Fo(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=Kt(c(v.Da,v),Ae(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,L(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=Kt(c(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),ll(this),L(this))};function $c(v){v.B!=null&&(s.clearTimeout(v.B),v.B=null)}function L(v){v.g=new de(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var B=Qi(v.na);qr(B,"RID","rpc"),qr(B,"SID",v.M),qr(B,"AID",v.K),qr(B,"CI",v.F?"0":"1"),!v.F&&v.ia&&qr(B,"TO",v.ia),qr(B,"TYPE","xmlhttp"),Mi(v,B),v.u&&v.o&&Ef(B,v.u,v.o),v.O&&(v.g.H=v.O);var G=v.g;v=v.ba,G.M=1,G.A=zl(Qi(B)),G.u=null,G.R=!0,Fe(G,v)}t.Va=function(){this.C!=null&&(this.C=null,ll(this),Fo(this),Ct(19))};function K(v){v.C!=null&&(s.clearTimeout(v.C),v.C=null)}function ge(v,B){var G=null;if(v.g==B){K(v),$c(v),v.g=null;var ie=2}else if(Yi(v.h,B))G=B.G,ys(v.h,B),ie=1;else return;if(v.I!=0){if(B.o)if(ie==1){G=B.u?B.u.length:0,B=Date.now()-B.F;var Le=v.D;ie=Oe(),Qe(ie,new kt(ie,G)),ul(v)}else Tf(v);else if(Le=B.m,Le==3||Le==0&&B.X>0||!(ie==1&&Kh(v,B)||ie==2&&Fo(v)))switch(G&&G.length>0&&(B=v.h,B.i=B.i.concat(G)),Le){case 1:Ne(v,5);break;case 4:Ne(v,10);break;case 3:Ne(v,6);break;default:Ne(v,2)}}}function Ae(v,B){let G=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(G*=2),G*B}function Ne(v,B){if(v.j.info("Error code "+B),B==2){var G=c(v.bb,v),ie=v.Ua;const Le=!ie;ie=new Pi(ie||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||xn(ie,"https"),zl(ie),Le?$d(ie.toString(),G):ql(ie.toString(),G)}else Ct(2);v.I=0,v.l&&v.l.pa(B),Xe(v),cl(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Xe(v){if(v.I=0,v.ja=[],v.l){const B=Di(v.h);(B.length!=0||v.i.length!=0)&&(p(v.ja,B),p(v.ja,v.i),v.h.i.length=0,f(v.i),v.i.length=0),v.l.oa()}}function nt(v,B,G){var ie=G instanceof Pi?Qi(G):new Pi(G);if(ie.g!="")B&&(ie.g=B+"."+ie.g),nl(ie,ie.u);else{var Le=s.location;ie=Le.protocol,B=B?B+"."+Le.hostname:Le.hostname,Le=+Le.port;const He=new Pi(null);ie&&xn(He,ie),B&&(He.g=B),Le&&nl(He,Le),G&&(He.h=G),ie=He}return G=v.G,B=v.wa,G&&B&&qr(ie,G,B),qr(ie,"VER",v.ka),Mi(v,ie),ie}function Rt(v,B,G){if(B&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return B=v.Aa&&!v.ma?new _n(new tr({ab:G})):new _n(v.ma),B.Fa(v.L),B}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ot(){}t=Ot.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Yt(){}Yt.prototype.g=function(v,B){return new qt(v,B)};function qt(v,B){Te.call(this),this.g=new Wc(B),this.l=v,this.h=B&&B.messageUrlParams||null,v=B&&B.messageHeaders||null,B&&B.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=B&&B.initMessageHeaders||null,B&&B.messageContentType&&(v?v["X-WebChannel-Content-Type"]=B.messageContentType:v={"X-WebChannel-Content-Type":B.messageContentType}),B&&B.sa&&(v?v["X-WebChannel-Client-Profile"]=B.sa:v={"X-WebChannel-Client-Profile":B.sa}),this.g.U=v,(v=B&&B.Qb)&&!C(v)&&(this.g.u=v),this.A=B&&B.supportsCrossDomainXhr||!1,this.v=B&&B.sendRawJson||!1,(B=B&&B.httpSessionIdParam)&&!C(B)&&(this.g.G=B,v=this.h,v!==null&&B in v&&(v=this.h,B in v&&delete v[B])),this.j=new fn(this)}h(qt,Te),qt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){ol(this.g)},qt.prototype.o=function(v){var B=this.g;if(typeof v=="string"){var G={};G.__data__=v,v=G}else this.v&&(G={},G.__data__=At(v),v=G);B.i.push(new Zt(B.Ya++,v)),B.I==3&&ul(B)},qt.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,qt.Z.N.call(this)};function Sr(v){Nt.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var B=v.__sm__;if(B){e:{for(const G in B){v=G;break e}v=void 0}(this.i=v)&&(v=this.i,B=B!==null&&v in B?B[v]:void 0),this.data=B}else this.data=v}h(Sr,Nt);function yn(){zt.call(this),this.status=1}h(yn,zt);function fn(v){this.g=v}h(fn,Ot),fn.prototype.ra=function(){Qe(this.g,"a")},fn.prototype.qa=function(v){Qe(this.g,new Sr(v))},fn.prototype.pa=function(v){Qe(this.g,new yn)},fn.prototype.oa=function(){Qe(this.g,"b")},Yt.prototype.createWebChannel=Yt.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,JR=function(){return new Yt},QR=function(){return Oe()},YR=xr,hw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hi.NO_ERROR=0,hi.TIMEOUT=8,hi.HTTP_ERROR=6,w2=hi,Ia.COMPLETE="complete",KR=Ia,Ft.EventType=bt,bt.OPEN="a",bt.CLOSE="b",bt.ERROR="c",bt.MESSAGE="d",Te.prototype.listen=Te.prototype.J,I1=Ft,_n.prototype.listenOnce=_n.prototype.K,_n.prototype.getLastError=_n.prototype.Ha,_n.prototype.getLastErrorCode=_n.prototype.ya,_n.prototype.getStatus=_n.prototype.ca,_n.prototype.getResponseJson=_n.prototype.La,_n.prototype.getResponseText=_n.prototype.la,_n.prototype.send=_n.prototype.ea,_n.prototype.setWithCredentials=_n.prototype.Fa,XR=_n}).apply(typeof Tg<"u"?Tg:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ei.UNAUTHENTICATED=new Ei(null),Ei.GOOGLE_CREDENTIALS=new Ei("google-credentials-uid"),Ei.FIRST_PARTY=new Ei("first-party-uid"),Ei.MOCK_USER=new Ei("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pd="12.9.0";function NH(t){Pd=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new c4("@firebase/firestore");function d0(){return hh.logLevel}function It(t,...e){if(hh.logLevel<=Cr.DEBUG){const r=e.map(y4);hh.debug(`Firestore (${Pd}): ${t}`,...r)}}function Lc(t,...e){if(hh.logLevel<=Cr.ERROR){const r=e.map(y4);hh.error(`Firestore (${Pd}): ${t}`,...r)}}function dh(t,...e){if(hh.logLevel<=Cr.WARN){const r=e.map(y4);hh.warn(`Firestore (${Pd}): ${t}`,...r)}}function y4(t){if(typeof t=="string")return t;try{return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,ZR(t,n,r)}function ZR(t,e,r){let n=`FIRESTORE (${Pd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Lc(n),new Error(n)}function Mr(t,e,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,t||ZR(e,a,n)}function cr(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class St extends Bl{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Ei.UNAUTHENTICATED))}shutdown(){}}class RH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class LH{constructor(e){this.t=e,this.currentUser=Ei.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Mr(this.o===void 0,42304);let n=this.i;const a=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let i=new _c;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new _c,e.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await a(this.currentUser)})},o=l=>{It("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(It("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new _c)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(It("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Mr(typeof n.accessToken=="string",31837,{l:n}),new e7(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Mr(e===null||typeof e=="string",2055,{h:e}),new Ei(e)}}class DH{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Ei.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class PH{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new DH(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Ei.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OH{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Mr(this.o===void 0,3512);const n=i=>{i.error!=null&&It("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.m;return this.m=i.token,It("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const a=i=>{It("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):It("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new JS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Mr(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new JS(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=FH(40);for(let i=0;i<a.length;++i)n.length<20&&a[i]<r&&(n+=e.charAt(a[i]%62))}return n}}function Ir(t,e){return t<e?-1:t>e?1:0}function dw(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const a=t.charAt(n),i=e.charAt(n);if(a!==i)return dy(a)===dy(i)?Ir(a,i):dy(a)?1:-1}return Ir(t.length,e.length)}const MH=55296,BH=57343;function dy(t){const e=t.charCodeAt(0);return e>=MH&&e<=BH}function pd(t,e,r){return t.length===e.length&&t.every((n,a)=>r(n,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="__name__";class _l{constructor(e,r,n){r===void 0?r=0:r>e.length&&Xt(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&Xt(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return _l.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof _l?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let a=0;a<n;a++){const i=_l.compareSegments(e.get(a),r.get(a));if(i!==0)return i}return Ir(e.length,r.length)}static compareSegments(e,r){const n=_l.isNumericId(e),a=_l.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?_l.extractNumericId(e).compare(_l.extractNumericId(r)):dw(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gu.fromString(e.substring(4,e.length-2))}}class cn extends _l{construct(e,r,n){return new cn(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new St(Je.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new cn(r)}static emptyPath(){return new cn([])}}const UH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class oi extends _l{construct(e,r,n){return new oi(e,r,n)}static isValidIdentifier(e){return UH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),oi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ZS}static keyField(){return new oi([ZS])}static fromServerFormat(e){const r=[];let n="",a=0;const i=()=>{if(n.length===0)throw new St(Je.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;a<e.length;){const o=e[a];if(o==="\\"){if(a+1===e.length)throw new St(Je.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[a+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new St(Je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,a+=2}else o==="`"?(s=!s,a++):o!=="."||s?(n+=o,a++):(i(),a++)}if(i(),s)throw new St(Je.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new oi(r)}static emptyPath(){return new oi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.path=e}static fromPath(e){return new Ht(cn.fromString(e))}static fromName(e){return new Ht(cn.fromString(e).popFirst(5))}static empty(){return new Ht(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&cn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return cn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ht(new cn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t7(t,e,r){if(!r)throw new St(Je.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function jH(t,e,r,n){if(e===!0&&n===!0)throw new St(Je.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function eT(t){if(!Ht.isDocumentKey(t))throw new St(Je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tT(t){if(Ht.isDocumentKey(t))throw new St(Je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function r7(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function kx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Xt(12329,{type:typeof t})}function ds(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new St(Je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=kx(t);throw new St(Je.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(t,e){const r={typeString:t};return e&&(r.value=e),r}function bm(t,e){if(!r7(t))throw new St(Je.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const a=e[n].typeString,i="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const s=t[n];if(a&&typeof s!==a){r=`JSON field '${n}' must be a ${a}.`;break}if(i!==void 0&&s!==i.value){r=`Expected '${n}' field to equal '${i.value}'`;break}}if(r)throw new St(Je.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=-62135596800,nT=1e6;class Dn{static now(){return Dn.fromMillis(Date.now())}static fromDate(e){return Dn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*nT);return new Dn(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new St(Je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new St(Je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<rT)throw new St(Je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new St(Je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nT}_compareTo(e){return this.seconds===e.seconds?Ir(this.nanoseconds,e.nanoseconds):Ir(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Dn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bm(e,Dn._jsonSchema))return new Dn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Dn._jsonSchemaVersion="firestore/timestamp/1.0",Dn._jsonSchema={type:Na("string",Dn._jsonSchemaVersion),seconds:Na("number"),nanoseconds:Na("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{static fromTimestamp(e){return new rr(e)}static min(){return new rr(new Dn(0,0))}static max(){return new rr(new Dn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp=-1;function VH(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,a=rr.fromTimestamp(n===1e9?new Dn(r+1,0):new Dn(r,n));return new ef(a,Ht.empty(),e)}function zH(t){return new ef(t.readTime,t.key,Lp)}class ef{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new ef(rr.min(),Ht.empty(),Lp)}static max(){return new ef(rr.max(),Ht.empty(),Lp)}}function qH(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ht.comparator(t.documentKey,e.documentKey),r!==0?r:Ir(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Od(t){if(t.code!==Je.FAILED_PRECONDITION||t.message!==HH)throw t;It("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Xt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new rt((n,a)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,a)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,a)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof rt?r:rt.resolve(r)}catch(r){return rt.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):rt.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):rt.reject(r)}static resolve(e){return new rt((r,n)=>{r(e)})}static reject(e){return new rt((r,n)=>{n(e)})}static waitFor(e){return new rt((r,n)=>{let a=0,i=0,s=!1;e.forEach(o=>{++a,o.next(()=>{++i,s&&i===a&&r()},l=>n(l))}),s=!0,i===a&&r()})}static or(e){let r=rt.resolve(!1);for(const n of e)r=r.next(a=>a?rt.resolve(a):n());return r}static forEach(e,r){const n=[];return e.forEach((a,i)=>{n.push(r.call(this,a,i))}),this.waitFor(n)}static mapArray(e,r){return new rt((n,a)=>{const i=e.length,s=new Array(i);let o=0;for(let l=0;l<i;l++){const c=l;r(e[c]).next(u=>{s[c]=u,++o,o===i&&n(s)},u=>a(u))}})}static doWhile(e,r){return new rt((n,a)=>{const i=()=>{e()===!0?r().next(()=>{i()},a):n()};i()})}}function WH(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Fd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nx.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=-1;function Em(t){return t==null}function yv(t){return t===0&&1/t==-1/0}function $H(t){return typeof t=="number"&&Number.isInteger(t)&&!yv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7="";function XH(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=aT(e)),e=KH(t.get(r),e);return aT(e)}function KH(t,e){let r=e;const n=t.length;for(let a=0;a<n;a++){const i=t.charAt(a);switch(i){case"\0":r+="";break;case n7:r+="";break;default:r+=i}}return r}function aT(t){return t+n7+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function gf(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function a7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,r){this.comparator=e,this.root=r||ni.EMPTY}insert(e,r){return new Gn(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ni.BLACK,null,null))}remove(e){return new Gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ni.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cg(this.root,e,this.comparator,!0)}}class Cg{constructor(e,r,n,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=r?n(e.key,r):1,r&&a&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ni{constructor(e,r,n,a,i){this.key=e,this.value=r,this.color=n??ni.RED,this.left=a??ni.EMPTY,this.right=i??ni.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,a,i){return new ni(e??this.key,r??this.value,n??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let a=this;const i=n(e,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(e,r,n),null):i===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(e,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ni.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,a=this;if(r(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(e,a.key)===0){if(a.right.isEmpty())return ni.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ni.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ni.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Xt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Xt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Xt(27949);return e+(this.isRed()?0:1)}}ni.EMPTY=null,ni.RED=!0,ni.BLACK=!1;ni.EMPTY=new class{constructor(){this.size=0}get key(){throw Xt(57766)}get value(){throw Xt(16141)}get color(){throw Xt(16727)}get left(){throw Xt(29726)}get right(){throw Xt(36894)}copy(e,r,n,a,i){return this}insert(e,r,n){return new ni(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this.comparator=e,this.data=new Gn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,e[1])>=0)return;r(a.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new sT(this.data.getIterator())}getIteratorFrom(e){return new sT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Ma)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Ma(this.comparator);return r.data=e,r}}class sT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this.fields=e,e.sort(oi.comparator)}static empty(){return new Vs([])}unionWith(e){let r=new Ma(oi.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Vs(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return pd(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new i7("Invalid base64 string: "+i):i}}(e);return new fi(r)}static fromUint8Array(e){const r=function(a){let i="";for(let s=0;s<a.length;++s)i+=String.fromCharCode(a[s]);return i}(e);return new fi(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ir(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fi.EMPTY_BYTE_STRING=new fi("");const YH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tf(t){if(Mr(!!t,39018),typeof t=="string"){let e=0;const r=YH.exec(t);if(Mr(!!r,46558,{timestamp:t}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),e=Number(a)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:fa(t.seconds),nanos:fa(t.nanos)}}function fa(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function rf(t){return typeof t=="string"?fi.fromBase64String(t):fi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7="server_timestamp",o7="__type__",l7="__previous_value__",c7="__local_write_time__";function E4(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[o7])==null?void 0:n.stringValue)===s7}function Ix(t){const e=t.mapValue.fields[l7];return E4(e)?Ix(e):e}function Dp(t){const e=tf(t.mapValue.fields[c7].timestampValue);return new Dn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{constructor(e,r,n,a,i,s,o,l,c,u,h){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u,this.apiKey=h}}const wv="(default)";class Pp{constructor(e,r){this.projectId=e,this.database=r||wv}static empty(){return new Pp("","")}get isDefaultDatabase(){return this.database===wv}isEqual(e){return e instanceof Pp&&e.projectId===this.projectId&&e.database===this.database}}function JH(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new St(Je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pp(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7="__type__",ZH="__max__",kg={mapValue:{}},f7="__vector__",bv="value";function nf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?E4(t)?4:tG(t)?9007199254740991:eG(t)?10:11:Xt(28295,{value:t})}function Dl(t,e){if(t===e)return!0;const r=nf(t);if(r!==nf(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dp(t).isEqual(Dp(e));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const s=tf(a.timestampValue),o=tf(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,i){return rf(a.bytesValue).isEqual(rf(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,i){return fa(a.geoPointValue.latitude)===fa(i.geoPointValue.latitude)&&fa(a.geoPointValue.longitude)===fa(i.geoPointValue.longitude)}(t,e);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return fa(a.integerValue)===fa(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const s=fa(a.doubleValue),o=fa(i.doubleValue);return s===o?yv(s)===yv(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return pd(t.arrayValue.values||[],e.arrayValue.values||[],Dl);case 10:case 11:return function(a,i){const s=a.mapValue.fields||{},o=i.mapValue.fields||{};if(iT(s)!==iT(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Dl(s[l],o[l])))return!1;return!0}(t,e);default:return Xt(52216,{left:t})}}function Op(t,e){return(t.values||[]).find(r=>Dl(r,e))!==void 0}function md(t,e){if(t===e)return 0;const r=nf(t),n=nf(e);if(r!==n)return Ir(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ir(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=fa(i.integerValue||i.doubleValue),l=fa(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return oT(t.timestampValue,e.timestampValue);case 4:return oT(Dp(t),Dp(e));case 5:return dw(t.stringValue,e.stringValue);case 6:return function(i,s){const o=rf(i),l=rf(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=Ir(o[c],l[c]);if(u!==0)return u}return Ir(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Ir(fa(i.latitude),fa(s.latitude));return o!==0?o:Ir(fa(i.longitude),fa(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return lT(t.arrayValue,e.arrayValue);case 10:return function(i,s){var d,f,p,m;const o=i.fields||{},l=s.fields||{},c=(d=o[bv])==null?void 0:d.arrayValue,u=(f=l[bv])==null?void 0:f.arrayValue,h=Ir(((p=c==null?void 0:c.values)==null?void 0:p.length)||0,((m=u==null?void 0:u.values)==null?void 0:m.length)||0);return h!==0?h:lT(c,u)}(t.mapValue,e.mapValue);case 11:return function(i,s){if(i===kg.mapValue&&s===kg.mapValue)return 0;if(i===kg.mapValue)return 1;if(s===kg.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const d=dw(l[h],u[h]);if(d!==0)return d;const f=md(o[l[h]],c[u[h]]);if(f!==0)return f}return Ir(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Xt(23264,{he:r})}}function oT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ir(t,e);const r=tf(t),n=tf(e),a=Ir(r.seconds,n.seconds);return a!==0?a:Ir(r.nanos,n.nanos)}function lT(t,e){const r=t.values||[],n=e.values||[];for(let a=0;a<r.length&&a<n.length;++a){const i=md(r[a],n[a]);if(i)return i}return Ir(r.length,n.length)}function gd(t){return pw(t)}function pw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=tf(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return rf(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Ht.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",a=!0;for(const i of r.values||[])a?a=!1:n+=",",n+=pw(i);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",i=!0;for(const s of n)i?i=!1:a+=",",a+=`${s}:${pw(r.fields[s])}`;return a+"}"}(t.mapValue):Xt(61005,{value:t})}function b2(t){switch(nf(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ix(t);return e?16+b2(e):16;case 5:return 2*t.stringValue.length;case 6:return rf(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,i)=>a+b2(i),0)}(t.arrayValue);case 10:case 11:return function(n){let a=0;return gf(n.fields,(i,s)=>{a+=i.length+b2(s)}),a}(t.mapValue);default:throw Xt(13486,{value:t})}}function cT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function mw(t){return!!t&&"integerValue"in t}function A4(t){return!!t&&"arrayValue"in t}function uT(t){return!!t&&"nullValue"in t}function fT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function E2(t){return!!t&&"mapValue"in t}function eG(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[u7])==null?void 0:n.stringValue)===f7}function J1(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return gf(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=J1(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=J1(t.arrayValue.values[r]);return e}return{...t}}function tG(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ZH}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.value=e}static empty(){return new Wi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!E2(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=J1(r)}setAll(e){let r=oi.emptyPath(),n={},a=[];e.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,a),n={},a=[],r=o.popLast()}s?n[o.lastSegment()]=J1(s):a.push(o.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,a)}delete(e){const r=this.field(e.popLast());E2(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Dl(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let a=r.mapValue.fields[e.get(n)];E2(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(e,r,n){gf(r,(a,i)=>e[a]=i);for(const a of n)delete e[a]}clone(){return new Wi(J1(this.value))}}function h7(t){const e=[];return gf(t.fields,(r,n)=>{const a=new oi([r]);if(E2(n)){const i=h7(n.mapValue).fields;if(i.length===0)e.push(a);else for(const s of i)e.push(a.child(s))}else e.push(a)}),new Vs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,r,n,a,i,s,o){this.key=e,this.documentType=r,this.version=n,this.readTime=a,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new $a(e,0,rr.min(),rr.min(),rr.min(),Wi.empty(),0)}static newFoundDocument(e,r,n,a){return new $a(e,1,r,rr.min(),n,a,0)}static newNoDocument(e,r){return new $a(e,2,r,rr.min(),rr.min(),Wi.empty(),0)}static newUnknownDocument(e,r){return new $a(e,3,r,rr.min(),rr.min(),Wi.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(rr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $a&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $a(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,r){this.position=e,this.inclusive=r}}function hT(t,e,r){let n=0;for(let a=0;a<t.position.length;a++){const i=e[a],s=t.position[a];if(i.field.isKeyField()?n=Ht.comparator(Ht.fromName(s.referenceValue),r.key):n=md(s,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function dT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Dl(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,r="asc"){this.field=e,this.dir=r}}function rG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{}class Ta extends d7{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new aG(e,r,n):r==="array-contains"?new oG(e,n):r==="in"?new lG(e,n):r==="not-in"?new cG(e,n):r==="array-contains-any"?new uG(e,n):new Ta(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new iG(e,n):new sG(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(md(r,this.value)):r!==null&&nf(this.value)===nf(r)&&this.matchesComparison(md(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jo extends d7{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Jo(e,r)}matches(e){return p7(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function p7(t){return t.op==="and"}function m7(t){return nG(t)&&p7(t)}function nG(t){for(const e of t.filters)if(e instanceof Jo)return!1;return!0}function gw(t){if(t instanceof Ta)return t.field.canonicalString()+t.op.toString()+gd(t.value);if(m7(t))return t.filters.map(e=>gw(e)).join(",");{const e=t.filters.map(r=>gw(r)).join(",");return`${t.op}(${e})`}}function g7(t,e){return t instanceof Ta?function(n,a){return a instanceof Ta&&n.op===a.op&&n.field.isEqual(a.field)&&Dl(n.value,a.value)}(t,e):t instanceof Jo?function(n,a){return a instanceof Jo&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((i,s,o)=>i&&g7(s,a.filters[o]),!0):!1}(t,e):void Xt(19439)}function v7(t){return t instanceof Ta?function(r){return`${r.field.canonicalString()} ${r.op} ${gd(r.value)}`}(t):t instanceof Jo?function(r){return r.op.toString()+" {"+r.getFilters().map(v7).join(" ,")+"}"}(t):"Filter"}class aG extends Ta{constructor(e,r,n){super(e,r,n),this.key=Ht.fromName(n.referenceValue)}matches(e){const r=Ht.comparator(e.key,this.key);return this.matchesComparison(r)}}class iG extends Ta{constructor(e,r){super(e,"in",r),this.keys=x7("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class sG extends Ta{constructor(e,r){super(e,"not-in",r),this.keys=x7("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function x7(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map(n=>Ht.fromName(n.referenceValue))}class oG extends Ta{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return A4(r)&&Op(r.arrayValue,this.value)}}class lG extends Ta{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Op(this.value.arrayValue,r)}}class cG extends Ta{constructor(e,r){super(e,"not-in",r)}matches(e){if(Op(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Op(this.value.arrayValue,r)}}class uG extends Ta{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!A4(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Op(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fG{constructor(e,r=null,n=[],a=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=i,this.startAt=s,this.endAt=o,this.Te=null}}function pT(t,e=null,r=[],n=[],a=null,i=null,s=null){return new fG(t,e,r,n,a,i,s)}function S4(t){const e=cr(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>gw(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),Em(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>gd(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>gd(n)).join(",")),e.Te=r}return e.Te}function T4(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!rG(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!g7(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dT(t.startAt,e.startAt)&&dT(t.endAt,e.endAt)}function vw(t){return Ht.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,r=null,n=[],a=[],i=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function hG(t,e,r,n,a,i,s,o){return new Md(t,e,r,n,a,i,s,o)}function C4(t){return new Md(t)}function mT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dG(t){return Ht.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function _7(t){return t.collectionGroup!==null}function Z1(t){const e=cr(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),r.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Ma(oi.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Fp(i,n))}),r.has(oi.keyField().canonicalString())||e.Ie.push(new Fp(oi.keyField(),n))}return e.Ie}function Rl(t){const e=cr(t);return e.Ee||(e.Ee=pG(e,Z1(t))),e.Ee}function pG(t,e){if(t.limitType==="F")return pT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new Fp(a.field,i)});const r=t.endAt?new Ev(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Ev(t.startAt.position,t.startAt.inclusive):null;return pT(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function xw(t,e){const r=t.filters.concat([e]);return new Md(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function mG(t,e){const r=t.explicitOrderBy.concat([e]);return new Md(t.path,t.collectionGroup,r,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function _w(t,e,r){return new Md(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Rx(t,e){return T4(Rl(t),Rl(e))&&t.limitType===e.limitType}function y7(t){return`${S4(Rl(t))}|lt:${t.limitType}`}function p0(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>v7(a)).join(", ")}]`),Em(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>gd(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>gd(a)).join(",")),`Target(${n})`}(Rl(t))}; limitType=${t.limitType})`}function Lx(t,e){return e.isFoundDocument()&&function(n,a){const i=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Ht.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,a){for(const i of Z1(n))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,a){for(const i of n.filters)if(!i.matches(a))return!1;return!0}(t,e)&&function(n,a){return!(n.startAt&&!function(s,o,l){const c=hT(s,o,l);return s.inclusive?c<=0:c<0}(n.startAt,Z1(n),a)||n.endAt&&!function(s,o,l){const c=hT(s,o,l);return s.inclusive?c>=0:c>0}(n.endAt,Z1(n),a))}(t,e)}function gG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function w7(t){return(e,r)=>{let n=!1;for(const a of Z1(t)){const i=vG(a,e,r);if(i!==0)return i;n=n||a.field.isKeyField()}return 0}}function vG(t,e,r){const n=t.field.isKeyField()?Ht.comparator(e.key,r.key):function(i,s,o){const l=s.data.field(i),c=o.data.field(i);return l!==null&&c!==null?md(l,c):Xt(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Xt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[a,i]of n)if(this.equalsFn(a,e))return i}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],e))return void(a[i]=[e,r]);a.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(e){gf(this.inner,(r,n)=>{for(const[a,i]of n)e(a,i)})}isEmpty(){return a7(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xG=new Gn(Ht.comparator);function Dc(){return xG}const b7=new Gn(Ht.comparator);function R1(...t){let e=b7;for(const r of t)e=e.insert(r.key,r);return e}function E7(t){let e=b7;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Vf(){return ep()}function A7(){return ep()}function ep(){return new Rh(t=>t.toString(),(t,e)=>t.isEqual(e))}const _G=new Gn(Ht.comparator),yG=new Ma(Ht.comparator);function Rr(...t){let e=yG;for(const r of t)e=e.add(r);return e}const wG=new Ma(Ir);function bG(){return wG}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yv(e)?"-0":e}}function S7(t){return{integerValue:""+t}}function EG(t,e){return $H(e)?S7(e):k4(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(){this._=void 0}}function AG(t,e,r){return t instanceof Mp?function(a,i){const s={fields:{[o7]:{stringValue:s7},[c7]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&E4(i)&&(i=Ix(i)),i&&(s.fields[l7]=i),{mapValue:s}}(r,e):t instanceof Bp?C7(t,e):t instanceof Up?k7(t,e):function(a,i){const s=T7(a,i),o=gT(s)+gT(a.Ae);return mw(s)&&mw(a.Ae)?S7(o):k4(a.serializer,o)}(t,e)}function SG(t,e,r){return t instanceof Bp?C7(t,e):t instanceof Up?k7(t,e):r}function T7(t,e){return t instanceof Av?function(n){return mw(n)||function(i){return!!i&&"doubleValue"in i}(n)}(e)?e:{integerValue:0}:null}class Mp extends Dx{}class Bp extends Dx{constructor(e){super(),this.elements=e}}function C7(t,e){const r=N7(e);for(const n of t.elements)r.some(a=>Dl(a,n))||r.push(n);return{arrayValue:{values:r}}}class Up extends Dx{constructor(e){super(),this.elements=e}}function k7(t,e){let r=N7(e);for(const n of t.elements)r=r.filter(a=>!Dl(a,n));return{arrayValue:{values:r}}}class Av extends Dx{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function gT(t){return fa(t.integerValue||t.doubleValue)}function N7(t){return A4(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(e,r){this.field=e,this.transform=r}}function CG(t,e){return t.field.isEqual(e.field)&&function(n,a){return n instanceof Bp&&a instanceof Bp||n instanceof Up&&a instanceof Up?pd(n.elements,a.elements,Dl):n instanceof Av&&a instanceof Av?Dl(n.Ae,a.Ae):n instanceof Mp&&a instanceof Mp}(t.transform,e.transform)}class kG{constructor(e,r){this.version=e,this.transformResults=r}}class Ca{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Ca}static exists(e){return new Ca(void 0,e)}static updateTime(e){return new Ca(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function A2(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Px{}function I7(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sm(t.key,Ca.none()):new Am(t.key,t.data,Ca.none());{const r=t.data,n=Wi.empty();let a=new Ma(oi.comparator);for(let i of e.fields)if(!a.has(i)){let s=r.field(i);s===null&&i.length>1&&(i=i.popLast(),s=r.field(i)),s===null?n.delete(i):n.set(i,s),a=a.add(i)}return new vf(t.key,n,new Vs(a.toArray()),Ca.none())}}function NG(t,e,r){t instanceof Am?function(a,i,s){const o=a.value.clone(),l=xT(a.fieldTransforms,i,s.transformResults);o.setAll(l),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,r):t instanceof vf?function(a,i,s){if(!A2(a.precondition,i))return void i.convertToUnknownDocument(s.version);const o=xT(a.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(R7(a)),l.setAll(o),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,r):function(a,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function tp(t,e,r,n){return t instanceof Am?function(i,s,o,l){if(!A2(i.precondition,s))return o;const c=i.value.clone(),u=_T(i.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof vf?function(i,s,o,l){if(!A2(i.precondition,s))return o;const c=_T(i.fieldTransforms,l,s),u=s.data;return u.setAll(R7(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,r,n):function(i,s,o){return A2(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,r)}function IG(t,e){let r=null;for(const n of t.fieldTransforms){const a=e.data.field(n.field),i=T7(n.transform,a||null);i!=null&&(r===null&&(r=Wi.empty()),r.set(n.field,i))}return r||null}function vT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&pd(n,a,(i,s)=>CG(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Am extends Px{constructor(e,r,n,a=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class vf extends Px{constructor(e,r,n,a,i=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function R7(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function xT(t,e,r){const n=new Map;Mr(t.length===r.length,32656,{Ve:r.length,de:t.length});for(let a=0;a<r.length;a++){const i=t[a],s=i.transform,o=e.data.field(i.field);n.set(i.field,SG(s,o,r[a]))}return n}function _T(t,e,r){const n=new Map;for(const a of t){const i=a.transform,s=r.data.field(a.field);n.set(a.field,AG(i,s,e))}return n}class Sm extends Px{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L7 extends Px{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(e,r,n,a){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(e.key)&&NG(i,e,n[a])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=tp(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=tp(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=A7();return this.mutations.forEach(a=>{const i=e.get(a.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=r.has(a.key)?null:o;const l=I7(s,o);l!==null&&n.set(a.key,l),s.isValidDocument()||s.convertToNoDocument(rr.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Rr())}isEqual(e){return this.batchId===e.batchId&&pd(this.mutations,e.mutations,(r,n)=>vT(r,n))&&pd(this.baseMutations,e.baseMutations,(r,n)=>vT(r,n))}}class N4{constructor(e,r,n,a){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(e,r,n){Mr(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let a=function(){return _G}();const i=e.mutations;for(let s=0;s<i.length;s++)a=a.insert(i[s].key,n[s].version);return new N4(e,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ya,Fr;function D7(t){switch(t){case Je.OK:return Xt(64938);case Je.CANCELLED:case Je.UNKNOWN:case Je.DEADLINE_EXCEEDED:case Je.RESOURCE_EXHAUSTED:case Je.INTERNAL:case Je.UNAVAILABLE:case Je.UNAUTHENTICATED:return!1;case Je.INVALID_ARGUMENT:case Je.NOT_FOUND:case Je.ALREADY_EXISTS:case Je.PERMISSION_DENIED:case Je.FAILED_PRECONDITION:case Je.ABORTED:case Je.OUT_OF_RANGE:case Je.UNIMPLEMENTED:case Je.DATA_LOSS:return!0;default:return Xt(15467,{code:t})}}function P7(t){if(t===void 0)return Lc("GRPC error has no .code"),Je.UNKNOWN;switch(t){case ya.OK:return Je.OK;case ya.CANCELLED:return Je.CANCELLED;case ya.UNKNOWN:return Je.UNKNOWN;case ya.DEADLINE_EXCEEDED:return Je.DEADLINE_EXCEEDED;case ya.RESOURCE_EXHAUSTED:return Je.RESOURCE_EXHAUSTED;case ya.INTERNAL:return Je.INTERNAL;case ya.UNAVAILABLE:return Je.UNAVAILABLE;case ya.UNAUTHENTICATED:return Je.UNAUTHENTICATED;case ya.INVALID_ARGUMENT:return Je.INVALID_ARGUMENT;case ya.NOT_FOUND:return Je.NOT_FOUND;case ya.ALREADY_EXISTS:return Je.ALREADY_EXISTS;case ya.PERMISSION_DENIED:return Je.PERMISSION_DENIED;case ya.FAILED_PRECONDITION:return Je.FAILED_PRECONDITION;case ya.ABORTED:return Je.ABORTED;case ya.OUT_OF_RANGE:return Je.OUT_OF_RANGE;case ya.UNIMPLEMENTED:return Je.UNIMPLEMENTED;case ya.DATA_LOSS:return Je.DATA_LOSS;default:return Xt(39323,{code:t})}}(Fr=ya||(ya={}))[Fr.OK=0]="OK",Fr[Fr.CANCELLED=1]="CANCELLED",Fr[Fr.UNKNOWN=2]="UNKNOWN",Fr[Fr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fr[Fr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fr[Fr.NOT_FOUND=5]="NOT_FOUND",Fr[Fr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fr[Fr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fr[Fr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fr[Fr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fr[Fr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fr[Fr.ABORTED=10]="ABORTED",Fr[Fr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fr[Fr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fr[Fr.INTERNAL=13]="INTERNAL",Fr[Fr.UNAVAILABLE=14]="UNAVAILABLE",Fr[Fr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PG(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OG=new Gu([4294967295,4294967295],0);function yT(t){const e=PG().encode(t),r=new $R;return r.update(e),new Uint8Array(r.digest())}function wT(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),a=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Gu([r,n],0),new Gu([a,i],0)]}class I4{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new L1(`Invalid padding: ${r}`);if(n<0)throw new L1(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new L1(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new L1(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Gu.fromNumber(this.ge)}ye(e,r,n){let a=e.add(r.multiply(Gu.fromNumber(n)));return a.compare(OG)===1&&(a=new Gu([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=yT(e),[n,a]=wT(r);for(let i=0;i<this.hashCount;i++){const s=this.ye(n,a,i);if(!this.we(s))return!1}return!0}static create(e,r,n){const a=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new I4(i,a,r);return n.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const r=yT(e),[n,a]=wT(r);for(let i=0;i<this.hashCount;i++){const s=this.ye(n,a,i);this.be(s)}}be(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class L1 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,r,n,a,i){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const a=new Map;return a.set(e,Tm.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Ox(rr.min(),a,new Gn(Ir),Dc(),Rr())}}class Tm{constructor(e,r,n,a,i){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Tm(n,r,Rr(),Rr(),Rr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,r,n,a){this.Se=e,this.removedTargetIds=r,this.key=n,this.De=a}}class O7{constructor(e,r){this.targetId=e,this.Ce=r}}class F7{constructor(e,r,n=fi.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=a}}class bT{constructor(){this.ve=0,this.Fe=ET(),this.Me=fi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Rr(),r=Rr(),n=Rr();return this.Fe.forEach((a,i)=>{switch(i){case 0:e=e.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:Xt(38017,{changeType:i})}}),new Tm(this.Me,this.xe,e,r,n)}Ke(){this.Oe=!1,this.Fe=ET()}qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Mr(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class FG{constructor(e){this.Ge=e,this.ze=new Map,this.je=Dc(),this.He=Ng(),this.Je=Ng(),this.Ze=new Gn(Ir)}Xe(e){for(const r of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.We(),n.Ne||n.Ke(),n.Le(e.resumeToken);break;case 2:n.We(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.Qe(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:Xt(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((n,a)=>{this.rt(a)&&r(a)})}st(e){const r=e.targetId,n=e.Ce.count,a=this.ot(r);if(a){const i=a.target;if(vw(i))if(n===0){const s=new Ht(i.path);this.et(r,s,$a.newNoDocument(s,rr.min()))}else Mr(n===1,20013,{expectedCount:n});else{const s=this._t(r);if(s!==n){const o=this.ut(e),l=o?this.ct(o,e,s):1;if(l!==0){this.it(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,c)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:i=0}=r;let s,o;try{s=rf(n).toUint8Array()}catch(l){if(l instanceof i7)return dh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new I4(s,a,i)}catch(l){return dh(l instanceof L1?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let a=0;return n.forEach(i=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;e.mightContain(o)||(this.et(r,i,null),a++)}),a}Tt(e){const r=new Map;this.ze.forEach((i,s)=>{const o=this.ot(s);if(o){if(i.current&&vw(o.target)){const l=new Ht(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,$a.newNoDocument(l,e))}i.Be&&(r.set(s,i.ke()),i.Ke())}});let n=Rr();this.Je.forEach((i,s)=>{let o=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(i))}),this.je.forEach((i,s)=>s.setReadTime(e));const a=new Ox(e,r,this.Ze,this.je,n);return this.je=Dc(),this.He=Ng(),this.Je=Ng(),this.Ze=new Gn(Ir),a}Ye(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).qe(r.key,n),this.je=this.je.insert(r.key,r),this.He=this.He.insert(r.key,this.It(r.key).add(e)),this.Je=this.Je.insert(r.key,this.Rt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,r)?a.qe(r,1):a.Ue(r),this.Je=this.Je.insert(r,this.Rt(r).delete(e)),this.Je=this.Je.insert(r,this.Rt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let r=this.ze.get(e);return r||(r=new bT,this.ze.set(e,r)),r}Rt(e){let r=this.Je.get(e);return r||(r=new Ma(Ir),this.Je=this.Je.insert(e,r)),r}It(e){let r=this.He.get(e);return r||(r=new Ma(Ir),this.He=this.He.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||It("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new bT),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function Ng(){return new Gn(Ht.comparator)}function ET(){return new Gn(Ht.comparator)}const MG={asc:"ASCENDING",desc:"DESCENDING"},BG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UG={and:"AND",or:"OR"};class jG{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function yw(t,e){return t.useProto3Json||Em(e)?e:{value:e}}function Sv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function M7(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function VG(t,e){return Sv(t,e.toTimestamp())}function Xs(t){return Mr(!!t,49232),rr.fromTimestamp(function(r){const n=tf(r);return new Dn(n.seconds,n.nanos)}(t))}function R4(t,e){return ww(t,e).canonicalString()}function ww(t,e){const r=function(a){return new cn(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?r:r.child(e)}function B7(t){const e=cn.fromString(t);return Mr(H7(e),10190,{key:e.toString()}),e}function Tv(t,e){return R4(t.databaseId,e.path)}function rp(t,e){const r=B7(e);if(r.get(1)!==t.databaseId.projectId)throw new St(Je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new St(Je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ht(j7(r))}function U7(t,e){return R4(t.databaseId,e)}function zG(t){const e=B7(t);return e.length===4?cn.emptyPath():j7(e)}function bw(t){return new cn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function j7(t){return Mr(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function AT(t,e,r){return{name:Tv(t,e),fields:r.value.mapValue.fields}}function qG(t,e){return"found"in e?function(n,a){Mr(!!a.found,43571),a.found.name,a.found.updateTime;const i=rp(n,a.found.name),s=Xs(a.found.updateTime),o=a.found.createTime?Xs(a.found.createTime):rr.min(),l=new Wi({mapValue:{fields:a.found.fields}});return $a.newFoundDocument(i,s,o,l)}(t,e):"missing"in e?function(n,a){Mr(!!a.missing,3894),Mr(!!a.readTime,22933);const i=rp(n,a.missing),s=Xs(a.readTime);return $a.newNoDocument(i,s)}(t,e):Xt(7234,{result:e})}function HG(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Xt(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Mr(u===void 0||typeof u=="string",58123),fi.fromBase64String(u||"")):(Mr(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),fi.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(c){const u=c.code===void 0?Je.UNKNOWN:P7(c.code);return new St(u,c.message||"")}(s);r=new F7(n,a,i,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const a=rp(t,n.document.name),i=Xs(n.document.updateTime),s=n.document.createTime?Xs(n.document.createTime):rr.min(),o=new Wi({mapValue:{fields:n.document.fields}}),l=$a.newFoundDocument(a,i,s,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new S2(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const a=rp(t,n.document),i=n.readTime?Xs(n.readTime):rr.min(),s=$a.newNoDocument(a,i),o=n.removedTargetIds||[];r=new S2([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const a=rp(t,n.document),i=n.removedTargetIds||[];r=new S2([],i,a,null)}else{if(!("filter"in e))return Xt(11601,{Vt:e});{e.filter;const n=e.filter;n.targetId;const{count:a=0,unchangedNames:i}=n,s=new DG(a,i),o=n.targetId;r=new O7(o,s)}}return r}function V7(t,e){let r;if(e instanceof Am)r={update:AT(t,e.key,e.value)};else if(e instanceof Sm)r={delete:Tv(t,e.key)};else if(e instanceof vf)r={update:AT(t,e.key,e.data),updateMask:ZG(e.fieldMask)};else{if(!(e instanceof L7))return Xt(16599,{dt:e.type});r={verify:Tv(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(i,s){const o=s.transform;if(o instanceof Mp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Bp)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Up)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Av)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw Xt(20930,{transform:s.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:VG(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Xt(27497)}(t,e.precondition)),r}function GG(t,e){return t&&t.length>0?(Mr(e!==void 0,14353),t.map(r=>function(a,i){let s=a.updateTime?Xs(a.updateTime):Xs(i);return s.isEqual(rr.min())&&(s=Xs(i)),new kG(s,a.transformResults||[])}(r,e))):[]}function WG(t,e){return{documents:[U7(t,e.path)]}}function $G(t,e){const r={structuredQuery:{}},n=e.path;let a;e.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=U7(t,a);const i=function(c){if(c.length!==0)return q7(Jo.create(c,"and"))}(e.filters);i&&(r.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:m0(d.field),direction:YG(d.dir)}}(u))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const o=yw(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:r,parent:a}}function XG(t){let e=zG(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){Mr(n===1,65062);const u=r.from[0];u.allDescendants?a=u.collectionId:e=e.child(u.collectionId)}let i=[];r.where&&(i=function(h){const d=z7(h);return d instanceof Jo&&m7(d)?d.getFilters():[d]}(r.where));let s=[];r.orderBy&&(s=function(h){return h.map(d=>function(p){return new Fp(g0(p.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(r.orderBy));let o=null;r.limit&&(o=function(h){let d;return d=typeof h=="object"?h.value:h,Em(d)?null:d}(r.limit));let l=null;r.startAt&&(l=function(h){const d=!!h.before,f=h.values||[];return new Ev(f,d)}(r.startAt));let c=null;return r.endAt&&(c=function(h){const d=!h.before,f=h.values||[];return new Ev(f,d)}(r.endAt)),hG(e,a,s,i,o,"F",l,c)}function KG(t,e){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xt(28987,{purpose:a})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function z7(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=g0(r.unaryFilter.field);return Ta.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=g0(r.unaryFilter.field);return Ta.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=g0(r.unaryFilter.field);return Ta.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=g0(r.unaryFilter.field);return Ta.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Xt(61313);default:return Xt(60726)}}(t):t.fieldFilter!==void 0?function(r){return Ta.create(g0(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Xt(58110);default:return Xt(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Jo.create(r.compositeFilter.filters.map(n=>z7(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Xt(1026)}}(r.compositeFilter.op))}(t):Xt(30097,{filter:t})}function YG(t){return MG[t]}function QG(t){return BG[t]}function JG(t){return UG[t]}function m0(t){return{fieldPath:t.canonicalString()}}function g0(t){return oi.fromServerFormat(t.fieldPath)}function q7(t){return t instanceof Ta?function(r){if(r.op==="=="){if(fT(r.value))return{unaryFilter:{field:m0(r.field),op:"IS_NAN"}};if(uT(r.value))return{unaryFilter:{field:m0(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(fT(r.value))return{unaryFilter:{field:m0(r.field),op:"IS_NOT_NAN"}};if(uT(r.value))return{unaryFilter:{field:m0(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:m0(r.field),op:QG(r.op),value:r.value}}}(t):t instanceof Jo?function(r){const n=r.getFilters().map(a=>q7(a));return n.length===1?n[0]:{compositeFilter:{op:JG(r.op),filters:n}}}(t):Xt(54877,{filter:t})}function ZG(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function H7(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function G7(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,r,n,a,i=rr.min(),s=rr.min(),o=fi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Nu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Nu(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Nu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Nu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eW{constructor(e){this.yt=e}}function tW(t){const e=XG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_w(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rW{constructor(){this.Sn=new nW}addToCollectionParentIndex(e,r){return this.Sn.add(r),rt.resolve()}getCollectionParents(e,r){return rt.resolve(this.Sn.getEntries(r))}addFieldIndex(e,r){return rt.resolve()}deleteFieldIndex(e,r){return rt.resolve()}deleteAllFieldIndexes(e){return rt.resolve()}createTargetIndexes(e,r){return rt.resolve()}getDocumentsMatchingTarget(e,r){return rt.resolve(null)}getIndexType(e,r){return rt.resolve(0)}getFieldIndexes(e,r){return rt.resolve([])}getNextCollectionGroupToUpdate(e){return rt.resolve(null)}getMinOffset(e,r){return rt.resolve(ef.min())}getMinOffsetFromCollectionGroup(e,r){return rt.resolve(ef.min())}updateCollectionGroup(e,r,n){return rt.resolve()}updateIndexEntries(e,r){return rt.resolve()}}class nW{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r]||new Ma(cn.comparator),i=!a.has(n);return this.index[r]=a.add(n),i}has(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(e){return(this.index[e]||new Ma(cn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},W7=41943040;class cs{static withCacheSize(e){return new cs(e,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cs.DEFAULT_COLLECTION_PERCENTILE=10,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cs.DEFAULT=new cs(W7,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cs.DISABLED=new cs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new vd(0)}static ar(){return new vd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="LruGarbageCollector",aW=1048576;function CT([t,e],[r,n]){const a=Ir(t,r);return a===0?Ir(e,n):a}class iW{constructor(e){this.Pr=e,this.buffer=new Ma(CT),this.Tr=0}Ir(){return++this.Tr}Er(e){const r=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();CT(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class sW{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){It(TT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Fd(r)?It(TT,"Ignoring IndexedDB error during garbage collection: ",r):await Od(r)}await this.Ar(3e5)})}}class oW{constructor(e,r){this.Vr=e,this.params=r}calculateTargetCount(e,r){return this.Vr.dr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return rt.resolve(Nx.ce);const n=new iW(r);return this.Vr.forEachTarget(e,a=>n.Er(a.sequenceNumber)).next(()=>this.Vr.mr(e,a=>n.Er(a))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.Vr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Vr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(It("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(ST)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(It("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ST):this.gr(e,r))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,r){let n,a,i,s,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(It("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),a=this.params.maximumSequenceNumbersToCollect):a=h,s=Date.now(),this.nthSequenceNumber(e,a))).next(h=>(n=h,o=Date.now(),this.removeTargets(e,n,r))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(h=>(c=Date.now(),d0()<=Cr.DEBUG&&It("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${a} in `+(o-s)+`ms
	Removed ${i} targets in `+(l-o)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:h})))}}function lW(t,e){return new oW(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(){this.changes=new Rh(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,$a.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?rt.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(e,r,n,a){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(e,r))).next(a=>(n!==null&&tp(n.mutation,a,Vs.empty(),Dn.now()),a))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Rr()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Rr()){const a=Vf();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,n).next(i=>{let s=R1();return i.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const n=Vf();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Rr()))}populateOverlays(e,r,n){const a=[];return n.forEach(i=>{r.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(e,a).next(i=>{i.forEach((s,o)=>{r.set(s,o)})})}computeViews(e,r,n,a){let i=Dc();const s=ep(),o=function(){return ep()}();return r.forEach((l,c)=>{const u=n.get(c.key);a.has(c.key)&&(u===void 0||u.mutation instanceof vf)?i=i.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),tp(u.mutation,c,u.mutation.getFieldMask(),Dn.now())):s.set(c.key,Vs.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>s.set(c,u)),r.forEach((c,u)=>o.set(c,new uW(u,s.get(c)??null))),o))}recalculateAndSaveOverlays(e,r){const n=ep();let a=new Gn((s,o)=>s-o),i=Rr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||Vs.empty();u=o.applyToLocalView(c,u),n.set(l,u);const h=(a.get(o.batchId)||Rr()).add(l);a=a.insert(o.batchId,h)})}).next(()=>{const s=[],o=a.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,h=A7();u.forEach(d=>{if(!i.has(d)){const f=I7(r.get(d),n.get(d));f!==null&&h.set(d,f),i=i.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,h))}return rt.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,a){return dG(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):_7(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,a):this.getDocumentsMatchingCollectionQuery(e,r,n,a)}getNextDocuments(e,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,a).next(i=>{const s=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,a-i.size):rt.resolve(Vf());let o=Lp,l=i;return s.next(c=>rt.forEach(c,(u,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),i.get(u)?rt.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Rr())).next(u=>({batchId:o,changes:E7(u)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ht(r)).next(n=>{let a=R1();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(e,r,n,a){const i=r.collectionGroup;let s=R1();return this.indexManager.getCollectionParents(e,i).next(o=>rt.forEach(o,l=>{const c=function(h,d){return new Md(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,n,a).next(u=>{u.forEach((h,d)=>{s=s.insert(h,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n,a){let i;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,i,a))).next(s=>{i.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,$a.newInvalidDocument(u)))});let o=R1();return s.forEach((l,c)=>{const u=i.get(l);u!==void 0&&tp(u.mutation,c,Vs.empty(),Dn.now()),Lx(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,r){return rt.resolve(this.Nr.get(r))}saveBundleMetadata(e,r){return this.Nr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:Xs(a.createTime)}}(r)),rt.resolve()}getNamedQuery(e,r){return rt.resolve(this.Br.get(r))}saveNamedQuery(e,r){return this.Br.set(r.name,function(a){return{name:a.name,query:tW(a.bundledQuery),readTime:Xs(a.readTime)}}(r)),rt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dW{constructor(){this.overlays=new Gn(Ht.comparator),this.Lr=new Map}getOverlay(e,r){return rt.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Vf();return rt.forEach(r,a=>this.getOverlay(e,a).next(i=>{i!==null&&n.set(a,i)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((a,i)=>{this.bt(e,r,i)}),rt.resolve()}removeOverlaysForBatchId(e,r,n){const a=this.Lr.get(n);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.Lr.delete(n)),rt.resolve()}getOverlaysForCollection(e,r,n){const a=Vf(),i=r.length+1,s=new Ht(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>n&&a.set(l.getKey(),l)}return rt.resolve(a)}getOverlaysForCollectionGroup(e,r,n,a){let i=new Gn((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=i.get(c.largestBatchId);u===null&&(u=Vf(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=Vf(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=a)););return rt.resolve(o)}bt(e,r,n){const a=this.overlays.get(n.key);if(a!==null){const s=this.Lr.get(a.largestBatchId).delete(n.key);this.Lr.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new LG(r,n));let i=this.Lr.get(r);i===void 0&&(i=Rr(),this.Lr.set(r,i)),this.Lr.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pW{constructor(){this.sessionToken=fi.EMPTY_BYTE_STRING}getSessionToken(e){return rt.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,rt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(){this.kr=new Ma(za.Kr),this.qr=new Ma(za.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,r){const n=new za(e,r);this.kr=this.kr.add(n),this.qr=this.qr.add(n)}$r(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Wr(new za(e,r))}Qr(e,r){e.forEach(n=>this.removeReference(n,r))}Gr(e){const r=new Ht(new cn([])),n=new za(r,e),a=new za(r,e+1),i=[];return this.qr.forEachInRange([n,a],s=>{this.Wr(s),i.push(s.key)}),i}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const r=new Ht(new cn([])),n=new za(r,e),a=new za(r,e+1);let i=Rr();return this.qr.forEachInRange([n,a],s=>{i=i.add(s.key)}),i}containsKey(e){const r=new za(e,0),n=this.kr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class za{constructor(e,r){this.key=e,this.Hr=r}static Kr(e,r){return Ht.comparator(e.key,r.key)||Ir(e.Hr,r.Hr)}static Ur(e,r){return Ir(e.Hr,r.Hr)||Ht.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Yn=1,this.Jr=new Ma(za.Kr)}checkEmpty(e){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,a){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new RG(i,r,n,a);this.mutationQueue.push(s);for(const o of a)this.Jr=this.Jr.add(new za(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return rt.resolve(s)}lookupMutationBatch(e,r){return rt.resolve(this.Zr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,a=this.Xr(n),i=a<0?0:a;return rt.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?b4:this.Yn-1)}getAllMutationBatches(e){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new za(r,0),a=new za(r,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([n,a],s=>{const o=this.Zr(s.Hr);i.push(o)}),rt.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Ma(Ir);return r.forEach(a=>{const i=new za(a,0),s=new za(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([i,s],o=>{n=n.add(o.Hr)})}),rt.resolve(this.Yr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,a=n.length+1;let i=n;Ht.isDocumentKey(i)||(i=i.child(""));const s=new za(new Ht(i),0);let o=new Ma(Ir);return this.Jr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===a&&(o=o.add(l.Hr)),!0)},s),rt.resolve(this.Yr(o))}Yr(e){const r=[];return e.forEach(n=>{const a=this.Zr(n);a!==null&&r.push(a)}),r}removeMutationBatch(e,r){Mr(this.ei(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Jr;return rt.forEach(r.mutations,a=>{const i=new za(a.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Jr=n})}nr(e){}containsKey(e,r){const n=new za(r,0),a=this.Jr.firstAfterOrEqual(n);return rt.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,rt.resolve()}ei(e,r){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const r=this.Xr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gW{constructor(e){this.ti=e,this.docs=function(){return new Gn(Ht.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,a=this.docs.get(n),i=a?a.size:0,s=this.ti(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return rt.resolve(n?n.document.mutableCopy():$a.newInvalidDocument(r))}getEntries(e,r){let n=Dc();return r.forEach(a=>{const i=this.docs.get(a);n=n.insert(a,i?i.document.mutableCopy():$a.newInvalidDocument(a))}),rt.resolve(n)}getDocumentsMatchingQuery(e,r,n,a){let i=Dc();const s=r.path,o=new Ht(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||qH(zH(u),n)<=0||(a.has(u.key)||Lx(r,u))&&(i=i.insert(u.key,u.mutableCopy()))}return rt.resolve(i)}getAllFromCollectionGroup(e,r,n,a){Xt(9500)}ni(e,r){return rt.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new vW(this)}getSize(e){return rt.resolve(this.size)}}class vW extends cW{constructor(e){super(),this.Mr=e}applyChanges(e){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(n)}),rt.waitFor(r)}getFromCache(e,r){return this.Mr.getEntry(e,r)}getAllFromCache(e,r){return this.Mr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(e){this.persistence=e,this.ri=new Rh(r=>S4(r),T4),this.lastRemoteSnapshotVersion=rr.min(),this.highestTargetId=0,this.ii=0,this.si=new L4,this.targetCount=0,this.oi=vd._r()}forEachTarget(e,r){return this.ri.forEach((n,a)=>r(a)),rt.resolve()}getLastRemoteSnapshotVersion(e){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return rt.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ii&&(this.ii=r),rt.resolve()}lr(e){this.ri.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.oi=new vd(r),this.highestTargetId=r),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,r){return this.lr(r),this.targetCount+=1,rt.resolve()}updateTargetData(e,r){return this.lr(r),rt.resolve()}removeTargetData(e,r){return this.ri.delete(r.target),this.si.Gr(r.targetId),this.targetCount-=1,rt.resolve()}removeTargets(e,r,n){let a=0;const i=[];return this.ri.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.ri.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),a++)}),rt.waitFor(i).next(()=>a)}getTargetCount(e){return rt.resolve(this.targetCount)}getTargetData(e,r){const n=this.ri.get(r)||null;return rt.resolve(n)}addMatchingKeys(e,r,n){return this.si.$r(r,n),rt.resolve()}removeMatchingKeys(e,r,n){this.si.Qr(r,n);const a=this.persistence.referenceDelegate,i=[];return a&&r.forEach(s=>{i.push(a.markPotentiallyOrphaned(e,s))}),rt.waitFor(i)}removeMatchingKeysForTargetId(e,r){return this.si.Gr(r),rt.resolve()}getMatchingKeysForTargetId(e,r){const n=this.si.jr(r);return rt.resolve(n)}containsKey(e,r){return rt.resolve(this.si.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(e,r){this._i={},this.overlays={},this.ai=new Nx(0),this.ui=!1,this.ui=!0,this.ci=new pW,this.referenceDelegate=e(this),this.li=new xW(this),this.indexManager=new rW,this.remoteDocumentCache=function(a){return new gW(a)}(n=>this.referenceDelegate.hi(n)),this.serializer=new eW(r),this.Pi=new hW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new dW,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this._i[e.toKey()];return n||(n=new mW(r,this.referenceDelegate),this._i[e.toKey()]=n),n}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,r,n){It("MemoryPersistence","Starting transaction:",e);const a=new _W(this.ai.next());return this.referenceDelegate.Ti(),n(a).next(i=>this.referenceDelegate.Ii(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Ei(e,r){return rt.or(Object.values(this._i).map(n=>()=>n.containsKey(e,r)))}}class _W extends GH{constructor(e){super(),this.currentSequenceNumber=e}}class D4{constructor(e){this.persistence=e,this.Ri=new L4,this.Ai=null}static Vi(e){return new D4(e)}get di(){if(this.Ai)return this.Ai;throw Xt(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.di.delete(n.toString()),rt.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.di.add(n.toString()),rt.resolve()}markPotentiallyOrphaned(e,r){return this.di.add(r.toString()),rt.resolve()}removeTarget(e,r){this.Ri.Gr(r.targetId).forEach(a=>this.di.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(a=>{a.forEach(i=>this.di.add(i.toString()))}).next(()=>n.removeTargetData(e,r))}Ti(){this.Ai=new Set}Ii(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.di,n=>{const a=Ht.fromPath(n);return this.mi(e,a).next(i=>{i||r.removeEntry(a,rr.min())})}).next(()=>(this.Ai=null,r.apply(e)))}updateLimboDocument(e,r){return this.mi(e,r).next(n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())})}hi(e){return 0}mi(e,r){return rt.or([()=>rt.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ei(e,r)])}}class Cv{constructor(e,r){this.persistence=e,this.fi=new Rh(n=>XH(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=lW(this,r)}static Vi(e,r){return new Cv(e,r)}Ti(){}Ii(e){return rt.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}dr(e){const r=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(a=>n+a))}pr(e){let r=0;return this.mr(e,n=>{r++}).next(()=>r)}mr(e,r){return rt.forEach(this.fi,(n,a)=>this.wr(e,n,a).next(i=>i?rt.resolve():r(a)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.ni(e,s=>this.wr(e,s,r).next(o=>{o||(n++,i.removeEntry(s,rr.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.fi.set(r,e.currentSequenceNumber),rt.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.fi.set(n,e.currentSequenceNumber),rt.resolve()}removeReference(e,r,n){return this.fi.set(n,e.currentSequenceNumber),rt.resolve()}updateLimboDocument(e,r){return this.fi.set(r,e.currentSequenceNumber),rt.resolve()}hi(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=b2(e.data.value)),r}wr(e,r,n){return rt.or([()=>this.persistence.Ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const a=this.fi.get(r);return rt.resolve(a!==void 0&&a>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,r,n,a){this.targetId=e,this.fromCache=r,this.Ts=n,this.Is=a}static Es(e,r){let n=Rr(),a=Rr();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new P4(e,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wW{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return Gj()?8:WH(Ni())>0?6:4}()}initialize(e,r){this.fs=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,a){const i={result:null};return this.gs(e,r).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.ps(e,r,a,n).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new yW;return this.ys(e,r,s).next(o=>{if(i.result=o,this.As)return this.ws(e,r,s,o.size)})}).next(()=>i.result)}ws(e,r,n,a){return n.documentReadCount<this.Vs?(d0()<=Cr.DEBUG&&It("QueryEngine","SDK will not create cache indexes for query:",p0(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),rt.resolve()):(d0()<=Cr.DEBUG&&It("QueryEngine","Query:",p0(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ds*a?(d0()<=Cr.DEBUG&&It("QueryEngine","The SDK decides to create cache indexes for query:",p0(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rl(r))):rt.resolve())}gs(e,r){if(mT(r))return rt.resolve(null);let n=Rl(r);return this.indexManager.getIndexType(e,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=_w(r,null,"F"),n=Rl(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const s=Rr(...i);return this.fs.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.bs(r,o);return this.Ss(r,c,s,l.readTime)?this.gs(e,_w(r,null,"F")):this.Ds(e,c,r,l)}))})))}ps(e,r,n,a){return mT(r)||a.isEqual(rr.min())?rt.resolve(null):this.fs.getDocuments(e,n).next(i=>{const s=this.bs(r,i);return this.Ss(r,s,n,a)?rt.resolve(null):(d0()<=Cr.DEBUG&&It("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),p0(r)),this.Ds(e,s,r,VH(a,Lp)).next(o=>o))})}bs(e,r){let n=new Ma(w7(e));return r.forEach((a,i)=>{Lx(e,i)&&(n=n.add(i))}),n}Ss(e,r,n,a){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const i=e.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}ys(e,r,n){return d0()<=Cr.DEBUG&&It("QueryEngine","Using full collection scan to execute query:",p0(r)),this.fs.getDocumentsMatchingQuery(e,r,ef.min(),n)}Ds(e,r,n,a){return this.fs.getDocumentsMatchingQuery(e,n,a).next(i=>(r.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4="LocalStore",bW=3e8;class EW{constructor(e,r,n,a){this.persistence=e,this.Cs=r,this.serializer=a,this.vs=new Gn(Ir),this.Fs=new Rh(i=>S4(i),T4),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(n)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fW(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.vs))}}function AW(t,e,r,n){return new EW(t,e,r,n)}async function X7(t,e){const r=cr(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(i=>(a=i,r.Os(e),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const s=[],o=[];let l=Rr();for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ns:c,removedBatchIds:s,addedBatchIds:o}))})})}function SW(t,e){const r=cr(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=e.batch.keys(),i=r.xs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const h=c.batch,d=h.keys();let f=rt.resolve();return d.forEach(p=>{f=f.next(()=>u.getEntry(l,p)).next(m=>{const _=c.docVersions.get(p);Mr(_!==null,48541),m.version.compareTo(_)<0&&(h.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(l,h))}(r,n,e,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Rr();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,a))})}function K7(t){const e=cr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.li.getLastRemoteSnapshotVersion(r))}function TW(t,e){const r=cr(t),n=e.snapshotVersion;let a=r.vs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=r.xs.newChangeBuffer({trackRemovals:!0});a=r.vs;const o=[];e.targetChanges.forEach((u,h)=>{const d=a.get(h);if(!d)return;o.push(r.li.removeMatchingKeys(i,u.removedDocuments,h).next(()=>r.li.addMatchingKeys(i,u.addedDocuments,h)));let f=d.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(fi.EMPTY_BYTE_STRING,rr.min()).withLastLimboFreeSnapshotVersion(rr.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,n)),a=a.insert(h,f),function(m,_,x){return m.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=bW?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(d,f,u)&&o.push(r.li.updateTargetData(i,f))});let l=Dc(),c=Rr();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(i,u))}),o.push(CW(i,s,e.documentUpdates).next(u=>{l=u.Bs,c=u.Ls})),!n.isEqual(rr.min())){const u=r.li.getLastRemoteSnapshotVersion(i).next(h=>r.li.setTargetsMetadata(i,i.currentSequenceNumber,n));o.push(u)}return rt.waitFor(o).next(()=>s.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(r.vs=a,i))}function CW(t,e,r){let n=Rr(),a=Rr();return r.forEach(i=>n=n.add(i)),e.getEntries(t,n).next(i=>{let s=Dc();return r.forEach((o,l)=>{const c=i.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(a=a.add(o)),l.isNoDocument()&&l.version.isEqual(rr.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):It(O4,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Bs:s,Ls:a}})}function kW(t,e){const r=cr(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=b4),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function NW(t,e){const r=cr(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return r.li.getTargetData(n,e).next(i=>i?(a=i,rt.resolve(a)):r.li.allocateTargetId(n).next(s=>(a=new Nu(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.li.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=r.vs.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.vs=r.vs.insert(n.targetId,n),r.Fs.set(e,n.targetId)),n})}async function Ew(t,e,r){const n=cr(t),a=n.vs.get(e),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,s=>n.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!Fd(s))throw s;It(O4,`Failed to update sequence numbers for target ${e}: ${s}`)}n.vs=n.vs.remove(e),n.Fs.delete(a.target)}function kT(t,e,r){const n=cr(t);let a=rr.min(),i=Rr();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const h=cr(l),d=h.Fs.get(u);return d!==void 0?rt.resolve(h.vs.get(d)):h.li.getTargetData(c,u)}(n,s,Rl(e)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,n.li.getMatchingKeysForTargetId(s,o.targetId).next(l=>{i=l})}).next(()=>n.Cs.getDocumentsMatchingQuery(s,e,r?a:rr.min(),r?i:Rr())).next(o=>(IW(n,gG(e),o),{documents:o,ks:i})))}function IW(t,e,r){let n=t.Ms.get(e)||rr.min();r.forEach((a,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),t.Ms.set(e,n)}class NT{constructor(){this.activeTargetIds=bG()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RW{constructor(){this.vo=new NT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,r,n){this.Fo[e]=r}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new NT,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="ConnectivityMonitor";class RT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){It(IT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){It(IT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ig=null;function Aw(){return Ig===null?Ig=function(){return 268435456+Math.round(2147483648*Math.random())}():Ig++,"0x"+Ig.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="RestConnection",DW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class PW{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=r+"://"+e.host,this.Uo=`projects/${n}/databases/${a}`,this.$o=this.databaseId.database===wv?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Wo(e,r,n,a,i){const s=Aw(),o=this.Qo(e,r.toUriEncodedString());It(py,`Sending RPC '${e}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,a,i);const{host:c}=new URL(o),u=pf(c);return this.zo(e,o,l,n,u).then(h=>(It(py,`Received RPC '${e}' ${s}: `,h),h),h=>{throw dh(py,`RPC '${e}' ${s} failed with error: `,h,"url: ",o,"request:",n),h})}jo(e,r,n,a,i,s){return this.Wo(e,r,n,a,i)}Go(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,i)=>e[i]=a),n&&n.headers.forEach((a,i)=>e[i]=a)}Qo(e,r){const n=DW[e];let a=`${this.qo}/v1/${r}:${n}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OW{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi="WebChannelConnection",x1=(t,e,r)=>{t.listen(e,n=>{try{r(n)}catch(a){setTimeout(()=>{throw a},0)}})};class $0 extends PW{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!$0.c_){const e=QR();x1(e,YR.STAT_EVENT,r=>{r.stat===hw.PROXY?It(gi,"STAT_EVENT: detected buffering proxy"):r.stat===hw.NOPROXY&&It(gi,"STAT_EVENT: detected no buffering proxy")}),$0.c_=!0}}zo(e,r,n,a,i){const s=Aw();return new Promise((o,l)=>{const c=new XR;c.setWithCredentials(!0),c.listenOnce(KR.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case w2.NO_ERROR:const h=c.getResponseJson();It(gi,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case w2.TIMEOUT:It(gi,`RPC '${e}' ${s} timed out`),l(new St(Je.DEADLINE_EXCEEDED,"Request time out"));break;case w2.HTTP_ERROR:const d=c.getStatus();if(It(gi,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const m=function(x){const T=x.toLowerCase().replace(/_/g,"-");return Object.values(Je).indexOf(T)>=0?T:Je.UNKNOWN}(p.status);l(new St(m,p.message))}else l(new St(Je.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new St(Je.UNAVAILABLE,"Connection failed."));break;default:Xt(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{It(gi,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(a);It(gi,`RPC '${e}' ${s} sending request:`,a),c.send(r,"POST",u,n,15)})}T_(e,r,n){const a=Aw(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,r,n),o.encodeInitMessageHeaders=!0;const c=i.join("");It(gi,`Creating RPC '${e}' stream ${a}: ${c}`,o);const u=s.createWebChannel(c,o);this.I_(u);let h=!1,d=!1;const f=new OW({Ho:p=>{d?It(gi,`Not sending because RPC '${e}' stream ${a} is closed:`,p):(h||(It(gi,`Opening RPC '${e}' stream ${a} transport.`),u.open(),h=!0),It(gi,`RPC '${e}' stream ${a} sending:`,p),u.send(p))},Jo:()=>u.close()});return x1(u,I1.EventType.OPEN,()=>{d||(It(gi,`RPC '${e}' stream ${a} transport opened.`),f.i_())}),x1(u,I1.EventType.CLOSE,()=>{d||(d=!0,It(gi,`RPC '${e}' stream ${a} transport closed`),f.o_(),this.E_(u))}),x1(u,I1.EventType.ERROR,p=>{d||(d=!0,dh(gi,`RPC '${e}' stream ${a} transport errored. Name:`,p.name,"Message:",p.message),f.o_(new St(Je.UNAVAILABLE,"The operation could not be completed")))}),x1(u,I1.EventType.MESSAGE,p=>{var m;if(!d){const _=p.data[0];Mr(!!_,16349);const x=_,T=(x==null?void 0:x.error)||((m=x[0])==null?void 0:m.error);if(T){It(gi,`RPC '${e}' stream ${a} received error:`,T);const b=T.status;let I=function(N){const A=ya[N];if(A!==void 0)return P7(A)}(b),j=T.message;b==="NOT_FOUND"&&j.includes("database")&&j.includes("does not exist")&&j.includes(this.databaseId.database)&&dh(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),I===void 0&&(I=Je.INTERNAL,j="Unknown error status: "+b+" with message "+T.message),d=!0,f.o_(new St(I,j)),u.close()}else It(gi,`RPC '${e}' stream ${a} received:`,_),f.__(_)}}),$0.u_(),setTimeout(()=>{f.s_()},0),f}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(r=>r===e)}Go(e,r,n){super.Go(e,r,n),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return JR()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FW(t){return new $0(t)}function my(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t){return new jG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$0.c_=!1;class F4{constructor(e,r,n=1e3,a=1.5,i=6e4){this.Ci=e,this.timerId=r,this.R_=n,this.A_=a,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const r=Math.floor(this.d_+this.y_()),n=Math.max(0,Date.now()-this.f_),a=Math.max(0,r-n);a>0&&It("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="PersistentStream";class Y7{constructor(e,r,n,a,i,s,o,l){this.Ci=e,this.b_=n,this.S_=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new F4(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===Je.RESOURCE_EXHAUSTED?(Lc(r.toString()),Lc("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Je.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(r)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.D_===r&&this.G_(n,a)},n=>{e(()=>{const a=new St(Je.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(a)})})}G_(e,r){const n=this.Q_(this.D_);this.stream=this.j_(e,r),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.Yo(()=>{n(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(a=>{n(()=>this.z_(a))}),this.stream.onMessage(a=>{n(()=>++this.F_==1?this.H_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return It(LT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return r=>{this.Ci.enqueueAndForget(()=>this.D_===e?r():(It(LT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MW extends Y7{constructor(e,r,n,a,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}j_(e,r){return this.connection.T_("Listen",e,r)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=HG(this.serializer,e),n=function(i){if(!("targetChange"in i))return rr.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?rr.min():s.readTime?Xs(s.readTime):rr.min()}(e);return this.listener.J_(r,n)}Z_(e){const r={};r.database=bw(this.serializer),r.addTarget=function(i,s){let o;const l=s.target;if(o=vw(l)?{documents:WG(i,l)}:{query:$G(i,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=M7(i,s.resumeToken);const c=yw(i,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(rr.min())>0){o.readTime=Sv(i,s.snapshotVersion.toTimestamp());const c=yw(i,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const n=KG(this.serializer,e);n&&(r.labels=n),this.K_(r)}X_(e){const r={};r.database=bw(this.serializer),r.removeTarget=e,this.K_(r)}}class BW extends Y7{constructor(e,r,n,a,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}H_(e){return Mr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Mr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Mr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=GG(e.writeResults,e.commitTime),n=Xs(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=bw(this.serializer),this.K_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>V7(this.serializer,n))};this.K_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UW{}class jW extends UW{constructor(e,r,n,a){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new St(Je.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,r,n,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Wo(e,ww(r,n),a,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new St(Je.UNKNOWN,i.toString())})}jo(e,r,n,a,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.jo(e,ww(r,n),a,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new St(Je.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function VW(t,e,r,n){return new jW(t,e,r,n)}class zW{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Lc(r),this.aa=!1):It("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph="RemoteStore";class qW{constructor(e,r,n,a,i){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(s=>{n.enqueueAndForget(async()=>{Lh(this)&&(It(ph,"Restarting streams for network reachability change."),await async function(l){const c=cr(l);c.Ea.add(4),await Cm(c),c.Va.set("Unknown"),c.Ea.delete(4),await Mx(c)}(this))})}),this.Va=new zW(n,a)}}async function Mx(t){if(Lh(t))for(const e of t.Ra)await e(!0)}async function Cm(t){for(const e of t.Ra)await e(!1)}function Q7(t,e){const r=cr(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),j4(r)?U4(r):Bd(r).O_()&&B4(r,e))}function M4(t,e){const r=cr(t),n=Bd(r);r.Ia.delete(e),n.O_()&&J7(r,e),r.Ia.size===0&&(n.O_()?n.L_():Lh(r)&&r.Va.set("Unknown"))}function B4(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(rr.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Bd(t).Z_(e)}function J7(t,e){t.da.$e(e),Bd(t).X_(e)}function U4(t){t.da=new FG({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Bd(t).start(),t.Va.ua()}function j4(t){return Lh(t)&&!Bd(t).x_()&&t.Ia.size>0}function Lh(t){return cr(t).Ea.size===0}function Z7(t){t.da=void 0}async function HW(t){t.Va.set("Online")}async function GW(t){t.Ia.forEach((e,r)=>{B4(t,e)})}async function WW(t,e){Z7(t),j4(t)?(t.Va.ha(e),U4(t)):t.Va.set("Unknown")}async function $W(t,e,r){if(t.Va.set("Online"),e instanceof F7&&e.state===2&&e.cause)try{await async function(a,i){const s=i.cause;for(const o of i.targetIds)a.Ia.has(o)&&(await a.remoteSyncer.rejectListen(o,s),a.Ia.delete(o),a.da.removeTarget(o))}(t,e)}catch(n){It(ph,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await kv(t,n)}else if(e instanceof S2?t.da.Xe(e):e instanceof O7?t.da.st(e):t.da.tt(e),!r.isEqual(rr.min()))try{const n=await K7(t.localStore);r.compareTo(n)>=0&&await function(i,s){const o=i.da.Tt(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.Ia.get(c);u&&i.Ia.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=i.Ia.get(l);if(!u)return;i.Ia.set(l,u.withResumeToken(fi.EMPTY_BYTE_STRING,u.snapshotVersion)),J7(i,l);const h=new Nu(u.target,l,c,u.sequenceNumber);B4(i,h)}),i.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){It(ph,"Failed to raise snapshot:",n),await kv(t,n)}}async function kv(t,e,r){if(!Fd(e))throw e;t.Ea.add(1),await Cm(t),t.Va.set("Offline"),r||(r=()=>K7(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{It(ph,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await Mx(t)})}function eL(t,e){return e().catch(r=>kv(t,r,e))}async function Bx(t){const e=cr(t),r=af(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:b4;for(;XW(e);)try{const a=await kW(e.localStore,n);if(a===null){e.Ta.length===0&&r.L_();break}n=a.batchId,KW(e,a)}catch(a){await kv(e,a)}tL(e)&&rL(e)}function XW(t){return Lh(t)&&t.Ta.length<10}function KW(t,e){t.Ta.push(e);const r=af(t);r.O_()&&r.Y_&&r.ea(e.mutations)}function tL(t){return Lh(t)&&!af(t).x_()&&t.Ta.length>0}function rL(t){af(t).start()}async function YW(t){af(t).ra()}async function QW(t){const e=af(t);for(const r of t.Ta)e.ea(r.mutations)}async function JW(t,e,r){const n=t.Ta.shift(),a=N4.from(n,e,r);await eL(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Bx(t)}async function ZW(t,e){e&&af(t).Y_&&await async function(n,a){if(function(s){return D7(s)&&s!==Je.ABORTED}(a.code)){const i=n.Ta.shift();af(n).B_(),await eL(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,a)),await Bx(n)}}(t,e),tL(t)&&rL(t)}async function DT(t,e){const r=cr(t);r.asyncQueue.verifyOperationInProgress(),It(ph,"RemoteStore received new credentials");const n=Lh(r);r.Ea.add(3),await Cm(r),n&&r.Va.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await Mx(r)}async function e$(t,e){const r=cr(t);e?(r.Ea.delete(2),await Mx(r)):e||(r.Ea.add(2),await Cm(r),r.Va.set("Unknown"))}function Bd(t){return t.ma||(t.ma=function(r,n,a){const i=cr(r);return i.sa(),new MW(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(t.datastore,t.asyncQueue,{Zo:HW.bind(null,t),Yo:GW.bind(null,t),t_:WW.bind(null,t),J_:$W.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),j4(t)?U4(t):t.Va.set("Unknown")):(await t.ma.stop(),Z7(t))})),t.ma}function af(t){return t.fa||(t.fa=function(r,n,a){const i=cr(r);return i.sa(),new BW(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:YW.bind(null,t),t_:ZW.bind(null,t),ta:QW.bind(null,t),na:JW.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await Bx(t)):(await t.fa.stop(),t.Ta.length>0&&(It(ph,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,r,n,a,i){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=i,this.deferred=new _c,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,a,i){const s=Date.now()+n,o=new V4(e,r,s,a,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new St(Je.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function z4(t,e){if(Lc("AsyncQueue",`${e}: ${t}`),Fd(t))return new St(Je.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{static emptySet(e){return new X0(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Ht.comparator(r.key,n.key):(r,n)=>Ht.comparator(r.key,n.key),this.keyedMap=R1(),this.sortedSet=new Gn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof X0)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new X0;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(){this.ga=new Gn(Ht.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):Xt(63341,{Vt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,n)=>{e.push(n)}),e}}class xd{constructor(e,r,n,a,i,s,o,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,a,i){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new xd(e,r,X0.emptySet(r),s,n,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class r${constructor(){this.queries=OT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const a=cr(r),i=a.queries;a.queries=OT(),i.forEach((s,o)=>{for(const l of o.ba)l.onError(n)})})(this,new St(Je.ABORTED,"Firestore shutting down"))}}function OT(){return new Rh(t=>y7(t),Rx)}async function nL(t,e){const r=cr(t);let n=3;const a=e.query;let i=r.queries.get(a);i?!i.Sa()&&e.Da()&&(n=2):(i=new t$,n=e.Da()?0:1);try{switch(n){case 0:i.wa=await r.onListen(a,!0);break;case 1:i.wa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(s){const o=z4(s,`Initialization of query '${p0(e.query)}' failed`);return void e.onError(o)}r.queries.set(a,i),i.ba.push(e),e.va(r.onlineState),i.wa&&e.Fa(i.wa)&&q4(r)}async function aL(t,e){const r=cr(t),n=e.query;let a=3;const i=r.queries.get(n);if(i){const s=i.ba.indexOf(e);s>=0&&(i.ba.splice(s,1),i.ba.length===0?a=e.Da()?0:1:!i.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function n$(t,e){const r=cr(t);let n=!1;for(const a of e){const i=a.query,s=r.queries.get(i);if(s){for(const o of s.ba)o.Fa(a)&&(n=!0);s.wa=a}}n&&q4(r)}function a$(t,e,r){const n=cr(t),a=n.queries.get(e);if(a)for(const i of a.ba)i.onError(r);n.queries.delete(e)}function q4(t){t.Ca.forEach(e=>{e.next()})}var Sw,FT;(FT=Sw||(Sw={})).Ma="default",FT.Cache="cache";class iL{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const a of e.docChanges)a.type!==3&&n.push(a);e=new xd(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.Ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=xd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.key=e}}class oL{constructor(e){this.key=e}}class i${constructor(e,r){this.query=e,this.Za=r,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Rr(),this.mutatedKeys=Rr(),this.eu=w7(e),this.tu=new X0(this.eu)}get nu(){return this.Za}ru(e,r){const n=r?r.iu:new PT,a=r?r.tu:this.tu;let i=r?r.mutatedKeys:this.mutatedKeys,s=a,o=!1;const l=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,c=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((u,h)=>{const d=a.get(u),f=Lx(this.query,h)?h:null,p=!!d&&this.mutatedKeys.has(d.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;d&&f?d.data.isEqual(f.data)?p!==m&&(n.track({type:3,doc:f}),_=!0):this.su(d,f)||(n.track({type:2,doc:f}),_=!0,(l&&this.eu(f,l)>0||c&&this.eu(f,c)<0)&&(o=!0)):!d&&f?(n.track({type:0,doc:f}),_=!0):d&&!f&&(n.track({type:1,doc:d}),_=!0,(l||c)&&(o=!0)),_&&(f?(s=s.add(f),i=m?i.add(u):i.delete(u)):(s=s.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),i=i.delete(u.key),n.track({type:1,doc:u})}return{tu:s,iu:n,Ss:o,mutatedKeys:i}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,a){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((u,h)=>function(f,p){const m=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xt(20277,{Vt:_})}};return m(f)-m(p)}(u.type,h.type)||this.eu(u.doc,h.doc)),this.ou(n),a=a??!1;const o=r&&!a?this._u():[],l=this.Ya.size===0&&this.current&&!a?1:0,c=l!==this.Xa;return this.Xa=l,s.length!==0||c?{snapshot:new xd(this.query,e.tu,i,s,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new PT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Za=this.Za.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Za=this.Za.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Rr(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Ya=this.Ya.add(n.key))});const r=[];return e.forEach(n=>{this.Ya.has(n)||r.push(new oL(n))}),this.Ya.forEach(n=>{e.has(n)||r.push(new sL(n))}),r}cu(e){this.Za=e.ks,this.Ya=Rr();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return xd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const H4="SyncEngine";class s${constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class o${constructor(e){this.key=e,this.hu=!1}}class l${constructor(e,r,n,a,i,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Rh(o=>y7(o),Rx),this.Iu=new Map,this.Eu=new Set,this.Ru=new Gn(Ht.comparator),this.Au=new Map,this.Vu=new L4,this.du={},this.mu=new Map,this.fu=vd.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function c$(t,e,r=!0){const n=dL(t);let a;const i=n.Tu.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.lu()):a=await lL(n,e,r,!0),a}async function u$(t,e){const r=dL(t);await lL(r,e,!0,!1)}async function lL(t,e,r,n){const a=await NW(t.localStore,Rl(e)),i=a.targetId,s=t.sharedClientState.addLocalQueryTarget(i,r);let o;return n&&(o=await f$(t,e,i,s==="current",a.resumeToken)),t.isPrimaryClient&&r&&Q7(t.remoteStore,a),o}async function f$(t,e,r,n,a){t.pu=(h,d,f)=>async function(m,_,x,T){let b=_.view.ru(x);b.Ss&&(b=await kT(m.localStore,_.query,!1).then(({documents:N})=>_.view.ru(N,b)));const I=T&&T.targetChanges.get(_.targetId),j=T&&T.targetMismatches.get(_.targetId)!=null,O=_.view.applyChanges(b,m.isPrimaryClient,I,j);return BT(m,_.targetId,O.au),O.snapshot}(t,h,d,f);const i=await kT(t.localStore,e,!0),s=new i$(e,i.ks),o=s.ru(i.documents),l=Tm.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",a),c=s.applyChanges(o,t.isPrimaryClient,l);BT(t,r,c.au);const u=new s$(e,r,s);return t.Tu.set(e,u),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),c.snapshot}async function h$(t,e,r){const n=cr(t),a=n.Tu.get(e),i=n.Iu.get(a.targetId);if(i.length>1)return n.Iu.set(a.targetId,i.filter(s=>!Rx(s,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await Ew(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&M4(n.remoteStore,a.targetId),Tw(n,a.targetId)}).catch(Od)):(Tw(n,a.targetId),await Ew(n.localStore,a.targetId,!0))}async function d$(t,e){const r=cr(t),n=r.Tu.get(e),a=r.Iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),M4(r.remoteStore,n.targetId))}async function p$(t,e,r){const n=w$(t);try{const a=await function(s,o){const l=cr(s),c=Dn.now(),u=o.reduce((f,p)=>f.add(p.key),Rr());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Dc(),m=Rr();return l.xs.getEntries(f,u).next(_=>{p=_,p.forEach((x,T)=>{T.isValidDocument()||(m=m.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(_=>{h=_;const x=[];for(const T of o){const b=IG(T,h.get(T.key).overlayedDocument);b!=null&&x.push(new vf(T.key,b,h7(b.value.mapValue),Ca.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,x,o)}).next(_=>{d=_;const x=_.applyToLocalDocumentSet(h,m);return l.documentOverlayCache.saveOverlays(f,_.batchId,x)})}).then(()=>({batchId:d.batchId,changes:E7(h)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(a.batchId),function(s,o,l){let c=s.du[s.currentUser.toKey()];c||(c=new Gn(Ir)),c=c.insert(o,l),s.du[s.currentUser.toKey()]=c}(n,a.batchId,r),await km(n,a.changes),await Bx(n.remoteStore)}catch(a){const i=z4(a,"Failed to persist write");r.reject(i)}}async function cL(t,e){const r=cr(t);try{const n=await TW(r.localStore,e);e.targetChanges.forEach((a,i)=>{const s=r.Au.get(i);s&&(Mr(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?s.hu=!0:a.modifiedDocuments.size>0?Mr(s.hu,14607):a.removedDocuments.size>0&&(Mr(s.hu,42227),s.hu=!1))}),await km(r,n,e)}catch(n){await Od(n)}}function MT(t,e,r){const n=cr(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.Tu.forEach((i,s)=>{const o=s.view.va(e);o.snapshot&&a.push(o.snapshot)}),function(s,o){const l=cr(s);l.onlineState=o;let c=!1;l.queries.forEach((u,h)=>{for(const d of h.ba)d.va(o)&&(c=!0)}),c&&q4(l)}(n.eventManager,e),a.length&&n.Pu.J_(a),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function m$(t,e,r){const n=cr(t);n.sharedClientState.updateQueryState(e,"rejected",r);const a=n.Au.get(e),i=a&&a.key;if(i){let s=new Gn(Ht.comparator);s=s.insert(i,$a.newNoDocument(i,rr.min()));const o=Rr().add(i),l=new Ox(rr.min(),new Map,new Gn(Ir),s,o);await cL(n,l),n.Ru=n.Ru.remove(i),n.Au.delete(e),G4(n)}else await Ew(n.localStore,e,!1).then(()=>Tw(n,e,r)).catch(Od)}async function g$(t,e){const r=cr(t),n=e.batch.batchId;try{const a=await SW(r.localStore,e);fL(r,n,null),uL(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await km(r,a)}catch(a){await Od(a)}}async function v$(t,e,r){const n=cr(t);try{const a=await function(s,o){const l=cr(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(h=>(Mr(h!==null,37113),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,e);fL(n,e,r),uL(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await km(n,a)}catch(a){await Od(a)}}function uL(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function fL(t,e,r){const n=cr(t);let a=n.du[n.currentUser.toKey()];if(a){const i=a.get(e);i&&(r?i.reject(r):i.resolve(),a=a.remove(e)),n.du[n.currentUser.toKey()]=a}}function Tw(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(n=>{t.Vu.containsKey(n)||hL(t,n)})}function hL(t,e){t.Eu.delete(e.path.canonicalString());const r=t.Ru.get(e);r!==null&&(M4(t.remoteStore,r),t.Ru=t.Ru.remove(e),t.Au.delete(r),G4(t))}function BT(t,e,r){for(const n of r)n instanceof sL?(t.Vu.addReference(n.key,e),x$(t,n)):n instanceof oL?(It(H4,"Document no longer in limbo: "+n.key),t.Vu.removeReference(n.key,e),t.Vu.containsKey(n.key)||hL(t,n.key)):Xt(19791,{wu:n})}function x$(t,e){const r=e.key,n=r.path.canonicalString();t.Ru.get(r)||t.Eu.has(n)||(It(H4,"New document in limbo: "+r),t.Eu.add(n),G4(t))}function G4(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new Ht(cn.fromString(e)),n=t.fu.next();t.Au.set(n,new o$(r)),t.Ru=t.Ru.insert(r,n),Q7(t.remoteStore,new Nu(Rl(C4(r.path)),n,"TargetPurposeLimboResolution",Nx.ce))}}async function km(t,e,r){const n=cr(t),a=[],i=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach((o,l)=>{s.push(n.pu(l,e,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const h=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){a.push(c);const h=P4.Es(l.targetId,c);i.push(h)}}))}),await Promise.all(s),n.Pu.J_(a),await async function(l,c){const u=cr(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>rt.forEach(c,d=>rt.forEach(d.Ts,f=>u.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>rt.forEach(d.Is,f=>u.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!Fd(h))throw h;It(O4,"Failed to update sequence numbers: "+h)}for(const h of c){const d=h.targetId;if(!h.fromCache){const f=u.vs.get(d),p=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(p);u.vs=u.vs.insert(d,m)}}}(n.localStore,i))}async function _$(t,e){const r=cr(t);if(!r.currentUser.isEqual(e)){It(H4,"User change. New user:",e.toKey());const n=await X7(r.localStore,e);r.currentUser=e,function(i,s){i.mu.forEach(o=>{o.forEach(l=>{l.reject(new St(Je.CANCELLED,s))})}),i.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await km(r,n.Ns)}}function y$(t,e){const r=cr(t),n=r.Au.get(e);if(n&&n.hu)return Rr().add(n.key);{let a=Rr();const i=r.Iu.get(e);if(!i)return a;for(const s of i){const o=r.Tu.get(s);a=a.unionWith(o.view.nu)}return a}}function dL(t){const e=cr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=m$.bind(null,e),e.Pu.J_=n$.bind(null,e.eventManager),e.Pu.yu=a$.bind(null,e.eventManager),e}function w$(t){const e=cr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=g$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v$.bind(null,e),e}class Nv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fx(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return AW(this.persistence,new wW,e.initialUser,this.serializer)}Cu(e){return new $7(D4.Vi,this.serializer)}Du(e){return new RW}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nv.provider={build:()=>new Nv};class b$ extends Nv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Mr(this.persistence.referenceDelegate instanceof Cv,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new sW(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?cs.withCacheSize(this.cacheSizeBytes):cs.DEFAULT;return new $7(n=>Cv.Vi(n,r),this.serializer)}}class Cw{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>MT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=_$.bind(null,this.syncEngine),await e$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new r$}()}createDatastore(e){const r=Fx(e.databaseInfo.databaseId),n=FW(e.databaseInfo);return VW(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,a,i,s,o){return new qW(n,a,i,s,o)}(this.localStore,this.datastore,e.asyncQueue,r=>MT(this.syncEngine,r,0),function(){return RT.v()?new RT:new LW}())}createSyncEngine(e,r){return function(a,i,s,o,l,c,u){const h=new l$(a,i,s,o,l,c);return u&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(a){const i=cr(a);It(ph,"RemoteStore shutting down."),i.Ea.add(5),await Cm(i),i.Aa.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}Cw.provider={build:()=>new Cw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Lc("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let E$=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new St(Je.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const r=await async function(a,i){const s=cr(a),o={documents:i.map(h=>Tv(s.serializer,h))},l=await s.jo("BatchGetDocuments",s.serializer.databaseId,cn.emptyPath(),o,i.length),c=new Map;l.forEach(h=>{const d=qG(s.serializer,h);c.set(d.key.toString(),d)});const u=[];return i.forEach(h=>{const d=c.get(h.toString());Mr(!!d,55234,{key:h}),u.push(d)}),u}(this.datastore,e);return r.forEach(n=>this.recordVersion(n)),r}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new Sm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,n)=>{const a=Ht.fromPath(n);this.mutations.push(new L7(a,this.precondition(a)))}),await async function(n,a){const i=cr(n),s={writes:a.map(o=>V7(i.serializer,o))};await i.Wo("Commit",i.serializer.databaseId,cn.emptyPath(),s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Xt(50498,{Gu:e.constructor.name});r=rr.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!r.isEqual(n))throw new St(Je.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(rr.min())?Ca.exists(!1):Ca.updateTime(r):Ca.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(rr.min()))throw new St(Je.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ca.updateTime(r)}return Ca.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(e,r,n,a,i){this.asyncQueue=e,this.datastore=r,this.options=n,this.updateFunction=a,this.deferred=i,this.zu=n.maxAttempts,this.M_=new F4(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_(async()=>{const e=new E$(this.datastore),r=this.Ju(e);r&&r.then(n=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(n)}).catch(a=>{this.Zu(a)}))}).catch(n=>{this.Zu(n)})})}Ju(e){try{const r=this.updateFunction(e);return!Em(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Hu(),Promise.resolve()))):this.deferred.reject(e)}Xu(e){if((e==null?void 0:e.name)==="FirebaseError"){const r=e.code;return r==="aborted"||r==="failed-precondition"||r==="already-exists"||!D7(r)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf="FirestoreClient";class S${constructor(e,r,n,a,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this._databaseInfo=a,this.user=Ei.UNAUTHENTICATED,this.clientId=w4.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async s=>{It(sf,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(It(sf,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _c;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=z4(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function gy(t,e){t.asyncQueue.verifyOperationInProgress(),It(sf,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async a=>{n.isEqual(a)||(await X7(e.localStore,a),n=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function UT(t,e){t.asyncQueue.verifyOperationInProgress();const r=await T$(t);It(sf,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>DT(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,a)=>DT(e.remoteStore,a)),t._onlineComponents=e}async function T$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){It(sf,"Using user provided OfflineComponentProvider");try{await gy(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(a){return a.name==="FirebaseError"?a.code===Je.FAILED_PRECONDITION||a.code===Je.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;dh("Error using user provided cache. Falling back to memory cache: "+r),await gy(t,new Nv)}}else It(sf,"Using default OfflineComponentProvider"),await gy(t,new b$(void 0));return t._offlineComponents}async function W4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(It(sf,"Using user provided OnlineComponentProvider"),await UT(t,t._uninitializedComponentsProvider._online)):(It(sf,"Using default OnlineComponentProvider"),await UT(t,new Cw))),t._onlineComponents}function C$(t){return W4(t).then(e=>e.syncEngine)}function k$(t){return W4(t).then(e=>e.datastore)}async function kw(t){const e=await W4(t),r=e.eventManager;return r.onListen=c$.bind(null,e.syncEngine),r.onUnlisten=h$.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=u$.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=d$.bind(null,e.syncEngine),r}function N$(t,e,r,n){const a=new pL(n),i=new iL(e,a,r);return t.asyncQueue.enqueueAndForget(async()=>nL(await kw(t),i)),()=>{a.Nu(),t.asyncQueue.enqueueAndForget(async()=>aL(await kw(t),i))}}function I$(t,e,r={}){const n=new _c;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new pL({next:d=>{u.Nu(),s.enqueueAndForget(()=>aL(i,h)),d.fromCache&&l.source==="server"?c.reject(new St(Je.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new iL(o,u,{includeMetadataChanges:!0,Ka:!0});return nL(i,h)}(await kw(t),t.asyncQueue,e,r,n)),n.promise}function R$(t,e){const r=new _c;return t.asyncQueue.enqueueAndForget(async()=>p$(await C$(t),e,r)),r.promise}function L$(t,e,r){const n=new _c;return t.asyncQueue.enqueueAndForget(async()=>{const a=await k$(t);new A$(t.asyncQueue,a,r,e,n).ju()}),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$="ComponentProvider",jT=new Map;function P$(t,e,r,n,a){return new QH(t,e,r,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,mL(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL="firestore.googleapis.com",VT=!0;class zT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new St(Je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gL,this.ssl=VT}else this.host=e.host,this.ssl=e.ssl??VT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=W7;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aW)throw new St(Je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mL(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new St(Je.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new St(Je.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new St(Je.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ux{constructor(e,r,n,a){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new St(Je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new St(Je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new IH;switch(n.type){case"firstParty":return new PH(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new St(Je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=jT.get(r);n&&(It(D$,"Removing Datastore"),jT.delete(r),n.terminate())}(this),Promise.resolve()}}function O$(t,e,r,n={}){var c;t=ds(t,Ux);const a=pf(e),i=t._getSettings(),s={...i,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${r}`;a&&(o4(`https://${o}`),l4("Firestore",!0)),i.host!==gL&&i.host!==o&&dh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:o,ssl:a,emulatorOptions:n};if(!lh(l,s)&&(t._setSettings(l),n.mockUserToken)){let u,h;if(typeof n.mockUserToken=="string")u=n.mockUserToken,h=Ei.MOCK_USER;else{u=oR(n.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const d=n.mockUserToken.sub||n.mockUserToken.user_id;if(!d)throw new St(Je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ei(d)}t._authCredentials=new RH(new e7(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new xf(this.firestore,e,this._query)}}class ta{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ta(this.firestore,e,this._key)}toJSON(){return{type:ta._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(bm(r,ta._jsonSchema))return new ta(e,n||null,new Ht(cn.fromString(r.referencePath)))}}ta._jsonSchemaVersion="firestore/documentReference/1.0",ta._jsonSchema={type:Na("string",ta._jsonSchemaVersion),referencePath:Na("string")};class Wu extends xf{constructor(e,r,n){super(e,r,C4(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ta(this.firestore,null,new Ht(e))}withConverter(e){return new Wu(this.firestore,e,this._path)}}function lr(t,e,...r){if(t=Tn(t),t7("collection","path",e),t instanceof Ux){const n=cn.fromString(e,...r);return tT(n),new Wu(t,null,n)}{if(!(t instanceof ta||t instanceof Wu))throw new St(Je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(cn.fromString(e,...r));return tT(n),new Wu(t.firestore,null,n)}}function jr(t,e,...r){if(t=Tn(t),arguments.length===1&&(e=w4.newId()),t7("doc","path",e),t instanceof Ux){const n=cn.fromString(e,...r);return eT(n),new ta(t,null,new Ht(n))}{if(!(t instanceof ta||t instanceof Wu))throw new St(Je.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(cn.fromString(e,...r));return eT(n),new ta(t.firestore,t instanceof Wu?t.converter:null,new Ht(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="AsyncQueue";class HT{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new F4(this,"async_queue_retry"),this._c=()=>{const n=my();n&&It(qT,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=my();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=my();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new _c;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Fd(e))throw e;It(qT,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,Lc("INTERNAL UNHANDLED ERROR: ",GT(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const a=V4.createAndSchedule(this,e,r,n,i=>this.hc(i));return this.tc.push(a),a}uc(){this.nc&&Xt(47125,{Pc:GT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function GT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Pl extends Ux{constructor(e,r,n,a){super(e,r,n,a),this.type="firestore",this._queue=new HT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new HT(e),this._firestoreClient=void 0,await e}}}function F$(t,e){const r=typeof t=="object"?t:f4(),n=typeof t=="string"?t:wv,a=Ax(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const i=aR("firestore");i&&O$(a,...i)}return a}function Nm(t){if(t._terminated)throw new St(Je.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||M$(t),t._firestoreClient}function M$(t){var n,a,i,s;const e=t._freezeSettings(),r=P$(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,(a=t._app)==null?void 0:a.options.apiKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new S$(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ms(fi.fromBase64String(e))}catch(r){throw new St(Je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Ms(fi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ms._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bm(e,Ms._jsonSchema))return Ms.fromBase64String(e.bytes)}}Ms._jsonSchemaVersion="firestore/bytes/1.0",Ms._jsonSchema={type:Na("string",Ms._jsonSchemaVersion),bytes:Na("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new St(Je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new oi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new St(Je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new St(Je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ir(this._lat,e._lat)||Ir(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ll._jsonSchemaVersion}}static fromJSON(e){if(bm(e,Ll._jsonSchema))return new Ll(e.latitude,e.longitude)}}Ll._jsonSchemaVersion="firestore/geoPoint/1.0",Ll._jsonSchema={type:Na("string",Ll._jsonSchemaVersion),latitude:Na("number"),longitude:Na("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,a){if(n.length!==a.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Xo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bm(e,Xo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new Xo(e.vectorValues);throw new St(Je.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xo._jsonSchemaVersion="firestore/vectorValue/1.0",Xo._jsonSchema={type:Na("string",Xo._jsonSchemaVersion),vectorValues:Na("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$=/^__.*__$/;class U${constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new vf(e,this.data,this.fieldMask,r,this.fieldTransforms):new Am(e,this.data,r,this.fieldTransforms)}}class vL{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new vf(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function xL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xt(40011,{dataSource:t})}}class $4{constructor(e,r,n,a,i,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new $4({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var a;const r=(a=this.path)==null?void 0:a.child(e),n=this.contextWith({path:r,arrayElement:!1});return n.validatePathSegment(e),n}childContextForFieldPath(e){var a;const r=(a=this.path)==null?void 0:a.child(e),n=this.contextWith({path:r,arrayElement:!1});return n.validatePath(),n}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Iv(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(xL(this.dataSource)&&B$.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class j${constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Fx(e)}createContext(e,r,n,a=!1){return new $4({dataSource:e,methodName:r,targetDoc:n,path:oi.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ud(t){const e=t._freezeSettings(),r=Fx(t._databaseId);return new j$(t._databaseId,!!e.ignoreUndefinedProperties,r)}function Vx(t,e,r,n,a,i={}){const s=t.createContext(i.merge||i.mergeFields?2:0,e,r,a);Q4("Data must be an object, but it was:",s,n);const o=_L(n,s);let l,c;if(i.merge)l=new Vs(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const d=mh(e,h,r);if(!s.contains(d))throw new St(Je.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);bL(u,d)||u.push(d)}l=new Vs(u),c=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=s.fieldTransforms;return new U$(new Wi(o),l,c)}class zx extends jx{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zx}}class X4 extends jx{_toFieldTransform(e){return new TG(e.path,new Mp)}isEqual(e){return e instanceof X4}}function K4(t,e,r,n){const a=t.createContext(1,e,r);Q4("Data must be an object, but it was:",a,n);const i=[],s=Wi.empty();gf(n,(l,c)=>{const u=wL(e,l,r);c=Tn(c);const h=a.childContextForFieldPath(u);if(c instanceof zx)i.push(u);else{const d=Rm(c,h);d!=null&&(i.push(u),s.set(u,d))}});const o=new Vs(i);return new vL(s,o,a.fieldTransforms)}function Y4(t,e,r,n,a,i){const s=t.createContext(1,e,r),o=[mh(e,n,r)],l=[a];if(i.length%2!=0)throw new St(Je.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<i.length;d+=2)o.push(mh(e,i[d])),l.push(i[d+1]);const c=[],u=Wi.empty();for(let d=o.length-1;d>=0;--d)if(!bL(c,o[d])){const f=o[d];let p=l[d];p=Tn(p);const m=s.childContextForFieldPath(f);if(p instanceof zx)c.push(f);else{const _=Rm(p,m);_!=null&&(c.push(f),u.set(f,_))}}const h=new Vs(c);return new vL(u,h,s.fieldTransforms)}function V$(t,e,r,n=!1){return Rm(r,t.createContext(n?4:3,e))}function Rm(t,e){if(yL(t=Tn(t)))return Q4("Unsupported field value:",e,t),_L(t,e);if(t instanceof jx)return function(n,a){if(!xL(a.dataSource))throw a.createError(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(n,a){const i=[];let s=0;for(const o of n){let l=Rm(o,a.childContextForArray(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,a){if((n=Tn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return EG(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Dn.fromDate(n);return{timestampValue:Sv(a.serializer,i)}}if(n instanceof Dn){const i=new Dn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Sv(a.serializer,i)}}if(n instanceof Ll)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ms)return{bytesValue:M7(a.serializer,n._byteString)};if(n instanceof ta){const i=a.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw a.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:R4(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof Xo)return function(s,o){const l=s instanceof Xo?s.toArray():s;return{mapValue:{fields:{[u7]:{stringValue:f7},[bv]:{arrayValue:{values:l.map(u=>{if(typeof u!="number")throw o.createError("VectorValues must only contain numeric values.");return k4(o.serializer,u)})}}}}}}(n,a);if(G7(n))return n._toProto(a.serializer);throw a.createError(`Unsupported field value: ${kx(n)}`)}(t,e)}function _L(t,e){const r={};return a7(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gf(t,(n,a)=>{const i=Rm(a,e.childContextForField(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function yL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Dn||t instanceof Ll||t instanceof Ms||t instanceof ta||t instanceof jx||t instanceof Xo||G7(t))}function Q4(t,e,r){if(!yL(r)||!r7(r)){const n=kx(r);throw n==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+n)}}function mh(t,e,r){if((e=Tn(e))instanceof Im)return e._internalPath;if(typeof e=="string")return wL(t,e);throw Iv("Field path arguments must be of type string or ",t,!1,void 0,r)}const z$=new RegExp("[~\\*/\\[\\]]");function wL(t,e,r){if(e.search(z$)>=0)throw Iv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Im(...e.split("."))._internalPath}catch{throw Iv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Iv(t,e,r,n,a){const i=n&&!n.isEmpty(),s=a!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${n}`),s&&(l+=` in document ${a}`),l+=")"),new St(Je.INVALID_ARGUMENT,o+t+l)}function bL(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{convertValue(e,r="none"){switch(nf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fa(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(rf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Xt(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return gf(e,(a,i)=>{n[a]=this.convertValue(i,r)}),n}convertVectorValue(e){var n,a,i;const r=(i=(a=(n=e.fields)==null?void 0:n[bv].arrayValue)==null?void 0:a.values)==null?void 0:i.map(s=>fa(s.doubleValue));return new Xo(r)}convertGeoPoint(e){return new Ll(fa(e.latitude),fa(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Ix(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Dp(e));default:return null}}convertTimestamp(e){const r=tf(e);return new Dn(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=cn.fromString(e);Mr(H7(n),9688,{name:e});const a=new Pp(n.get(1),n.get(3)),i=new Ht(n.popFirst(5));return a.isEqual(r)||Lc(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx extends EL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ms(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ta(this.firestore,null,r)}}function AL(){return new X4("serverTimestamp")}const WT="@firebase/firestore",$T="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const a=r;for(const i of n)if(i in a&&typeof a[i]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,r,n,a,i){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ta(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new q$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const r=this._document.data.field(mh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class q$ extends Rv{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new St(Je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class J4{}class TL extends J4{}function Vn(t,e,...r){let n=[];e instanceof J4&&n.push(e),n=n.concat(r),function(i){const s=i.filter(l=>l instanceof Z4).length,o=i.filter(l=>l instanceof Hx).length;if(s>1||s>0&&o>0)throw new St(Je.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)t=a._apply(t);return t}class Hx extends TL{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Hx(e,r,n)}_apply(e){const r=this._parse(e);return CL(e._query,r),new xf(e.firestore,e.converter,xw(e._query,r))}_parse(e){const r=Ud(e.firestore);return function(i,s,o,l,c,u,h){let d;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new St(Je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){YT(h,u);const p=[];for(const m of h)p.push(KT(l,i,m));d={arrayValue:{values:p}}}else d=KT(l,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||YT(h,u),d=V$(o,s,h,u==="in"||u==="not-in");return Ta.create(c,u,d)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function ea(t,e,r){const n=e,a=mh("where",t);return Hx._create(a,n,r)}class Z4 extends J4{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Z4(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Jo.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(a,i){let s=a;const o=i.getFlattenedFilters();for(const l of o)CL(s,l),s=xw(s,l)}(e._query,r),new xf(e.firestore,e.converter,xw(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class eE extends TL{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new eE(e,r)}_apply(e){const r=function(a,i,s){if(a.startAt!==null)throw new St(Je.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new St(Je.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fp(i,s)}(e._query,this._field,this._direction);return new xf(e.firestore,e.converter,mG(e._query,r))}}function Dh(t,e="asc"){const r=e,n=mh("orderBy",t);return eE._create(n,r)}function KT(t,e,r){if(typeof(r=Tn(r))=="string"){if(r==="")throw new St(Je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_7(e)&&r.indexOf("/")!==-1)throw new St(Je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(cn.fromString(r));if(!Ht.isDocumentKey(n))throw new St(Je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return cT(t,new Ht(n))}if(r instanceof ta)return cT(t,r._key);throw new St(Je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kx(r)}.`)}function YT(t,e){if(!Array.isArray(t)||t.length===0)throw new St(Je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CL(t,e){const r=function(a,i){for(const s of a)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new St(Je.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new St(Je.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}function Gx(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class H$ extends EL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ms(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ta(this.firestore,null,r)}}class D0{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $u extends Rv{constructor(e,r,n,a,i,s){super(e,r,n,a,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new T2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(mh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new St(Je.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=$u._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}$u._jsonSchemaVersion="firestore/documentSnapshot/1.0",$u._jsonSchema={type:Na("string",$u._jsonSchemaVersion),bundleSource:Na("string","DocumentSnapshot"),bundleName:Na("string"),bundle:Na("string")};class T2 extends $u{data(e={}){return super.data(e)}}class Kf{constructor(e,r,n,a){this._firestore=e,this._userDataWriter=r,this._snapshot=a,this.metadata=new D0(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new T2(this._firestore,this._userDataWriter,n.key,n,new D0(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new St(Je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(o=>{const l=new T2(a._firestore,a._userDataWriter,o.doc.key,o.doc,new D0(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new T2(a._firestore,a._userDataWriter,o.doc.key,o.doc,new D0(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:G$(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new St(Je.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Kf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=w4.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],a=[];return this.docs.forEach(i=>{i._document!==null&&(r.push(i._document),n.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),a.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function G$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xt(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kf._jsonSchemaVersion="firestore/querySnapshot/1.0",Kf._jsonSchema={type:Na("string",Kf._jsonSchemaVersion),bundleSource:Na("string","QuerySnapshot"),bundleName:Na("string"),bundle:Na("string")};const W$={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Ud(e)}set(e,r,n){this._verifyNotCommitted();const a=Iu(e,this._firestore),i=Gx(a.converter,r,n),s=Vx(this._dataReader,"WriteBatch.set",a._key,i,a.converter!==null,n);return this._mutations.push(s.toMutation(a._key,Ca.none())),this}update(e,r,n,...a){this._verifyNotCommitted();const i=Iu(e,this._firestore);let s;return s=typeof(r=Tn(r))=="string"||r instanceof Im?Y4(this._dataReader,"WriteBatch.update",i._key,r,n,a):K4(this._dataReader,"WriteBatch.update",i._key,r),this._mutations.push(s.toMutation(i._key,Ca.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Iu(e,this._firestore);return this._mutations=this._mutations.concat(new Sm(r._key,Ca.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new St(Je.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Iu(t,e){if((t=Tn(t)).firestore!==e)throw new St(Je.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=Ud(e)}get(e){const r=Iu(e,this._firestore),n=new H$(this._firestore);return this._transaction.lookup([r._key]).then(a=>{if(!a||a.length!==1)return Xt(24041);const i=a[0];if(i.isFoundDocument())return new Rv(this._firestore,n,i.key,i,r.converter);if(i.isNoDocument())return new Rv(this._firestore,n,r._key,null,r.converter);throw Xt(18433,{doc:i})})}set(e,r,n){const a=Iu(e,this._firestore),i=Gx(a.converter,r,n),s=Vx(this._dataReader,"Transaction.set",a._key,i,a.converter!==null,n);return this._transaction.set(a._key,s),this}update(e,r,n,...a){const i=Iu(e,this._firestore);let s;return s=typeof(r=Tn(r))=="string"||r instanceof Im?Y4(this._dataReader,"Transaction.update",i._key,r,n,a):K4(this._dataReader,"Transaction.update",i._key,r),this._transaction.update(i._key,s),this}delete(e){const r=Iu(e,this._firestore);return this._transaction.delete(r._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K$ extends X${constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Iu(e,this._firestore),n=new qx(this._firestore);return super.get(e).then(a=>new $u(this._firestore,n,r._key,a._document,new D0(!1,!1),r.converter))}}function Y$(t,e,r){t=ds(t,Pl);const n={...W$,...r};(function(s){if(s.maxAttempts<1)throw new St(Je.INVALID_ARGUMENT,"Max attempts must be at least 1")})(n);const a=Nm(t);return L$(a,i=>e(new K$(t,i)),n)}function kL(t){t=ds(t,xf);const e=ds(t.firestore,Pl),r=Nm(e),n=new qx(e);return SL(t._query),I$(r,t._query).then(a=>new Kf(e,n,t,a))}function Lv(t,e,r){t=ds(t,ta);const n=ds(t.firestore,Pl),a=Gx(t.converter,e,r),i=Ud(n);return Dm(n,[Vx(i,"setDoc",t._key,a,t.converter!==null,r).toMutation(t._key,Ca.none())])}function fs(t,e,r,...n){t=ds(t,ta);const a=ds(t.firestore,Pl),i=Ud(a);let s;return s=typeof(e=Tn(e))=="string"||e instanceof Im?Y4(i,"updateDoc",t._key,e,r,n):K4(i,"updateDoc",t._key,e),Dm(a,[s.toMutation(t._key,Ca.exists(!0))])}function Lm(t){return Dm(ds(t.firestore,Pl),[new Sm(t._key,Ca.none())])}function yc(t,e){const r=ds(t.firestore,Pl),n=jr(t),a=Gx(t.converter,e),i=Ud(t.firestore);return Dm(r,[Vx(i,"addDoc",n._key,a,t.converter!==null,{}).toMutation(n._key,Ca.exists(!1))]).then(()=>n)}function br(t,...e){var c,u,h;t=Tn(t);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||XT(e[n])||(r=e[n++]);const a={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(XT(e[n])){const d=e[n];e[n]=(c=d.next)==null?void 0:c.bind(d),e[n+1]=(u=d.error)==null?void 0:u.bind(d),e[n+2]=(h=d.complete)==null?void 0:h.bind(d)}let i,s,o;if(t instanceof ta)s=ds(t.firestore,Pl),o=C4(t._key.path),i={next:d=>{e[n]&&e[n](Q$(s,t,d))},error:e[n+1],complete:e[n+2]};else{const d=ds(t,xf);s=ds(d.firestore,Pl),o=d._query;const f=new qx(s);i={next:p=>{e[n]&&e[n](new Kf(s,f,d,p))},error:e[n+1],complete:e[n+2]},SL(t._query)}const l=Nm(s);return N$(l,o,a,i)}function Dm(t,e){const r=Nm(t);return R$(r,e)}function Q$(t,e,r){const n=r.docs.get(e._key),a=new qx(t);return new $u(t,a,e._key,n,new D0(r.hasPendingWrites,r.fromCache),e.converter)}function Dv(t){return t=ds(t,Pl),Nm(t),new $$(t,e=>Dm(t,e))}(function(e,r=!0){NH(Ih),ch(new Zu("firestore",(n,{instanceIdentifier:a,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Pl(new LH(n.getProvider("auth-internal")),new OH(s,n.getProvider("app-check-internal")),JH(s,a),s);return i={useFetchStreams:r,...i},o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),kl(WT,$T,e),kl(WT,$T,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL="firebasestorage.googleapis.com",IL="storageBucket",J$=2*60*1e3,Z$=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends Bl{constructor(e,r,n=0){super(vy(e),`Firebase Storage: ${r} (${vy(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ia.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var na;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(na||(na={}));function vy(t){return"storage/"+t}function tE(){const t="An unknown error occurred, please check the error payload for server response.";return new ia(na.UNKNOWN,t)}function eX(t){return new ia(na.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function tX(t){return new ia(na.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function rX(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ia(na.UNAUTHENTICATED,t)}function nX(){return new ia(na.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function aX(t){return new ia(na.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function iX(){return new ia(na.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sX(){return new ia(na.CANCELED,"User canceled the upload/download.")}function oX(t){return new ia(na.INVALID_URL,"Invalid URL '"+t+"'.")}function lX(t){return new ia(na.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function cX(){return new ia(na.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+IL+"' property when initializing the app?")}function uX(){return new ia(na.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function fX(){return new ia(na.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function hX(t){return new ia(na.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Nw(t){return new ia(na.INVALID_ARGUMENT,t)}function RL(){return new ia(na.APP_DELETED,"The Firebase app was deleted.")}function dX(t){return new ia(na.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function np(t,e){return new ia(na.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function _1(t){throw new ia(na.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=zs.makeFromUrl(e,r)}catch{return new zs(e,"")}if(n.path==="")return n;throw lX(e)}static makeFromUrl(e,r){let n=null;const a="([A-Za-z0-9.\\-_]+)";function i(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+a+s,"i"),l={bucket:1,path:3};function c(I){I.path_=decodeURIComponent(I.path)}const u="v[A-Za-z0-9_]+",h=r.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",f=new RegExp(`^https?://${h}/${u}/b/${a}/o${d}`,"i"),p={bucket:1,path:3},m=r===NL?"(?:storage.googleapis.com|storage.cloud.google.com)":r,_="([^?#]*)",x=new RegExp(`^https?://${m}/${a}/${_}`,"i"),b=[{regex:o,indices:l,postModify:i},{regex:f,indices:p,postModify:c},{regex:x,indices:{bucket:1,path:2},postModify:c}];for(let I=0;I<b.length;I++){const j=b[I],O=j.regex.exec(e);if(O){const N=O[j.indices.bucket];let A=O[j.indices.path];A||(A=""),n=new zs(N,A),j.postModify(n);break}}if(n==null)throw oX(e);return n}}class pX{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mX(t,e,r){let n=1,a=null,i=null,s=!1,o=0;function l(){return o===2}let c=!1;function u(..._){c||(c=!0,e.apply(null,_))}function h(_){a=setTimeout(()=>{a=null,t(f,l())},_)}function d(){i&&clearTimeout(i)}function f(_,...x){if(c){d();return}if(_){d(),u.call(null,_,...x);return}if(l()||s){d(),u.call(null,_,...x);return}n<64&&(n*=2);let b;o===1?(o=2,b=0):b=(n+Math.random())*1e3,h(b)}let p=!1;function m(_){p||(p=!0,d(),!c&&(a!==null?(_||(o=2),clearTimeout(a),h(0)):_||(o=1)))}return h(0),i=setTimeout(()=>{s=!0,m(!0)},r),m}function gX(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vX(t){return t!==void 0}function xX(t){return typeof t=="object"&&!Array.isArray(t)}function rE(t){return typeof t=="string"||t instanceof String}function QT(t){return nE()&&t instanceof Blob}function nE(){return typeof Blob<"u"}function JT(t,e,r,n){if(n<e)throw Nw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw Nw(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function LL(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const a=e(n)+"="+e(t[n]);r=r+a+"&"}return r=r.slice(0,-1),r}var Yf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Yf||(Yf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _X(t,e){const r=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return r||a||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yX{constructor(e,r,n,a,i,s,o,l,c,u,h,d=!0,f=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=a,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=d,this.isUsingEmulator=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(n,a)=>{if(a){n(!1,new Rg(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const s=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(s),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(s),this.pendingConnection_=null;const o=i.getErrorCode()===Yf.NO_ERROR,l=i.getStatus();if(!o||_X(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===Yf.ABORT;n(!1,new Rg(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;n(!0,new Rg(c,i))})},r=(n,a)=>{const i=this.resolve_,s=this.reject_,o=a.connection;if(a.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());vX(l)?i(l):i()}catch(l){s(l)}else if(o!==null){const l=tE();l.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,l)):s(l)}else if(a.canceled){const l=this.appDelete_?RL():sX();s(l)}else{const l=iX();s(l)}};this.canceled_?r(!1,new Rg(!1,null,!0)):this.backoffId_=mX(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&gX(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Rg{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function wX(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function bX(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function EX(t,e){e&&(t["X-Firebase-GMPID"]=e)}function AX(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function SX(t,e,r,n,a,i,s=!0,o=!1){const l=LL(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return EX(u,e),wX(u,r),bX(u,i),AX(u,n),new yX(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TX(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function CX(...t){const e=TX();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(nE())return new Blob(t);throw new ia(na.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function kX(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NX(t){if(typeof atob>"u")throw hX("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class xy{constructor(e,r){this.data=e,this.contentType=r||null}}function IX(t,e){switch(t){case Al.RAW:return new xy(DL(e));case Al.BASE64:case Al.BASE64URL:return new xy(PL(t,e));case Al.DATA_URL:return new xy(LX(e),DX(e))}throw tE()}function DL(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const i=n,s=t.charCodeAt(++r);n=65536|(i&1023)<<10|s&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function RX(t){let e;try{e=decodeURIComponent(t)}catch{throw np(Al.DATA_URL,"Malformed data URL.")}return DL(e)}function PL(t,e){switch(t){case Al.BASE64:{const a=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(a||i)throw np(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Al.BASE64URL:{const a=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(a||i)throw np(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=NX(e)}catch(a){throw a.message.includes("polyfill")?a:np(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}class OL{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw np(Al.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=PX(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function LX(t){const e=new OL(t);return e.base64?PL(Al.BASE64,e.rest):RX(e.rest)}function DX(t){return new OL(t).contentType}function PX(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,r){let n=0,a="";QT(e)?(this.data_=e,n=e.size,a=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,r){if(QT(this.data_)){const n=this.data_,a=kX(n,e,r);return a===null?null:new Eu(a)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new Eu(n,!0)}}static getBlob(...e){if(nE()){const r=e.map(n=>n instanceof Eu?n.data_:n);return new Eu(CX.apply(null,r))}else{const r=e.map(s=>rE(s)?IX(Al.RAW,s).data:s.data_);let n=0;r.forEach(s=>{n+=s.byteLength});const a=new Uint8Array(n);let i=0;return r.forEach(s=>{for(let o=0;o<s.length;o++)a[i++]=s[o]}),new Eu(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t){let e;try{e=JSON.parse(t)}catch{return null}return xX(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OX(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function FX(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function ML(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MX(t,e){return e}class zi{constructor(e,r,n,a){this.server=e,this.local=r||e,this.writable=!!n,this.xform=a||MX}}let Lg=null;function BX(t){return!rE(t)||t.length<2?t:ML(t)}function BL(){if(Lg)return Lg;const t=[];t.push(new zi("bucket")),t.push(new zi("generation")),t.push(new zi("metageneration")),t.push(new zi("name","fullPath",!0));function e(i,s){return BX(s)}const r=new zi("name");r.xform=e,t.push(r);function n(i,s){return s!==void 0?Number(s):s}const a=new zi("size");return a.xform=n,t.push(a),t.push(new zi("timeCreated")),t.push(new zi("updated")),t.push(new zi("md5Hash",null,!0)),t.push(new zi("cacheControl",null,!0)),t.push(new zi("contentDisposition",null,!0)),t.push(new zi("contentEncoding",null,!0)),t.push(new zi("contentLanguage",null,!0)),t.push(new zi("contentType",null,!0)),t.push(new zi("metadata","customMetadata",!0)),Lg=t,Lg}function UX(t,e){function r(){const n=t.bucket,a=t.fullPath,i=new zs(n,a);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:r})}function jX(t,e,r){const n={};n.type="file";const a=r.length;for(let i=0;i<a;i++){const s=r[i];n[s.local]=s.xform(n,e[s.server])}return UX(n,t),n}function UL(t,e,r){const n=FL(e);return n===null?null:jX(t,n,r)}function VX(t,e,r,n){const a=FL(e);if(a===null||!rE(a.downloadTokens))return null;const i=a.downloadTokens;if(i.length===0)return null;const s=encodeURIComponent;return i.split(",").map(c=>{const u=t.bucket,h=t.fullPath,d="/b/"+s(u)+"/o/"+s(h),f=aE(d,r,n),p=LL({alt:"media",token:c});return f+p})[0]}function zX(t,e){const r={},n=e.length;for(let a=0;a<n;a++){const i=e[a];i.writable&&(r[i.server]=t[i.local])}return JSON.stringify(r)}class jL{constructor(e,r,n,a){this.url=e,this.method=r,this.handler=n,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t){if(!t)throw tE()}function qX(t,e){function r(n,a){const i=UL(t,a,e);return VL(i!==null),i}return r}function HX(t,e){function r(n,a){const i=UL(t,a,e);return VL(i!==null),VX(i,a,t.host,t._protocol)}return r}function zL(t){function e(r,n){let a;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?a=nX():a=rX():r.getStatus()===402?a=tX(t.bucket):r.getStatus()===403?a=aX(t.path):a=n,a.status=r.getStatus(),a.serverResponse=n.serverResponse,a}return e}function GX(t){const e=zL(t);function r(n,a){let i=e(n,a);return n.getStatus()===404&&(i=eX(t.path)),i.serverResponse=a.serverResponse,i}return r}function WX(t,e,r){const n=e.fullServerUrl(),a=aE(n,t.host,t._protocol),i="GET",s=t.maxOperationRetryTime,o=new jL(a,i,HX(t,r),s);return o.errorHandler=GX(e),o}function $X(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function XX(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=$X(null,e)),n}function KX(t,e,r,n,a){const i=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function o(){let b="";for(let I=0;I<2;I++)b=b+Math.random().toString().slice(2);return b}const l=o();s["Content-Type"]="multipart/related; boundary="+l;const c=XX(e,n,a),u=zX(c,r),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,d=`\r
--`+l+"--",f=Eu.getBlob(h,n,d);if(f===null)throw uX();const p={name:c.fullPath},m=aE(i,t.host,t._protocol),_="POST",x=t.maxUploadRetryTime,T=new jL(m,_,qX(t,r),x);return T.urlParams=p,T.headers=s,T.body=f.uploadData(),T.errorHandler=zL(e),T}class YX{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Yf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Yf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Yf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,a,i){if(this.sent_)throw _1("cannot .send() more than once");if(pf(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(r,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _1("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _1("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _1("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _1("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class QX extends YX{initXhr(){this.xhr_.responseType="text"}}function qL(){return new QX}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,r){this._service=e,r instanceof zs?this._location=r:this._location=zs.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new gh(e,r)}get root(){const e=new zs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ML(this._location.path)}get storage(){return this._service}get parent(){const e=OX(this._location.path);if(e===null)return null;const r=new zs(this._location.bucket,e);return new gh(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw dX(e)}}function JX(t,e,r){t._throwIfRoot("uploadBytes");const n=KX(t.storage,t._location,BL(),new Eu(e,!0),r);return t.storage.makeRequestWithTokens(n,qL).then(a=>({metadata:a,ref:t}))}function ZX(t){t._throwIfRoot("getDownloadURL");const e=WX(t.storage,t._location,BL());return t.storage.makeRequestWithTokens(e,qL).then(r=>{if(r===null)throw fX();return r})}function eK(t,e){const r=FX(t._location.path,e),n=new zs(t._location.bucket,r);return new gh(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tK(t){return/^[A-Za-z]+:\/\//.test(t)}function rK(t,e){return new gh(t,e)}function HL(t,e){if(t instanceof iE){const r=t;if(r._bucket==null)throw cX();const n=new gh(r,r._bucket);return e!=null?HL(n,e):n}else return e!==void 0?eK(t,e):t}function nK(t,e){if(e&&tK(e)){if(t instanceof iE)return rK(t,e);throw Nw("To use ref(service, url), the first argument must be a Storage instance.")}else return HL(t,e)}function ZT(t,e){const r=e==null?void 0:e[IL];return r==null?null:zs.makeFromBucketSpec(r,t)}function aK(t,e,r,n={}){t.host=`${e}:${r}`;const a=pf(e);a&&(o4(`https://${t.host}/b`),l4("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:oR(i,t.app.options.projectId))}class iE{constructor(e,r,n,a,i,s=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=a,this._firebaseVersion=i,this._isUsingEmulator=s,this._bucket=null,this._host=NL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=J$,this._maxUploadRetryTime=Z$,this._requests=new Set,a!=null?this._bucket=zs.makeFromBucketSpec(a,this._host):this._bucket=ZT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=zs.makeFromBucketSpec(this._url,e):this._bucket=ZT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){JT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){JT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(Fs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gh(this,e)}_makeRequest(e,r,n,a,i=!0){if(this._deleted)return new pX(RL());{const s=SX(e,this._appId,n,a,r,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,r){const[n,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,a).getPromise()}}const e6="@firebase/storage",t6="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL="storage";function WL(t,e,r){return t=Tn(t),JX(t,e,r)}function $L(t){return t=Tn(t),ZX(t)}function XL(t,e){return t=Tn(t),nK(t,e)}function iK(t=f4(),e){t=Tn(t);const n=Ax(t,GL).getImmediate({identifier:e}),a=aR("storage");return a&&sK(n,...a),n}function sK(t,e,r,n={}){aK(t,e,r,n)}function oK(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new iE(r,n,a,e,Ih)}function lK(){ch(new Zu(GL,oK,"PUBLIC").setMultipleInstances(!0)),kl(e6,t6,""),kl(e6,t6,"esm2020")}lK();const cK={apiKey:"AIzaSyD3ilwHMaFcQ1t7IwgRkFqYttV8UaXC_Y4",authDomain:"web-mayoristas.firebaseapp.com",projectId:"web-mayoristas",storageBucket:"web-mayoristas.firebasestorage.app",messagingSenderId:"637184489427",appId:"1:637184489427:web:e4f68fd369acf687926126",measurementId:"G-K0C2FYWBQP"},sE=uR(cK),Xu=SH(sE),_t=F$(sE),KL=iK(sE),uK=60*60*1e3,YL=le.createContext(null);function fK({children:t}){const[e,r]=le.useState(null),[n,a]=le.useState(null),[i,s]=le.useState(!0),o=le.useRef(null);le.useEffect(()=>{if(!e)return;const c=()=>{o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{vv(Xu),typeof window<"u"&&(window.location.href="/login?reason=timeout")},uK)};c();const u=["mousedown","keydown","scroll","touchstart"];return u.forEach(h=>window.addEventListener(h,c)),()=>{u.forEach(h=>window.removeEventListener(h,c)),o.current&&clearTimeout(o.current)}},[e]),le.useEffect(()=>{const c=pq(Xu,async u=>{if(!u){r(null),a(null),s(!1);return}r(u);const h=br(jr(_t,"users",u.uid),d=>{const f=d.exists()?{id:d.id,...d.data()}:null;if((f==null?void 0:f.blocked)===!0||(f==null?void 0:f.deleted)===!0){if(vv(Xu),r(null),a(null),s(!1),typeof window<"u"){const p=f!=null&&f.deleted?"deleted":"blocked";window.location.href=`/login?reason=${p}`}return}a(f),s(!1)},()=>{a(null),s(!1)});return()=>h()});return()=>c()},[]);const l={user:e,profile:n,loading:i,isAdmin:(n==null?void 0:n.role)==="admin",isApproved:(n==null?void 0:n.approved)===!0&&!(n!=null&&n.deleted),isDeleted:(n==null?void 0:n.deleted)===!0};return w.jsx(YL.Provider,{value:l,children:t})}function eo(){const t=le.useContext(YL);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}const QL=le.createContext(null);function hK({children:t}){const{user:e}=eo(),r=e?`carrito_${e.uid}`:"carrito_anon",[n,a]=le.useState(()=>typeof window<"u"?JSON.parse(localStorage.getItem(r)||"[]"):[]);le.useEffect(()=>{const s=e?`carrito_${e.uid}`:"carrito_anon",o=JSON.parse(localStorage.getItem(s)||"[]");a(o)},[e==null?void 0:e.uid]),le.useEffect(()=>{try{localStorage.setItem(r,JSON.stringify(n))}catch(s){console.warn("Carrito: no se pudo guardar en localStorage",s)}},[n,r]);const i=le.useCallback(s=>{a(o=>typeof s=="function"?s(o):s)},[]);return w.jsx(QL.Provider,{value:{carrito:n,setCarrito:i},children:t})}function JL(){const t=le.useContext(QL);if(!t)throw new Error("useCarrito must be used within CarritoProvider");return t}const dK="5491171435864";function pK(){const t=`https://wa.me/${dK}`;return w.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"whatsapp-fab","aria-label":"Contactar por WhatsApp",children:w.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"28",height:"28",children:w.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})})}function mK(){const{user:t,profile:e,isAdmin:r}=eo(),n=Zs(),a=()=>{vv(Xu),n("/login")};return w.jsxs("div",{className:"layout",children:[w.jsx("header",{className:"header",children:w.jsxs("div",{className:"container header-inner",children:[w.jsxs(kr,{to:"/",className:"logo logo-mtf",children:[w.jsx("img",{src:"/logos/luni.png",alt:"LUNI",className:"logo-img logo-luni"}),w.jsx("img",{src:"/logos/polesie.png",alt:"Polesie",className:"logo-img logo-polesie"}),w.jsx("span",{className:"logo-text",children:"Distribuidora MTF"})]}),w.jsxs("nav",{className:"nav",children:[w.jsx(kr,{to:"/",children:"Inicio"}),w.jsx(kr,{to:"/catalogo",children:"Realizar pedido"}),w.jsx(kr,{to:"/checkout",children:"Carrito"}),w.jsx(kr,{to:"/datos",children:"Datos"}),w.jsx(kr,{to:"/mis-pedidos",children:"Mis pedidos"}),w.jsx(kr,{to:"/fotos-videos",children:"Fotos y videos"}),w.jsx(kr,{to:"/novedades",children:"Novedades"}),r&&w.jsx(kr,{to:"/admin",children:"Admin"}),w.jsxs("div",{className:"user-menu",children:[w.jsx("span",{className:"user-email",children:t==null?void 0:t.email}),w.jsx("button",{onClick:a,className:"btn btn-ghost btn-sm",children:"Salir"})]})]})]})}),w.jsx("main",{className:"main",children:w.jsx(KI,{})}),w.jsx(pK,{})]})}function gK(){const[t,e]=le.useState(""),[r,n]=le.useState(""),[a,i]=le.useState(""),[s,o]=le.useState(!1),[l,c]=le.useState(!1),[u,h]=le.useState(""),[d,f]=le.useState(!1),[p,m]=le.useState(""),[_,x]=le.useState(!1),T=Zs(),[b]=bj(),I=b.get("reason")==="deleted",j=b.get("reason")==="blocked",O=b.get("reason")==="timeout",N=async R=>{R.preventDefault(),i(""),o(!0);try{await fq(Xu,t,r),T("/")}catch(S){i(S.code==="auth/invalid-credential"?"Email o contrasea incorrectos":S.message)}finally{o(!1)}},A=async R=>{R.preventDefault(),m(""),x(!0);try{const S={url:window.location.origin+"/login",handleCodeInApp:!1};await cq(Xu,u,S),f(!0)}catch(S){m(S.code==="auth/user-not-found"?"No existe una cuenta con ese email":S.code==="auth/invalid-email"?"Email invlido":S.message)}finally{x(!1)}},y=()=>{c(!1),h(""),f(!1),m("")};return w.jsx("div",{className:"auth-page",children:w.jsx("div",{className:"auth-card",children:l?w.jsxs(w.Fragment,{children:[w.jsx("h1",{className:"auth-title",children:"Recuperar contrasea"}),w.jsx("p",{className:"auth-subtitle",children:"Ingres tu email y te enviamos un enlace seguro para restablecer tu contrasea."}),d?w.jsxs("div",{className:"auth-recuperar-exito",children:[w.jsx("p",{className:"auth-recuperar-mensaje",children:"Revis tu bandeja de entrada (y la carpeta de spam). Te enviamos un enlace para restablecer tu contrasea."}),w.jsxs("div",{className:"auth-recuperar-botones",children:[w.jsx("button",{type:"button",className:"btn btn-primary btn-block",onClick:y,children:"Volver al inicio de sesin"}),w.jsx("button",{type:"button",className:"btn btn-ghost btn-block",onClick:y,children:"Cerrar"})]})]}):w.jsxs("form",{onSubmit:A,className:"auth-form",children:[p&&w.jsx("div",{className:"alert alert-error",children:p}),w.jsxs("label",{children:["Email",w.jsx("input",{type:"email",value:u,onChange:R=>h(R.target.value),placeholder:"tu@empresa.com",required:!0,className:"auth-input"})]}),w.jsxs("div",{className:"auth-form-buttons",children:[w.jsx("button",{type:"submit",className:"btn btn-primary btn-block",disabled:_,children:_?"Enviando...":"Enviar enlace de recuperacin"}),w.jsx("button",{type:"button",className:"btn btn-ghost btn-block",onClick:y,children:"Volver al login"})]})]})]}):w.jsxs(w.Fragment,{children:[w.jsx("h1",{className:"auth-title",children:"Web Mayoristas"}),w.jsx("p",{className:"auth-subtitle",children:"Ingres a tu cuenta"}),w.jsxs("form",{onSubmit:N,className:"auth-form",children:[I&&w.jsx("div",{className:"alert alert-error",children:"Tu cuenta fue dada de baja. Contact al administrador."}),j&&w.jsx("div",{className:"alert alert-error",children:"Tu cuenta est bloqueada. Contact al administrador."}),O&&w.jsx("div",{className:"alert alert-error",children:"La sesin expir por inactividad. Volv a iniciar sesin."}),a&&w.jsx("div",{className:"alert alert-error",children:a}),w.jsxs("label",{children:["Email",w.jsx("input",{type:"email",value:t,onChange:R=>e(R.target.value),placeholder:"tu@empresa.com",required:!0})]}),w.jsxs("label",{children:["Contrasea",w.jsx("input",{type:"password",value:r,onChange:R=>n(R.target.value),required:!0})]}),w.jsx("button",{type:"submit",className:"btn btn-primary btn-block",disabled:s,children:s?"Ingresando...":"Ingresar"})]}),w.jsx("p",{className:"auth-footer",children:w.jsx("button",{type:"button",className:"auth-link-button",onClick:()=>c(!0),children:"Olvidaste tu contrasea?"})}),w.jsxs("p",{className:"auth-footer",children:["No tens cuenta? ",w.jsx(kr,{to:"/registro",children:"Registrate"})]})]})})})}function vK(){const[t,e]=le.useState({email:"",password:"",nombre:"",apellido:"",telefono:""}),[r,n]=le.useState(""),[a,i]=le.useState(!1),s=Zs(),o=c=>{e({...t,[c.target.name]:c.target.value})},l=async c=>{c.preventDefault(),n(""),i(!0);try{const{user:u}=await uq(Xu,t.email,t.password);await Lv(jr(_t,"users",u.uid),{email:t.email,nombreContacto:t.nombre||null,apellidoContacto:t.apellido||null,telefonoContacto:t.telefono||null,emailContacto:t.email,role:"cliente",approved:!0,createdAt:new Date}),s("/datos",{state:{fromRegister:!0}})}catch(u){n(u.code==="auth/email-already-in-use"?"Ese email ya est registrado":u.message)}finally{i(!1)}};return w.jsx("div",{className:"auth-page",children:w.jsxs("div",{className:"auth-card",children:[w.jsx("h1",{className:"auth-title",children:"Crear cuenta"}),w.jsx("p",{className:"auth-subtitle",children:"Complet tus datos para registrarte"}),w.jsxs("form",{onSubmit:l,className:"auth-form",children:[r&&w.jsx("div",{className:"alert alert-error",children:r}),w.jsxs("label",{children:["Email *",w.jsx("input",{type:"email",name:"email",value:t.email,onChange:o,required:!0})]}),w.jsxs("label",{children:["Contrasea *",w.jsx("input",{type:"password",name:"password",value:t.password,onChange:o,required:!0,minLength:6})]}),w.jsxs("label",{children:["Nombre *",w.jsx("input",{type:"text",name:"nombre",value:t.nombre,onChange:o,required:!0})]}),w.jsxs("label",{children:["Apellido *",w.jsx("input",{type:"text",name:"apellido",value:t.apellido,onChange:o,required:!0})]}),w.jsxs("label",{children:["Telfono *",w.jsx("input",{type:"tel",name:"telefono",value:t.telefono,onChange:o,required:!0})]}),w.jsx("button",{type:"submit",className:"btn btn-primary btn-block",disabled:a,children:a?"Registrando...":"Registrarse"})]}),w.jsxs("p",{className:"auth-footer",children:["Ya tens cuenta? ",w.jsx(kr,{to:"/login",children:"Iniciar sesin"})]})]})})}function xK(){const{profile:t}=eo();return w.jsxs("div",{className:"container page",children:[w.jsxs("h1",{className:"page-title",children:["Bienvenido, ",(t==null?void 0:t.nombreEmpresa)||"Cliente"]}),w.jsxs("p",{className:"page-subtitle",children:["Tu descuento base es del ",(t==null?void 0:t.descuentoBase)??0,"%. Acced al catlogo para realizar pedidos."]}),w.jsxs("div",{className:"dashboard-cards",children:[w.jsxs(kr,{to:"/catalogo",className:"card card-link",children:[w.jsx("h3",{children:"Realizar pedido"}),w.jsx("p",{children:"Ver productos y agregar al carrito"})]}),w.jsxs(kr,{to:"/checkout",className:"card card-link",children:[w.jsx("h3",{children:"Carrito"}),w.jsx("p",{children:"Completar pedido con los 5 selectores"})]}),w.jsxs(kr,{to:"/datos",className:"card card-link",children:[w.jsx("h3",{children:"Datos"}),w.jsx("p",{children:"Razones sociales, sucursales, expresos y contacto"})]}),w.jsxs(kr,{to:"/mis-pedidos",className:"card card-link",children:[w.jsx("h3",{children:"Mis pedidos"}),w.jsx("p",{children:"Historial y detalle de tus pedidos"})]}),w.jsxs(kr,{to:"/fotos-videos",className:"card card-link",children:[w.jsx("h3",{children:"Fotos y videos"}),w.jsx("p",{children:"Material audiovisual para descargar"})]}),w.jsxs(kr,{to:"/novedades",className:"card card-link",children:[w.jsx("h3",{children:"Novedades"}),w.jsx("p",{children:"Notificaciones y novedades"})]})]})]})}function _K({imagenes:t,onClose:e}){const[r,n]=le.useState(0);return le.useEffect(()=>{const a=i=>{i.key==="Escape"&&e(),i.key==="ArrowLeft"&&n(s=>(s-1+t.length)%t.length),i.key==="ArrowRight"&&n(s=>(s+1)%t.length)};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[t.length,e]),t!=null&&t.length?w.jsxs("div",{className:"lightbox-overlay",onClick:e,role:"dialog","aria-modal":"true",children:[w.jsx("button",{className:"lightbox-close",onClick:e,"aria-label":"Cerrar",children:""}),w.jsx("button",{className:"lightbox-nav lightbox-prev",onClick:a=>{a.stopPropagation(),n(i=>(i-1+t.length)%t.length)},"aria-label":"Anterior",children:""}),w.jsx("img",{src:t[r],alt:"",className:"lightbox-img",onClick:a=>a.stopPropagation()}),w.jsx("button",{className:"lightbox-nav lightbox-next",onClick:a=>{a.stopPropagation(),n(i=>(i+1)%t.length)},"aria-label":"Siguiente",children:""}),w.jsxs("div",{className:"lightbox-counter",children:[r+1," / ",t.length]})]}):null}function Nr(t){const e=Number(t);if(isNaN(e))return"0.00";const r=e.toFixed(2),[n,a]=r.split(".");return n.replace(/\B(?=(\d{3})+(?!\d))/g,",")+"."+a}function yK(){const{profile:t}=eo(),{carrito:e,setCarrito:r}=JL(),[n,a]=le.useState([]),[i,s]=le.useState([]),[o,l]=le.useState([]),[c,u]=le.useState(""),[h,d]=le.useState("polesie"),[f,p]=le.useState("grid"),[m,_]=le.useState({}),[x,T]=le.useState(null),b=[{id:"polesie",label:"Polesie"},{id:"luni",label:"LUNI"}],I=F=>{var U;return(U=F.imagenes)!=null&&U.length?F.imagenes:F.imagen?[F.imagen]:[]};le.useEffect(()=>{const F=Vn(lr(_t,"productos"),ea("activo","==",!0)),U=br(F,M=>{a(M.docs.map(Y=>({id:Y.id,...Y.data()})))});return()=>U()},[]),le.useEffect(()=>{const F=Vn(lr(_t,"categorias"),Dh("orden","asc")),U=br(F,M=>{s(M.docs.map(Y=>({id:Y.id,...Y.data()})))});return()=>U()},[]),le.useEffect(()=>{const F=br(lr(_t,"ofertas"),U=>{l(U.docs.map(M=>({id:M.id,...M.data()})))});return()=>F()},[]);const j=(t==null?void 0:t.descuentoBase)??0,O=Object.fromEntries((o||[]).map(F=>[F.productId,F])),N=F=>F*(1-j/100),A=(F,U)=>{const M=O[F.id];return M!=null&&M.descuentoPct?U*(1-(M.descuentoPct??0)/100):U},y=n.filter(F=>(F.catalogo||"polesie")===h),R=y.filter(F=>O[F.id]),S=()=>{const F=c.toLowerCase().trim();if(!F)return y;const U=F.split(/\s+/);return y.filter(M=>{const Y=(M.descripcion??M.nombre??"").toLowerCase(),se=(M.sku??M.codigo??"").toLowerCase(),he=(M.presentacion??"").toLowerCase(),fe=(M.dimensiones??"").toLowerCase(),ve=`${Y} ${se} ${he} ${fe}`;return U.every(ke=>ve.includes(ke))})},k=F=>{const U=Object.fromEntries(i.map((M,Y)=>[M.id,Y]));return[...F].sort((M,Y)=>{const se=M.orden??999999,he=Y.orden??999999;if(se!==he)return se-he;const fe=M.categoriaId!=null?U[M.categoriaId]??9999:9999,ve=Y.categoriaId!=null?U[Y.categoriaId]??9999:9999;return fe!==ve?fe-ve:(M.descripcion??"").localeCompare(Y.descripcion??"")})},C=k(S());function H({p:F,getImagenes:U,addToCart:M,carrito:Y,descuentoBase:se,ofertaByProductId:he,getPrecioBultoConOferta:fe,precioConDescuento:ve,formatMoneda:ke,imageIndexByProduct:ne,cycleProductImage:be,cycleProductImagePrev:Me,setLightboxImagenes:J}){const Ie=F.unidadesPorBulto??1,Re=F.precioPorBulto??(F.precioUnitario??0)*Ie,De=fe(F,Re),Te=!!he[F.id],Qe=Y.find(at=>at.id===F.id),Ye=(Qe==null?void 0:Qe.qty)??0,we=U(F),qe=ne[F.id]??0,tt=we[qe]??we[0];return w.jsxs("div",{className:"product-card",children:[tt?w.jsx("div",{className:"product-image-wrap",children:w.jsxs("div",{className:"product-image",onClick:()=>we.length>0&&J(we),children:[w.jsx("img",{src:tt,alt:F.descripcion??"",onError:at=>{at.target.style.display="none"}}),we.length>1&&w.jsxs(w.Fragment,{children:[w.jsx("span",{className:"product-image-badge",children:we.length}),w.jsx("button",{type:"button",tabIndex:-1,className:"product-image-nav product-image-nav-prev","aria-label":"Foto anterior",onClick:at=>Me(F.id,we.length,at),children:""}),w.jsx("button",{type:"button",tabIndex:-1,className:"product-image-nav product-image-nav-next","aria-label":"Siguiente foto",onClick:at=>be(F.id,we.length,at),children:""})]})]})}):null,w.jsxs("div",{className:"product-info",children:[w.jsx("h3",{children:F.descripcion??F.nombre}),w.jsx("p",{className:"product-codigo",children:F.sku??F.codigo??""}),F.presentacion&&w.jsx("p",{className:"product-presentacion",children:F.presentacion}),F.dimensiones&&w.jsx("p",{className:"product-dimensiones",children:F.dimensiones}),w.jsxs("p",{className:"product-unidades",children:["(",Ie," unid. por bulto)"]}),w.jsxs("p",{className:"product-price-unit",children:["Precio unitario:"," ",Te?w.jsxs(w.Fragment,{children:[w.jsxs("span",{className:"product-price-base-tachado",children:["$",ke(F.precioUnitario??Re/Ie)]}),w.jsxs("span",{className:"product-price-final-oferta",children:["$",ke(De/Ie)]})]}):w.jsxs(w.Fragment,{children:["$",ke(F.precioUnitario??Re/Ie)]})," ",w.jsx("span",{className:"price-sin-iva",children:"(sin IVA)"})]}),w.jsx("p",{className:`product-price ${Te?"price-with-offer":""}`,children:Te?w.jsxs(w.Fragment,{children:[w.jsxs("span",{className:"product-price-base-tachado",children:["$",ke(Re)]}),w.jsxs("span",{className:"product-price-final-oferta",children:["$",ke(De)]}),w.jsx("span",{className:"price-unit",children:"/ bulto"})]}):w.jsxs(w.Fragment,{children:["$",ke(Re),w.jsx("span",{className:"price-unit",children:"/ bulto"})]})})]}),w.jsxs("div",{className:"product-add",children:[w.jsx("input",{type:"number",min:"1",defaultValue:"1",className:"product-qty-input",id:`qty-${F.id}`}),w.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>{const at=document.getElementById(`qty-${F.id}`),Tt=at?parseInt(at.value,10):1;M(F,Tt),at&&(at.value="1")},children:"Agregar"})]}),Ye>0&&w.jsxs("p",{className:"product-in-cart",children:[Ye," bulto",Ye!==1?"s":""," en carrito"]})]})}const X=e.reduce((F,U)=>{const M=U.precioPorBulto??(U.precioUnitario??0)*(U.unidadesPorBulto??1),Y=A(U,M);return F+Y*U.qty},0),V=X*(j/100),q=X-V,re=(F,U)=>{const M=Math.max(0,Math.floor(Number(U))||0);if(M===0){r(e.filter(Y=>Y.id!==F));return}r(e.map(Y=>Y.id===F?{...Y,qty:M}:Y))},W=F=>{r(e.filter(U=>U.id!==F))},me=(F,U,M)=>{var se,he;if((se=M==null?void 0:M.preventDefault)==null||se.call(M),(he=M==null?void 0:M.stopPropagation)==null||he.call(M),U<=1)return;const Y=window.scrollY;_(fe=>{const ke=((fe[F]??0)+1)%U;return{...fe,[F]:ke}}),setTimeout(()=>{window.scrollTo(0,Y)},0)},Ee=(F,U,M)=>{var se,he;if((se=M==null?void 0:M.preventDefault)==null||se.call(M),(he=M==null?void 0:M.stopPropagation)==null||he.call(M),U<=1)return;const Y=window.scrollY;_(fe=>{const ke=((fe[F]??0)-1+U)%U;return{...fe,[F]:ke}}),setTimeout(()=>{window.scrollTo(0,Y)},0)},D=(F,U=1)=>{const M=Math.floor(Number(U))||1;if(M<1)return;const Y=window.scrollY,se=e.find(he=>he.id===F.id);r(se?e.map(he=>he.id===F.id?{...he,qty:he.qty+M}:he):[...e,{...F,qty:M}]),requestAnimationFrame(()=>{window.scrollTo(0,Y)}),setTimeout(()=>{window.scrollTo(0,Y)},0)};return w.jsxs("div",{className:"catalogo-con-layout",children:[w.jsx("div",{className:"catalogo-main",children:w.jsxs("div",{className:"container page",children:[w.jsx("h1",{className:"page-title",children:"Realizar pedido"}),w.jsxs("p",{className:"page-subtitle",children:["Precios con ",j,"% de descuento base. Pronto pago adicional aplica en checkout. Solo se venden bultos cerrados."]}),w.jsx("div",{className:"catalogo-tabs",children:b.map(F=>w.jsx("button",{type:"button",className:`catalogo-tab ${h===F.id?"active":""}`,onClick:()=>d(F.id),children:F.label},F.id))}),w.jsxs("div",{className:"catalogo-toolbar",children:[w.jsx("div",{className:"catalogo-busqueda",children:w.jsx("input",{type:"search",placeholder:"Buscar por descripcin, SKU o palabras clave...",value:c,onChange:F=>u(F.target.value),className:"busqueda-input"})}),w.jsxs("div",{className:"catalogo-vista-toggle",children:[w.jsx("span",{className:"catalogo-vista-label",children:"Vista:"}),w.jsx("button",{type:"button",className:f==="grid"?"active":"",onClick:()=>p("grid"),children:"Cuadrcula"}),w.jsx("button",{type:"button",className:f==="list"?"active":"",onClick:()=>p("list"),children:"Lista"})]})]}),R.length>0&&w.jsxs("section",{className:"catalogo-ofertas-section",children:[w.jsx("h2",{className:"catalogo-ofertas-titulo",children:"Ofertas"}),w.jsx("div",{className:`product-grid product-grid--${f} ${f==="grid"?"product-grid--4":""}`,children:k(R).map(F=>w.jsx(H,{p:F,getImagenes:I,addToCart:D,carrito:e,descuentoBase:j,ofertaByProductId:O,getPrecioBultoConOferta:A,precioConDescuento:N,formatMoneda:Nr,imageIndexByProduct:m,cycleProductImage:me,cycleProductImagePrev:Ee,setLightboxImagenes:T},F.id))})]}),w.jsx("div",{className:`product-grid product-grid--${f} ${f==="grid"?"product-grid--4":""}`,children:y.length===0?w.jsxs("p",{className:"empty-state",children:["No hay productos en el catlogo ",h==="polesie"?"Polesie":"LUNI",". El administrador debe cargarlo."]}):C.length===0?w.jsxs("p",{className:"empty-state",children:['No se encontraron productos para "',c,'".']}):C.map(F=>w.jsx(H,{p:F,getImagenes:I,addToCart:D,carrito:e,descuentoBase:j,ofertaByProductId:O,getPrecioBultoConOferta:A,precioConDescuento:N,formatMoneda:Nr,imageIndexByProduct:m,cycleProductImage:me,cycleProductImagePrev:Ee,setLightboxImagenes:T},F.id))})]})}),w.jsx("aside",{className:"catalogo-carrito-sidebar",children:w.jsxs("div",{className:"carrito-sidebar-inner",children:[w.jsx("h3",{children:"Tu carrito"}),e.length===0?w.jsx("p",{className:"carrito-sidebar-empty",children:"Vaco"}):w.jsxs(w.Fragment,{children:[w.jsx("ul",{className:"carrito-sidebar-list",children:e.map(F=>{const U=F.unidadesPorBulto??1,M=F.precioPorBulto??(F.precioUnitario??0)*U,Y=A(F,M),se=!!O[F.id],he=Y*F.qty;return w.jsxs("li",{className:"carrito-sidebar-item",children:[w.jsx("span",{className:"carrito-sidebar-nombre",children:F.descripcion??F.nombre}),w.jsx("div",{className:"carrito-sidebar-row",children:w.jsxs("span",{className:"carrito-sidebar-detalle",children:[se&&w.jsxs("span",{className:"product-price-base-tachado",children:["$",Nr(M*F.qty)]}),F.qty," bulto",F.qty!==1?"s":"","  $/u $",Nr(Y/U)," (sin IVA)  $",Nr(he)]})}),w.jsxs("div",{className:"carrito-sidebar-actions",children:[w.jsx("input",{type:"number",min:"1",value:F.qty,onChange:fe=>re(F.id,fe.target.value),className:"carrito-sidebar-qty"}),w.jsx("button",{type:"button",className:"carrito-sidebar-remove",onClick:()=>W(F.id),"aria-label":"Quitar",children:""})]})]},F.id)})}),w.jsxs("p",{className:"carrito-sidebar-total",children:["Subtotal: $",Nr(X)]}),j>0&&V>0&&w.jsxs("p",{className:"carrito-sidebar-descuento",children:["Descuento (",j,"%): ",w.jsxs("span",{className:"monto-negativo",children:["-$",Nr(V)]})]}),w.jsxs("p",{className:"carrito-sidebar-total",children:["Total: $",Nr(q)]}),w.jsx(kr,{to:"/checkout",className:"btn btn-primary btn-block",children:"Ir al carrito"})]})]})}),e.length>0&&w.jsxs("div",{className:"carrito-fab-mobile",children:[w.jsxs("div",{className:"carrito-fab-info",children:[w.jsxs("span",{children:[e.length," ",e.length===1?"producto":"productos"]}),w.jsxs("span",{className:"carrito-fab-total",children:["Total: $",Nr(q)]})]}),w.jsx(kr,{to:"/checkout",className:"btn btn-primary btn-sm",children:"Ir al carrito"})]}),x&&w.jsx(_K,{imagenes:x,onClose:()=>T(null)})]})}const wK="modulepreload",bK=function(t){return"/"+t},r6={},_y=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=bK(l),l in r6)return;r6[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":wK,c||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};function rn(t){"@babel/helpers - typeof";return rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rn(t)}var Zo=Uint8Array,qs=Uint16Array,oE=Int32Array,lE=new Zo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),cE=new Zo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),n6=new Zo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ZL=function(t,e){for(var r=new qs(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new oE(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},eD=ZL(lE,2),EK=eD.b,Iw=eD.r;EK[28]=258,Iw[258]=28;var AK=ZL(cE,0),a6=AK.r,Rw=new qs(32768);for(var Pn=0;Pn<32768;++Pn){var cu=(Pn&43690)>>1|(Pn&21845)<<1;cu=(cu&52428)>>2|(cu&13107)<<2,cu=(cu&61680)>>4|(cu&3855)<<4,Rw[Pn]=((cu&65280)>>8|(cu&255)<<8)>>1}var ap=function(t,e,r){for(var n=t.length,a=0,i=new qs(e);a<n;++a)t[a]&&++i[t[a]-1];var s=new qs(e);for(a=1;a<e;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new qs(1<<e);var l=15-e;for(a=0;a<n;++a)if(t[a])for(var c=a<<4|t[a],u=e-t[a],h=s[t[a]-1]++<<u,d=h|(1<<u)-1;h<=d;++h)o[Rw[h]>>l]=c}else for(o=new qs(n),a=0;a<n;++a)t[a]&&(o[a]=Rw[s[t[a]-1]++]>>15-t[a]);return o},vh=new Zo(288);for(var Pn=0;Pn<144;++Pn)vh[Pn]=8;for(var Pn=144;Pn<256;++Pn)vh[Pn]=9;for(var Pn=256;Pn<280;++Pn)vh[Pn]=7;for(var Pn=280;Pn<288;++Pn)vh[Pn]=8;var Pv=new Zo(32);for(var Pn=0;Pn<32;++Pn)Pv[Pn]=5;var SK=ap(vh,9,0),TK=ap(Pv,5,0),tD=function(t){return(t+7)/8|0},CK=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Zo(t.subarray(e,r))},rc=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},y1=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},yy=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,i=r.slice();if(!a)return{t:nD,l:0};if(a==1){var s=new Zo(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(j,O){return j.f-O.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,h=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=a-1;)o=r[r[c].f<r[h].f?c++:h++],l=r[c!=u&&r[c].f<r[h].f?c++:h++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var d=i[0].s,n=1;n<a;++n)i[n].s>d&&(d=i[n].s);var f=new qs(d+1),p=Lw(r[u-1],f,0);if(p>e){var n=0,m=0,_=p-e,x=1<<_;for(i.sort(function(O,N){return f[N.s]-f[O.s]||O.f-N.f});n<a;++n){var T=i[n].s;if(f[T]>e)m+=x-(1<<p-f[T]),f[T]=e;else break}for(m>>=_;m>0;){var b=i[n].s;f[b]<e?m-=1<<e-f[b]++-1:++n}for(;n>=0&&m;--n){var I=i[n].s;f[I]==e&&(--f[I],++m)}p=e}return{t:new Zo(f),l:p}},Lw=function(t,e,r){return t.s==-1?Math.max(Lw(t.l,e,r+1),Lw(t.r,e,r+1)):e[t.s]=r},i6=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new qs(++e),n=0,a=t[0],i=1,s=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==a&&o!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=t[o]}return{c:r.subarray(0,n),n:e}},w1=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},rD=function(t,e,r){var n=r.length,a=tD(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<n;++i)t[a+i+4]=r[i];return(a+4+n)*8},s6=function(t,e,r,n,a,i,s,o,l,c,u){rc(e,u++,r),++a[256];for(var h=yy(a,15),d=h.t,f=h.l,p=yy(i,15),m=p.t,_=p.l,x=i6(d),T=x.c,b=x.n,I=i6(m),j=I.c,O=I.n,N=new qs(19),A=0;A<T.length;++A)++N[T[A]&31];for(var A=0;A<j.length;++A)++N[j[A]&31];for(var y=yy(N,7),R=y.t,S=y.l,k=19;k>4&&!R[n6[k-1]];--k);var C=c+5<<3,H=w1(a,vh)+w1(i,Pv)+s,X=w1(a,d)+w1(i,m)+s+14+3*k+w1(N,R)+2*N[16]+3*N[17]+7*N[18];if(l>=0&&C<=H&&C<=X)return rD(e,u,t.subarray(l,l+c));var V,q,re,W;if(rc(e,u,1+(X<H)),u+=2,X<H){V=ap(d,f,0),q=d,re=ap(m,_,0),W=m;var me=ap(R,S,0);rc(e,u,b-257),rc(e,u+5,O-1),rc(e,u+10,k-4),u+=14;for(var A=0;A<k;++A)rc(e,u+3*A,R[n6[A]]);u+=3*k;for(var Ee=[T,j],D=0;D<2;++D)for(var F=Ee[D],A=0;A<F.length;++A){var U=F[A]&31;rc(e,u,me[U]),u+=R[U],U>15&&(rc(e,u,F[A]>>5&127),u+=F[A]>>12)}}else V=SK,q=vh,re=TK,W=Pv;for(var A=0;A<o;++A){var M=n[A];if(M>255){var U=M>>18&31;y1(e,u,V[U+257]),u+=q[U+257],U>7&&(rc(e,u,M>>23&31),u+=lE[U]);var Y=M&31;y1(e,u,re[Y]),u+=W[Y],Y>3&&(y1(e,u,M>>5&8191),u+=cE[Y])}else y1(e,u,V[M]),u+=q[M]}return y1(e,u,V[256]),u+q[256]},kK=new oE([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),nD=new Zo(0),NK=function(t,e,r,n,a,i){var s=i.z||t.length,o=new Zo(n+s+5*(1+Math.ceil(s/7e3))+a),l=o.subarray(n,o.length-a),c=i.l,u=(i.r||0)&7;if(e){u&&(l[0]=i.r>>3);for(var h=kK[e-1],d=h>>13,f=h&8191,p=(1<<r)-1,m=i.p||new qs(32768),_=i.h||new qs(p+1),x=Math.ceil(r/3),T=2*x,b=function(Me){return(t[Me]^t[Me+1]<<x^t[Me+2]<<T)&p},I=new oE(25e3),j=new qs(288),O=new qs(32),N=0,A=0,y=i.i||0,R=0,S=i.w||0,k=0;y+2<s;++y){var C=b(y),H=y&32767,X=_[C];if(m[H]=X,_[C]=H,S<=y){var V=s-y;if((N>7e3||R>24576)&&(V>423||!c)){u=s6(t,l,0,I,j,O,A,R,k,y-k,u),R=N=A=0,k=y;for(var q=0;q<286;++q)j[q]=0;for(var q=0;q<30;++q)O[q]=0}var re=2,W=0,me=f,Ee=H-X&32767;if(V>2&&C==b(y-Ee))for(var D=Math.min(d,V)-1,F=Math.min(32767,y),U=Math.min(258,V);Ee<=F&&--me&&H!=X;){if(t[y+re]==t[y+re-Ee]){for(var M=0;M<U&&t[y+M]==t[y+M-Ee];++M);if(M>re){if(re=M,W=Ee,M>D)break;for(var Y=Math.min(Ee,M-2),se=0,q=0;q<Y;++q){var he=y-Ee+q&32767,fe=m[he],ve=he-fe&32767;ve>se&&(se=ve,X=he)}}}H=X,X=m[H],Ee+=H-X&32767}if(W){I[R++]=268435456|Iw[re]<<18|a6[W];var ke=Iw[re]&31,ne=a6[W]&31;A+=lE[ke]+cE[ne],++j[257+ke],++O[ne],S=y+re,++N}else I[R++]=t[y],++j[t[y]]}}for(y=Math.max(y,S);y<s;++y)I[R++]=t[y],++j[t[y]];u=s6(t,l,c,I,j,O,A,R,k,y-k,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=_,i.p=m,i.i=y,i.w=S)}else{for(var y=i.w||0;y<s+c;y+=65535){var be=y+65535;be>=s&&(l[u/8|0]=c,be=s),u=rD(l,u+1,t.subarray(y,be))}i.i=s}return CK(o,0,n+tD(u)+a)},aD=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},IK=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),s=new Zo(i.length+t.length);s.set(i),s.set(t,i.length),t=s,a.w=i.length}return NK(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},iD=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},RK=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=aD();a.p(e.dictionary),iD(t,2,a.d())}};function Dw(t,e){e||(e={});var r=aD();r.p(t);var n=IK(t,e,e.dictionary?6:2,4);return RK(n,e),iD(n,n.length-4,r.d()),n}var LK=typeof TextDecoder<"u"&&new TextDecoder,DK=0;try{LK.decode(nD,{stream:!0}),DK=1}catch{}function PK(t){if(Array.isArray(t))return t}function OK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function o6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function FK(t,e){if(t){if(typeof t=="string")return o6(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o6(t,e):void 0}}function MK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l6(t,e){return PK(t)||OK(t,e)||FK(t,e)||MK()}function c6(t,e="utf8"){return new TextDecoder(e).decode(t)}const BK=new TextEncoder;function UK(t){return BK.encode(t)}const jK=1024*8,VK=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),wy={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class uE{constructor(e=jK,r={}){Jr(this,"buffer");Jr(this,"byteLength");Jr(this,"byteOffset");Jr(this,"length");Jr(this,"offset");Jr(this,"lastWrittenByte");Jr(this,"littleEndian");Jr(this,"_data");Jr(this,"_mark");Jr(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const a=r.offset?r.offset>>>0:0,i=e.byteLength-a;let s=a;(ArrayBuffer.isView(e)||e instanceof uE)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+a),e=e.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=wy[r].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===VK&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(a,a+n));o.reverse();const l=new wy[r](o.buffer);return this.offset+=n,l.reverse(),l}const s=new wy[r](i);return this.offset+=n,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return c6(this.readBytes(e))}decodeText(e=1,r="utf8"){return c6(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(UK(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function jd(t){let e=t.length;for(;--e>=0;)t[e]=0}const zK=3,qK=258,sD=29,HK=256,GK=HK+1+sD,oD=30,WK=512,$K=new Array((GK+2)*2);jd($K);const XK=new Array(oD*2);jd(XK);const KK=new Array(WK);jd(KK);const YK=new Array(qK-zK+1);jd(YK);const QK=new Array(sD);jd(QK);const JK=new Array(oD);jd(JK);const ZK=(t,e,r,n)=>{let a=t&65535|0,i=t>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do a=a+e[n++]|0,i=i+a|0;while(--s);a%=65521,i%=65521}return a|i<<16|0};var Pw=ZK;const eY=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},tY=new Uint32Array(eY()),rY=(t,e,r,n)=>{const a=tY,i=n+r;t^=-1;for(let s=n;s<i;s++)t=t>>>8^a[(t^e[s])&255];return t^-1};var pl=rY,Ow={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},lD={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const nY=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var aY=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)nY(r,n)&&(t[n]=r[n])}}return t},iY=t=>{let e=0;for(let n=0,a=t.length;n<a;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,a=0,i=t.length;n<i;n++){let s=t[n];r.set(s,a),a+=s.length}return r},cD={assign:aY,flattenChunks:iY};let uD=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{uD=!1}const jp=new Uint8Array(256);for(let t=0;t<256;t++)jp[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;jp[254]=jp[254]=1;var sY=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,a,i,s=t.length,o=0;for(a=0;a<s;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<s&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),i=0,a=0;i<o;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<s&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?e[i++]=r:r<2048?(e[i++]=192|r>>>6,e[i++]=128|r&63):r<65536?(e[i++]=224|r>>>12,e[i++]=128|r>>>6&63,e[i++]=128|r&63):(e[i++]=240|r>>>18,e[i++]=128|r>>>12&63,e[i++]=128|r>>>6&63,e[i++]=128|r&63);return e};const oY=(t,e)=>{if(e<65534&&t.subarray&&uD)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var lY=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let s=t[n++];if(s<128){i[a++]=s;continue}let o=jp[s];if(o>4){i[a++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<r;)s=s<<6|t[n++]&63,o--;if(o>1){i[a++]=65533;continue}s<65536?i[a++]=s:(s-=65536,i[a++]=55296|s>>10&1023,i[a++]=56320|s&1023)}return oY(i,a)},cY=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+jp[t[r]]>e?r:e},Fw={string2buf:sY,buf2string:lY,utf8border:cY};function uY(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var fY=uY;const Dg=16209,hY=16191;var dY=function(e,r){let n,a,i,s,o,l,c,u,h,d,f,p,m,_,x,T,b,I,j,O,N,A,y,R;const S=e.state;n=e.next_in,y=e.input,a=n+(e.avail_in-5),i=e.next_out,R=e.output,s=i-(r-e.avail_out),o=i+(e.avail_out-257),l=S.dmax,c=S.wsize,u=S.whave,h=S.wnext,d=S.window,f=S.hold,p=S.bits,m=S.lencode,_=S.distcode,x=(1<<S.lenbits)-1,T=(1<<S.distbits)-1;e:do{p<15&&(f+=y[n++]<<p,p+=8,f+=y[n++]<<p,p+=8),b=m[f&x];t:for(;;){if(I=b>>>24,f>>>=I,p-=I,I=b>>>16&255,I===0)R[i++]=b&65535;else if(I&16){j=b&65535,I&=15,I&&(p<I&&(f+=y[n++]<<p,p+=8),j+=f&(1<<I)-1,f>>>=I,p-=I),p<15&&(f+=y[n++]<<p,p+=8,f+=y[n++]<<p,p+=8),b=_[f&T];r:for(;;){if(I=b>>>24,f>>>=I,p-=I,I=b>>>16&255,I&16){if(O=b&65535,I&=15,p<I&&(f+=y[n++]<<p,p+=8,p<I&&(f+=y[n++]<<p,p+=8)),O+=f&(1<<I)-1,O>l){e.msg="invalid distance too far back",S.mode=Dg;break e}if(f>>>=I,p-=I,I=i-s,O>I){if(I=O-I,I>u&&S.sane){e.msg="invalid distance too far back",S.mode=Dg;break e}if(N=0,A=d,h===0){if(N+=c-I,I<j){j-=I;do R[i++]=d[N++];while(--I);N=i-O,A=R}}else if(h<I){if(N+=c+h-I,I-=h,I<j){j-=I;do R[i++]=d[N++];while(--I);if(N=0,h<j){I=h,j-=I;do R[i++]=d[N++];while(--I);N=i-O,A=R}}}else if(N+=h-I,I<j){j-=I;do R[i++]=d[N++];while(--I);N=i-O,A=R}for(;j>2;)R[i++]=A[N++],R[i++]=A[N++],R[i++]=A[N++],j-=3;j&&(R[i++]=A[N++],j>1&&(R[i++]=A[N++]))}else{N=i-O;do R[i++]=R[N++],R[i++]=R[N++],R[i++]=R[N++],j-=3;while(j>2);j&&(R[i++]=R[N++],j>1&&(R[i++]=R[N++]))}}else if(I&64){e.msg="invalid distance code",S.mode=Dg;break e}else{b=_[(b&65535)+(f&(1<<I)-1)];continue r}break}}else if(I&64)if(I&32){S.mode=hY;break e}else{e.msg="invalid literal/length code",S.mode=Dg;break e}else{b=m[(b&65535)+(f&(1<<I)-1)];continue t}break}}while(n<a&&i<o);j=p>>3,n-=j,p-=j<<3,f&=(1<<p)-1,e.next_in=n,e.next_out=i,e.avail_in=n<a?5+(a-n):5-(n-a),e.avail_out=i<o?257+(o-i):257-(i-o),S.hold=f,S.bits=p};const r0=15,u6=852,f6=592,h6=0,by=1,d6=2,pY=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),mY=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),gY=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),vY=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),xY=(t,e,r,n,a,i,s,o)=>{const l=o.bits;let c=0,u=0,h=0,d=0,f=0,p=0,m=0,_=0,x=0,T=0,b,I,j,O,N,A=null,y;const R=new Uint16Array(r0+1),S=new Uint16Array(r0+1);let k=null,C,H,X;for(c=0;c<=r0;c++)R[c]=0;for(u=0;u<n;u++)R[e[r+u]]++;for(f=l,d=r0;d>=1&&R[d]===0;d--);if(f>d&&(f=d),d===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,o.bits=1,0;for(h=1;h<d&&R[h]===0;h++);for(f<h&&(f=h),_=1,c=1;c<=r0;c++)if(_<<=1,_-=R[c],_<0)return-1;if(_>0&&(t===h6||d!==1))return-1;for(S[1]=0,c=1;c<r0;c++)S[c+1]=S[c]+R[c];for(u=0;u<n;u++)e[r+u]!==0&&(s[S[e[r+u]]++]=u);if(t===h6?(A=k=s,y=20):t===by?(A=pY,k=mY,y=257):(A=gY,k=vY,y=0),T=0,u=0,c=h,N=i,p=f,m=0,j=-1,x=1<<f,O=x-1,t===by&&x>u6||t===d6&&x>f6)return 1;for(;;){C=c-m,s[u]+1<y?(H=0,X=s[u]):s[u]>=y?(H=k[s[u]-y],X=A[s[u]-y]):(H=96,X=0),b=1<<c-m,I=1<<p,h=I;do I-=b,a[N+(T>>m)+I]=C<<24|H<<16|X|0;while(I!==0);for(b=1<<c-1;T&b;)b>>=1;if(b!==0?(T&=b-1,T+=b):T=0,u++,--R[c]===0){if(c===d)break;c=e[r+s[u]]}if(c>f&&(T&O)!==j){for(m===0&&(m=f),N+=h,p=c-m,_=1<<p;p+m<d&&(_-=R[p+m],!(_<=0));)p++,_<<=1;if(x+=1<<p,t===by&&x>u6||t===d6&&x>f6)return 1;j=T&O,a[j]=f<<24|p<<16|N-i|0}}return T!==0&&(a[N+T]=c-m<<24|64<<16|0),o.bits=f,0};var ip=xY;const _Y=0,fD=1,hD=2,{Z_FINISH:p6,Z_BLOCK:yY,Z_TREES:Pg,Z_OK:xh,Z_STREAM_END:wY,Z_NEED_DICT:bY,Z_STREAM_ERROR:No,Z_DATA_ERROR:dD,Z_MEM_ERROR:pD,Z_BUF_ERROR:EY,Z_DEFLATED:m6}=lD,Wx=16180,g6=16181,v6=16182,x6=16183,_6=16184,y6=16185,w6=16186,b6=16187,E6=16188,A6=16189,Ov=16190,nc=16191,Ey=16192,S6=16193,Ay=16194,T6=16195,C6=16196,k6=16197,N6=16198,Og=16199,Fg=16200,I6=16201,R6=16202,L6=16203,D6=16204,P6=16205,Sy=16206,O6=16207,F6=16208,Un=16209,mD=16210,gD=16211,AY=852,SY=592,TY=15,CY=TY,M6=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function kY(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ph=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Wx||e.mode>gD?1:0},vD=t=>{if(Ph(t))return No;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Wx,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(AY),e.distcode=e.distdyn=new Int32Array(SY),e.sane=1,e.back=-1,xh},xD=t=>{if(Ph(t))return No;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,vD(t)},_D=(t,e)=>{let r;if(Ph(t))return No;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?No:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,xD(t))},yD=(t,e)=>{if(!t)return No;const r=new kY;t.state=r,r.strm=t,r.window=null,r.mode=Wx;const n=_D(t,e);return n!==xh&&(t.state=null),n},NY=t=>yD(t,CY);let B6=!0,Ty,Cy;const IY=t=>{if(B6){Ty=new Int32Array(512),Cy=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(ip(fD,t.lens,0,288,Ty,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;ip(hD,t.lens,0,32,Cy,0,t.work,{bits:5}),B6=!1}t.lencode=Ty,t.lenbits=9,t.distcode=Cy,t.distbits=5},wD=(t,e,r,n)=>{let a;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(e.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(e.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(e.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},RY=(t,e)=>{let r,n,a,i,s,o,l,c,u,h,d,f,p,m,_=0,x,T,b,I,j,O,N,A;const y=new Uint8Array(4);let R,S;const k=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ph(t)||!t.output||!t.input&&t.avail_in!==0)return No;r=t.state,r.mode===nc&&(r.mode=Ey),s=t.next_out,a=t.output,l=t.avail_out,i=t.next_in,n=t.input,o=t.avail_in,c=r.hold,u=r.bits,h=o,d=l,A=xh;e:for(;;)switch(r.mode){case Wx:if(r.wrap===0){r.mode=Ey;break}for(;u<16;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,y[0]=c&255,y[1]=c>>>8&255,r.check=pl(r.check,y,2,0),c=0,u=0,r.mode=g6;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=Un;break}if((c&15)!==m6){t.msg="unknown compression method",r.mode=Un;break}if(c>>>=4,u-=4,N=(c&15)+8,r.wbits===0&&(r.wbits=N),N>15||N>r.wbits){t.msg="invalid window size",r.mode=Un;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=c&512?A6:nc,c=0,u=0;break;case g6:for(;u<16;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(r.flags=c,(r.flags&255)!==m6){t.msg="unknown compression method",r.mode=Un;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Un;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(y[0]=c&255,y[1]=c>>>8&255,r.check=pl(r.check,y,2,0)),c=0,u=0,r.mode=v6;case v6:for(;u<32;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(y[0]=c&255,y[1]=c>>>8&255,y[2]=c>>>16&255,y[3]=c>>>24&255,r.check=pl(r.check,y,4,0)),c=0,u=0,r.mode=x6;case x6:for(;u<16;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(y[0]=c&255,y[1]=c>>>8&255,r.check=pl(r.check,y,2,0)),c=0,u=0,r.mode=_6;case _6:if(r.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(y[0]=c&255,y[1]=c>>>8&255,r.check=pl(r.check,y,2,0)),c=0,u=0}else r.head&&(r.head.extra=null);r.mode=y6;case y6:if(r.flags&1024&&(f=r.length,f>o&&(f=o),f&&(r.head&&(N=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+f),N)),r.flags&512&&r.wrap&4&&(r.check=pl(r.check,n,f,i)),o-=f,i+=f,r.length-=f),r.length))break e;r.length=0,r.mode=w6;case w6:if(r.flags&2048){if(o===0)break e;f=0;do N=n[i+f++],r.head&&N&&r.length<65536&&(r.head.name+=String.fromCharCode(N));while(N&&f<o);if(r.flags&512&&r.wrap&4&&(r.check=pl(r.check,n,f,i)),o-=f,i+=f,N)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=b6;case b6:if(r.flags&4096){if(o===0)break e;f=0;do N=n[i+f++],r.head&&N&&r.length<65536&&(r.head.comment+=String.fromCharCode(N));while(N&&f<o);if(r.flags&512&&r.wrap&4&&(r.check=pl(r.check,n,f,i)),o-=f,i+=f,N)break e}else r.head&&(r.head.comment=null);r.mode=E6;case E6:if(r.flags&512){for(;u<16;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(r.wrap&4&&c!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Un;break}c=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=nc;break;case A6:for(;u<32;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}t.adler=r.check=M6(c),c=0,u=0,r.mode=Ov;case Ov:if(r.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=i,t.avail_in=o,r.hold=c,r.bits=u,bY;t.adler=r.check=1,r.mode=nc;case nc:if(e===yY||e===Pg)break e;case Ey:if(r.last){c>>>=u&7,u-=u&7,r.mode=Sy;break}for(;u<3;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}switch(r.last=c&1,c>>>=1,u-=1,c&3){case 0:r.mode=S6;break;case 1:if(IY(r),r.mode=Og,e===Pg){c>>>=2,u-=2;break e}break;case 2:r.mode=C6;break;case 3:t.msg="invalid block type",r.mode=Un}c>>>=2,u-=2;break;case S6:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Un;break}if(r.length=c&65535,c=0,u=0,r.mode=Ay,e===Pg)break e;case Ay:r.mode=T6;case T6:if(f=r.length,f){if(f>o&&(f=o),f>l&&(f=l),f===0)break e;a.set(n.subarray(i,i+f),s),o-=f,i+=f,l-=f,s+=f,r.length-=f;break}r.mode=nc;break;case C6:for(;u<14;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(r.nlen=(c&31)+257,c>>>=5,u-=5,r.ndist=(c&31)+1,c>>>=5,u-=5,r.ncode=(c&15)+4,c>>>=4,u-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Un;break}r.have=0,r.mode=k6;case k6:for(;r.have<r.ncode;){for(;u<3;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}r.lens[k[r.have++]]=c&7,c>>>=3,u-=3}for(;r.have<19;)r.lens[k[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,R={bits:r.lenbits},A=ip(_Y,r.lens,0,19,r.lencode,0,r.work,R),r.lenbits=R.bits,A){t.msg="invalid code lengths set",r.mode=Un;break}r.have=0,r.mode=N6;case N6:for(;r.have<r.nlen+r.ndist;){for(;_=r.lencode[c&(1<<r.lenbits)-1],x=_>>>24,T=_>>>16&255,b=_&65535,!(x<=u);){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(b<16)c>>>=x,u-=x,r.lens[r.have++]=b;else{if(b===16){for(S=x+2;u<S;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(c>>>=x,u-=x,r.have===0){t.msg="invalid bit length repeat",r.mode=Un;break}N=r.lens[r.have-1],f=3+(c&3),c>>>=2,u-=2}else if(b===17){for(S=x+3;u<S;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}c>>>=x,u-=x,N=0,f=3+(c&7),c>>>=3,u-=3}else{for(S=x+7;u<S;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}c>>>=x,u-=x,N=0,f=11+(c&127),c>>>=7,u-=7}if(r.have+f>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Un;break}for(;f--;)r.lens[r.have++]=N}}if(r.mode===Un)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Un;break}if(r.lenbits=9,R={bits:r.lenbits},A=ip(fD,r.lens,0,r.nlen,r.lencode,0,r.work,R),r.lenbits=R.bits,A){t.msg="invalid literal/lengths set",r.mode=Un;break}if(r.distbits=6,r.distcode=r.distdyn,R={bits:r.distbits},A=ip(hD,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,R),r.distbits=R.bits,A){t.msg="invalid distances set",r.mode=Un;break}if(r.mode=Og,e===Pg)break e;case Og:r.mode=Fg;case Fg:if(o>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=i,t.avail_in=o,r.hold=c,r.bits=u,dY(t,d),s=t.next_out,a=t.output,l=t.avail_out,i=t.next_in,n=t.input,o=t.avail_in,c=r.hold,u=r.bits,r.mode===nc&&(r.back=-1);break}for(r.back=0;_=r.lencode[c&(1<<r.lenbits)-1],x=_>>>24,T=_>>>16&255,b=_&65535,!(x<=u);){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(T&&!(T&240)){for(I=x,j=T,O=b;_=r.lencode[O+((c&(1<<I+j)-1)>>I)],x=_>>>24,T=_>>>16&255,b=_&65535,!(I+x<=u);){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}c>>>=I,u-=I,r.back+=I}if(c>>>=x,u-=x,r.back+=x,r.length=b,T===0){r.mode=P6;break}if(T&32){r.back=-1,r.mode=nc;break}if(T&64){t.msg="invalid literal/length code",r.mode=Un;break}r.extra=T&15,r.mode=I6;case I6:if(r.extra){for(S=r.extra;u<S;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=R6;case R6:for(;_=r.distcode[c&(1<<r.distbits)-1],x=_>>>24,T=_>>>16&255,b=_&65535,!(x<=u);){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(!(T&240)){for(I=x,j=T,O=b;_=r.distcode[O+((c&(1<<I+j)-1)>>I)],x=_>>>24,T=_>>>16&255,b=_&65535,!(I+x<=u);){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}c>>>=I,u-=I,r.back+=I}if(c>>>=x,u-=x,r.back+=x,T&64){t.msg="invalid distance code",r.mode=Un;break}r.offset=b,r.extra=T&15,r.mode=L6;case L6:if(r.extra){for(S=r.extra;u<S;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Un;break}r.mode=D6;case D6:if(l===0)break e;if(f=d-l,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Un;break}f>r.wnext?(f-=r.wnext,p=r.wsize-f):p=r.wnext-f,f>r.length&&(f=r.length),m=r.window}else m=a,p=s-r.offset,f=r.length;f>l&&(f=l),l-=f,r.length-=f;do a[s++]=m[p++];while(--f);r.length===0&&(r.mode=Fg);break;case P6:if(l===0)break e;a[s++]=r.length,l--,r.mode=Fg;break;case Sy:if(r.wrap){for(;u<32;){if(o===0)break e;o--,c|=n[i++]<<u,u+=8}if(d-=l,t.total_out+=d,r.total+=d,r.wrap&4&&d&&(t.adler=r.check=r.flags?pl(r.check,a,d,s-d):Pw(r.check,a,d,s-d)),d=l,r.wrap&4&&(r.flags?c:M6(c))!==r.check){t.msg="incorrect data check",r.mode=Un;break}c=0,u=0}r.mode=O6;case O6:if(r.wrap&&r.flags){for(;u<32;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(r.wrap&4&&c!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Un;break}c=0,u=0}r.mode=F6;case F6:A=wY;break e;case Un:A=dD;break e;case mD:return pD;case gD:default:return No}return t.next_out=s,t.avail_out=l,t.next_in=i,t.avail_in=o,r.hold=c,r.bits=u,(r.wsize||d!==t.avail_out&&r.mode<Un&&(r.mode<Sy||e!==p6))&&wD(t,t.output,t.next_out,d-t.avail_out),h-=t.avail_in,d-=t.avail_out,t.total_in+=h,t.total_out+=d,r.total+=d,r.wrap&4&&d&&(t.adler=r.check=r.flags?pl(r.check,a,d,t.next_out-d):Pw(r.check,a,d,t.next_out-d)),t.data_type=r.bits+(r.last?64:0)+(r.mode===nc?128:0)+(r.mode===Og||r.mode===Ay?256:0),(h===0&&d===0||e===p6)&&A===xh&&(A=EY),A},LY=t=>{if(Ph(t))return No;let e=t.state;return e.window&&(e.window=null),t.state=null,xh},DY=(t,e)=>{if(Ph(t))return No;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,xh):No},PY=(t,e)=>{const r=e.length;let n,a,i;return Ph(t)||(n=t.state,n.wrap!==0&&n.mode!==Ov)?No:n.mode===Ov&&(a=1,a=Pw(a,e,r,0),a!==n.check)?dD:(i=wD(t,e,r,r),i?(n.mode=mD,pD):(n.havedict=1,xh))};var OY=xD,FY=_D,MY=vD,BY=NY,UY=yD,jY=RY,VY=LY,zY=DY,qY=PY,HY="pako inflate (from Nodeca project)",sc={inflateReset:OY,inflateReset2:FY,inflateResetKeep:MY,inflateInit:BY,inflateInit2:UY,inflate:jY,inflateEnd:VY,inflateGetHeader:zY,inflateSetDictionary:qY,inflateInfo:HY};function GY(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var WY=GY;const bD=Object.prototype.toString,{Z_NO_FLUSH:$Y,Z_FINISH:XY,Z_OK:Vp,Z_STREAM_END:ky,Z_NEED_DICT:Ny,Z_STREAM_ERROR:KY,Z_DATA_ERROR:U6,Z_MEM_ERROR:YY}=lD;function Pm(t){this.options=cD.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fY,this.strm.avail_out=0;let r=sc.inflateInit2(this.strm,e.windowBits);if(r!==Vp)throw new Error(Ow[r]);if(this.header=new WY,sc.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Fw.string2buf(e.dictionary):bD.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=sc.inflateSetDictionary(this.strm,e.dictionary),r!==Vp)))throw new Error(Ow[r])}Pm.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?XY:$Y,bD.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=sc.inflate(r,s),i===Ny&&a&&(i=sc.inflateSetDictionary(r,a),i===Vp?i=sc.inflate(r,s):i===U6&&(i=Ny));r.avail_in>0&&i===ky&&r.state.wrap>0&&t[r.next_in]!==0;)sc.inflateReset(r),i=sc.inflate(r,s);switch(i){case KY:case U6:case Ny:case YY:return this.onEnd(i),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||i===ky))if(this.options.to==="string"){let l=Fw.utf8border(r.output,r.next_out),c=r.next_out-l,u=Fw.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===Vp&&o===0)){if(i===ky)return i=sc.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Pm.prototype.onData=function(t){this.chunks.push(t)};Pm.prototype.onEnd=function(t){t===Vp&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=cD.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function QY(t,e){const r=new Pm(e);if(r.push(t),r.err)throw r.msg||Ow[r.err];return r.result}var JY=Pm,ZY=QY,eQ={Inflate:JY,inflate:ZY};const{Inflate:tQ,inflate:rQ}=eQ;var j6=tQ,nQ=rQ;const ED=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;ED[t]=e}const V6=4294967295;function aQ(t,e,r){let n=t;for(let a=0;a<r;a++)n=ED[(n^e[a])&255]^n>>>8;return n}function iQ(t,e){return(aQ(V6,t,e)^V6)>>>0}function z6(t,e,r){const n=t.readUint32(),a=iQ(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function AD(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function SD(t,e,r,n){let a=0;for(;a<n;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-n]&255}function TD(t,e,r,n){let a=0;if(r.length===0)for(;a<n;a++)e[a]=t[a];else for(;a<n;a++)e[a]=t[a]+r[a]&255}function CD(t,e,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+(e[i-a]>>1)&255}else{for(;i<a;i++)e[i]=t[i]+(r[i]>>1)&255;for(;i<n;i++)e[i]=t[i]+(e[i-a]+r[i]>>1)&255}}function kD(t,e,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-a]&255}else{for(;i<a;i++)e[i]=t[i]+r[i]&255;for(;i<n;i++)e[i]=t[i]+sQ(e[i-a],r[i],r[i-a])&255}}function sQ(t,e,r){const n=t+e-r,a=Math.abs(n-t),i=Math.abs(n-e),s=Math.abs(n-r);return a<=i&&a<=s?t:i<=s?e:r}function oQ(t,e,r,n,a,i){switch(t){case 0:AD(e,r,a);break;case 1:SD(e,r,a,i);break;case 2:TD(e,r,n,a);break;case 3:CD(e,r,n,a,i);break;case 4:kD(e,r,n,a,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const lQ=new Uint16Array([255]),cQ=new Uint8Array(lQ.buffer),uQ=cQ[0]===255;function fQ(t){const{data:e,width:r,height:n,channels:a,depth:i}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*a,l=new Uint8Array(n*r*o);let c=0;for(let u=0;u<7;u++){const h=s[u],d=Math.ceil((r-h.x)/h.xStep),f=Math.ceil((n-h.y)/h.yStep);if(d<=0||f<=0)continue;const p=d*o,m=new Uint8Array(p);for(let _=0;_<f;_++){const x=e[c++],T=e.subarray(c,c+p);c+=p;const b=new Uint8Array(p);oQ(x,T,b,m,p,o),m.set(b);for(let I=0;I<d;I++){const j=h.x+I*h.xStep,O=h.y+_*h.yStep;if(!(j>=r||O>=n))for(let N=0;N<o;N++)l[(O*r+j)*o+N]=b[I*o+N]}}}if(i===16){const u=new Uint16Array(l.buffer);if(uQ)for(let h=0;h<u.length;h++)u[h]=hQ(u[h]);return u}else return l}function hQ(t){return(t&255)<<8|t>>8&255}const dQ=new Uint16Array([255]),pQ=new Uint8Array(dQ.buffer),mQ=pQ[0]===255,gQ=new Uint8Array(0);function q6(t){const{data:e,width:r,height:n,channels:a,depth:i}=t,s=Math.ceil(i/8)*a,o=Math.ceil(i/8*a*r),l=new Uint8Array(n*o);let c=gQ,u=0,h,d;for(let f=0;f<n;f++){switch(h=e.subarray(u+1,u+1+o),d=l.subarray(f*o,(f+1)*o),e[u]){case 0:AD(h,d,o);break;case 1:SD(h,d,o,s);break;case 2:TD(h,d,c,o);break;case 3:CD(h,d,c,o,s);break;case 4:kD(h,d,c,o,s);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=d,u+=o+1}if(i===16){const f=new Uint16Array(l.buffer);if(mQ)for(let p=0;p<f.length;p++)f[p]=vQ(f[p]);return f}else return l}function vQ(t){return(t&255)<<8|t>>8&255}const C2=Uint8Array.of(137,80,78,71,13,10,26,10);function H6(t){if(!xQ(t.readBytes(C2.length)))throw new Error("wrong PNG signature")}function xQ(t){if(t.length<C2.length)return!1;for(let e=0;e<C2.length;e++)if(t[e]!==C2[e])return!1;return!0}const _Q="tEXt",yQ=0,ND=new TextDecoder("latin1");function wQ(t){if(EQ(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const bQ=/^[\u0000-\u00FF]*$/;function EQ(t){if(!bQ.test(t))throw new Error("invalid latin1 text")}function AQ(t,e,r){const n=ID(e);t[n]=SQ(e,r-n.length-1)}function ID(t){for(t.mark();t.readByte()!==yQ;);const e=t.offset;t.reset();const r=ND.decode(t.readBytes(e-t.offset-1));return t.skip(1),wQ(r),r}function SQ(t,e){return ND.decode(t.readBytes(e))}const Is={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Iy={UNKNOWN:-1,DEFLATE:0},G6={UNKNOWN:-1,ADAPTIVE:0},Ry={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Mg={NONE:0,BACKGROUND:1,PREVIOUS:2},Ly={SOURCE:0,OVER:1};class TQ extends uE{constructor(r,n={}){super(r);Jr(this,"_checkCrc");Jr(this,"_inflator");Jr(this,"_png");Jr(this,"_apng");Jr(this,"_end");Jr(this,"_hasPalette");Jr(this,"_palette");Jr(this,"_hasTransparency");Jr(this,"_transparency");Jr(this,"_compressionMethod");Jr(this,"_filterMethod");Jr(this,"_interlaceMethod");Jr(this,"_colorType");Jr(this,"_isAnimated");Jr(this,"_numberOfFrames");Jr(this,"_numberOfPlays");Jr(this,"_frames");Jr(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new j6,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Iy.UNKNOWN,this._filterMethod=G6.UNKNOWN,this._interlaceMethod=Ry.UNKNOWN,this._colorType=Is.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(H6(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(H6(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case _Q:AQ(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?z6(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?z6(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=CQ(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case Is.GREYSCALE:a=1;break;case Is.TRUECOLOUR:a=3;break;case Is.INDEXED_COLOUR:a=1;break;case Is.GREYSCALE_ALPHA:a=2;break;case Is.TRUECOLOUR_ALPHA:a=4;break;case Is.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==Iy.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<n;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Is.GREYSCALE:case Is.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Is.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Is.UNKNOWN:case Is.GREYSCALE_ALPHA:case Is.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=ID(this),a=this.readUint8();if(a!==Iy.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:nQ(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=q6({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(a,i,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,a){switch(r.disposeOp){case Mg.NONE:break;case Mg.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const o=(i*r.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)a.data[o+l]=0}break;case Mg.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const a=1<<this._png.depth,i=(s,o)=>{const l=((s+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,c=(s*n.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(n.blendOp){case Ly.SOURCE:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=i(s,o);for(let u=0;u<this._png.channels;u++)r.data[l+u]=n.data[c+u]}break;case Ly.OVER:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=i(s,o);for(let u=0;u<this._png.channels;u++){const h=n.data[c+this._png.channels-1]/a,d=u%(this._png.channels-1)===0?1:n.data[c+u],f=Math.floor(h*d+(1-h)*r.data[l+u]);r.data[l+u]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==G6.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Ry.NO_INTERLACE)this._png.data=q6({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Ry.ADAM7)this._png.data=fQ({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Mg.NONE,blendOp:Ly.SOURCE,data:r}),this._inflator=new j6,this._writingDataChunks=!1}}function CQ(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var W6;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(W6||(W6={}));function kQ(t,e){return new TQ(t,e).decode()}var sr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Dy(){sr.console&&typeof sr.console.log=="function"&&sr.console.log.apply(sr.console,arguments)}var pn={log:Dy,warn:function(t){sr.console&&(typeof sr.console.warn=="function"?sr.console.warn.apply(sr.console,arguments):Dy.call(null,arguments))},error:function(t){sr.console&&(typeof sr.console.error=="function"?sr.console.error.apply(sr.console,arguments):Dy(t))}};function Py(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Bf(n.response,e,r)},n.onerror=function(){pn.error("could not download file")},n.send()}function $6(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Bg(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Bf=sr.saveAs||((typeof window>"u"?"undefined":rn(window))!=="object"||window!==sr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=sr.URL||sr.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?$6(a.href)?Py(t,e,r):Bg(a,a.target="_blank"):Bg(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Bg(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if($6(t))Py(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Bg(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:rn(i)!=="object"&&(pn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Py(t,e,r);var a=t.type==="application/octet-stream",i=/constructor/i.test(sr.HTMLElement)||sr.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":rn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(t)}else{var l=sr.URL||sr.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function RD(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(t);s&&(e=i(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var k2=sr.atob.bind(sr),X6=sr.btoa.bind(sr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Oy(t,e){var r=t[0],n=t[1],a=t[2],i=t[3];r=vi(r,n,a,i,e[0],7,-680876936),i=vi(i,r,n,a,e[1],12,-389564586),a=vi(a,i,r,n,e[2],17,606105819),n=vi(n,a,i,r,e[3],22,-1044525330),r=vi(r,n,a,i,e[4],7,-176418897),i=vi(i,r,n,a,e[5],12,1200080426),a=vi(a,i,r,n,e[6],17,-1473231341),n=vi(n,a,i,r,e[7],22,-45705983),r=vi(r,n,a,i,e[8],7,1770035416),i=vi(i,r,n,a,e[9],12,-1958414417),a=vi(a,i,r,n,e[10],17,-42063),n=vi(n,a,i,r,e[11],22,-1990404162),r=vi(r,n,a,i,e[12],7,1804603682),i=vi(i,r,n,a,e[13],12,-40341101),a=vi(a,i,r,n,e[14],17,-1502002290),r=xi(r,n=vi(n,a,i,r,e[15],22,1236535329),a,i,e[1],5,-165796510),i=xi(i,r,n,a,e[6],9,-1069501632),a=xi(a,i,r,n,e[11],14,643717713),n=xi(n,a,i,r,e[0],20,-373897302),r=xi(r,n,a,i,e[5],5,-701558691),i=xi(i,r,n,a,e[10],9,38016083),a=xi(a,i,r,n,e[15],14,-660478335),n=xi(n,a,i,r,e[4],20,-405537848),r=xi(r,n,a,i,e[9],5,568446438),i=xi(i,r,n,a,e[14],9,-1019803690),a=xi(a,i,r,n,e[3],14,-187363961),n=xi(n,a,i,r,e[8],20,1163531501),r=xi(r,n,a,i,e[13],5,-1444681467),i=xi(i,r,n,a,e[2],9,-51403784),a=xi(a,i,r,n,e[7],14,1735328473),r=_i(r,n=xi(n,a,i,r,e[12],20,-1926607734),a,i,e[5],4,-378558),i=_i(i,r,n,a,e[8],11,-2022574463),a=_i(a,i,r,n,e[11],16,1839030562),n=_i(n,a,i,r,e[14],23,-35309556),r=_i(r,n,a,i,e[1],4,-1530992060),i=_i(i,r,n,a,e[4],11,1272893353),a=_i(a,i,r,n,e[7],16,-155497632),n=_i(n,a,i,r,e[10],23,-1094730640),r=_i(r,n,a,i,e[13],4,681279174),i=_i(i,r,n,a,e[0],11,-358537222),a=_i(a,i,r,n,e[3],16,-722521979),n=_i(n,a,i,r,e[6],23,76029189),r=_i(r,n,a,i,e[9],4,-640364487),i=_i(i,r,n,a,e[12],11,-421815835),a=_i(a,i,r,n,e[15],16,530742520),r=yi(r,n=_i(n,a,i,r,e[2],23,-995338651),a,i,e[0],6,-198630844),i=yi(i,r,n,a,e[7],10,1126891415),a=yi(a,i,r,n,e[14],15,-1416354905),n=yi(n,a,i,r,e[5],21,-57434055),r=yi(r,n,a,i,e[12],6,1700485571),i=yi(i,r,n,a,e[3],10,-1894986606),a=yi(a,i,r,n,e[10],15,-1051523),n=yi(n,a,i,r,e[1],21,-2054922799),r=yi(r,n,a,i,e[8],6,1873313359),i=yi(i,r,n,a,e[15],10,-30611744),a=yi(a,i,r,n,e[6],15,-1560198380),n=yi(n,a,i,r,e[13],21,1309151649),r=yi(r,n,a,i,e[4],6,-145523070),i=yi(i,r,n,a,e[11],10,-1120210379),a=yi(a,i,r,n,e[2],15,718787259),n=yi(n,a,i,r,e[9],21,-343485551),t[0]=Ru(r,t[0]),t[1]=Ru(n,t[1]),t[2]=Ru(a,t[2]),t[3]=Ru(i,t[3])}function $x(t,e,r,n,a,i){return e=Ru(Ru(e,t),Ru(n,i)),Ru(e<<a|e>>>32-a,r)}function vi(t,e,r,n,a,i,s){return $x(e&r|~e&n,t,e,a,i,s)}function xi(t,e,r,n,a,i,s){return $x(e&n|r&~n,t,e,a,i,s)}function _i(t,e,r,n,a,i,s){return $x(e^r^n,t,e,a,i,s)}function yi(t,e,r,n,a,i,s){return $x(r^(e|~n),t,e,a,i,s)}function LD(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Oy(n,NQ(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(Oy(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,Oy(n,a),n}function NQ(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var K6="0123456789abcdef".split("");function IQ(t){for(var e="",r=0;r<4;r++)e+=K6[t>>8*r+4&15]+K6[t>>8*r&15];return e}function RQ(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Mw(t){return LD(t).map(RQ).join("")}var LQ=function(t){for(var e=0;e<t.length;e++)t[e]=IQ(t[e]);return t.join("")}(LD("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ru(t,e){if(LQ){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Bw(t,e){var r,n,a,i;if(t!==r){for(var s=(a=t,i=1+(256/t.length|0),new Array(i+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=t,n=o}else o=n;var h=e.length,d=0,f=0,p="";for(l=0;l<h;l++)f=(f+(u=o[d=(d+1)%256]))%256,o[d]=o[f],o[f]=u,s=o[(o[d]+o[f])%256],p+=String.fromCharCode(e.charCodeAt(l)^s);return p}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Y6={print:4,modify:8,copy:16,"annot-forms":32};function v0(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(o){if(Y6.perm!==void 0)throw new Error("Invalid permission: "+o);a+=Y6[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=Mw(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Bw(this.encryptionKey,this.padding)}function x0(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):t[n]}return e}function Q6(t){if(rn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[r]){var s=e[r][i];try{s[0].apply(t,n)}catch(o){sr.console&&pn.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Fv(t){if(!(this instanceof Fv))return new Fv(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function DD(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Uf(t,e,r,n,a){if(!(this instanceof Uf))return new Uf(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,DD.call(this,n,a)}function P0(t,e,r,n,a){if(!(this instanceof P0))return new P0(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,DD.call(this,n,a)}function Vt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,l=16,c="S",u=null;rn(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,i=t.compress||t.compressPdf||i,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),s=t.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,d={},f={internal:{},__private__:{}};f.__private__.PubSub=Q6;var p="1.3",m=f.__private__.getPdfVersion=function(){return p};f.__private__.setPdfVersion=function(L){p=L};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return _};var x=f.__private__.getPageFormat=function(L){return _[L]};a=a||"a4";var T="compat",b="advanced",I=T;function j(){this.saveGraphicsState(),J(new Ut(lt,0,0,-lt,0,Fo()*lt).toString()+" cm"),this.setFontSize(this.getFontSize()/lt),c="n",I=b}function O(){this.restoreGraphicsState(),c="S",I=T}var N=f.__private__.combineFontStyleAndFontWeight=function(L,K){if(L=="bold"&&K=="normal"||L=="bold"&&K==400||L=="normal"&&K=="italic"||L=="bold"&&K=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return K&&(L=K==400||K==="normal"?L==="italic"?"italic":"normal":K!=700&&K!=="bold"||L!=="normal"?(K==700?"bold":K)+""+L:"bold"),L};f.advancedAPI=function(L){var K=I===T;return K&&j.call(this),typeof L!="function"||(L(this),K&&O.call(this)),this},f.compatAPI=function(L){var K=I===b;return K&&O.call(this),typeof L!="function"||(L(this),K&&j.call(this)),this},f.isAdvancedAPI=function(){return I===b};var A,y=function(L){if(I!==b)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=f.roundToPrecision=f.__private__.roundToPrecision=function(L,K){var ge=e||K;if(isNaN(L)||isNaN(ge))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(ge).replace(/0+$/,"")};A=f.hpf=f.__private__.hpf=typeof l=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return R(L,l)}:l==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return R(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return R(L,16)};var S=f.f2=f.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return R(L,2)},k=f.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return R(L,3)},C=f.scale=f.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return I===T?L*lt:I===b?L:void 0},H=function(L){return C(function(K){return I===T?Fo()-K:I===b?K:void 0}(L))};f.__private__.setPrecision=f.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(e=parseInt(L,10))};var X,V="00000000000000000000000000000000",q=f.__private__.getFileId=function(){return V},re=f.__private__.setFileId=function(L){return V=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():V.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(kn=new v0(u.userPermissions,u.userPassword,u.ownerPassword,V)),V};f.setFileId=function(L){return re(L),this},f.getFileId=function(){return q()};var W=f.__private__.convertDateToPDFDate=function(L){var K=L.getTimezoneOffset(),ge=K<0?"+":"-",Ae=Math.floor(Math.abs(K/60)),Ne=Math.abs(K%60),Xe=[ge,U(Ae),"'",U(Ne),"'"].join("");return["D:",L.getFullYear(),U(L.getMonth()+1),U(L.getDate()),U(L.getHours()),U(L.getMinutes()),U(L.getSeconds()),Xe].join("")},me=f.__private__.convertPDFDateToDate=function(L){var K=parseInt(L.substr(2,4),10),ge=parseInt(L.substr(6,2),10)-1,Ae=parseInt(L.substr(8,2),10),Ne=parseInt(L.substr(10,2),10),Xe=parseInt(L.substr(12,2),10),nt=parseInt(L.substr(14,2),10);return new Date(K,ge,Ae,Ne,Xe,nt,0)},Ee=f.__private__.setCreationDate=function(L){var K;if(L===void 0&&(L=new Date),L instanceof Date)K=W(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");K=L}return X=K},D=f.__private__.getCreationDate=function(L){var K=X;return L==="jsDate"&&(K=me(X)),K};f.setCreationDate=function(L){return Ee(L),this},f.getCreationDate=function(L){return D(L)};var F,U=f.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},M=f.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},Y=0,se=[],he=[],fe=0,ve=[],ke=[],ne=!1,be=he;f.__private__.setCustomOutputDestination=function(L){ne=!0,be=L};var Me=function(L){ne||(be=L)};f.__private__.resetCustomOutputDestination=function(){ne=!1,be=he};var J=f.__private__.out=function(L){return L=L.toString(),fe+=L.length+1,be.push(L),be},Ie=f.__private__.write=function(L){return J(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},Re=f.__private__.getArrayBuffer=function(L){for(var K=L.length,ge=new ArrayBuffer(K),Ae=new Uint8Array(ge);K--;)Ae[K]=L.charCodeAt(K);return ge},De=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return De};var Te=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(L){return Te=I===b?L/lt:L,this};var Qe,Ye=f.__private__.getFontSize=f.getFontSize=function(){return I===T?Te:Te*lt},we=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(L){return we=L,this},f.__private__.getR2L=f.getR2L=function(){return we};var qe,tt=f.__private__.setZoomMode=function(L){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))Qe=L;else if(isNaN(L)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');Qe=L}else Qe=parseInt(L,10)};f.__private__.getZoomMode=function(){return Qe};var at,Tt=f.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');qe=L};f.__private__.getPageMode=function(){return qe};var $t=f.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');at=L};f.__private__.getLayoutMode=function(){return at},f.__private__.setDisplayMode=f.setDisplayMode=function(L,K,ge){return tt(L),$t(K),Tt(ge),this};var At={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(L){if(Object.keys(At).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return At[L]},f.__private__.getDocumentProperties=function(){return At},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(L){for(var K in At)At.hasOwnProperty(K)&&L[K]&&(At[K]=L[K]);return this},f.__private__.setDocumentProperty=function(L,K){if(Object.keys(At).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return At[L]=K};var vt,lt,ct,Ft,bt,Nt={},zt={},xr=[],Pt={},Oe={},ut={},dt={},Qt=null,Ct=0,kt=[],Kt=new Q6(f),Kr=t.hotfixes||[],Jt={},gn={},Br=[],Ut=function L(K,ge,Ae,Ne,Xe,nt){if(!(this instanceof L))return new L(K,ge,Ae,Ne,Xe,nt);isNaN(K)&&(K=1),isNaN(ge)&&(ge=0),isNaN(Ae)&&(Ae=0),isNaN(Ne)&&(Ne=1),isNaN(Xe)&&(Xe=0),isNaN(nt)&&(nt=0),this._matrix=[K,ge,Ae,Ne,Xe,nt]};Object.defineProperty(Ut.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Ut.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Ut.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Ut.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Ut.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Ut.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Ut.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Ut.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Ut.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Ut.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Ut.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Ut.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Ut.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ut.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ut.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ut.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ut.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(A).join(L)},Ut.prototype.multiply=function(L){var K=L.sx*this.sx+L.shy*this.shx,ge=L.sx*this.shy+L.shy*this.sy,Ae=L.shx*this.sx+L.sy*this.shx,Ne=L.shx*this.shy+L.sy*this.sy,Xe=L.tx*this.sx+L.ty*this.shx+this.tx,nt=L.tx*this.shy+L.ty*this.sy+this.ty;return new Ut(K,ge,Ae,Ne,Xe,nt)},Ut.prototype.decompose=function(){var L=this.sx,K=this.shy,ge=this.shx,Ae=this.sy,Ne=this.tx,Xe=this.ty,nt=Math.sqrt(L*L+K*K),Rt=(L/=nt)*ge+(K/=nt)*Ae;ge-=L*Rt,Ae-=K*Rt;var Ot=Math.sqrt(ge*ge+Ae*Ae);return Rt/=Ot,L*(Ae/=Ot)<K*(ge/=Ot)&&(L=-L,K=-K,Rt=-Rt,nt=-nt),{scale:new Ut(nt,0,0,Ot,0,0),translate:new Ut(1,0,0,1,Ne,Xe),rotate:new Ut(L,K,-K,L,0,0),skew:new Ut(1,0,Rt,1,0,0)}},Ut.prototype.toString=function(L){return this.join(" ")},Ut.prototype.inversed=function(){var L=this.sx,K=this.shy,ge=this.shx,Ae=this.sy,Ne=this.tx,Xe=this.ty,nt=1/(L*Ae-K*ge),Rt=Ae*nt,Ot=-K*nt,Yt=-ge*nt,qt=L*nt;return new Ut(Rt,Ot,Yt,qt,-Rt*Ne-Yt*Xe,-Ot*Ne-qt*Xe)},Ut.prototype.applyToPoint=function(L){var K=L.x*this.sx+L.y*this.shx+this.tx,ge=L.x*this.shy+L.y*this.sy+this.ty;return new Fi(K,ge)},Ut.prototype.applyToRectangle=function(L){var K=this.applyToPoint(L),ge=this.applyToPoint(new Fi(L.x+L.w,L.y+L.h));return new Wc(K.x,K.y,ge.x-K.x,ge.y-K.y)},Ut.prototype.clone=function(){var L=this.sx,K=this.shy,ge=this.shx,Ae=this.sy,Ne=this.tx,Xe=this.ty;return new Ut(L,K,ge,Ae,Ne,Xe)},f.Matrix=Ut;var _s=f.matrixMult=function(L,K){return K.multiply(L)},hi=new Ut(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=hi;var Ia=function(L,K){if(!Oe[L]){var ge=(K instanceof Uf?"Sh":"P")+(Object.keys(Pt).length+1).toString(10);K.id=ge,Oe[L]=ge,Pt[ge]=K,Kt.publish("addPattern",K)}};f.ShadingPattern=Uf,f.TilingPattern=P0,f.addShadingPattern=function(L,K){return y("addShadingPattern()"),Ia(L,K),this},f.beginTilingPattern=function(L){y("beginTilingPattern()"),ll(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},f.endTilingPattern=function(L,K){y("endTilingPattern()"),K.stream=ke[F].join(`
`),Ia(L,K),Kt.publish("endTilingPattern",K),Br.pop().restore()};var Qa,sn=f.__private__.newObject=function(){var L=vn();return Z(L,!0),L},vn=f.__private__.newObjectDeferred=function(){return Y++,se[Y]=function(){return fe},Y},Z=function(L,K){return K=typeof K=="boolean"&&K,se[L]=fe,K&&J(L+" 0 obj"),L},de=f.__private__.newAdditionalObject=function(){var L={objId:vn(),content:""};return ve.push(L),L},oe=vn(),ue=vn(),pe=f.__private__.decodeColorString=function(L){var K=L.split(" ");if(K.length!==2||K[1]!=="g"&&K[1]!=="G")K.length!==5||K[4]!=="k"&&K[4]!=="K"||(K=[(1-K[0])*(1-K[3]),(1-K[1])*(1-K[3]),(1-K[2])*(1-K[3]),"r"]);else{var ge=parseFloat(K[0]);K=[ge,ge,ge,"r"]}for(var Ae="#",Ne=0;Ne<3;Ne++)Ae+=("0"+Math.floor(255*parseFloat(K[Ne])).toString(16)).slice(-2);return Ae},ye=f.__private__.encodeColorString=function(L){var K;typeof L=="string"&&(L={ch1:L});var ge=L.ch1,Ae=L.ch2,Ne=L.ch3,Xe=L.ch4,nt=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ge=="string"&&ge.charAt(0)!=="#"){var Rt=new RD(ge);if(Rt.ok)ge=Rt.toHex();else if(!/^\d*\.?\d*$/.test(ge))throw new Error('Invalid color "'+ge+'" passed to jsPDF.encodeColorString.')}if(typeof ge=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ge)&&(ge="#"+ge[1]+ge[1]+ge[2]+ge[2]+ge[3]+ge[3]),typeof ge=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ge)){var Ot=parseInt(ge.substr(1),16);ge=Ot>>16&255,Ae=Ot>>8&255,Ne=255&Ot}if(Ae===void 0||Xe===void 0&&ge===Ae&&Ae===Ne)K=typeof ge=="string"?ge+" "+nt[0]:L.precision===2?S(ge/255)+" "+nt[0]:k(ge/255)+" "+nt[0];else if(Xe===void 0||rn(Xe)==="object"){if(Xe&&!isNaN(Xe.a)&&Xe.a===0)return["1.","1.","1.",nt[1]].join(" ");K=typeof ge=="string"?[ge,Ae,Ne,nt[1]].join(" "):L.precision===2?[S(ge/255),S(Ae/255),S(Ne/255),nt[1]].join(" "):[k(ge/255),k(Ae/255),k(Ne/255),nt[1]].join(" ")}else K=typeof ge=="string"?[ge,Ae,Ne,Xe,nt[2]].join(" "):L.precision===2?[S(ge),S(Ae),S(Ne),S(Xe),nt[2]].join(" "):[k(ge),k(Ae),k(Ne),k(Xe),nt[2]].join(" ");return K},Fe=f.__private__.getFilters=function(){return s},Ge=f.__private__.putStream=function(L){var K=(L=L||{}).data||"",ge=L.filters||Fe(),Ae=L.alreadyAppliedFilters||[],Ne=L.addLength1||!1,Xe=K.length,nt=L.objectId,Rt=function(B){return B};if(u!==null&&nt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Rt=kn.encryptor(nt,0));var Ot={};ge===!0&&(ge=["FlateEncode"]);var Yt=L.additionalKeyValues||[],qt=(Ot=Vt.API.processDataByFilters!==void 0?Vt.API.processDataByFilters(K,ge):{data:K,reverseChain:[]}).reverseChain+(Array.isArray(Ae)?Ae.join(" "):Ae.toString());if(Ot.data.length!==0&&(Yt.push({key:"Length",value:Ot.data.length}),Ne===!0&&Yt.push({key:"Length1",value:Xe})),qt.length!=0)if(qt.split("/").length-1==1)Yt.push({key:"Filter",value:qt});else{Yt.push({key:"Filter",value:"["+qt+"]"});for(var Sr=0;Sr<Yt.length;Sr+=1)if(Yt[Sr].key==="DecodeParms"){for(var yn=[],fn=0;fn<Ot.reverseChain.split("/").length-1;fn+=1)yn.push("null");yn.push(Yt[Sr].value),Yt[Sr].value="["+yn.join(" ")+"]"}}J("<<");for(var v=0;v<Yt.length;v++)J("/"+Yt[v].key+" "+Yt[v].value);J(">>"),Ot.data.length!==0&&(J("stream"),J(Rt(Ot.data)),J("endstream"))},Be=f.__private__.putPage=function(L){var K=L.number,ge=L.data,Ae=L.objId,Ne=L.contentsObjId;Z(Ae,!0),J("<</Type /Page"),J("/Parent "+L.rootDictionaryObjId+" 0 R"),J("/Resources "+L.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(A(L.mediaBox.bottomLeftX))+" "+parseFloat(A(L.mediaBox.bottomLeftY))+" "+A(L.mediaBox.topRightX)+" "+A(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&J("/CropBox ["+A(L.cropBox.bottomLeftX)+" "+A(L.cropBox.bottomLeftY)+" "+A(L.cropBox.topRightX)+" "+A(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&J("/BleedBox ["+A(L.bleedBox.bottomLeftX)+" "+A(L.bleedBox.bottomLeftY)+" "+A(L.bleedBox.topRightX)+" "+A(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&J("/TrimBox ["+A(L.trimBox.bottomLeftX)+" "+A(L.trimBox.bottomLeftY)+" "+A(L.trimBox.topRightX)+" "+A(L.trimBox.topRightY)+"]"),L.artBox!==null&&J("/ArtBox ["+A(L.artBox.bottomLeftX)+" "+A(L.artBox.bottomLeftY)+" "+A(L.artBox.topRightX)+" "+A(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&J("/UserUnit "+L.userUnit),Kt.publish("putPage",{objId:Ae,pageContext:kt[K],pageNumber:K,page:ge}),J("/Contents "+Ne+" 0 R"),J(">>"),J("endobj");var Xe=ge.join(`
`);return I===b&&(Xe+=`
Q`),Z(Ne,!0),Ge({data:Xe,filters:Fe(),objectId:Ne}),J("endobj"),Ae},Ue=f.__private__.putPages=function(){var L,K,ge=[];for(L=1;L<=Ct;L++)kt[L].objId=vn(),kt[L].contentsObjId=vn();for(L=1;L<=Ct;L++)ge.push(Be({number:L,data:ke[L],objId:kt[L].objId,contentsObjId:kt[L].contentsObjId,mediaBox:kt[L].mediaBox,cropBox:kt[L].cropBox,bleedBox:kt[L].bleedBox,trimBox:kt[L].trimBox,artBox:kt[L].artBox,userUnit:kt[L].userUnit,rootDictionaryObjId:oe,resourceDictionaryObjId:ue}));Z(oe,!0),J("<</Type /Pages");var Ae="/Kids [";for(K=0;K<Ct;K++)Ae+=ge[K]+" 0 R ";J(Ae+"]"),J("/Count "+Ct),J(">>"),J("endobj"),Kt.publish("postPutPages")},Ve=function(L){Kt.publish("putFont",{font:L,out:J,newObject:sn,putStream:Ge}),L.isAlreadyPutted!==!0&&(L.objectNumber=sn(),J("<<"),J("/Type /Font"),J("/BaseFont /"+x0(L.postScriptName)),J("/Subtype /Type1"),typeof L.encoding=="string"&&J("/Encoding /"+L.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},ot=function(L){L.objectNumber=sn();var K=[];K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Form"}),K.push({key:"BBox",value:"["+[A(L.x),A(L.y),A(L.x+L.width),A(L.y+L.height)].join(" ")+"]"}),K.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var ge=L.pages[1].join(`
`);Ge({data:ge,additionalKeyValues:K,objectId:L.objectNumber}),J("endobj")},mt=function(L,K){K||(K=21);var ge=sn(),Ae=function(nt,Rt){var Ot,Yt=[],qt=1/(Rt-1);for(Ot=0;Ot<1;Ot+=qt)Yt.push(Ot);if(Yt.push(1),nt[0].offset!=0){var Sr={offset:0,color:nt[0].color};nt.unshift(Sr)}if(nt[nt.length-1].offset!=1){var yn={offset:1,color:nt[nt.length-1].color};nt.push(yn)}for(var fn="",v=0,B=0;B<Yt.length;B++){for(Ot=Yt[B];Ot>nt[v+1].offset;)v++;var G=nt[v].offset,ie=(Ot-G)/(nt[v+1].offset-G),Le=nt[v].color,He=nt[v+1].color;fn+=M(Math.round((1-ie)*Le[0]+ie*He[0]).toString(16))+M(Math.round((1-ie)*Le[1]+ie*He[1]).toString(16))+M(Math.round((1-ie)*Le[2]+ie*He[2]).toString(16))}return fn.trim()}(L.colors,K),Ne=[];Ne.push({key:"FunctionType",value:"0"}),Ne.push({key:"Domain",value:"[0.0 1.0]"}),Ne.push({key:"Size",value:"["+K+"]"}),Ne.push({key:"BitsPerSample",value:"8"}),Ne.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ne.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ge({data:Ae,additionalKeyValues:Ne,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ge}),J("endobj"),L.objectNumber=sn(),J("<< /ShadingType "+L.type),J("/ColorSpace /DeviceRGB");var Xe="/Coords ["+A(parseFloat(L.coords[0]))+" "+A(parseFloat(L.coords[1]))+" ";L.type===2?Xe+=A(parseFloat(L.coords[2]))+" "+A(parseFloat(L.coords[3])):Xe+=A(parseFloat(L.coords[2]))+" "+A(parseFloat(L.coords[3]))+" "+A(parseFloat(L.coords[4]))+" "+A(parseFloat(L.coords[5])),J(Xe+="]"),L.matrix&&J("/Matrix ["+L.matrix.toString()+"]"),J("/Function "+ge+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},wt=function(L,K){var ge=vn(),Ae=sn();K.push({resourcesOid:ge,objectOid:Ae}),L.objectNumber=Ae;var Ne=[];Ne.push({key:"Type",value:"/Pattern"}),Ne.push({key:"PatternType",value:"1"}),Ne.push({key:"PaintType",value:"1"}),Ne.push({key:"TilingType",value:"1"}),Ne.push({key:"BBox",value:"["+L.boundingBox.map(A).join(" ")+"]"}),Ne.push({key:"XStep",value:A(L.xStep)}),Ne.push({key:"YStep",value:A(L.yStep)}),Ne.push({key:"Resources",value:ge+" 0 R"}),L.matrix&&Ne.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),Ge({data:L.stream,additionalKeyValues:Ne,objectId:L.objectNumber}),J("endobj")},ft=function(L){for(var K in L.objectNumber=sn(),J("<<"),L)switch(K){case"opacity":J("/ca "+S(L[K]));break;case"stroke-opacity":J("/CA "+S(L[K]))}J(">>"),J("endobj")},yt=function(L){Z(L.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var K in J("/Font <<"),Nt)Nt.hasOwnProperty(K)&&(h===!1||h===!0&&d.hasOwnProperty(K))&&J("/"+K+" "+Nt[K].objectNumber+" 0 R");J(">>")}(),function(){if(Object.keys(Pt).length>0){for(var K in J("/Shading <<"),Pt)Pt.hasOwnProperty(K)&&Pt[K]instanceof Uf&&Pt[K].objectNumber>=0&&J("/"+K+" "+Pt[K].objectNumber+" 0 R");Kt.publish("putShadingPatternDict"),J(">>")}}(),function(K){if(Object.keys(Pt).length>0){for(var ge in J("/Pattern <<"),Pt)Pt.hasOwnProperty(ge)&&Pt[ge]instanceof f.TilingPattern&&Pt[ge].objectNumber>=0&&Pt[ge].objectNumber<K&&J("/"+ge+" "+Pt[ge].objectNumber+" 0 R");Kt.publish("putTilingPatternDict"),J(">>")}}(L.objectOid),function(){if(Object.keys(ut).length>0){var K;for(K in J("/ExtGState <<"),ut)ut.hasOwnProperty(K)&&ut[K].objectNumber>=0&&J("/"+K+" "+ut[K].objectNumber+" 0 R");Kt.publish("putGStateDict"),J(">>")}}(),function(){for(var K in J("/XObject <<"),Jt)Jt.hasOwnProperty(K)&&Jt[K].objectNumber>=0&&J("/"+K+" "+Jt[K].objectNumber+" 0 R");Kt.publish("putXobjectDict"),J(">>")}(),J(">>"),J("endobj")},Zt=function(L){zt[L.fontName]=zt[L.fontName]||{},zt[L.fontName][L.fontStyle]=L.id},Gr=function(L,K,ge,Ae,Ne){var Xe={id:"F"+(Object.keys(Nt).length+1).toString(10),postScriptName:L,fontName:K,fontStyle:ge,encoding:Ae,isStandardFont:Ne||!1,metadata:{}};return Kt.publish("addFont",{font:Xe,instance:this}),Nt[Xe.id]=Xe,Zt(Xe),Xe.id},_r=f.__private__.pdfEscape=f.pdfEscape=function(L,K){return function(ge,Ae){var Ne,Xe,nt,Rt,Ot,Yt,qt,Sr,yn;if(nt=(Ae=Ae||{}).sourceEncoding||"Unicode",Ot=Ae.outputEncoding,(Ae.autoencode||Ot)&&Nt[vt].metadata&&Nt[vt].metadata[nt]&&Nt[vt].metadata[nt].encoding&&(Rt=Nt[vt].metadata[nt].encoding,!Ot&&Nt[vt].encoding&&(Ot=Nt[vt].encoding),!Ot&&Rt.codePages&&(Ot=Rt.codePages[0]),typeof Ot=="string"&&(Ot=Rt[Ot]),Ot)){for(qt=!1,Yt=[],Ne=0,Xe=ge.length;Ne<Xe;Ne++)(Sr=Ot[ge.charCodeAt(Ne)])?Yt.push(String.fromCharCode(Sr)):Yt.push(ge[Ne]),Yt[Ne].charCodeAt(0)>>8&&(qt=!0);ge=Yt.join("")}for(Ne=ge.length;qt===void 0&&Ne!==0;)ge.charCodeAt(Ne-1)>>8&&(qt=!0),Ne--;if(!qt)return ge;for(Yt=Ae.noBOM?[]:[254,255],Ne=0,Xe=ge.length;Ne<Xe;Ne++){if((yn=(Sr=ge.charCodeAt(Ne))>>8)>>8)throw new Error("Character at position "+Ne+" of string '"+ge+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Yt.push(yn),Yt.push(Sr-(yn<<8))}return String.fromCharCode.apply(void 0,Yt)}(L,K).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Cn=f.__private__.beginPage=function(L){ke[++Ct]=[],kt[Ct]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},ys(Ct),Me(ke[F])},Yi=function(L,K){var ge,Ae,Ne;switch(r=K||r,typeof L=="string"&&(ge=x(L.toLowerCase()),Array.isArray(ge)&&(Ae=ge[0],Ne=ge[1])),Array.isArray(L)&&(Ae=L[0]*lt,Ne=L[1]*lt),isNaN(Ae)&&(Ae=a[0],Ne=a[1]),(Ae>14400||Ne>14400)&&(pn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ae=Math.min(14400,Ae),Ne=Math.min(14400,Ne)),a=[Ae,Ne],r.substr(0,1)){case"l":Ne>Ae&&(a=[Ne,Ae]);break;case"p":Ae>Ne&&(a=[Ne,Ae])}Cn(a),tr(es),J(qc),ts!==0&&J(ts+" J"),Gc!==0&&J(Gc+" j"),Kt.publish("addPage",{pageNumber:Ct})},Li=function(L){L>0&&L<=Ct&&(ke.splice(L,1),kt.splice(L,1),Ct--,F>Ct&&(F=Ct),this.setPage(F))},ys=function(L){L>0&&L<=Ct&&(F=L)},Di=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return ke.length-1},Do=function(L,K,ge){var Ae,Ne=void 0;return ge=ge||{},L=L!==void 0?L:Nt[vt].fontName,K=K!==void 0?K:Nt[vt].fontStyle,Ae=L.toLowerCase(),zt[Ae]!==void 0&&zt[Ae][K]!==void 0?Ne=zt[Ae][K]:zt[L]!==void 0&&zt[L][K]!==void 0?Ne=zt[L][K]:ge.disableWarning===!1&&pn.warn("Unable to look up font label for font '"+L+"', '"+K+"'. Refer to getFontList() for available fonts."),Ne||ge.noFallback||(Ne=zt.times[K])==null&&(Ne=zt.times.normal),Ne},Wn=f.__private__.putInfo=function(){var L=sn(),K=function(Ae){return Ae};for(var ge in u!==null&&(K=kn.encryptor(L,0)),J("<<"),J("/Producer ("+_r(K("jsPDF "+Vt.version))+")"),At)At.hasOwnProperty(ge)&&At[ge]&&J("/"+ge.substr(0,1).toUpperCase()+ge.substr(1)+" ("+_r(K(At[ge]))+")");J("/CreationDate ("+_r(K(X))+")"),J(">>"),J("endobj")},Pi=f.__private__.putCatalog=function(L){var K=(L=L||{}).rootDictionaryObjId||oe;switch(sn(),J("<<"),J("/Type /Catalog"),J("/Pages "+K+" 0 R"),Qe||(Qe="fullwidth"),Qe){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ge=""+Qe;ge.substr(ge.length-1)==="%"&&(Qe=parseInt(Qe)/100),typeof Qe=="number"&&J("/OpenAction [3 0 R /XYZ null null "+S(Qe)+"]")}switch(at||(at="continuous"),at){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}qe&&J("/PageMode /"+qe),Kt.publish("putCatalog"),J(">>"),J("endobj")},Qi=f.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(Y+1)),J("/Root "+Y+" 0 R"),J("/Info "+(Y-1)+" 0 R"),u!==null&&J("/Encrypt "+kn.oid+" 0 R"),J("/ID [ <"+V+"> <"+V+"> ]"),J(">>")},xn=f.__private__.putHeader=function(){J("%PDF-"+p),J("%")},nl=f.__private__.putXRef=function(){var L="0000000000";J("xref"),J("0 "+(Y+1)),J("0000000000 65535 f ");for(var K=1;K<=Y;K++)typeof se[K]=="function"?J((L+se[K]()).slice(-10)+" 00000 n "):se[K]!==void 0?J((L+se[K]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},Ji=f.__private__.buildDocument=function(){var L;Y=0,fe=0,he=[],se=[],ve=[],oe=vn(),ue=vn(),Me(he),Kt.publish("buildDocument"),xn(),Ue(),function(){Kt.publish("putAdditionalObjects");for(var ge=0;ge<ve.length;ge++){var Ae=ve[ge];Z(Ae.objId,!0),J(Ae.content),J("endobj")}Kt.publish("postPutAdditionalObjects")}(),L=[],function(){for(var ge in Nt)Nt.hasOwnProperty(ge)&&(h===!1||h===!0&&d.hasOwnProperty(ge))&&Ve(Nt[ge])}(),function(){var ge;for(ge in ut)ut.hasOwnProperty(ge)&&ft(ut[ge])}(),function(){for(var ge in Jt)Jt.hasOwnProperty(ge)&&ot(Jt[ge])}(),function(ge){var Ae;for(Ae in Pt)Pt.hasOwnProperty(Ae)&&(Pt[Ae]instanceof Uf?mt(Pt[Ae]):Pt[Ae]instanceof P0&&wt(Pt[Ae],ge))}(L),Kt.publish("putResources"),L.forEach(yt),yt({resourcesOid:ue,objectOid:Number.MAX_SAFE_INTEGER}),Kt.publish("postPutResources"),u!==null&&(kn.oid=sn(),J("<<"),J("/Filter /Standard"),J("/V "+kn.v),J("/R "+kn.r),J("/U <"+kn.toHexString(kn.U)+">"),J("/O <"+kn.toHexString(kn.O)+">"),J("/P "+kn.P),J(">>"),J("endobj")),Wn(),Pi();var K=fe;return nl(),Qi(),J("startxref"),J(""+K),J("%%EOF"),Me(ke[F]),he.join(`
`)},qr=f.__private__.getBlob=function(L){return new Blob([Re(L)],{type:"application/pdf"})},zl=f.output=f.__private__.output=(Qa=function(L,K){switch(typeof(K=K||{})=="string"?K={filename:K}:K.filename=K.filename||"generated.pdf",L){case void 0:return Ji();case"save":f.save(K.filename);break;case"arraybuffer":return Re(Ji());case"blob":return qr(Ji());case"bloburi":case"bloburl":if(sr.URL!==void 0&&typeof sr.URL.createObjectURL=="function")return sr.URL&&sr.URL.createObjectURL(qr(Ji()))||void 0;pn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ge="",Ae=Ji();try{ge=X6(Ae)}catch{ge=X6(unescape(encodeURIComponent(Ae)))}return"data:application/pdf;filename="+K.filename+";base64,"+ge;case"pdfobjectnewwindow":if(Object.prototype.toString.call(sr)==="[object Window]"){var Ne="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Xe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';K.pdfObjectUrl&&(Ne=K.pdfObjectUrl,Xe="");var nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ne+'"'+Xe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(K)+");<\/script></body></html>",Rt=sr.open();return Rt!==null&&Rt.document.write(nt),Rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(sr)==="[object Window]"){var Ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(K.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+K.filename+'" width="500px" height="400px" /></body></html>',Yt=sr.open();if(Yt!==null){Yt.document.write(Ot);var qt=this;Yt.document.documentElement.querySelector("#pdfViewer").onload=function(){Yt.document.title=K.filename,Yt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(qt.output("bloburl"))}}return Yt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(sr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Sr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",K)+'"></iframe></body></html>',yn=sr.open();if(yn!==null&&(yn.document.write(Sr),yn.document.title=K.filename),yn||typeof safari>"u")return yn;break;case"datauri":case"dataurl":return sr.document.location.href=this.output("datauristring",K);default:return null}},Qa.foo=function(){try{return Qa.apply(this,arguments)}catch(ge){var L=ge.stack||"";~L.indexOf(" at ")&&(L=L.split(" at ")[1]);var K="Error in function "+L.split(`
`)[0].split("<")[0]+": "+ge.message;if(!sr.console)throw new Error(K);sr.console.error(K,ge),sr.alert&&alert(K)}},Qa.foo.bar=Qa,Qa.foo),ja=function(L){return Array.isArray(Kr)===!0&&Kr.indexOf(L)>-1};switch(n){case"pt":lt=1;break;case"mm":lt=72/25.4;break;case"cm":lt=72/2.54;break;case"in":lt=72;break;case"px":lt=ja("px_scaling")==1?.75:96/72;break;case"pc":case"em":lt=12;break;case"ex":lt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);lt=n}var kn=null;Ee(),re();var Po=f.__private__.getPageInfo=f.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:kt[L].objId,pageNumber:L,pageContext:kt[L]}},bf=f.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var K in kt)if(kt[K].objId===L)break;return Po(K)},Gd=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:kt[F].objId,pageNumber:F,pageContext:kt[F]}};f.addPage=function(){return Yi.apply(this,arguments),this},f.setPage=function(){return ys.apply(this,arguments),Me.call(this,ke[F]),this},f.insertPage=function(L){return this.addPage(),this.movePage(F,L),this},f.movePage=function(L,K){var ge,Ae;if(L>K){ge=ke[L],Ae=kt[L];for(var Ne=L;Ne>K;Ne--)ke[Ne]=ke[Ne-1],kt[Ne]=kt[Ne-1];ke[K]=ge,kt[K]=Ae,this.setPage(K)}else if(L<K){ge=ke[L],Ae=kt[L];for(var Xe=L;Xe<K;Xe++)ke[Xe]=ke[Xe+1],kt[Xe]=kt[Xe+1];ke[K]=ge,kt[K]=Ae,this.setPage(K)}return this},f.deletePage=function(){return Li.apply(this,arguments),this},f.__private__.text=f.text=function(L,K,ge,Ae,Ne){var Xe,nt,Rt,Ot,Yt,qt,Sr,yn,fn,v=(Ae=Ae||{}).scope||this;if(typeof L=="number"&&typeof K=="number"&&(typeof ge=="string"||Array.isArray(ge))){var B=ge;ge=K,K=L,L=B}if(arguments[3]instanceof Ut==0?(Rt=arguments[4],Ot=arguments[5],rn(Sr=arguments[3])==="object"&&Sr!==null||(typeof Rt=="string"&&(Ot=Rt,Rt=null),typeof Sr=="string"&&(Ot=Sr,Sr=null),typeof Sr=="number"&&(Rt=Sr,Sr=null),Ae={flags:Sr,angle:Rt,align:Ot})):(y("The transform parameter of text() with a Matrix value"),fn=Ne),isNaN(K)||isNaN(ge)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return v;var G,ie="",Le=typeof Ae.lineHeightFactor=="number"?Ae.lineHeightFactor:ql,He=v.internal.scaleFactor;function pt(Xr){return Xr=Xr.split("	").join(Array(Ae.TabLen||9).join(" ")),_r(Xr,Sr)}function or(Xr){for(var hn,oa=Xr.concat(),Ra=[],Xl=oa.length;Xl--;)typeof(hn=oa.shift())=="string"?Ra.push(hn):Array.isArray(Xr)&&(hn.length===1||hn[1]===void 0&&hn[2]===void 0)?Ra.push(hn[0]):Ra.push([hn[0],hn[1],hn[2]]);return Ra}function wn(Xr,hn){var oa;if(typeof Xr=="string")oa=hn(Xr)[0];else if(Array.isArray(Xr)){for(var Ra,Xl,n1=Xr.concat(),Jh=[],Gm=n1.length;Gm--;)typeof(Ra=n1.shift())=="string"?Jh.push(hn(Ra)[0]):Array.isArray(Ra)&&typeof Ra[0]=="string"&&(Xl=hn(Ra[0],Ra[1],Ra[2]),Jh.push([Xl[0],Xl[1],Xl[2]]));oa=Jh}return oa}var Tr=!1,bn=!0;if(typeof L=="string")Tr=!0;else if(Array.isArray(L)){var Va=L.concat();nt=[];for(var di,En=Va.length;En--;)(typeof(di=Va.shift())!="string"||Array.isArray(di)&&typeof di[0]!="string")&&(bn=!1);Tr=bn}if(Tr===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var pi=Te/v.internal.scaleFactor,io=pi*(Le-1);switch(Ae.baseline){case"bottom":ge-=io;break;case"top":ge+=pi-io;break;case"hanging":ge+=pi-2*io;break;case"middle":ge+=pi/2-io}if((qt=Ae.maxWidth||0)>0&&(typeof L=="string"?L=v.splitTextToSize(L,qt):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(Xr,hn){return Xr.concat(v.splitTextToSize(hn,qt))},[]))),Xe={text:L,x:K,y:ge,options:Ae,mutex:{pdfEscape:_r,activeFontKey:vt,fonts:Nt,activeFontSize:Te}},Kt.publish("preProcessText",Xe),L=Xe.text,Rt=(Ae=Xe.options).angle,fn instanceof Ut==0&&Rt&&typeof Rt=="number"){Rt*=Math.PI/180,Ae.rotationDirection===0&&(Rt=-Rt),I===b&&(Rt=-Rt);var Gl=Math.cos(Rt),Kd=Math.sin(Rt);fn=new Ut(Gl,Kd,-Kd,Gl,0,0)}else Rt&&Rt instanceof Ut&&(fn=Rt);I!==b||fn||(fn=hi),(Yt=Ae.charSpace||no)!==void 0&&(ie+=A(C(Yt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(yn=Ae.horizontalScale)!==void 0&&(ie+=A(100*yn)+` Tz
`),Ae.lang;var Bi=-1,Wl=Ae.renderingMode!==void 0?Ae.renderingMode:Ae.stroke,Yh=v.internal.getCurrentPageInfo().pageContext;switch(Wl){case 0:case!1:case"fill":Bi=0;break;case 1:case!0:case"stroke":Bi=1;break;case 2:case"fillThenStroke":Bi=2;break;case 3:case"invisible":Bi=3;break;case 4:case"fillAndAddForClipping":Bi=4;break;case 5:case"strokeAndAddPathForClipping":Bi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Bi=6;break;case 7:case"addToPathForClipping":Bi=7}var qm=Yh.usedRenderingMode!==void 0?Yh.usedRenderingMode:-1;Bi!==-1?ie+=Bi+` Tr
`:qm!==-1&&(ie+=`0 Tr
`),Bi!==-1&&(Yh.usedRenderingMode=Bi),Ot=Ae.align||"left";var so,Cf=Te*Le,Yd=v.internal.pageSize.getWidth(),Qd=Nt[vt];Yt=Ae.charSpace||no,qt=Ae.maxWidth||0,Sr=Object.assign({autoencode:!0,noBOM:!0},Ae.flags);var Xc=[],kf=function(Xr){return v.getStringUnitWidth(Xr,{font:Qd,charSpace:Yt,fontSize:Te,doKerning:!1})*Te/He};if(Object.prototype.toString.call(L)==="[object Array]"){var bs;nt=or(L),Ot!=="left"&&(so=nt.map(kf));var Es,Kc=0;if(Ot==="right"){K-=so[0],L=[],En=nt.length;for(var $l=0;$l<En;$l++)$l===0?(Es=Oi(K),bs=ro(ge)):(Es=C(Kc-so[$l]),bs=-Cf),L.push([nt[$l],Es,bs]),Kc=so[$l]}else if(Ot==="center"){K-=so[0]/2,L=[],En=nt.length;for(var Yc=0;Yc<En;Yc++)Yc===0?(Es=Oi(K),bs=ro(ge)):(Es=C((Kc-so[Yc])/2),bs=-Cf),L.push([nt[Yc],Es,bs]),Kc=so[Yc]}else if(Ot==="left"){L=[],En=nt.length;for(var Jd=0;Jd<En;Jd++)L.push(nt[Jd])}else if(Ot==="justify"&&Qd.encoding==="Identity-H"){L=[],En=nt.length,qt=qt!==0?qt:Yd;for(var Qh=0,sa=0;sa<En;sa++)if(bs=sa===0?ro(ge):-Cf,Es=sa===0?Oi(K):Qh,sa<En-1){var Hm=C((qt-so[sa])/(nt[sa].split(" ").length-1)),fl=nt[sa].split(" ");L.push([fl[0]+" ",Es,bs]),Qh=0;for(var hl=1;hl<fl.length;hl++){var Zd=(kf(fl[hl-1]+" "+fl[hl])-kf(fl[hl]))*He+Hm;hl==fl.length-1?L.push([fl[hl],Zd,0]):L.push([fl[hl]+" ",Zd,0]),Qh-=Zd}}else L.push([nt[sa],Es,bs]);L.push(["",Qh,0])}else{if(Ot!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],En=nt.length,qt=qt!==0?qt:Yd,sa=0;sa<En;sa++){bs=sa===0?ro(ge):-Cf,Es=sa===0?Oi(K):0;var e1=nt[sa].split(" ").length-1,t1=e1>0?(qt-so[sa])/e1:0;sa<En-1?Xc.push(A(C(t1))):Xc.push(0),L.push([nt[sa],Es,bs])}}}(typeof Ae.R2L=="boolean"?Ae.R2L:we)===!0&&(L=wn(L,function(Xr,hn,oa){return[Xr.split("").reverse().join(""),hn,oa]})),Xe={text:L,x:K,y:ge,options:Ae,mutex:{pdfEscape:_r,activeFontKey:vt,fonts:Nt,activeFontSize:Te}},Kt.publish("postProcessText",Xe),L=Xe.text,G=Xe.mutex.isHex||!1;var r1=Nt[vt].encoding;r1!=="WinAnsiEncoding"&&r1!=="StandardEncoding"||(L=wn(L,function(Xr,hn,oa){return[pt(Xr),hn,oa]})),nt=or(L),L=[];for(var Qc,Jc,Zc,Nf=Array.isArray(nt[0])?1:0,eu="",If=function(Xr,hn,oa){var Ra="";return oa instanceof Ut?(oa=typeof Ae.angle=="number"?_s(oa,new Ut(1,0,0,1,Xr,hn)):_s(new Ut(1,0,0,1,Xr,hn),oa),I===b&&(oa=_s(new Ut(1,0,0,-1,0,0),oa)),Ra=oa.join(" ")+` Tm
`):Ra=A(Xr)+" "+A(hn)+` Td
`,Ra},oo=0;oo<nt.length;oo++){switch(eu="",Nf){case 1:Zc=(G?"<":"(")+nt[oo][0]+(G?">":")"),Qc=parseFloat(nt[oo][1]),Jc=parseFloat(nt[oo][2]);break;case 0:Zc=(G?"<":"(")+nt[oo]+(G?">":")"),Qc=Oi(K),Jc=ro(ge)}Xc!==void 0&&Xc[oo]!==void 0&&(eu=Xc[oo]+` Tw
`),oo===0?L.push(eu+If(Qc,Jc,fn)+Zc):Nf===0?L.push(eu+Zc):Nf===1&&L.push(eu+If(Qc,Jc,fn)+Zc)}L=Nf===0?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var dl=`BT
/`;return dl+=vt+" "+Te+` Tf
`,dl+=A(Te*Le)+` TL
`,dl+=sl+`
`,dl+=ie,dl+=L,J(dl+="ET"),d[vt]=!0,v};var Wd=f.__private__.clip=f.clip=function(L){return J(L==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Wd("evenodd")},f.__private__.discardPath=f.discardPath=function(){return J("n"),this};var to=f.__private__.isValidStyle=function(L){var K=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(K=!0),K};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(L){return to(L)&&(c=L),this};var zh=f.__private__.getStyle=f.getStyle=function(L){var K=c;switch(L){case"D":case"S":K="S";break;case"F":K="f";break;case"FD":case"DF":K="B";break;case"f":case"f*":case"B":case"B*":K=L}return K},al=f.close=function(){return J("h"),this};f.stroke=function(){return J("S"),this},f.fill=function(L){return Zi("f",L),this},f.fillEvenOdd=function(L){return Zi("f*",L),this},f.fillStroke=function(L){return Zi("B",L),this},f.fillStrokeEvenOdd=function(L){return Zi("B*",L),this};var Zi=function(L,K){rn(K)==="object"?Hh(K,L):J(L)},il=function(L){L===null||I===b&&L===void 0||(L=zh(L),J(L))};function qh(L,K,ge,Ae,Ne){var Xe=new P0(K||this.boundingBox,ge||this.xStep,Ae||this.yStep,this.gState,Ne||this.matrix);Xe.stream=this.stream;var nt=L+"$$"+this.cloneIndex+++"$$";return Ia(nt,Xe),Xe}var Hh=function(L,K){var ge=Oe[L.key],Ae=Pt[ge];if(Ae instanceof Uf)J("q"),J(Gh(K)),Ae.gState&&f.setGState(Ae.gState),J(L.matrix.toString()+" cm"),J("/"+ge+" sh"),J("Q");else if(Ae instanceof P0){var Ne=new Ut(1,0,0,-1,0,Fo());L.matrix&&(Ne=Ne.multiply(L.matrix||hi),ge=qh.call(Ae,L.key,L.boundingBox,L.xStep,L.yStep,Ne).id),J("q"),J("/Pattern cs"),J("/"+ge+" scn"),Ae.gState&&f.setGState(Ae.gState),J(K),J("Q")}},Gh=function(L){switch(L){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Vc=f.moveTo=function(L,K){return J(A(C(L))+" "+A(H(K))+" m"),this},Oo=f.lineTo=function(L,K){return J(A(C(L))+" "+A(H(K))+" l"),this},ws=f.curveTo=function(L,K,ge,Ae,Ne,Xe){return J([A(C(L)),A(H(K)),A(C(ge)),A(H(Ae)),A(C(Ne)),A(H(Xe)),"c"].join(" ")),this};f.__private__.line=f.line=function(L,K,ge,Ae,Ne){if(isNaN(L)||isNaN(K)||isNaN(ge)||isNaN(Ae)||!to(Ne))throw new Error("Invalid arguments passed to jsPDF.line");return I===T?this.lines([[ge-L,Ae-K]],L,K,[1,1],Ne||"S"):this.lines([[ge-L,Ae-K]],L,K,[1,1]).stroke()},f.__private__.lines=f.lines=function(L,K,ge,Ae,Ne,Xe){var nt,Rt,Ot,Yt,qt,Sr,yn,fn,v,B,G,ie;if(typeof L=="number"&&(ie=ge,ge=K,K=L,L=ie),Ae=Ae||[1,1],Xe=Xe||!1,isNaN(K)||isNaN(ge)||!Array.isArray(L)||!Array.isArray(Ae)||!to(Ne)||typeof Xe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Vc(K,ge),nt=Ae[0],Rt=Ae[1],Yt=L.length,B=K,G=ge,Ot=0;Ot<Yt;Ot++)(qt=L[Ot]).length===2?(B=qt[0]*nt+B,G=qt[1]*Rt+G,Oo(B,G)):(Sr=qt[0]*nt+B,yn=qt[1]*Rt+G,fn=qt[2]*nt+B,v=qt[3]*Rt+G,B=qt[4]*nt+B,G=qt[5]*Rt+G,ws(Sr,yn,fn,v,B,G));return Xe&&al(),il(Ne),this},f.path=function(L){for(var K=0;K<L.length;K++){var ge=L[K],Ae=ge.c;switch(ge.op){case"m":Vc(Ae[0],Ae[1]);break;case"l":Oo(Ae[0],Ae[1]);break;case"c":ws.apply(this,Ae);break;case"h":al()}}return this},f.__private__.rect=f.rect=function(L,K,ge,Ae,Ne){if(isNaN(L)||isNaN(K)||isNaN(ge)||isNaN(Ae)||!to(Ne))throw new Error("Invalid arguments passed to jsPDF.rect");return I===T&&(Ae=-Ae),J([A(C(L)),A(H(K)),A(C(ge)),A(C(Ae)),"re"].join(" ")),il(Ne),this},f.__private__.triangle=f.triangle=function(L,K,ge,Ae,Ne,Xe,nt){if(isNaN(L)||isNaN(K)||isNaN(ge)||isNaN(Ae)||isNaN(Ne)||isNaN(Xe)||!to(nt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ge-L,Ae-K],[Ne-ge,Xe-Ae],[L-Ne,K-Xe]],L,K,[1,1],nt,!0),this},f.__private__.roundedRect=f.roundedRect=function(L,K,ge,Ae,Ne,Xe,nt){if(isNaN(L)||isNaN(K)||isNaN(ge)||isNaN(Ae)||isNaN(Ne)||isNaN(Xe)||!to(nt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Rt=4/3*(Math.SQRT2-1);return Ne=Math.min(Ne,.5*ge),Xe=Math.min(Xe,.5*Ae),this.lines([[ge-2*Ne,0],[Ne*Rt,0,Ne,Xe-Xe*Rt,Ne,Xe],[0,Ae-2*Xe],[0,Xe*Rt,-Ne*Rt,Xe,-Ne,Xe],[2*Ne-ge,0],[-Ne*Rt,0,-Ne,-Xe*Rt,-Ne,-Xe],[0,2*Xe-Ae],[0,-Xe*Rt,Ne*Rt,-Xe,Ne,-Xe]],L+Ne,K,[1,1],nt,!0),this},f.__private__.ellipse=f.ellipse=function(L,K,ge,Ae,Ne){if(isNaN(L)||isNaN(K)||isNaN(ge)||isNaN(Ae)||!to(Ne))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Xe=4/3*(Math.SQRT2-1)*ge,nt=4/3*(Math.SQRT2-1)*Ae;return Vc(L+ge,K),ws(L+ge,K-nt,L+Xe,K-Ae,L,K-Ae),ws(L-Xe,K-Ae,L-ge,K-nt,L-ge,K),ws(L-ge,K+nt,L-Xe,K+Ae,L,K+Ae),ws(L+Xe,K+Ae,L+ge,K+nt,L+ge,K),il(Ne),this},f.__private__.circle=f.circle=function(L,K,ge,Ae){if(isNaN(L)||isNaN(K)||isNaN(ge)||!to(Ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,K,ge,ge,Ae)},f.setFont=function(L,K,ge){return ge&&(K=N(K,ge)),vt=Do(L,K,{disableWarning:!1}),this};var $d=f.__private__.getFont=f.getFont=function(){return Nt[Do.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var L,K,ge={};for(L in zt)if(zt.hasOwnProperty(L))for(K in ge[L]=[],zt[L])zt[L].hasOwnProperty(K)&&ge[L].push(K);return ge},f.addFont=function(L,K,ge,Ae,Ne){var Xe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Xe.indexOf(arguments[3])!==-1?Ne=arguments[3]:arguments[3]&&Xe.indexOf(arguments[3])==-1&&(ge=N(ge,Ae)),Gr.call(this,L,K,ge,Ne=Ne||"Identity-H")};var ql,es=t.lineWidth||.200025,Xd=f.__private__.getLineWidth=f.getLineWidth=function(){return es},tr=f.__private__.setLineWidth=f.setLineWidth=function(L){return es=L,J(A(C(L))+" w"),this};f.__private__.setLineDash=Vt.API.setLineDash=Vt.API.setLineDashPattern=function(L,K){if(L=L||[],K=K||0,isNaN(K)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(ge){return A(C(ge))}).join(" "),K=A(C(K)),J("["+L+"] "+K+" d"),this};var zc=f.__private__.getLineHeight=f.getLineHeight=function(){return Te*ql};f.__private__.getLineHeight=f.getLineHeight=function(){return Te*ql};var Wh=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(ql=L),this},Hl=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return ql};Wh(t.lineHeight);var Oi=f.__private__.getHorizontalCoordinate=function(L){return C(L)},ro=f.__private__.getVerticalCoordinate=function(L){return I===b?L:kt[F].mediaBox.topRightY-kt[F].mediaBox.bottomLeftY-C(L)},Ef=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(L){return A(Oi(L))},_n=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(L){return A(ro(L))},qc=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return pe(qc)},f.__private__.setStrokeColor=f.setDrawColor=function(L,K,ge,Ae){return qc=ye({ch1:L,ch2:K,ch3:ge,ch4:Ae,pdfColorType:"draw",precision:2}),J(qc),this};var Af=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return pe(Af)},f.__private__.setFillColor=f.setFillColor=function(L,K,ge,Ae){return Af=ye({ch1:L,ch2:K,ch3:ge,ch4:Ae,pdfColorType:"fill",precision:2}),J(Af),this};var sl=t.textColor||"0 g",$h=f.__private__.getTextColor=f.getTextColor=function(){return pe(sl)};f.__private__.setTextColor=f.setTextColor=function(L,K,ge,Ae){return sl=ye({ch1:L,ch2:K,ch3:ge,ch4:Ae,pdfColorType:"text",precision:3}),this};var no=t.charSpace,Hc=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(no||0)};f.__private__.setCharSpace=f.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return no=L,this};var ts=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(L){var K=f.CapJoinStyles[L];if(K===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ts=K,J(K+" J"),this};var Gc=0;f.__private__.setLineJoin=f.setLineJoin=function(L){var K=f.CapJoinStyles[L];if(K===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Gc=K,J(K+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(A(C(L))+" M"),this},f.GState=Fv,f.setGState=function(L){(L=typeof L=="string"?ut[dt[L]]:Xh(null,L)).equals(Qt)||(J("/"+L.id+" gs"),Qt=L)};var Xh=function(L,K){if(!L||!dt[L]){var ge=!1;for(var Ae in ut)if(ut.hasOwnProperty(Ae)&&ut[Ae].equals(K)){ge=!0;break}if(ge)K=ut[Ae];else{var Ne="GS"+(Object.keys(ut).length+1).toString(10);ut[Ne]=K,K.id=Ne}return L&&(dt[L]=K.id),Kt.publish("addGState",K),K}};f.addGState=function(L,K){return Xh(L,K),this},f.saveGraphicsState=function(){return J("q"),xr.push({key:vt,size:Te,color:sl}),this},f.restoreGraphicsState=function(){J("Q");var L=xr.pop();return vt=L.key,Te=L.size,sl=L.color,Qt=null,this},f.setCurrentTransformationMatrix=function(L){return J(L.toString()+" cm"),this},f.comment=function(L){return J("#"+L),this};var Fi=function(L,K){var ge=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ge},set:function(Xe){isNaN(Xe)||(ge=parseFloat(Xe))}});var Ae=K||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ae},set:function(Xe){isNaN(Xe)||(Ae=parseFloat(Xe))}});var Ne="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ne},set:function(Xe){Ne=Xe.toString()}}),this},Wc=function(L,K,ge,Ae){Fi.call(this,L,K),this.type="rect";var Ne=ge||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ne},set:function(nt){isNaN(nt)||(Ne=parseFloat(nt))}});var Xe=Ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Xe},set:function(nt){isNaN(nt)||(Xe=parseFloat(nt))}}),this},ol=function(){this.page=Ct,this.currentPage=F,this.pages=ke.slice(0),this.pagesContext=kt.slice(0),this.x=ct,this.y=Ft,this.matrix=bt,this.width=ul(F),this.height=Sf(F),this.outputDestination=be,this.id="",this.objectNumber=-1};ol.prototype.restore=function(){Ct=this.page,F=this.currentPage,kt=this.pagesContext,ke=this.pages,ct=this.x,Ft=this.y,bt=this.matrix,Kh(F,this.width),Mi(F,this.height),be=this.outputDestination};var ll=function(L,K,ge,Ae,Ne){Br.push(new ol),Ct=F=0,ke=[],ct=L,Ft=K,bt=Ne,Cn([ge,Ae])};for(var cl in f.beginFormObject=function(L,K,ge,Ae,Ne){return ll(L,K,ge,Ae,Ne),this},f.endFormObject=function(L){return function(K){if(gn[K])Br.pop().restore();else{var ge=new ol,Ae="Xo"+(Object.keys(Jt).length+1).toString(10);ge.id=Ae,gn[K]=Ae,Jt[Ae]=ge,Kt.publish("addFormObject",ge),Br.pop().restore()}}(L),this},f.doFormObject=function(L,K){var ge=Jt[gn[L]];return J("q"),J(K.toString()+" cm"),J("/"+ge.id+" Do"),J("Q"),this},f.getFormObject=function(L){var K=Jt[gn[L]];return{x:K.x,y:K.y,width:K.width,height:K.height,matrix:K.matrix}},f.save=function(L,K){return L=L||"generated.pdf",(K=K||{}).returnPromise=K.returnPromise||!1,K.returnPromise===!1?(Bf(qr(Ji()),L),typeof Bf.unload=="function"&&sr.setTimeout&&setTimeout(Bf.unload,911),this):new Promise(function(ge,Ae){try{var Ne=Bf(qr(Ji()),L);typeof Bf.unload=="function"&&sr.setTimeout&&setTimeout(Bf.unload,911),ge(Ne)}catch(Xe){Ae(Xe.message)}})},Vt.API)Vt.API.hasOwnProperty(cl)&&(cl==="events"&&Vt.API.events.length?function(L,K){var ge,Ae,Ne;for(Ne=K.length-1;Ne!==-1;Ne--)ge=K[Ne][0],Ae=K[Ne][1],L.subscribe.apply(L,[ge].concat(typeof Ae=="function"?[Ae]:Ae))}(Kt,Vt.API.events):f[cl]=Vt.API[cl]);function ul(L){return kt[L].mediaBox.topRightX-kt[L].mediaBox.bottomLeftX}function Kh(L,K){kt[L].mediaBox.topRightX=K+kt[L].mediaBox.bottomLeftX}function Sf(L){return kt[L].mediaBox.topRightY-kt[L].mediaBox.bottomLeftY}function Mi(L,K){kt[L].mediaBox.topRightY=K+kt[L].mediaBox.bottomLeftY}var ao=f.getPageWidth=function(L){return ul(L=L||F)/lt},Tf=f.setPageWidth=function(L,K){Kh(L,K*lt)},Fo=f.getPageHeight=function(L){return Sf(L=L||F)/lt},$c=f.setPageHeight=function(L,K){Mi(L,K*lt)};return f.internal={pdfEscape:_r,getStyle:zh,getFont:$d,getFontSize:Ye,getCharSpace:Hc,getTextColor:$h,getLineHeight:zc,getLineHeightFactor:Hl,getLineWidth:Xd,write:Ie,getHorizontalCoordinate:Oi,getVerticalCoordinate:ro,getCoordinateString:Ef,getVerticalCoordinateString:_n,collections:{},newObject:sn,newAdditionalObject:de,newObjectDeferred:vn,newObjectDeferredBegin:Z,getFilters:Fe,putStream:Ge,events:Kt,scaleFactor:lt,pageSize:{getWidth:function(){return ao(F)},setWidth:function(L){Tf(F,L)},getHeight:function(){return Fo(F)},setHeight:function(L){$c(F,L)}},encryptionOptions:u,encryption:kn,getEncryptor:function(L){return u!==null?kn.encryptor(L,0):function(K){return K}},output:zl,getNumberOfPages:Di,get pages(){return ke},out:J,f2:S,f3:k,getPageInfo:Po,getPageInfoByObjId:bf,getCurrentPageInfo:Gd,getPDFVersion:m,Point:Fi,Rectangle:Wc,Matrix:Ut,hasHotfix:ja},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return ao(F)},set:function(L){Tf(F,L)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Fo(F)},set:function(L){$c(F,L)},enumerable:!0,configurable:!0}),(function(L){for(var K=0,ge=De.length;K<ge;K++){var Ae=Gr.call(this,L[K][0],L[K][1],L[K][2],De[K][3],!0);h===!1&&(d[Ae]=!0);var Ne=L[K][0].split("-");Zt({id:Ae,fontName:Ne[0],fontStyle:Ne[1]||""})}Kt.publish("addFonts",{fonts:Nt,dictionary:zt})}).call(f,De),vt="F1",Yi(a,r),Kt.publish("initialized"),f}v0.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},v0.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},v0.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},v0.prototype.processOwnerPassword=function(t,e){return Bw(Mw(e).substr(0,5),t)},v0.prototype.encryptor=function(t,e){var r=Mw(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Bw(r,n)}},Fv.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||rn(t)!==rn(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Vt.API={events:[]},Vt.version="4.1.0";var Qn=Vt.API,fE=1,Oh=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},n0=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Mv=function(t){return t.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var r=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(r.length===1?"0"+r:r)})},ur=function(t){return t.toFixed(2)},uu=function(t){return t.toFixed(5)};Qn.__acroform__={};var xs=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},J6=function(t){return t*fE},gl=function(t){var e=new OD,r=Dt.internal.getHeight(t)||0,n=Dt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(ur(n)),Number(ur(r))],e},DQ=Qn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},PQ=Qn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},OQ=Qn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},ha=Qn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return OQ(t,e-1)},da=Qn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return DQ(t,e-1)},pa=Qn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return PQ(t,e-1)},FQ=Qn.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],i=t[1],s=t[2],o=t[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=r(a+s)||0,l.upperRight_Y=n(i)||0,[Number(ur(l.lowerLeft_X)),Number(ur(l.lowerLeft_Y)),Number(ur(l.upperRight_X)),Number(ur(l.upperRight_Y))]},MQ=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Uw(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+ur(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=gl(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},Uw=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(S){return S.split(`
`)}):a.map(function(S){return[S]});var i=r,s=Dt.internal.getHeight(t)||0;s=s<0?-s:s;var o=Dt.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(S,k,C){if(S+1<a.length){var H=k+" "+a[S+1][0];return Ug(H,t,C).width<=o-4}return!1};i++;e:for(;i>0;){e="",i--;var c,u,h=Ug("3",t,i).height,d=t.multiline?s-i:(s-h)/2,f=d+=2,p=0,m=0,_=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Ug(e,t,i=12).width+", FieldWidth:"+o+`
`;break}for(var x="",T=0,b=0;b<a.length;b++)if(a.hasOwnProperty(b)){var I=!1;if(a[b].length!==1&&_!==a[b].length-1){if((h+2)*(T+2)+2>s)continue e;x+=a[b][_],I=!0,m=b,b--}else{x=(x+=a[b][_]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var j=parseInt(b),O=l(j,x,i),N=b>=a.length-1;if(O&&!N){x+=" ",_=0;continue}if(O||N){if(N)m=j;else if(t.multiline&&(h+2)*(T+2)+2>s)continue e}else{if(!t.multiline||(h+2)*(T+2)+2>s)continue e;m=j}}for(var A="",y=p;y<=m;y++){var R=a[y];if(t.multiline){if(y===m){A+=R[_]+" ",_=(_+1)%R.length;continue}if(y===p){A+=R[R.length-1]+" ";continue}}A+=R[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,u=Ug(A,t,i).width,t.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}e+=ur(c)+" "+ur(f)+` Td
`,e+="("+Oh(A)+`) Tj
`,e+=-ur(c)+` 0 Td
`,f=-(i+2),u=0,p=I?m:m+1,T++,x=""}break}return n.text=e,n.fontSize=i,n},Ug=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},BQ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},UQ=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},jQ=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(tl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(BQ)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");fE=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new FD,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&UQ(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=FQ(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Dt.createDefaultAppearanceStream(o),rn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=MQ(o);l.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var h="";for(var d in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(d)){var f=o.appearanceStreamContent[d];if(h+="/"+d+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var s in f)if(f.hasOwnProperty(s)){var p=f[s];typeof p=="function"&&(p=p.call(a,o)),h+="/"+s+" "+p+" ",a.internal.acroformPlugin.xForms.indexOf(p)>=0||a.internal.acroformPlugin.xForms.push(p)}}else typeof(p=f)=="function"&&(p=p.call(a,o)),h+="/"+s+" "+p,a.internal.acroformPlugin.xForms.indexOf(p)>=0||a.internal.acroformPlugin.xForms.push(p);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:o.objId}),a.internal.out("endobj")}i&&function(m,_){for(var x in m)if(m.hasOwnProperty(x)){var T=x,b=m[x];_.internal.newObjectDeferredBegin(b.objId,!0),rn(b)==="object"&&typeof b.putStream=="function"&&b.putStream(),delete m[T]}}(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},PD=Qn.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),rn(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)==="/"?a+="/"+Mv(t[i].substr(1)):(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+Oh(n(t[i].toString()))+")")}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Fy=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Oh(n(t))+")"},Sl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Sl.prototype.toString=function(){return this.objId+" 0 R"},Sl.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Sl.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:PD(a,this.objId,this.scope)}):a instanceof Sl?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var OD=function(){Sl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};xs(OD,Sl);var FD=function(){Sl.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Oh(r(t))+")"}},set:function(r){t=r}})};xs(FD,Sl);var tl=function t(){Sl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ha(e,3)},set:function(x){x?this.F=da(e,3):this.F=pa(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Bv)return;i="FieldObject"+t.FieldNum++}var x=function(T){return T};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Oh(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(x){s=x}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/fE:c},set:function(x){c=x}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(x){u=x}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof Bv||this instanceof Qf))return Fy(h,this.objId,this.scope)},set:function(x){x=x.toString(),h=x}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Ga==0?Fy(d,this.objId,this.scope):d},set:function(x){x=x.toString(),d=this instanceof Ga==0?x.substr(0,1)==="("?n0(x.substr(1,x.length-2)):n0(x):x}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ga==1?n0(d.substr(1,d.length-1)):d},set:function(x){x=x.toString(),d=this instanceof Ga==1?"/"+Mv(x):x}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ga==0?Fy(f,this.objId,this.scope):f},set:function(x){x=x.toString(),f=this instanceof Ga==0?x.substr(0,1)==="("?n0(x.substr(1,x.length-2)):n0(x):x}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ga==1?n0(f.substr(1,f.length-1)):f},set:function(x){x=x.toString(),f=this instanceof Ga==1?"/"+Mv(x):x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(x){x=!!x,m=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(x){p=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,1)},set:function(x){x?this.Ff=da(this.Ff,1):this.Ff=pa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,2)},set:function(x){x?this.Ff=da(this.Ff,2):this.Ff=pa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,3)},set:function(x){x?this.Ff=da(this.Ff,3):this.Ff=pa(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');_=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(_){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:_=2;break;case"center":case 1:_=1;break;default:_=0}}})};xs(tl,Sl);var K0=function(){tl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return PD(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,o){o||(o=1);for(var l,c=[];l=s.exec(i);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,18)},set:function(r){r?this.Ff=da(this.Ff,18):this.Ff=pa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=da(this.Ff,19):this.Ff=pa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,20)},set:function(r){r?(this.Ff=da(this.Ff,20),e.sort()):this.Ff=pa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,22)},set:function(r){r?this.Ff=da(this.Ff,22):this.Ff=pa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,23)},set:function(r){r?this.Ff=da(this.Ff,23):this.Ff=pa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,27)},set:function(r){r?this.Ff=da(this.Ff,27):this.Ff=pa(this.Ff,27)}}),this.hasAppearanceStream=!1};xs(K0,tl);var Y0=function(){K0.call(this),this.fontName="helvetica",this.combo=!1};xs(Y0,K0);var Q0=function(){Y0.call(this),this.combo=!0};xs(Q0,Y0);var N2=function(){Q0.call(this),this.edit=!0};xs(N2,Q0);var Ga=function(){tl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,15)},set:function(r){r?this.Ff=da(this.Ff,15):this.Ff=pa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,16)},set:function(r){r?this.Ff=da(this.Ff,16):this.Ff=pa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,17)},set:function(r){r?this.Ff=da(this.Ff,17):this.Ff=pa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,26)},set:function(r){r?this.Ff=da(this.Ff,26):this.Ff=pa(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+Oh(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){rn(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+Mv(r)}})};xs(Ga,tl);var I2=function(){Ga.call(this),this.pushButton=!0};xs(I2,Ga);var J0=function(){Ga.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};xs(J0,Ga);var Bv=function(){var t,e;tl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+Oh(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){rn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Dt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};xs(Bv,tl),J0.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},J0.prototype.createOption=function(t){var e=new Bv;return e.Parent=this,e.optionName=t,this.Kids.push(e),VQ.call(this.scope,e),e};var R2=function(){Ga.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Dt.CheckBox.createAppearanceStream()};xs(R2,Ga);var Qf=function(){tl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,13)},set:function(e){e?this.Ff=da(this.Ff,13):this.Ff=pa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,21)},set:function(e){e?this.Ff=da(this.Ff,21):this.Ff=pa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,23)},set:function(e){e?this.Ff=da(this.Ff,23):this.Ff=pa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,24)},set:function(e){e?this.Ff=da(this.Ff,24):this.Ff=pa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,25)},set:function(e){e?this.Ff=da(this.Ff,25):this.Ff=pa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,26)},set:function(e){e?this.Ff=da(this.Ff,26):this.Ff=pa(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};xs(Qf,tl);var L2=function(){Qf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ha(this.Ff,14)},set:function(t){t?this.Ff=da(this.Ff,14):this.Ff=pa(this.Ff,14)}}),this.password=!0};xs(L2,Qf);var Dt={CheckBox:{createAppearanceStream:function(){return{N:{On:Dt.CheckBox.YesNormal},D:{On:Dt.CheckBox.YesPushDown,Off:Dt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=gl(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=Uw(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+ur(Dt.internal.getWidth(t))+" "+ur(Dt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ur(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=gl(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],i=Dt.internal.getHeight(t),s=Dt.internal.getWidth(t),o=Uw(t,t.caption);return a.push("1 g"),a.push("0 0 "+ur(s)+" "+ur(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+ur(s-1)+" "+ur(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+ur(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=gl(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ur(Dt.internal.getWidth(t))+" "+ur(Dt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Dt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Dt.RadioButton.Circle.YesNormal,e.D[t]=Dt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=gl(t);e.scope=t.scope;var r=[],n=Dt.internal.getWidth(t)<=Dt.internal.getHeight(t)?Dt.internal.getWidth(t)/4:Dt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Dt.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+uu(Dt.internal.getWidth(t)/2)+" "+uu(Dt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=gl(t);e.scope=t.scope;var r=[],n=Dt.internal.getWidth(t)<=Dt.internal.getHeight(t)?Dt.internal.getWidth(t)/4:Dt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Dt.internal.Bezier_C).toFixed(5)),s=Number((n*Dt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+uu(Dt.internal.getWidth(t)/2)+" "+uu(Dt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+uu(Dt.internal.getWidth(t)/2)+" "+uu(Dt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=gl(t);e.scope=t.scope;var r=[],n=Dt.internal.getWidth(t)<=Dt.internal.getHeight(t)?Dt.internal.getWidth(t)/4:Dt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Dt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+uu(Dt.internal.getWidth(t)/2)+" "+uu(Dt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Dt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Dt.RadioButton.Cross.YesNormal,e.D[t]=Dt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=gl(t);e.scope=t.scope;var r=[],n=Dt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+ur(Dt.internal.getWidth(t)-2)+" "+ur(Dt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(ur(n.x1.x)+" "+ur(n.x1.y)+" m"),r.push(ur(n.x2.x)+" "+ur(n.x2.y)+" l"),r.push(ur(n.x4.x)+" "+ur(n.x4.y)+" m"),r.push(ur(n.x3.x)+" "+ur(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=gl(t);e.scope=t.scope;var r=Dt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+ur(Dt.internal.getWidth(t))+" "+ur(Dt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ur(Dt.internal.getWidth(t)-2)+" "+ur(Dt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(ur(r.x1.x)+" "+ur(r.x1.y)+" m"),n.push(ur(r.x2.x)+" "+ur(r.x2.y)+" l"),n.push(ur(r.x4.x)+" "+ur(r.x4.y)+" m"),n.push(ur(r.x3.x)+" "+ur(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=gl(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ur(Dt.internal.getWidth(t))+" "+ur(Dt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Dt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Dt.internal.getWidth(t),r=Dt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Dt.internal.getWidth=function(t){var e=0;return rn(t)==="object"&&(e=J6(t.Rect[2])),e},Dt.internal.getHeight=function(t){var e=0;return rn(t)==="object"&&(e=J6(t.Rect[3])),e};var VQ=Qn.addField=function(t){if(jQ(this,t),!(t instanceof tl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Qn.AcroFormChoiceField=K0,Qn.AcroFormListBox=Y0,Qn.AcroFormComboBox=Q0,Qn.AcroFormEditBox=N2,Qn.AcroFormButton=Ga,Qn.AcroFormPushButton=I2,Qn.AcroFormRadioButton=J0,Qn.AcroFormCheckBox=R2,Qn.AcroFormTextField=Qf,Qn.AcroFormPasswordField=L2,Qn.AcroFormAppearance=Dt,Qn.AcroForm={ChoiceField:K0,ListBox:Y0,ComboBox:Q0,EditBox:N2,Button:Ga,PushButton:I2,RadioButton:J0,CheckBox:R2,TextField:Qf,PasswordField:L2,Appearance:Dt},Vt.AcroForm={ChoiceField:K0,ListBox:Y0,ComboBox:Q0,EditBox:N2,Button:Ga,PushButton:I2,RadioButton:J0,CheckBox:R2,TextField:Qf,PasswordField:L2,Appearance:Dt};Vt.AcroForm;function MD(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=t.__addimage__.getImageFileTypeByImageData=function(S,k){var C,H,X,V,q,re=r;if((k=k||r)==="RGBA"||S.data!==void 0&&S.data instanceof Uint8ClampedArray&&"height"in S&&"width"in S)return"RGBA";if(O(S))for(q in n)for(X=n[q],C=0;C<X.length;C+=1){for(V=!0,H=0;H<X[C].length;H+=1)if(X[C][H]!==void 0&&X[C][H]!==S[H]){V=!1;break}if(V===!0){re=q;break}}else for(q in n)for(X=n[q],C=0;C<X.length;C+=1){for(V=!0,H=0;H<X[C].length;H+=1)if(X[C][H]!==void 0&&X[C][H]!==S.charCodeAt(H)){V=!1;break}if(V===!0){re=q;break}}return re===r&&k!==r&&(re=k),re},i=function S(k){for(var C=this.internal.write,H=this.internal.putStream,X=(0,this.internal.getFilters)();X.indexOf("FlateEncode")!==-1;)X.splice(X.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var V=[];if(V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Image"}),V.push({key:"Width",value:k.width}),V.push({key:"Height",value:k.height}),k.colorSpace===x.INDEXED?V.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(V.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===x.DEVICE_CMYK&&V.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),V.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&V.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)&&k.transparency.length>0){for(var q="",re=0,W=k.transparency.length;re<W;re++)q+=k.transparency[re]+" "+k.transparency[re]+" ";V.push({key:"Mask",value:"["+q+"]"})}k.sMask!==void 0&&V.push({key:"SMask",value:k.objectId+1+" 0 R"});var me=k.filter!==void 0?["/"+k.filter]:void 0;if(H({data:k.data,additionalKeyValues:V,alreadyAppliedFilters:me,objectId:k.objectId}),C("endobj"),"sMask"in k&&k.sMask!==void 0){var Ee,D=(Ee=k.sMaskBitsPerComponent)!==null&&Ee!==void 0?Ee:k.bitsPerComponent,F={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:D,data:k.sMask};"filter"in k&&(F.decodeParameters="/Predictor ".concat(k.predictor," /Colors 1 /BitsPerComponent ").concat(D," /Columns ").concat(k.width),F.filter=k.filter),S.call(this,F)}if(k.colorSpace===x.INDEXED){var U=this.internal.newObject();H({data:A(new Uint8Array(k.palette)),objectId:U}),C("endobj")}},s=function(){var S=this.internal.collections[e+"images"];for(var k in S)i.call(this,S[k])},o=function(){var S,k=this.internal.collections[e+"images"],C=this.internal.write;for(var H in k)C("/I"+(S=k[H]).index,S.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var S=this.internal.collections[e+"images"];return l.call(this),S},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},h=function(S){return typeof t["process"+S.toUpperCase()]=="function"},d=function(S){return rn(S)==="object"&&S.nodeType===1},f=function(S,k){if(S.nodeName==="IMG"&&S.hasAttribute("src")){var C=""+S.getAttribute("src");if(C.indexOf("data:image/")===0)return k2(unescape(C).split("base64,").pop());var H=t.loadFile(C,!0);if(H!==void 0)return H}if(S.nodeName==="CANVAS"){if(S.width===0||S.height===0)throw new Error("Given canvas must have data. Canvas width: "+S.width+", height: "+S.height);var X;switch(k){case"PNG":X="image/png";break;case"WEBP":X="image/webp";break;default:X="image/jpeg"}return k2(S.toDataURL(X,1).split("base64,").pop())}},p=function(S){var k=this.internal.collections[e+"images"];if(k){for(var C in k)if(S===k[C].alias)return k[C]}},m=function(S,k,C){return S||k||(S=-96,k=-96),S<0&&(S=-1*C.width*72/S/this.internal.scaleFactor),k<0&&(k=-1*C.height*72/k/this.internal.scaleFactor),S===0&&(S=k*C.width/C.height),k===0&&(k=S*C.height/C.width),[S,k]},_=function(S,k,C,H,X,V){var q=m.call(this,C,H,X),re=this.internal.getCoordinateString,W=this.internal.getVerticalCoordinateString,me=c.call(this);if(C=q[0],H=q[1],me[X.index]=X,V){V*=Math.PI/180;var Ee=Math.cos(V),D=Math.sin(V),F=function(M){return M.toFixed(4)},U=[F(Ee),F(D),F(-1*D),F(Ee),0,0,"cm"]}this.internal.write("q"),V?(this.internal.write([1,"0","0",1,re(S),W(k+H),"cm"].join(" ")),this.internal.write(U.join(" ")),this.internal.write([re(C),"0","0",re(H),"0","0","cm"].join(" "))):this.internal.write([re(C),"0","0",re(H),re(S),W(k+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+X.index+" Do"),this.internal.write("Q")},x=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var T=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=t.__addimage__.sHashCode=function(S){var k,C,H=0;if(typeof S=="string")for(C=S.length,k=0;k<C;k++)H=(H<<5)-H+S.charCodeAt(k),H|=0;else if(O(S))for(C=S.byteLength/2,k=0;k<C;k++)H=(H<<5)-H+S[k],H|=0;return H},I=t.__addimage__.validateStringAsBase64=function(S){(S=S||"").toString().trim();var k=!0;return S.length===0&&(k=!1),S.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(S.substr(0,S.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(S.substr(-2))===!1&&(k=!1),k},j=t.__addimage__.extractImageFromDataUrl=function(S){if(S==null||!(S=S.trim()).startsWith("data:"))return null;var k=S.indexOf(",");return k<0?null:S.substring(0,k).trim().endsWith("base64")?S.substring(k+1):null};t.__addimage__.isArrayBuffer=function(S){return S instanceof ArrayBuffer};var O=t.__addimage__.isArrayBufferView=function(S){return S instanceof Int8Array||S instanceof Uint8Array||S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array},N=t.__addimage__.binaryStringToUint8Array=function(S){for(var k=S.length,C=new Uint8Array(k),H=0;H<k;H++)C[H]=S.charCodeAt(H);return C},A=t.__addimage__.arrayBufferToBinaryString=function(S){for(var k="",C=O(S)?S:new Uint8Array(S),H=0;H<C.length;H+=8192)k+=String.fromCharCode.apply(null,C.subarray(H,H+8192));return k};t.addImage=function(){var S,k,C,H,X,V,q,re,W;if(typeof arguments[1]=="number"?(k=r,C=arguments[1],H=arguments[2],X=arguments[3],V=arguments[4],q=arguments[5],re=arguments[6],W=arguments[7]):(k=arguments[1],C=arguments[2],H=arguments[3],X=arguments[4],V=arguments[5],q=arguments[6],re=arguments[7],W=arguments[8]),rn(S=arguments[0])==="object"&&!d(S)&&"imageData"in S){var me=S;S=me.imageData,k=me.format||k||r,C=me.x||C||0,H=me.y||H||0,X=me.w||me.width||X,V=me.h||me.height||V,q=me.alias||q,re=me.compression||re,W=me.rotation||me.angle||W}var Ee=this.internal.getFilters();if(re===void 0&&Ee.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(C)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var D=y.call(this,S,k,q,re);return _.call(this,C,H,X,V,D,W),this};var y=function(S,k,C,H){var X,V,q;if(typeof S=="string"&&a(S)===r){S=unescape(S);var re=R(S,!1);(re!==""||(re=t.loadFile(S,!0))!==void 0)&&(S=re)}if(d(S)&&(S=f(S,k)),k=a(S,k),!h(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((q=C)==null||q.length===0)&&(C=function(W){return typeof W=="string"||O(W)?b(W):O(W.data)?b(W.data):null}(S)),(X=p.call(this,C))||(S instanceof Uint8Array||k==="RGBA"||(V=S,S=N(S)),X=this["process"+k.toUpperCase()](S,u.call(this),C,function(W){return W&&typeof W=="string"&&(W=W.toUpperCase()),W in t.image_compression?W:T.NONE}(H),V)),!X)throw new Error("An unknown error occurred whilst processing the image.");return X},R=t.__addimage__.convertBase64ToBinaryString=function(S,k){k=typeof k!="boolean"||k;var C,H="";if(typeof S=="string"){var X;C=(X=j(S))!==null&&X!==void 0?X:S;try{H=k2(C)}catch(V){if(k)throw I(C)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+V.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};t.getImageProperties=function(S){var k,C,H="";if(d(S)&&(S=f(S)),typeof S=="string"&&a(S)===r&&((H=R(S,!1))===""&&(H=t.loadFile(S)||""),S=H),C=a(S),!h(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(S instanceof Uint8Array||(S=N(S)),!(k=this["process"+C.toUpperCase()](S)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=C,k}})(Vt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Vt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,h=0;h<c.length&&!u;h++)switch((n=c[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var d=0;d<c.length;d++){n=c[d];var f=this.internal.pdfEscape,p=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(m.objId),T=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+f(x(n.contents))+")",i+=" /Popup "+_.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+f(x(T))+") >>",m.content=i;var b=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(i+=" /Open true"),i+=" >>",_.content=i,this.internal.write(m.objId,"0 R",_.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var I=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+f(p(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+I+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var j=this.annotations._nameMap[n.options.name];n.options.pageNumber=j.page,n.options.top=j.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+f(p(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var O=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+O+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+a),h:c(n+i)},options:s,type:"link"})},t.textWithLink=function(r,n,a,i){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var u=this.splitTextToSize(r,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(r,n,a,i),a+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,a-c,o,s,i),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Vt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(m){return e[m.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=t.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&a.indexOf(m.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(m){var _=0,x=r,T="",b=0;for(_=0;_<m.length;_+=1)x[m.charCodeAt(_)]!==void 0?(b++,typeof(x=x[m.charCodeAt(_)])=="number"&&(T+=String.fromCharCode(x),x=r,b=0),_===m.length-1&&(x=r,T+=m.charAt(_-(b-1)),_-=b-1,b=0)):(x=r,T+=m.charAt(_-b),_-=b,b=0);return T};t.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var d=t.__arabicParser__.getCorrectForm=function(m,_,x){return s(m)?i(m)===!1?-1:!c(m)||!s(_)&&!s(x)||!s(x)&&o(_)||o(m)&&!s(_)||o(m)&&l(_)||o(m)&&o(_)?0:u(m)&&s(_)&&!o(_)&&s(x)&&c(x)?3:o(m)||!s(x)?1:2:-1},f=function(m){var _=0,x=0,T=0,b="",I="",j="",O=(m=m||"").split("\\s+"),N=[];for(_=0;_<O.length;_+=1){for(N.push(""),x=0;x<O[_].length;x+=1)b=O[_][x],I=O[_][x-1],j=O[_][x+1],s(b)?(T=d(b,I,j),N[_]+=T!==-1?String.fromCharCode(e[b.charCodeAt(0)][T]):b):N[_]+=b;N[_]=h(N[_])}return N.join(" ")},p=t.__arabicParser__.processArabic=t.processArabic=function(){var m,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(_)){var T=0;for(x=[],T=0;T<_.length;T+=1)Array.isArray(_[T])?x.push([f(_[T][0]),_[T][1],_[T][2]]):x.push([f(_[T])]);m=x}else m=f(_);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};t.events.push(["preProcessText",p])}(Vt.API),Vt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Vt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(m){p=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),d=c.scaleFactor||this.internal.scaleFactor,f=0,p=0,m=0,_=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=c.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(b,I){return b.concat(_.splitTextToSize(I,x))},[])):l=Array.isArray(l)?l:[l];for(var T=0;T<l.length;T++)f<(m=this.getStringUnitWidth(l[T],{font:h})*u)&&(f=m);return f!==0&&(p=l.length),{w:f/=d,h:Math.max((p*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/d,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,d=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,f&&d&&(this.printHeaderRow(l.lineNumber,!0),l.y+=d[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,h,d){if(n.call(this),!u)throw new Error("No data for PDF table.");var f,p,m,_,x=[],T=[],b=[],I={},j={},O=[],N=[],A=(d=d||{}).autoSize||!1,y=d.printHeaders!==!1,R=d.css&&d.css["font-size"]!==void 0?16*d.css["font-size"]:d.fontSize||12,S=d.margins||Object.assign({width:this.getPageWidth()},e),k=typeof d.padding=="number"?d.padding:3,C=d.headerBackgroundColor||"#c8c8c8",H=d.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=y,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=C,this.internal.__cell__.headerTextColor=H,this.setFontSize(R),h==null)T=x=Object.keys(u[0]),b=x.map(function(){return"left"});else if(Array.isArray(h)&&rn(h[0])==="object")for(x=h.map(function(me){return me.name}),T=h.map(function(me){return me.prompt||me.name||""}),b=h.map(function(me){return me.align||"left"}),f=0;f<h.length;f+=1)j[h[f].name]=.7499990551181103*h[f].width;else Array.isArray(h)&&typeof h[0]=="string"&&(T=x=h,b=x.map(function(){return"left"}));if(A||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<x.length;f+=1){for(I[_=x[f]]=u.map(function(me){return me[_]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(T[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=I[_],this.setFont(void 0,"normal"),m=0;m<p.length;m+=1)O.push(this.getTextDimensions(p[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);j[_]=Math.max.apply(null,O)+k+k,O=[]}if(y){var X={};for(f=0;f<x.length;f+=1)X[x[f]]={},X[x[f]].text=T[f],X[x[f]].align=b[f];var V=o.call(this,X,j);N=x.map(function(me){return new i(l,c,j[me],V,X[me].text,void 0,X[me].align)}),this.setTableHeaderRow(N),this.printHeaderRow(1,!1)}var q=h.reduce(function(me,Ee){return me[Ee.name]=Ee.align,me},{});for(f=0;f<u.length;f+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:f,data:u[f]},this);var re=o.call(this,u[f],j);for(m=0;m<x.length;m+=1){var W=u[f][x[m]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:f,col:m,data:W},this),s.call(this,new i(l,c,j[x[m]],re,W,f+2,q[x[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(l).map(function(f){var p=l[f];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/d+u+u},this).reduce(function(f,p){return Math.max(f,p)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,d.push(u)),u.lineNumber=l;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(p)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),r=!1}}(Vt.API);var BD={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},UD=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],jw=MD(UD),jD=[100,200,300,400,500,600,700,800,900],zQ=MD(jD);function My(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return BD[i=i||"normal"]?i:"normal"}(t.style),n=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(t.weight),a=function(i){return typeof jw[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function Z6(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var qQ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},eC={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function tC(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function rC(t){return t.trimLeft()}function HQ(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function GQ(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var a0,jg,nC,aC,iC,By=["times"];function sC(t,e,r,n,a){var i=4,s=lC;switch(a){case Vt.API.image_compression.FAST:i=1,s=oC;break;case Vt.API.image_compression.MEDIUM:i=6,s=cC;break;case Vt.API.image_compression.SLOW:i=9,s=uC}t=function(l,c,u,h){for(var d,f=l.length/c,p=new Uint8Array(l.length+f),m=[WQ,oC,lC,cC,uC],_=0;_<f;_+=1){var x=_*c,T=l.subarray(x,x+c);if(h)p.set(h(T,u,d),x+_);else{for(var b=m.length,I=[],j=0;j<b;j+=1)I[j]=m[j](T,u,d);var O=XQ(I.concat());p.set(I[O],x+_)}d=T}return p}(t,e,Math.ceil(r*n/8),s);var o=Dw(t,{level:i});return Vt.API.__addimage__.arrayBufferToBinaryString(o)}function WQ(t){var e=Array.apply([],t);return e.unshift(0),e}function oC(t,e){var r=t.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var i=t[a-e]||0;n[a+1]=t[a]-i+256&255}return n}function lC(t,e,r){var n=t.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var s=r&&r[i]||0;a[i+1]=t[i]-s+256&255}return a}function cC(t,e,r){var n=t.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var s=t[i-e]||0,o=r&&r[i]||0;a[i+1]=t[i]+256-(s+o>>>1)&255}return a}function uC(t,e,r){var n=t.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var s=$Q(t[i-e]||0,r&&r[i]||0,r&&r[i-e]||0);a[i+1]=t[i]-s+256&255}return a}function $Q(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),a=Math.abs(t-r),i=Math.abs(t+e-r-r);return n<=a&&n<=i?t:a<=i?e:r}function XQ(t){var e=t.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function Uy(t,e,r){var n=e*r,a=Math.floor(n/8),i=16-(n-8*a+r),s=(1<<r)-1;return VD(t,a)>>i&s}function fC(t,e,r,n){var a=r*n,i=Math.floor(a/8),s=16-(a-8*i+n),o=(1<<n)-1,l=(e&o)<<s;(function(c,u,h){if(u+1<c.byteLength)c.setUint16(u,h,!1);else{var d=h>>8&255;c.setUint8(u,d)}})(t,i,VD(t,i)&~(o<<s)&65535|l)}function VD(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function KQ(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,s=1<<1+(7&a);t[e++],t[e++];var o=null,l=null;i&&(o=e,l=s,e+=3*s);var c=!0,u=[],h=0,d=null,f=0,p=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,p=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var m=t[e++];h=t[e++]|t[e++]<<8,d=t[e++],1&m||(d=null),f=m>>2&7,e++;break;case 254:for(;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var _=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,T=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,I=t[e++],j=I>>6&1,O=1<<1+(7&I),N=o,A=l,y=!1;I>>7&&(y=!0,N=e,A=O,e+=3*O);var R=e;for(e++;;){var S;if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}u.push({x:_,y:x,width:T,height:b,has_local_palette:y,palette_offset:N,palette_size:A,data_offset:R,data_length:e-R,transparent_index:d,interlaced:!!j,delay:h,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return p},this.frameInfo=function(k){if(k<0||k>=u.length)throw new Error("Frame index out of range.");return u[k]},this.decodeAndBlitFrameBGRA=function(k,C){var H=this.frameInfo(k),X=H.width*H.height,V=new Uint8Array(X);hC(t,H.data_offset,V,X);var q=H.palette_offset,re=H.transparent_index;re===null&&(re=256);var W=H.width,me=r-W,Ee=W,D=4*(H.y*r+H.x),F=4*((H.y+H.height)*r+H.x),U=D,M=4*me;H.interlaced===!0&&(M+=4*r*7);for(var Y=8,se=0,he=V.length;se<he;++se){var fe=V[se];if(Ee===0&&(Ee=W,(U+=M)>=F&&(M=4*me+4*r*(Y-1),U=D+(W+me)*(Y<<1),Y>>=1)),fe===re)U+=4;else{var ve=t[q+3*fe],ke=t[q+3*fe+1],ne=t[q+3*fe+2];C[U++]=ne,C[U++]=ke,C[U++]=ve,C[U++]=255}--Ee}},this.decodeAndBlitFrameRGBA=function(k,C){var H=this.frameInfo(k),X=H.width*H.height,V=new Uint8Array(X);hC(t,H.data_offset,V,X);var q=H.palette_offset,re=H.transparent_index;re===null&&(re=256);var W=H.width,me=r-W,Ee=W,D=4*(H.y*r+H.x),F=4*((H.y+H.height)*r+H.x),U=D,M=4*me;H.interlaced===!0&&(M+=4*r*7);for(var Y=8,se=0,he=V.length;se<he;++se){var fe=V[se];if(Ee===0&&(Ee=W,(U+=M)>=F&&(M=4*me+4*r*(Y-1),U=D+(W+me)*(Y<<1),Y>>=1)),fe===re)U+=4;else{var ve=t[q+3*fe],ke=t[q+3*fe+1],ne=t[q+3*fe+2];C[U++]=ve,C[U++]=ke,C[U++]=ne,C[U++]=255}--Ee}}}function hC(t,e,r,n){for(var a=t[e++],i=1<<a,s=i+1,o=s+1,l=a+1,c=(1<<l)-1,u=0,h=0,d=0,f=t[e++],p=new Int32Array(4096),m=null;;){for(;u<16&&f!==0;)h|=t[e++]<<u,u+=8,f===1?f=t[e++]:--f;if(u<l)break;var _=h&c;if(h>>=l,u-=l,_!==i){if(_===s)break;for(var x=_<o?_:m,T=0,b=x;b>i;)b=p[b]>>8,++T;var I=b;if(d+T+(x!==_?1:0)>n)return void pn.log("Warning, gif stream longer than expected.");r[d++]=I;var j=d+=T;for(x!==_&&(r[d++]=I),b=x;T--;)b=p[b],r[--j]=255&b,b>>=8;m!==null&&o<4096&&(p[o++]=m<<8|I,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=_}else o=s+1,c=(1<<(l=a+1))-1,m=null}return d!==n&&pn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function jy(t){var e,r,n,a,i,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),d=new Array(65535),f=new Array(64),p=new Array(64),m=[],_=0,x=7,T=new Array(64),b=new Array(64),I=new Array(64),j=new Array(256),O=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],y=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function V(D,F){for(var U=0,M=0,Y=new Array,se=1;se<=16;se++){for(var he=1;he<=D[se];he++)Y[F[M]]=[],Y[F[M]][0]=U,Y[F[M]][1]=se,M++,U++;U*=2}return Y}function q(D){for(var F=D[0],U=D[1]-1;U>=0;)F&1<<U&&(_|=1<<x),U--,--x<0&&(_==255?(re(255),re(0)):re(_),x=7,_=0)}function re(D){m.push(D)}function W(D){re(D>>8&255),re(255&D)}function me(D,F,U,M,Y){for(var se,he=Y[0],fe=Y[240],ve=function(Te,Qe){var Ye,we,qe,tt,at,Tt,$t,At,vt,lt,ct=0;for(vt=0;vt<8;++vt){Ye=Te[ct],we=Te[ct+1],qe=Te[ct+2],tt=Te[ct+3],at=Te[ct+4],Tt=Te[ct+5],$t=Te[ct+6];var Ft=Ye+(At=Te[ct+7]),bt=Ye-At,Nt=we+$t,zt=we-$t,xr=qe+Tt,Pt=qe-Tt,Oe=tt+at,ut=tt-at,dt=Ft+Oe,Qt=Ft-Oe,Ct=Nt+xr,kt=Nt-xr;Te[ct]=dt+Ct,Te[ct+4]=dt-Ct;var Kt=.707106781*(kt+Qt);Te[ct+2]=Qt+Kt,Te[ct+6]=Qt-Kt;var Kr=.382683433*((dt=ut+Pt)-(kt=zt+bt)),Jt=.5411961*dt+Kr,gn=1.306562965*kt+Kr,Br=.707106781*(Ct=Pt+zt),Ut=bt+Br,_s=bt-Br;Te[ct+5]=_s+Jt,Te[ct+3]=_s-Jt,Te[ct+1]=Ut+gn,Te[ct+7]=Ut-gn,ct+=8}for(ct=0,vt=0;vt<8;++vt){Ye=Te[ct],we=Te[ct+8],qe=Te[ct+16],tt=Te[ct+24],at=Te[ct+32],Tt=Te[ct+40],$t=Te[ct+48];var hi=Ye+(At=Te[ct+56]),Ia=Ye-At,Qa=we+$t,sn=we-$t,vn=qe+Tt,Z=qe-Tt,de=tt+at,oe=tt-at,ue=hi+de,pe=hi-de,ye=Qa+vn,Fe=Qa-vn;Te[ct]=ue+ye,Te[ct+32]=ue-ye;var Ge=.707106781*(Fe+pe);Te[ct+16]=pe+Ge,Te[ct+48]=pe-Ge;var Be=.382683433*((ue=oe+Z)-(Fe=sn+Ia)),Ue=.5411961*ue+Be,Ve=1.306562965*Fe+Be,ot=.707106781*(ye=Z+sn),mt=Ia+ot,wt=Ia-ot;Te[ct+40]=wt+Ue,Te[ct+24]=wt-Ue,Te[ct+8]=mt+Ve,Te[ct+56]=mt-Ve,ct++}for(vt=0;vt<64;++vt)lt=Te[vt]*Qe[vt],f[vt]=lt>0?lt+.5|0:lt-.5|0;return f}(D,F),ke=0;ke<64;++ke)p[N[ke]]=ve[ke];var ne=p[0]-U;U=p[0],ne==0?q(M[0]):(q(M[d[se=32767+ne]]),q(h[se]));for(var be=63;be>0&&p[be]==0;)be--;if(be==0)return q(he),U;for(var Me,J=1;J<=be;){for(var Ie=J;p[J]==0&&J<=be;)++J;var Re=J-Ie;if(Re>=16){Me=Re>>4;for(var De=1;De<=Me;++De)q(fe);Re&=15}se=32767+p[J],q(Y[(Re<<4)+d[se]]),q(h[se]),J++}return be!=63&&q(he),U}function Ee(D){D=Math.min(Math.max(D,1),100),i!=D&&(function(F){for(var U=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],M=0;M<64;M++){var Y=s((U[M]*F+50)/100);Y=Math.min(Math.max(Y,1),255),o[N[M]]=Y}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var fe=s((se[he]*F+50)/100);fe=Math.min(Math.max(fe,1),255),l[N[he]]=fe}for(var ve=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,ne=0;ne<8;ne++)for(var be=0;be<8;be++)c[ke]=1/(o[N[ke]]*ve[ne]*ve[be]*8),u[ke]=1/(l[N[ke]]*ve[ne]*ve[be]*8),ke++}(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),i=D)}this.encode=function(D,F){F&&Ee(F),m=new Array,_=0,x=7,W(65496),W(65504),W(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),W(1),W(1),re(0),re(0),function(){W(65499),W(132),re(0);for(var we=0;we<64;we++)re(o[we]);re(1);for(var qe=0;qe<64;qe++)re(l[qe])}(),function(we,qe){W(65472),W(17),re(8),W(qe),W(we),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)}(D.width,D.height),function(){W(65476),W(418),re(0);for(var we=0;we<16;we++)re(A[we+1]);for(var qe=0;qe<=11;qe++)re(y[qe]);re(16);for(var tt=0;tt<16;tt++)re(R[tt+1]);for(var at=0;at<=161;at++)re(S[at]);re(1);for(var Tt=0;Tt<16;Tt++)re(k[Tt+1]);for(var $t=0;$t<=11;$t++)re(C[$t]);re(17);for(var At=0;At<16;At++)re(H[At+1]);for(var vt=0;vt<=161;vt++)re(X[vt])}(),W(65498),W(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var U=0,M=0,Y=0;_=0,x=7,this.encode.displayName="_encode_";for(var se,he,fe,ve,ke,ne,be,Me,J,Ie=D.data,Re=D.width,De=D.height,Te=4*Re,Qe=0;Qe<De;){for(se=0;se<Te;){for(ke=Te*Qe+se,be=-1,Me=0,J=0;J<64;J++)ne=ke+(Me=J>>3)*Te+(be=4*(7&J)),Qe+Me>=De&&(ne-=Te*(Qe+1+Me-De)),se+be>=Te&&(ne-=se+be-Te+4),he=Ie[ne++],fe=Ie[ne++],ve=Ie[ne++],T[J]=(O[he]+O[fe+256|0]+O[ve+512|0]>>16)-128,b[J]=(O[he+768|0]+O[fe+1024|0]+O[ve+1280|0]>>16)-128,I[J]=(O[he+1280|0]+O[fe+1536|0]+O[ve+1792|0]>>16)-128;U=me(T,c,U,e,n),M=me(b,u,M,r,a),Y=me(I,u,Y,r,a),se+=32}Qe+=8}if(x>=0){var Ye=[];Ye[1]=x+1,Ye[0]=(1<<x+1)-1,q(Ye)}return W(65497),new Uint8Array(m)},t=t||50,function(){for(var D=String.fromCharCode,F=0;F<256;F++)j[F]=D(F)}(),e=V(A,y),r=V(k,C),n=V(R,S),a=V(H,X),function(){for(var D=1,F=2,U=1;U<=15;U++){for(var M=D;M<F;M++)d[32767+M]=U,h[32767+M]=[],h[32767+M][1]=U,h[32767+M][0]=M;for(var Y=-(F-1);Y<=-D;Y++)d[32767+Y]=U,h[32767+Y]=[],h[32767+Y][1]=U,h[32767+Y][0]=F-1+Y;D<<=1,F<<=1}}(),function(){for(var D=0;D<256;D++)O[D]=19595*D,O[D+256|0]=38470*D,O[D+512|0]=7471*D+32768,O[D+768|0]=-11059*D,O[D+1024|0]=-21709*D,O[D+1280|0]=32768*D+8421375,O[D+1536|0]=-27439*D,O[D+1792|0]=-5329*D}(),Ee(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Vo(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function dC(t){function e(y){if(!y)throw Error("assert :P")}function r(y,R,S){for(var k=0;4>k;k++)if(y[R+k]!=S.charCodeAt(k))return!0;return!1}function n(y,R,S,k,C){for(var H=0;H<C;H++)y[R+H]=S[k+H]}function a(y,R,S,k){for(var C=0;C<k;C++)y[R+C]=S}function i(y){return new Int32Array(y)}function s(y,R){for(var S=[],k=0;k<y;k++)S.push(new R);return S}function o(y,R){var S=[];return function k(C,H,X){for(var V=X[H],q=0;q<V&&(C.push(X.length>H+1?[]:new R),!(X.length<H+1));q++)k(C[q],H+1,X)}(S,0,y),S}var l=function(){var y=this;function R(g,E){for(var P=1<<E-1>>>0;g&P;)P>>>=1;return P?(g&P-1)+P:g}function S(g,E,P,z,Q){e(!(z%P));do g[E+(z-=P)]=Q;while(0<z)}function k(g,E,P,z,Q){if(e(2328>=Q),512>=Q)var ee=i(512);else if((ee=i(Q))==null)return 0;return function(te,ae,ce,xe,Se,ze){var _e,Ce,Pe=ae,$e=1<<ce,je=i(16),Ke=i(16);for(e(Se!=0),e(xe!=null),e(te!=null),e(0<ce),Ce=0;Ce<Se;++Ce){if(15<xe[Ce])return 0;++je[xe[Ce]]}if(je[0]==Se)return 0;for(Ke[1]=0,_e=1;15>_e;++_e){if(je[_e]>1<<_e)return 0;Ke[_e+1]=Ke[_e]+je[_e]}for(Ce=0;Ce<Se;++Ce)_e=xe[Ce],0<xe[Ce]&&(ze[Ke[_e]++]=Ce);if(Ke[15]==1)return(xe=new C).g=0,xe.value=ze[0],S(te,Pe,1,$e,xe),$e;var Ze,ht=-1,st=$e-1,jt=0,Lt=1,mr=1,Mt=1<<ce;for(Ce=0,_e=1,Se=2;_e<=ce;++_e,Se<<=1){if(Lt+=mr<<=1,0>(mr-=je[_e]))return 0;for(;0<je[_e];--je[_e])(xe=new C).g=_e,xe.value=ze[Ce++],S(te,Pe+jt,Se,Mt,xe),jt=R(jt,_e)}for(_e=ce+1,Se=2;15>=_e;++_e,Se<<=1){if(Lt+=mr<<=1,0>(mr-=je[_e]))return 0;for(;0<je[_e];--je[_e]){if(xe=new C,(jt&st)!=ht){for(Pe+=Mt,Ze=1<<(ht=_e)-ce;15>ht&&!(0>=(Ze-=je[ht]));)++ht,Ze<<=1;$e+=Mt=1<<(Ze=ht-ce),te[ae+(ht=jt&st)].g=Ze+ce,te[ae+ht].value=Pe-ae-ht}xe.g=_e-ce,xe.value=ze[Ce++],S(te,Pe+(jt>>ce),Se,Mt,xe),jt=R(jt,_e)}}return Lt!=2*Ke[15]-1?0:$e}(g,E,P,z,Q,ee)}function C(){this.value=this.g=0}function H(){this.value=this.g=0}function X(){this.G=s(5,C),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(kf,H)}function V(g,E,P,z){e(g!=null),e(E!=null),e(2147483648>z),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=E,g.pa=P,g.Jd=E,g.Yc=P+z,g.Zc=4<=z?P+z-4+1:P,he(g)}function q(g,E){for(var P=0;0<E--;)P|=ve(g,128)<<E;return P}function re(g,E){var P=q(g,E);return fe(g)?-P:P}function W(g,E,P,z){var Q,ee=0;for(e(g!=null),e(E!=null),e(4294967288>z),g.Sb=z,g.Ra=0,g.u=0,g.h=0,4<z&&(z=4),Q=0;Q<z;++Q)ee+=E[P+Q]<<8*Q;g.Ra=ee,g.bb=z,g.oa=E,g.pa=P}function me(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<Kc-8>>>0,++g.bb,g.u-=8;M(g)&&(g.h=1,g.u=0)}function Ee(g,E){if(e(0<=E),!g.h&&E<=Es){var P=U(g)&bs[E];return g.u+=E,me(g),P}return g.h=1,g.u=0}function D(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function U(g){return g.Ra>>>(g.u&Kc-1)>>>0}function M(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>Kc}function Y(g,E){g.u=E,g.h=M(g)}function se(g){g.u>=$l&&(e(g.u>=$l),me(g))}function he(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function fe(g){return q(g,1)}function ve(g,E){var P=g.Ca;0>g.b&&he(g);var z=g.b,Q=P*E>>>8,ee=(g.I>>>z>Q)+0;for(ee?(P-=Q,g.I-=Q+1<<z>>>0):P=Q+1,z=P,Q=0;256<=z;)Q+=8,z>>=8;return z=7^Q+Yc[z],g.b-=z,g.Ca=(P<<z)-1,ee}function ke(g,E,P){g[E+0]=P>>24&255,g[E+1]=P>>16&255,g[E+2]=P>>8&255,g[E+3]=255&P}function ne(g,E){return g[E+0]|g[E+1]<<8}function be(g,E){return ne(g,E)|g[E+2]<<16}function Me(g,E){return ne(g,E)|ne(g,E+2)<<16}function J(g,E){var P=1<<E;return e(g!=null),e(0<E),g.X=i(P),g.X==null?0:(g.Mb=32-E,g.Xa=E,1)}function Ie(g,E){e(g!=null),e(E!=null),e(g.Xa==E.Xa),n(E.X,0,g.X,0,1<<E.Xa)}function Re(){this.X=[],this.Xa=this.Mb=0}function De(g,E,P,z){e(P!=null),e(z!=null);var Q=P[0],ee=z[0];return Q==0&&(Q=(g*ee+E/2)/E),ee==0&&(ee=(E*Q+g/2)/g),0>=Q||0>=ee?0:(P[0]=Q,z[0]=ee,1)}function Te(g,E){return g+(1<<E)-1>>>E}function Qe(g,E){return((4278255360&g)+(4278255360&E)>>>0&4278255360)+((16711935&g)+(16711935&E)>>>0&16711935)>>>0}function Ye(g,E){y[E]=function(P,z,Q,ee,te,ae,ce){var xe;for(xe=0;xe<te;++xe){var Se=y[g](ae[ce+xe-1],Q,ee+xe);ae[ce+xe]=Qe(P[z+xe],Se)}}}function we(){this.ud=this.hd=this.jd=0}function qe(g,E){return((4278124286&(g^E))>>>1)+(g&E)>>>0}function tt(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function at(g,E){return tt(g+(g-E+.5>>1))}function Tt(g,E,P){return Math.abs(E-P)-Math.abs(g-P)}function $t(g,E,P,z,Q,ee,te){for(z=ee[te-1],P=0;P<Q;++P)ee[te+P]=z=Qe(g[E+P],z)}function At(g,E,P,z,Q){var ee;for(ee=0;ee<P;++ee){var te=g[E+ee],ae=te>>8&255,ce=16711935&(ce=(ce=16711935&te)+((ae<<16)+ae));z[Q+ee]=(4278255360&te)+ce>>>0}}function vt(g,E){E.jd=255&g,E.hd=g>>8&255,E.ud=g>>16&255}function lt(g,E,P,z,Q,ee){var te;for(te=0;te<z;++te){var ae=E[P+te],ce=ae>>>8,xe=ae,Se=255&(Se=(Se=ae>>>16)+((g.jd<<24>>24)*(ce<<24>>24)>>>5));xe=255&(xe=(xe+=(g.hd<<24>>24)*(ce<<24>>24)>>>5)+((g.ud<<24>>24)*(Se<<24>>24)>>>5)),Q[ee+te]=(4278255360&ae)+(Se<<16)+xe}}function ct(g,E,P,z,Q){y[E]=function(ee,te,ae,ce,xe,Se,ze,_e,Ce){for(ce=ze;ce<_e;++ce)for(ze=0;ze<Ce;++ze)xe[Se++]=Q(ae[z(ee[te++])])},y[g]=function(ee,te,ae,ce,xe,Se,ze){var _e=8>>ee.b,Ce=ee.Ea,Pe=ee.K[0],$e=ee.w;if(8>_e)for(ee=(1<<ee.b)-1,$e=(1<<_e)-1;te<ae;++te){var je,Ke=0;for(je=0;je<Ce;++je)je&ee||(Ke=z(ce[xe++])),Se[ze++]=Q(Pe[Ke&$e]),Ke>>=_e}else y["VP8LMapColor"+P](ce,xe,Pe,$e,Se,ze,te,ae,Ce)}}function Ft(g,E,P,z,Q){for(P=E+P;E<P;){var ee=g[E++];z[Q++]=ee>>16&255,z[Q++]=ee>>8&255,z[Q++]=255&ee}}function bt(g,E,P,z,Q){for(P=E+P;E<P;){var ee=g[E++];z[Q++]=ee>>16&255,z[Q++]=ee>>8&255,z[Q++]=255&ee,z[Q++]=ee>>24&255}}function Nt(g,E,P,z,Q){for(P=E+P;E<P;){var ee=(te=g[E++])>>16&240|te>>12&15,te=240&te|te>>28&15;z[Q++]=ee,z[Q++]=te}}function zt(g,E,P,z,Q){for(P=E+P;E<P;){var ee=(te=g[E++])>>16&248|te>>13&7,te=te>>5&224|te>>3&31;z[Q++]=ee,z[Q++]=te}}function xr(g,E,P,z,Q){for(P=E+P;E<P;){var ee=g[E++];z[Q++]=255&ee,z[Q++]=ee>>8&255,z[Q++]=ee>>16&255}}function Pt(g,E,P,z,Q,ee){if(ee==0)for(P=E+P;E<P;)ke(z,((ee=g[E++])[0]>>24|ee[1]>>8&65280|ee[2]<<8&16711680|ee[3]<<24)>>>0),Q+=32;else n(z,Q,g,E,P)}function Oe(g,E){y[E][0]=y[g+"0"],y[E][1]=y[g+"1"],y[E][2]=y[g+"2"],y[E][3]=y[g+"3"],y[E][4]=y[g+"4"],y[E][5]=y[g+"5"],y[E][6]=y[g+"6"],y[E][7]=y[g+"7"],y[E][8]=y[g+"8"],y[E][9]=y[g+"9"],y[E][10]=y[g+"10"],y[E][11]=y[g+"11"],y[E][12]=y[g+"12"],y[E][13]=y[g+"13"],y[E][14]=y[g+"0"],y[E][15]=y[g+"0"]}function ut(g){return g==s_||g==o_||g==Qm||g==l_}function dt(){this.eb=[],this.size=this.A=this.fb=0}function Qt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ct(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new dt,this.f.kb=new Qt,this.sd=null}function kt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Kt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Kr(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Jt(g,E){var P=g.T,z=E.ba.f.RGBA,Q=z.eb,ee=z.fb+g.ka*z.A,te=co[E.ba.S],ae=g.y,ce=g.O,xe=g.f,Se=g.N,ze=g.ea,_e=g.W,Ce=E.cc,Pe=E.dc,$e=E.Mc,je=E.Nc,Ke=g.ka,Ze=g.ka+g.T,ht=g.U,st=ht+1>>1;for(Ke==0?te(ae,ce,null,null,xe,Se,ze,_e,xe,Se,ze,_e,Q,ee,null,null,ht):(te(E.ec,E.fc,ae,ce,Ce,Pe,$e,je,xe,Se,ze,_e,Q,ee-z.A,Q,ee,ht),++P);Ke+2<Ze;Ke+=2)Ce=xe,Pe=Se,$e=ze,je=_e,Se+=g.Rc,_e+=g.Rc,ee+=2*z.A,te(ae,(ce+=2*g.fa)-g.fa,ae,ce,Ce,Pe,$e,je,xe,Se,ze,_e,Q,ee-z.A,Q,ee,ht);return ce+=g.fa,g.j+Ze<g.o?(n(E.ec,E.fc,ae,ce,ht),n(E.cc,E.dc,xe,Se,st),n(E.Mc,E.Nc,ze,_e,st),P--):1&Ze||te(ae,ce,null,null,xe,Se,ze,_e,xe,Se,ze,_e,Q,ee+z.A,null,null,ht),P}function gn(g,E,P){var z=g.F,Q=[g.J];if(z!=null){var ee=g.U,te=E.ba.S,ae=te==Ym||te==Qm;E=E.ba.f.RGBA;var ce=[0],xe=g.ka;ce[0]=g.T,g.Kb&&(xe==0?--ce[0]:(--xe,Q[0]-=g.width),g.j+g.ka+g.T==g.o&&(ce[0]=g.o-g.j-xe));var Se=E.eb;xe=E.fb+xe*E.A,g=f3(z,Q[0],g.width,ee,ce,Se,xe+(ae?0:3),E.A),e(P==ce),g&&ut(te)&&a1(Se,xe,ae,ee,ce,E.A)}return 0}function Br(g){var E=g.ma,P=E.ba.S,z=11>P,Q=P==Xm||P==Km||P==Ym||P==i_||P==12||ut(P);if(E.memory=null,E.Ib=null,E.Jb=null,E.Nd=null,!Yd(E.Oa,g,Q?11:12))return 0;if(Q&&ut(P)&&or(),g.da)alert("todo:use_scaling");else{if(z){if(E.Ib=Kr,g.Kb){if(P=g.U+1>>1,E.memory=i(g.U+2*P),E.memory==null)return 0;E.ec=E.memory,E.fc=0,E.cc=E.ec,E.dc=E.fc+g.U,E.Mc=E.cc,E.Nc=E.dc+P,E.Ib=Jt,or()}}else alert("todo:EmitYUV");Q&&(E.Jb=gn,z&&He())}if(z&&!C3){for(g=0;256>g;++g)IF[g]=89858*(g-128)+Zm>>Jm,DF[g]=-22014*(g-128)+Zm,LF[g]=-45773*(g-128),RF[g]=113618*(g-128)+Zm>>Jm;for(g=s1;g<f_;++g)E=76283*(g-16)+Zm>>Jm,PF[g-s1]=Wn(E,255),OF[g-s1]=Wn(E+8>>4,15);C3=1}return 1}function Ut(g){var E=g.ma,P=g.U,z=g.T;return e(!(1&g.ka)),0>=P||0>=z?0:(P=E.Ib(g,E),E.Jb!=null&&E.Jb(g,E,P),E.Dc+=P,1)}function _s(g){g.ma.memory=null}function hi(g,E,P,z){return Ee(g,8)!=47?0:(E[0]=Ee(g,14)+1,P[0]=Ee(g,14)+1,z[0]=Ee(g,1),Ee(g,3)!=0?0:!g.h)}function Ia(g,E){if(4>g)return g+1;var P=g-2>>1;return(2+(1&g)<<P)+Ee(E,P)+1}function Qa(g,E){return 120<E?E-120:1<=(P=((P=gF[E-1])>>4)*g+(8-(15&P)))?P:1;var P}function sn(g,E,P){var z=U(P),Q=g[E+=255&z].g-8;return 0<Q&&(Y(P,P.u+8),z=U(P),E+=g[E].value,E+=z&(1<<Q)-1),Y(P,P.u+g[E].g),g[E].value}function vn(g,E,P){return P.g+=g.g,P.value+=g.value<<E>>>0,e(8>=P.g),g.g}function Z(g,E,P){var z=g.xc;return e((E=z==0?0:g.vc[g.md*(P>>z)+(E>>z)])<g.Wb),g.Ya[E]}function de(g,E,P,z){var Q=g.ab,ee=g.c*E,te=g.C;E=te+E;var ae=P,ce=z;for(z=g.Ta,P=g.Ua;0<Q--;){var xe=g.gc[Q],Se=te,ze=E,_e=ae,Ce=ce,Pe=(ce=z,ae=P,xe.Ea);switch(e(Se<ze),e(ze<=xe.nc),xe.hc){case 2:sa(_e,Ce,(ze-Se)*Pe,ce,ae);break;case 0:var $e=Se,je=ze,Ke=ce,Ze=ae,ht=(Mt=xe).Ea;$e==0&&(Jd(_e,Ce,null,null,1,Ke,Ze),$t(_e,Ce+1,0,0,ht-1,Ke,Ze+1),Ce+=ht,Ze+=ht,++$e);for(var st=1<<Mt.b,jt=st-1,Lt=Te(ht,Mt.b),mr=Mt.K,Mt=Mt.w+($e>>Mt.b)*Lt;$e<je;){var Dr=mr,La=Mt,gr=1;for(Qh(_e,Ce,Ke,Ze-ht,1,Ke,Ze);gr<ht;){var Bt=(gr&~jt)+st;Bt>ht&&(Bt=ht),(0,e1[Dr[La++]>>8&15])(_e,Ce+ +gr,Ke,Ze+gr-ht,Bt-gr,Ke,Ze+gr),gr=Bt}Ce+=ht,Ze+=ht,++$e&jt||(Mt+=Lt)}ze!=xe.nc&&n(ce,ae-Pe,ce,ae+(ze-Se-1)*Pe,Pe);break;case 1:for(Pe=_e,je=Ce,ht=(_e=xe.Ea)-(Ze=_e&~(Ke=(Ce=1<<xe.b)-1)),$e=Te(_e,xe.b),st=xe.K,xe=xe.w+(Se>>xe.b)*$e;Se<ze;){for(jt=st,Lt=xe,mr=new we,Mt=je+Ze,Dr=je+_e;je<Mt;)vt(jt[Lt++],mr),t1(mr,Pe,je,Ce,ce,ae),je+=Ce,ae+=Ce;je<Dr&&(vt(jt[Lt++],mr),t1(mr,Pe,je,ht,ce,ae),je+=ht,ae+=ht),++Se&Ke||(xe+=$e)}break;case 3:if(_e==ce&&Ce==ae&&0<xe.b){for(je=ce,_e=Pe=ae+(ze-Se)*Pe-(Ze=(ze-Se)*Te(xe.Ea,xe.b)),Ce=ce,Ke=ae,$e=[],Ze=(ht=Ze)-1;0<=Ze;--Ze)$e[Ze]=Ce[Ke+Ze];for(Ze=ht-1;0<=Ze;--Ze)je[_e+Ze]=$e[Ze];Hm(xe,Se,ze,ce,Pe,ce,ae)}else Hm(xe,Se,ze,_e,Ce,ce,ae)}ae=z,ce=P}ce!=P&&n(z,P,ae,ce,ee)}function oe(g,E){var P=g.V,z=g.Ba+g.c*g.C,Q=E-g.C;if(e(E<=g.l.o),e(16>=Q),0<Q){var ee=g.l,te=g.Ta,ae=g.Ua,ce=ee.width;if(de(g,Q,P,z),Q=ae=[ae],e((P=g.C)<(z=E)),e(ee.v<ee.va),z>ee.o&&(z=ee.o),P<ee.j){var xe=ee.j-P;P=ee.j,Q[0]+=xe*ce}if(P>=z?P=0:(Q[0]+=4*ee.v,ee.ka=P-ee.j,ee.U=ee.va-ee.v,ee.T=z-P,P=1),P){if(ae=ae[0],11>(P=g.ca).S){var Se=P.f.RGBA,ze=(z=P.S,Q=ee.U,ee=ee.T,xe=Se.eb,Se.A),_e=ee;for(Se=Se.fb+g.Ma*Se.A;0<_e--;){var Ce=te,Pe=ae,$e=Q,je=xe,Ke=Se;switch(z){case $m:r1(Ce,Pe,$e,je,Ke);break;case Xm:Qc(Ce,Pe,$e,je,Ke);break;case s_:Qc(Ce,Pe,$e,je,Ke),a1(je,Ke,0,$e,1,0);break;case x3:Nf(Ce,Pe,$e,je,Ke);break;case Km:Pt(Ce,Pe,$e,je,Ke,1);break;case o_:Pt(Ce,Pe,$e,je,Ke,1),a1(je,Ke,0,$e,1,0);break;case Ym:Pt(Ce,Pe,$e,je,Ke,0);break;case Qm:Pt(Ce,Pe,$e,je,Ke,0),a1(je,Ke,1,$e,1,0);break;case i_:Jc(Ce,Pe,$e,je,Ke);break;case l_:Jc(Ce,Pe,$e,je,Ke),u3(je,Ke,$e,1,0);break;case _3:Zc(Ce,Pe,$e,je,Ke);break;default:e(0)}ae+=ce,Se+=ze}g.Ma+=ee}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=P.height)}}g.C=E,e(g.C<=g.i)}function ue(g){var E;if(0<g.ua)return 0;for(E=0;E<g.Wb;++E){var P=g.Ya[E].G,z=g.Ya[E].H;if(0<P[1][z[1]+0].g||0<P[2][z[2]+0].g||0<P[3][z[3]+0].g)return 0}return 1}function pe(g,E,P,z,Q,ee){if(g.Z!=0){var te=g.qd,ae=g.rd;for(e(ru[g.Z]!=null);E<P;++E)ru[g.Z](te,ae,z,Q,z,Q,ee),te=z,ae=Q,Q+=ee;g.qd=te,g.rd=ae}}function ye(g,E){var P=g.l.ma,z=P.Z==0||P.Z==1?g.l.j:g.C;if(z=g.C<z?z:g.C,e(E<=g.l.o),E>z){var Q=g.l.width,ee=P.ca,te=P.tb+Q*z,ae=g.V,ce=g.Ba+g.c*z,xe=g.gc;e(g.ab==1),e(xe[0].hc==3),hl(xe[0],z,E,ae,ce,ee,te),pe(P,z,E,ee,te,Q)}g.C=g.Ma=E}function Fe(g,E,P,z,Q,ee,te){var ae=g.$/z,ce=g.$%z,xe=g.m,Se=g.s,ze=P+g.$,_e=ze;Q=P+z*Q;var Ce=P+z*ee,Pe=280+Se.ua,$e=g.Pb?ae:16777216,je=0<Se.ua?Se.Wa:null,Ke=Se.wc,Ze=ze<Ce?Z(Se,ce,ae):null;e(g.C<ee),e(Ce<=Q);var ht=!1;e:for(;;){for(;ht||ze<Ce;){var st=0;if(ae>=$e){var jt=ze-P;e(($e=g).Pb),$e.wd=$e.m,$e.xd=jt,0<$e.s.ua&&Ie($e.s.Wa,$e.s.vb),$e=ae+xF}if(ce&Ke||(Ze=Z(Se,ce,ae)),e(Ze!=null),Ze.Qb&&(E[ze]=Ze.qb,ht=!0),!ht)if(se(xe),Ze.jc){st=xe,jt=E;var Lt=ze,mr=Ze.pd[U(st)&kf-1];e(Ze.jc),256>mr.g?(Y(st,st.u+mr.g),jt[Lt]=mr.value,st=0):(Y(st,st.u+mr.g-256),e(256<=mr.value),st=mr.value),st==0&&(ht=!0)}else st=sn(Ze.G[0],Ze.H[0],xe);if(xe.h)break;if(ht||256>st){if(!ht)if(Ze.nd)E[ze]=(Ze.qb|st<<8)>>>0;else{if(se(xe),ht=sn(Ze.G[1],Ze.H[1],xe),se(xe),jt=sn(Ze.G[2],Ze.H[2],xe),Lt=sn(Ze.G[3],Ze.H[3],xe),xe.h)break;E[ze]=(Lt<<24|ht<<16|st<<8|jt)>>>0}if(ht=!1,++ze,++ce>=z&&(ce=0,++ae,te!=null&&ae<=ee&&!(ae%16)&&te(g,ae),je!=null))for(;_e<ze;)st=E[_e++],je.X[(506832829*st&4294967295)>>>je.Mb]=st}else if(280>st){if(st=Ia(st-256,xe),jt=sn(Ze.G[4],Ze.H[4],xe),se(xe),jt=Qa(z,jt=Ia(jt,xe)),xe.h)break;if(ze-P<jt||Q-ze<st)break e;for(Lt=0;Lt<st;++Lt)E[ze+Lt]=E[ze+Lt-jt];for(ze+=st,ce+=st;ce>=z;)ce-=z,++ae,te!=null&&ae<=ee&&!(ae%16)&&te(g,ae);if(e(ze<=Q),ce&Ke&&(Ze=Z(Se,ce,ae)),je!=null)for(;_e<ze;)st=E[_e++],je.X[(506832829*st&4294967295)>>>je.Mb]=st}else{if(!(st<Pe))break e;for(ht=st-280,e(je!=null);_e<ze;)st=E[_e++],je.X[(506832829*st&4294967295)>>>je.Mb]=st;st=ze,e(!(ht>>>(jt=je).Xa)),E[st]=jt.X[ht],ht=!0}ht||e(xe.h==M(xe))}if(g.Pb&&xe.h&&ze<Q)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Ie(g.s.vb,g.s.Wa);else{if(xe.h)break e;te!=null&&te(g,ae>ee?ee:ae),g.a=0,g.$=ze-P}return 1}return g.a=3,0}function Ge(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var E=g.Wa;E!=null&&(E.X=null),g.vb=null,e(g!=null)}function Be(){var g=new Yt;return g==null?null:(g.a=0,g.xb=b3,Oe("Predictor","VP8LPredictors"),Oe("Predictor","VP8LPredictors_C"),Oe("PredictorAdd","VP8LPredictorsAdd"),Oe("PredictorAdd","VP8LPredictorsAdd_C"),sa=At,t1=lt,r1=Ft,Qc=bt,Jc=Nt,Zc=zt,Nf=xr,y.VP8LMapColor32b=fl,y.VP8LMapColor8b=Zd,g)}function Ue(g,E,P,z,Q){var ee=1,te=[g],ae=[E],ce=z.m,xe=z.s,Se=null,ze=0;e:for(;;){if(P)for(;ee&&Ee(ce,1);){var _e=te,Ce=ae,Pe=z,$e=1,je=Pe.m,Ke=Pe.gc[Pe.ab],Ze=Ee(je,2);if(Pe.Oc&1<<Ze)ee=0;else{switch(Pe.Oc|=1<<Ze,Ke.hc=Ze,Ke.Ea=_e[0],Ke.nc=Ce[0],Ke.K=[null],++Pe.ab,e(4>=Pe.ab),Ze){case 0:case 1:Ke.b=Ee(je,3)+2,$e=Ue(Te(Ke.Ea,Ke.b),Te(Ke.nc,Ke.b),0,Pe,Ke.K),Ke.K=Ke.K[0];break;case 3:var ht,st=Ee(je,8)+1,jt=16<st?0:4<st?1:2<st?2:3;if(_e[0]=Te(Ke.Ea,jt),Ke.b=jt,ht=$e=Ue(st,1,0,Pe,Ke.K)){var Lt,mr=st,Mt=Ke,Dr=1<<(8>>Mt.b),La=i(Dr);if(La==null)ht=0;else{var gr=Mt.K[0],Bt=Mt.w;for(La[0]=Mt.K[0][0],Lt=1;Lt<1*mr;++Lt)La[Lt]=Qe(gr[Bt+Lt],La[Lt-1]);for(;Lt<4*Dr;++Lt)La[Lt]=0;Mt.K[0]=null,Mt.K[0]=La,ht=1}}$e=ht;break;case 2:break;default:e(0)}ee=$e}}if(te=te[0],ae=ae[0],ee&&Ee(ce,1)&&!(ee=1<=(ze=Ee(ce,4))&&11>=ze)){z.a=3;break e}var Et;if(Et=ee)t:{var la,fr,Or,Nn=z,Ja=te,Ui=ae,$n=ze,mi=P,ji=Nn.m,Da=Nn.s,Ur=[null],Yr=1,Xn=0,Qr=vF[$n];r:for(;;){if(mi&&Ee(ji,1)){var Za=Ee(ji,3)+2,Bo=Te(Ja,Za),ca=Te(Ui,Za),rs=Bo*ca;if(!Ue(Bo,ca,0,Nn,Ur))break r;for(Ur=Ur[0],Da.xc=Za,la=0;la<rs;++la){var dn=Ur[la]>>8&65535;Ur[la]=dn,dn>=Yr&&(Yr=dn+1)}}if(ji.h)break r;for(fr=0;5>fr;++fr){var Pa=y3[fr];!fr&&0<$n&&(Pa+=1<<$n),Xn<Pa&&(Xn=Pa)}var Ss=s(Yr*Qr,C),Vi=Yr,Ts=s(Vi,X);if(Ts==null)var Cs=null;else e(65536>=Vi),Cs=Ts;var ns=i(Xn);if(Cs==null||ns==null||Ss==null){Nn.a=1;break r}var ks=Ss;for(la=Or=0;la<Yr;++la){var An=Cs[la],Ns=An.G,Uo=An.H,Rf=0,Yl=1,ei=0;for(fr=0;5>fr;++fr){Pa=y3[fr],Ns[fr]=ks,Uo[fr]=Or,!fr&&0<$n&&(Pa+=1<<$n);a:{var tg,h_=Pa,rg=Nn,o1=ns,BF=ks,UF=Or,d_=0,nu=rg.m,jF=Ee(nu,1);if(a(o1,0,0,h_),jF){var VF=Ee(nu,1)+1,zF=Ee(nu,1),I3=Ee(nu,zF==0?1:8);o1[I3]=1,VF==2&&(o1[I3=Ee(nu,8)]=1);var ng=1}else{var R3=i(19),L3=Ee(nu,4)+4;if(19<L3){rg.a=3;var ag=0;break a}for(tg=0;tg<L3;++tg)R3[mF[tg]]=Ee(nu,3);var p_=void 0,l1=void 0,D3=rg,qF=R3,ig=h_,P3=o1,m_=0,au=D3.m,O3=8,F3=s(128,C);n:for(;k(F3,0,7,qF,19);){if(Ee(au,1)){var HF=2+2*Ee(au,3);if((p_=2+Ee(au,HF))>ig)break n}else p_=ig;for(l1=0;l1<ig&&p_--;){se(au);var M3=F3[0+(127&U(au))];Y(au,au.u+M3.g);var Zh=M3.value;if(16>Zh)P3[l1++]=Zh,Zh!=0&&(O3=Zh);else{var GF=Zh==16,B3=Zh-16,WF=dF[B3],U3=Ee(au,hF[B3])+WF;if(l1+U3>ig)break n;for(var $F=GF?O3:0;0<U3--;)P3[l1++]=$F}}m_=1;break n}m_||(D3.a=3),ng=m_}(ng=ng&&!nu.h)&&(d_=k(BF,UF,8,o1,h_)),ng&&d_!=0?ag=d_:(rg.a=3,ag=0)}if(ag==0)break r;if(Yl&&pF[fr]==1&&(Yl=ks[Or].g==0),Rf+=ks[Or].g,Or+=ag,3>=fr){var c1,g_=ns[0];for(c1=1;c1<Pa;++c1)ns[c1]>g_&&(g_=ns[c1]);ei+=g_}}if(An.nd=Yl,An.Qb=0,Yl&&(An.qb=(Ns[3][Uo[3]+0].value<<24|Ns[1][Uo[1]+0].value<<16|Ns[2][Uo[2]+0].value)>>>0,Rf==0&&256>Ns[0][Uo[0]+0].value&&(An.Qb=1,An.qb+=Ns[0][Uo[0]+0].value<<8)),An.jc=!An.Qb&&6>ei,An.jc){var sg,Ql=An;for(sg=0;sg<kf;++sg){var iu=sg,su=Ql.pd[iu],og=Ql.G[0][Ql.H[0]+iu];256<=og.value?(su.g=og.g+256,su.value=og.value):(su.g=0,su.value=0,iu>>=vn(og,8,su),iu>>=vn(Ql.G[1][Ql.H[1]+iu],16,su),iu>>=vn(Ql.G[2][Ql.H[2]+iu],0,su),vn(Ql.G[3][Ql.H[3]+iu],24,su))}}}Da.vc=Ur,Da.Wb=Yr,Da.Ya=Cs,Da.yc=Ss,Et=1;break t}Et=0}if(!(ee=Et)){z.a=3;break e}if(0<ze){if(xe.ua=1<<ze,!J(xe.Wa,ze)){z.a=1,ee=0;break e}}else xe.ua=0;var v_=z,j3=te,XF=ae,x_=v_.s,__=x_.xc;if(v_.c=j3,v_.i=XF,x_.md=Te(j3,__),x_.wc=__==0?-1:(1<<__)-1,P){z.xb=SF;break e}if((Se=i(te*ae))==null){z.a=1,ee=0;break e}ee=(ee=Fe(z,Se,0,te,ae,ae,null))&&!ce.h;break e}return ee?(Q!=null?Q[0]=Se:(e(Se==null),e(P)),z.$=0,P||Ge(xe)):Ge(xe),ee}function Ve(g,E){var P=g.c*g.i,z=P+E+16*E;return e(g.c<=E),g.V=i(z),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+P+E,1)}function ot(g,E){var P=g.C,z=E-P,Q=g.V,ee=g.Ba+g.c*P;for(e(E<=g.l.o);0<z;){var te=16<z?16:z,ae=g.l.ma,ce=g.l.width,xe=ce*te,Se=ae.ca,ze=ae.tb+ce*P,_e=g.Ta,Ce=g.Ua;de(g,te,Q,ee),h3(_e,Ce,Se,ze,xe),pe(ae,P,P+te,Se,ze,ce),z-=te,Q+=te*g.c,P+=te}e(P==E),g.C=g.Ma=E}function mt(){this.ub=this.yd=this.td=this.Rb=0}function wt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ft(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function yt(){this.Yb=function(){var g=[];return function E(P,z,Q){for(var ee=Q[z],te=0;te<ee&&(P.push(Q.length>z+1?[]:0),!(Q.length<z+1));te++)E(P[te],z+1,Q)}(g,0,[3,11]),g}()}function Zt(){this.jb=i(3),this.Wc=o([4,8],yt),this.Xc=o([4,17],yt)}function Gr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function _r(){this.ld=this.La=this.dd=this.tc=0}function Cn(){this.Na=this.la=0}function Yi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Li(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ys(){this.uc=this.M=this.Nb=0,this.wa=Array(new _r),this.Y=0,this.ya=Array(new Li),this.aa=0,this.l=new Pi}function Di(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Do(){this.cb=this.a=0,this.sc="",this.m=new D,this.Od=new mt,this.Kc=new wt,this.ed=new Gr,this.Qa=new ft,this.Ic=this.$c=this.Aa=0,this.D=new ys,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,D),this.ia=0,this.pb=s(4,Yi),this.Pa=new Zt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Di),this.Hd=0,this.rb=Array(new Cn),this.sb=0,this.wa=Array(new _r),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Li),this.L=this.aa=0,this.gd=o([4,2],_r),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Wn(g,E){return 0>g?0:g>E?E:g}function Pi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Qi(){var g=new Do;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,i1||(i1=qr)),g}function xn(g,E,P){return g.a==0&&(g.a=E,g.sc=P,g.cb=0),0}function nl(g,E,P){return 3<=P&&g[E+0]==157&&g[E+1]==1&&g[E+2]==42}function Ji(g,E){if(g==null)return 0;if(g.a=0,g.sc="OK",E==null)return xn(g,2,"null VP8Io passed to VP8GetHeaders()");var P=E.data,z=E.w,Q=E.ha;if(4>Q)return xn(g,7,"Truncated header.");var ee=P[z+0]|P[z+1]<<8|P[z+2]<<16,te=g.Od;if(te.Rb=!(1&ee),te.td=ee>>1&7,te.yd=ee>>4&1,te.ub=ee>>5,3<te.td)return xn(g,3,"Incorrect keyframe parameters.");if(!te.yd)return xn(g,4,"Frame not displayable.");z+=3,Q-=3;var ae=g.Kc;if(te.Rb){if(7>Q)return xn(g,7,"cannot parse picture header");if(!nl(P,z,Q))return xn(g,3,"Bad code word");ae.c=16383&(P[z+4]<<8|P[z+3]),ae.Td=P[z+4]>>6,ae.i=16383&(P[z+6]<<8|P[z+5]),ae.Ud=P[z+6]>>6,z+=7,Q-=7,g.za=ae.c+15>>4,g.Ub=ae.i+15>>4,E.width=ae.c,E.height=ae.i,E.Da=0,E.j=0,E.v=0,E.va=E.width,E.o=E.height,E.da=0,E.ib=E.width,E.hb=E.height,E.U=E.width,E.T=E.height,a((ee=g.Pa).jb,0,255,ee.jb.length),e((ee=g.Qa)!=null),ee.Cb=0,ee.Bb=0,ee.Fb=1,a(ee.Zb,0,0,ee.Zb.length),a(ee.Lb,0,0,ee.Lb)}if(te.ub>Q)return xn(g,7,"bad partition length");V(ee=g.m,P,z,te.ub),z+=te.ub,Q-=te.ub,te.Rb&&(ae.Ld=fe(ee),ae.Kd=fe(ee)),ae=g.Qa;var ce,xe=g.Pa;if(e(ee!=null),e(ae!=null),ae.Cb=fe(ee),ae.Cb){if(ae.Bb=fe(ee),fe(ee)){for(ae.Fb=fe(ee),ce=0;4>ce;++ce)ae.Zb[ce]=fe(ee)?re(ee,7):0;for(ce=0;4>ce;++ce)ae.Lb[ce]=fe(ee)?re(ee,6):0}if(ae.Bb)for(ce=0;3>ce;++ce)xe.jb[ce]=fe(ee)?q(ee,8):255}else ae.Bb=0;if(ee.Ka)return xn(g,3,"cannot parse segment header");if((ae=g.ed).zd=fe(ee),ae.Tb=q(ee,6),ae.wb=q(ee,3),ae.Pc=fe(ee),ae.Pc&&fe(ee)){for(xe=0;4>xe;++xe)fe(ee)&&(ae.vd[xe]=re(ee,6));for(xe=0;4>xe;++xe)fe(ee)&&(ae.od[xe]=re(ee,6))}if(g.L=ae.Tb==0?0:ae.zd?1:2,ee.Ka)return xn(g,3,"cannot parse filter header");var Se=Q;if(Q=ce=z,z=ce+Se,ae=Se,g.Xb=(1<<q(g.m,2))-1,Se<3*(xe=g.Xb))P=7;else{for(ce+=3*xe,ae-=3*xe,Se=0;Se<xe;++Se){var ze=P[Q+0]|P[Q+1]<<8|P[Q+2]<<16;ze>ae&&(ze=ae),V(g.Jc[+Se],P,ce,ze),ce+=ze,ae-=ze,Q+=3}V(g.Jc[+xe],P,ce,ae),P=ce<z?0:5}if(P!=0)return xn(g,P,"cannot parse partitions");for(P=q(ce=g.m,7),Q=fe(ce)?re(ce,4):0,z=fe(ce)?re(ce,4):0,ae=fe(ce)?re(ce,4):0,xe=fe(ce)?re(ce,4):0,ce=fe(ce)?re(ce,4):0,Se=g.Qa,ze=0;4>ze;++ze){if(Se.Cb){var _e=Se.Zb[ze];Se.Fb||(_e+=P)}else{if(0<ze){g.pb[ze]=g.pb[0];continue}_e=P}var Ce=g.pb[ze];Ce.Sc[0]=c_[Wn(_e+Q,127)],Ce.Sc[1]=u_[Wn(_e+0,127)],Ce.Eb[0]=2*c_[Wn(_e+z,127)],Ce.Eb[1]=101581*u_[Wn(_e+ae,127)]>>16,8>Ce.Eb[1]&&(Ce.Eb[1]=8),Ce.Qc[0]=c_[Wn(_e+xe,117)],Ce.Qc[1]=u_[Wn(_e+ce,127)],Ce.lc=_e+ce}if(!te.Rb)return xn(g,4,"Not a key frame.");for(fe(ee),te=g.Pa,P=0;4>P;++P){for(Q=0;8>Q;++Q)for(z=0;3>z;++z)for(ae=0;11>ae;++ae)xe=ve(ee,EF[P][Q][z][ae])?q(ee,8):wF[P][Q][z][ae],te.Wc[P][Q].Yb[z][ae]=xe;for(Q=0;17>Q;++Q)te.Xc[P][Q]=te.Wc[P][AF[Q]]}return g.kc=fe(ee),g.kc&&(g.Bd=q(ee,8)),g.cb=1}function qr(g,E,P,z,Q,ee,te){var ae=E[Q].Yb[P];for(P=0;16>Q;++Q){if(!ve(g,ae[P+0]))return Q;for(;!ve(g,ae[P+1]);)if(ae=E[++Q].Yb[0],P=0,Q==16)return 16;var ce=E[Q+1].Yb;if(ve(g,ae[P+2])){var xe=g,Se=0;if(ve(xe,(_e=ae)[(ze=P)+3]))if(ve(xe,_e[ze+6])){for(ae=0,ze=2*(Se=ve(xe,_e[ze+8]))+(_e=ve(xe,_e[ze+9+Se])),Se=0,_e=_F[ze];_e[ae];++ae)Se+=Se+ve(xe,_e[ae]);Se+=3+(8<<ze)}else ve(xe,_e[ze+7])?(Se=7+2*ve(xe,165),Se+=ve(xe,145)):Se=5+ve(xe,159);else Se=ve(xe,_e[ze+4])?3+ve(xe,_e[ze+5]):2;ae=ce[2]}else Se=1,ae=ce[1];ce=te+yF[Q],0>(xe=g).b&&he(xe);var ze,_e=xe.b,Ce=(ze=xe.Ca>>1)-(xe.I>>_e)>>31;--xe.b,xe.Ca+=Ce,xe.Ca|=1,xe.I-=(ze+1&Ce)<<_e,ee[ce]=((Se^Ce)-Ce)*z[(0<Q)+0]}return 16}function zl(g){var E=g.rb[g.sb-1];E.la=0,E.Na=0,a(g.zc,0,0,g.zc.length),g.ja=0}function ja(g,E,P,z,Q){Q=g[E+P+32*z]+(Q>>3),g[E+P+32*z]=-256&Q?0>Q?0:255:Q}function kn(g,E,P,z,Q,ee){ja(g,E,0,P,z+Q),ja(g,E,1,P,z+ee),ja(g,E,2,P,z-ee),ja(g,E,3,P,z-Q)}function Po(g){return(20091*g>>16)+g}function bf(g,E,P,z){var Q,ee=0,te=i(16);for(Q=0;4>Q;++Q){var ae=g[E+0]+g[E+8],ce=g[E+0]-g[E+8],xe=(35468*g[E+4]>>16)-Po(g[E+12]),Se=Po(g[E+4])+(35468*g[E+12]>>16);te[ee+0]=ae+Se,te[ee+1]=ce+xe,te[ee+2]=ce-xe,te[ee+3]=ae-Se,ee+=4,E++}for(Q=ee=0;4>Q;++Q)ae=(g=te[ee+0]+4)+te[ee+8],ce=g-te[ee+8],xe=(35468*te[ee+4]>>16)-Po(te[ee+12]),ja(P,z,0,0,ae+(Se=Po(te[ee+4])+(35468*te[ee+12]>>16))),ja(P,z,1,0,ce+xe),ja(P,z,2,0,ce-xe),ja(P,z,3,0,ae-Se),ee++,z+=32}function Gd(g,E,P,z){var Q=g[E+0]+4,ee=35468*g[E+4]>>16,te=Po(g[E+4]),ae=35468*g[E+1]>>16;kn(P,z,0,Q+te,g=Po(g[E+1]),ae),kn(P,z,1,Q+ee,g,ae),kn(P,z,2,Q-ee,g,ae),kn(P,z,3,Q-te,g,ae)}function Wd(g,E,P,z,Q){bf(g,E,P,z),Q&&bf(g,E+16,P,z+4)}function to(g,E,P,z){If(g,E+0,P,z,1),If(g,E+32,P,z+128,1)}function zh(g,E,P,z){var Q;for(g=g[E+0]+4,Q=0;4>Q;++Q)for(E=0;4>E;++E)ja(P,z,E,Q,g)}function al(g,E,P,z){g[E+0]&&Xr(g,E+0,P,z),g[E+16]&&Xr(g,E+16,P,z+4),g[E+32]&&Xr(g,E+32,P,z+128),g[E+48]&&Xr(g,E+48,P,z+128+4)}function Zi(g,E,P,z){var Q,ee=i(16);for(Q=0;4>Q;++Q){var te=g[E+0+Q]+g[E+12+Q],ae=g[E+4+Q]+g[E+8+Q],ce=g[E+4+Q]-g[E+8+Q],xe=g[E+0+Q]-g[E+12+Q];ee[0+Q]=te+ae,ee[8+Q]=te-ae,ee[4+Q]=xe+ce,ee[12+Q]=xe-ce}for(Q=0;4>Q;++Q)te=(g=ee[0+4*Q]+3)+ee[3+4*Q],ae=ee[1+4*Q]+ee[2+4*Q],ce=ee[1+4*Q]-ee[2+4*Q],xe=g-ee[3+4*Q],P[z+0]=te+ae>>3,P[z+16]=xe+ce>>3,P[z+32]=te-ae>>3,P[z+48]=xe-ce>>3,z+=64}function il(g,E,P){var z,Q=E-32,ee=As,te=255-g[Q-1];for(z=0;z<P;++z){var ae,ce=ee,xe=te+g[E-1];for(ae=0;ae<P;++ae)g[E+ae]=ce[xe+g[Q+ae]];E+=32}}function qh(g,E){il(g,E,4)}function Hh(g,E){il(g,E,8)}function Gh(g,E){il(g,E,16)}function Vc(g,E){var P;for(P=0;16>P;++P)n(g,E+32*P,g,E-32,16)}function Oo(g,E){var P;for(P=16;0<P;--P)a(g,E,g[E-1],16),E+=32}function ws(g,E,P){var z;for(z=0;16>z;++z)a(E,P+32*z,g,16)}function $d(g,E){var P,z=16;for(P=0;16>P;++P)z+=g[E-1+32*P]+g[E+P-32];ws(z>>5,g,E)}function ql(g,E){var P,z=8;for(P=0;16>P;++P)z+=g[E-1+32*P];ws(z>>4,g,E)}function es(g,E){var P,z=8;for(P=0;16>P;++P)z+=g[E+P-32];ws(z>>4,g,E)}function Xd(g,E){ws(128,g,E)}function tr(g,E,P){return g+2*E+P+2>>2}function zc(g,E){var P,z=E-32;for(z=new Uint8Array([tr(g[z-1],g[z+0],g[z+1]),tr(g[z+0],g[z+1],g[z+2]),tr(g[z+1],g[z+2],g[z+3]),tr(g[z+2],g[z+3],g[z+4])]),P=0;4>P;++P)n(g,E+32*P,z,0,z.length)}function Wh(g,E){var P=g[E-1],z=g[E-1+32],Q=g[E-1+64],ee=g[E-1+96];ke(g,E+0,16843009*tr(g[E-1-32],P,z)),ke(g,E+32,16843009*tr(P,z,Q)),ke(g,E+64,16843009*tr(z,Q,ee)),ke(g,E+96,16843009*tr(Q,ee,ee))}function Hl(g,E){var P,z=4;for(P=0;4>P;++P)z+=g[E+P-32]+g[E-1+32*P];for(z>>=3,P=0;4>P;++P)a(g,E+32*P,z,4)}function Oi(g,E){var P=g[E-1+0],z=g[E-1+32],Q=g[E-1+64],ee=g[E-1-32],te=g[E+0-32],ae=g[E+1-32],ce=g[E+2-32],xe=g[E+3-32];g[E+0+96]=tr(z,Q,g[E-1+96]),g[E+1+96]=g[E+0+64]=tr(P,z,Q),g[E+2+96]=g[E+1+64]=g[E+0+32]=tr(ee,P,z),g[E+3+96]=g[E+2+64]=g[E+1+32]=g[E+0+0]=tr(te,ee,P),g[E+3+64]=g[E+2+32]=g[E+1+0]=tr(ae,te,ee),g[E+3+32]=g[E+2+0]=tr(ce,ae,te),g[E+3+0]=tr(xe,ce,ae)}function ro(g,E){var P=g[E+1-32],z=g[E+2-32],Q=g[E+3-32],ee=g[E+4-32],te=g[E+5-32],ae=g[E+6-32],ce=g[E+7-32];g[E+0+0]=tr(g[E+0-32],P,z),g[E+1+0]=g[E+0+32]=tr(P,z,Q),g[E+2+0]=g[E+1+32]=g[E+0+64]=tr(z,Q,ee),g[E+3+0]=g[E+2+32]=g[E+1+64]=g[E+0+96]=tr(Q,ee,te),g[E+3+32]=g[E+2+64]=g[E+1+96]=tr(ee,te,ae),g[E+3+64]=g[E+2+96]=tr(te,ae,ce),g[E+3+96]=tr(ae,ce,ce)}function Ef(g,E){var P=g[E-1+0],z=g[E-1+32],Q=g[E-1+64],ee=g[E-1-32],te=g[E+0-32],ae=g[E+1-32],ce=g[E+2-32],xe=g[E+3-32];g[E+0+0]=g[E+1+64]=ee+te+1>>1,g[E+1+0]=g[E+2+64]=te+ae+1>>1,g[E+2+0]=g[E+3+64]=ae+ce+1>>1,g[E+3+0]=ce+xe+1>>1,g[E+0+96]=tr(Q,z,P),g[E+0+64]=tr(z,P,ee),g[E+0+32]=g[E+1+96]=tr(P,ee,te),g[E+1+32]=g[E+2+96]=tr(ee,te,ae),g[E+2+32]=g[E+3+96]=tr(te,ae,ce),g[E+3+32]=tr(ae,ce,xe)}function _n(g,E){var P=g[E+0-32],z=g[E+1-32],Q=g[E+2-32],ee=g[E+3-32],te=g[E+4-32],ae=g[E+5-32],ce=g[E+6-32],xe=g[E+7-32];g[E+0+0]=P+z+1>>1,g[E+1+0]=g[E+0+64]=z+Q+1>>1,g[E+2+0]=g[E+1+64]=Q+ee+1>>1,g[E+3+0]=g[E+2+64]=ee+te+1>>1,g[E+0+32]=tr(P,z,Q),g[E+1+32]=g[E+0+96]=tr(z,Q,ee),g[E+2+32]=g[E+1+96]=tr(Q,ee,te),g[E+3+32]=g[E+2+96]=tr(ee,te,ae),g[E+3+64]=tr(te,ae,ce),g[E+3+96]=tr(ae,ce,xe)}function qc(g,E){var P=g[E-1+0],z=g[E-1+32],Q=g[E-1+64],ee=g[E-1+96];g[E+0+0]=P+z+1>>1,g[E+2+0]=g[E+0+32]=z+Q+1>>1,g[E+2+32]=g[E+0+64]=Q+ee+1>>1,g[E+1+0]=tr(P,z,Q),g[E+3+0]=g[E+1+32]=tr(z,Q,ee),g[E+3+32]=g[E+1+64]=tr(Q,ee,ee),g[E+3+64]=g[E+2+64]=g[E+0+96]=g[E+1+96]=g[E+2+96]=g[E+3+96]=ee}function Af(g,E){var P=g[E-1+0],z=g[E-1+32],Q=g[E-1+64],ee=g[E-1+96],te=g[E-1-32],ae=g[E+0-32],ce=g[E+1-32],xe=g[E+2-32];g[E+0+0]=g[E+2+32]=P+te+1>>1,g[E+0+32]=g[E+2+64]=z+P+1>>1,g[E+0+64]=g[E+2+96]=Q+z+1>>1,g[E+0+96]=ee+Q+1>>1,g[E+3+0]=tr(ae,ce,xe),g[E+2+0]=tr(te,ae,ce),g[E+1+0]=g[E+3+32]=tr(P,te,ae),g[E+1+32]=g[E+3+64]=tr(z,P,te),g[E+1+64]=g[E+3+96]=tr(Q,z,P),g[E+1+96]=tr(ee,Q,z)}function sl(g,E){var P;for(P=0;8>P;++P)n(g,E+32*P,g,E-32,8)}function $h(g,E){var P;for(P=0;8>P;++P)a(g,E,g[E-1],8),E+=32}function no(g,E,P){var z;for(z=0;8>z;++z)a(E,P+32*z,g,8)}function Hc(g,E){var P,z=8;for(P=0;8>P;++P)z+=g[E+P-32]+g[E-1+32*P];no(z>>4,g,E)}function ts(g,E){var P,z=4;for(P=0;8>P;++P)z+=g[E+P-32];no(z>>3,g,E)}function Gc(g,E){var P,z=4;for(P=0;8>P;++P)z+=g[E-1+32*P];no(z>>3,g,E)}function Xh(g,E){no(128,g,E)}function Fi(g,E,P){var z=g[E-P],Q=g[E+0],ee=3*(Q-z)+a_[1020+g[E-2*P]-g[E+P]],te=Wm[112+(ee+4>>3)];g[E-P]=As[255+z+Wm[112+(ee+3>>3)]],g[E+0]=As[255+Q-te]}function Wc(g,E,P,z){var Q=g[E+0],ee=g[E+P];return lo[255+g[E-2*P]-g[E-P]]>z||lo[255+ee-Q]>z}function ol(g,E,P,z){return 4*lo[255+g[E-P]-g[E+0]]+lo[255+g[E-2*P]-g[E+P]]<=z}function ll(g,E,P,z,Q){var ee=g[E-3*P],te=g[E-2*P],ae=g[E-P],ce=g[E+0],xe=g[E+P],Se=g[E+2*P],ze=g[E+3*P];return 4*lo[255+ae-ce]+lo[255+te-xe]>z?0:lo[255+g[E-4*P]-ee]<=Q&&lo[255+ee-te]<=Q&&lo[255+te-ae]<=Q&&lo[255+ze-Se]<=Q&&lo[255+Se-xe]<=Q&&lo[255+xe-ce]<=Q}function cl(g,E,P,z){var Q=2*z+1;for(z=0;16>z;++z)ol(g,E+z,P,Q)&&Fi(g,E+z,P)}function ul(g,E,P,z){var Q=2*z+1;for(z=0;16>z;++z)ol(g,E+z*P,1,Q)&&Fi(g,E+z*P,1)}function Kh(g,E,P,z){var Q;for(Q=3;0<Q;--Q)cl(g,E+=4*P,P,z)}function Sf(g,E,P,z){var Q;for(Q=3;0<Q;--Q)ul(g,E+=4,P,z)}function Mi(g,E,P,z,Q,ee,te,ae){for(ee=2*ee+1;0<Q--;){if(ll(g,E,P,ee,te))if(Wc(g,E,P,ae))Fi(g,E,P);else{var ce=g,xe=E,Se=P,ze=ce[xe-2*Se],_e=ce[xe-Se],Ce=ce[xe+0],Pe=ce[xe+Se],$e=ce[xe+2*Se],je=27*(Ze=a_[1020+3*(Ce-_e)+a_[1020+ze-Pe]])+63>>7,Ke=18*Ze+63>>7,Ze=9*Ze+63>>7;ce[xe-3*Se]=As[255+ce[xe-3*Se]+Ze],ce[xe-2*Se]=As[255+ze+Ke],ce[xe-Se]=As[255+_e+je],ce[xe+0]=As[255+Ce-je],ce[xe+Se]=As[255+Pe-Ke],ce[xe+2*Se]=As[255+$e-Ze]}E+=z}}function ao(g,E,P,z,Q,ee,te,ae){for(ee=2*ee+1;0<Q--;){if(ll(g,E,P,ee,te))if(Wc(g,E,P,ae))Fi(g,E,P);else{var ce=g,xe=E,Se=P,ze=ce[xe-Se],_e=ce[xe+0],Ce=ce[xe+Se],Pe=Wm[112+(4+($e=3*(_e-ze))>>3)],$e=Wm[112+($e+3>>3)],je=Pe+1>>1;ce[xe-2*Se]=As[255+ce[xe-2*Se]+je],ce[xe-Se]=As[255+ze+$e],ce[xe+0]=As[255+_e-Pe],ce[xe+Se]=As[255+Ce-je]}E+=z}}function Tf(g,E,P,z,Q,ee){Mi(g,E,P,1,16,z,Q,ee)}function Fo(g,E,P,z,Q,ee){Mi(g,E,1,P,16,z,Q,ee)}function $c(g,E,P,z,Q,ee){var te;for(te=3;0<te;--te)ao(g,E+=4*P,P,1,16,z,Q,ee)}function L(g,E,P,z,Q,ee){var te;for(te=3;0<te;--te)ao(g,E+=4,1,P,16,z,Q,ee)}function K(g,E,P,z,Q,ee,te,ae){Mi(g,E,Q,1,8,ee,te,ae),Mi(P,z,Q,1,8,ee,te,ae)}function ge(g,E,P,z,Q,ee,te,ae){Mi(g,E,1,Q,8,ee,te,ae),Mi(P,z,1,Q,8,ee,te,ae)}function Ae(g,E,P,z,Q,ee,te,ae){ao(g,E+4*Q,Q,1,8,ee,te,ae),ao(P,z+4*Q,Q,1,8,ee,te,ae)}function Ne(g,E,P,z,Q,ee,te,ae){ao(g,E+4,1,Q,8,ee,te,ae),ao(P,z+4,1,Q,8,ee,te,ae)}function Xe(){this.ba=new Ct,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Kt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Rt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ot(){this.ua=0,this.Wa=new Re,this.vb=new Re,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new X,this.yc=new C}function Yt(){this.xb=this.a=0,this.l=new Pi,this.ca=new Ct,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ot,this.ab=0,this.gc=s(4,Rt),this.Oc=0}function qt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Pi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Sr(g,E,P,z,Q,ee,te){for(g=g==null?0:g[E+0],E=0;E<te;++E)Q[ee+E]=g+P[z+E]&255,g=Q[ee+E]}function yn(g,E,P,z,Q,ee,te){var ae;if(g==null)Sr(null,null,P,z,Q,ee,te);else for(ae=0;ae<te;++ae)Q[ee+ae]=g[E+ae]+P[z+ae]&255}function fn(g,E,P,z,Q,ee,te){if(g==null)Sr(null,null,P,z,Q,ee,te);else{var ae,ce=g[E+0],xe=ce,Se=ce;for(ae=0;ae<te;++ae)xe=Se+(ce=g[E+ae])-xe,Se=P[z+ae]+(-256&xe?0>xe?0:255:xe)&255,xe=ce,Q[ee+ae]=Se}}function v(g,E,P,z){var Q=E.width,ee=E.o;if(e(g!=null&&E!=null),0>P||0>=z||P+z>ee)return null;if(!g.Cc){if(g.ga==null){var te;if(g.ga=new qt,(te=g.ga==null)||(te=E.width*E.o,e(g.Gb.length==0),g.Gb=i(te),g.Uc=0,g.Gb==null?te=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,te=1),te=!te),!te){te=g.ga;var ae=g.Fa,ce=g.P,xe=g.qc,Se=g.mb,ze=g.nb,_e=ce+1,Ce=xe-1,Pe=te.l;if(e(ae!=null&&Se!=null&&E!=null),ru[0]=null,ru[1]=Sr,ru[2]=yn,ru[3]=fn,te.ca=Se,te.tb=ze,te.c=E.width,te.i=E.height,e(0<te.c&&0<te.i),1>=xe)E=0;else if(te.$a=3&ae[ce+0],te.Z=ae[ce+0]>>2&3,te.Lc=ae[ce+0]>>4&3,ce=ae[ce+0]>>6&3,0>te.$a||1<te.$a||4<=te.Z||1<te.Lc||ce)E=0;else if(Pe.put=Ut,Pe.ac=Br,Pe.bc=_s,Pe.ma=te,Pe.width=E.width,Pe.height=E.height,Pe.Da=E.Da,Pe.v=E.v,Pe.va=E.va,Pe.j=E.j,Pe.o=E.o,te.$a)e:{e(te.$a==1),E=Be();t:for(;;){if(E==null){E=0;break e}if(e(te!=null),te.mc=E,E.c=te.c,E.i=te.i,E.l=te.l,E.l.ma=te,E.l.width=te.c,E.l.height=te.i,E.a=0,W(E.m,ae,_e,Ce),!Ue(te.c,te.i,1,E,null)||(E.ab==1&&E.gc[0].hc==3&&ue(E.s)?(te.ic=1,ae=E.c*E.i,E.Ta=null,E.Ua=0,E.V=i(ae),E.Ba=0,E.V==null?(E.a=1,E=0):E=1):(te.ic=0,E=Ve(E,te.c)),!E))break t;E=1;break e}te.mc=null,E=0}else E=Ce>=te.c*te.i;te=!E}if(te)return null;g.ga.Lc!=1?g.Ga=0:z=ee-P}e(g.ga!=null),e(P+z<=ee);e:{if(E=(ae=g.ga).c,ee=ae.l.o,ae.$a==0){if(_e=g.rc,Ce=g.Vc,Pe=g.Fa,ce=g.P+1+P*E,xe=g.mb,Se=g.nb+P*E,e(ce<=g.P+g.qc),ae.Z!=0)for(e(ru[ae.Z]!=null),te=0;te<z;++te)ru[ae.Z](_e,Ce,Pe,ce,xe,Se,E),_e=xe,Ce=Se,Se+=E,ce+=E;else for(te=0;te<z;++te)n(xe,Se,Pe,ce,E),_e=xe,Ce=Se,Se+=E,ce+=E;g.rc=_e,g.Vc=Ce}else{if(e(ae.mc!=null),E=P+z,e((te=ae.mc)!=null),e(E<=te.i),te.C>=E)E=1;else if(ae.ic||He(),ae.ic){ae=te.V,_e=te.Ba,Ce=te.c;var $e=te.i,je=(Pe=1,ce=te.$/Ce,xe=te.$%Ce,Se=te.m,ze=te.s,te.$),Ke=Ce*$e,Ze=Ce*E,ht=ze.wc,st=je<Ze?Z(ze,xe,ce):null;e(je<=Ke),e(E<=$e),e(ue(ze));t:for(;;){for(;!Se.h&&je<Ze;){if(xe&ht||(st=Z(ze,xe,ce)),e(st!=null),se(Se),256>($e=sn(st.G[0],st.H[0],Se)))ae[_e+je]=$e,++je,++xe>=Ce&&(xe=0,++ce<=E&&!(ce%16)&&ye(te,ce));else{if(!(280>$e)){Pe=0;break t}$e=Ia($e-256,Se);var jt,Lt=sn(st.G[4],st.H[4],Se);if(se(Se),!(je>=(Lt=Qa(Ce,Lt=Ia(Lt,Se)))&&Ke-je>=$e)){Pe=0;break t}for(jt=0;jt<$e;++jt)ae[_e+je+jt]=ae[_e+je+jt-Lt];for(je+=$e,xe+=$e;xe>=Ce;)xe-=Ce,++ce<=E&&!(ce%16)&&ye(te,ce);je<Ze&&xe&ht&&(st=Z(ze,xe,ce))}e(Se.h==M(Se))}ye(te,ce>E?E:ce);break t}!Pe||Se.h&&je<Ke?(Pe=0,te.a=Se.h?5:3):te.$=je,E=Pe}else E=Fe(te,te.V,te.Ba,te.c,te.i,E,ot);if(!E){z=0;break e}}P+z>=ee&&(g.Cc=1),z=1}if(!z)return null;if(g.Cc&&((z=g.ga)!=null&&(z.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+P*Q}function B(g,E,P,z,Q,ee){for(;0<Q--;){var te,ae=g,ce=E+(P?1:0),xe=g,Se=E+(P?0:3);for(te=0;te<z;++te){var ze=xe[Se+4*te];ze!=255&&(ze*=32897,ae[ce+4*te+0]=ae[ce+4*te+0]*ze>>23,ae[ce+4*te+1]=ae[ce+4*te+1]*ze>>23,ae[ce+4*te+2]=ae[ce+4*te+2]*ze>>23)}E+=ee}}function G(g,E,P,z,Q){for(;0<z--;){var ee;for(ee=0;ee<P;++ee){var te=g[E+2*ee+0],ae=15&(xe=g[E+2*ee+1]),ce=4369*ae,xe=(240&xe|xe>>4)*ce>>16;g[E+2*ee+0]=(240&te|te>>4)*ce>>16&240|(15&te|te<<4)*ce>>16>>4&15,g[E+2*ee+1]=240&xe|ae}E+=Q}}function ie(g,E,P,z,Q,ee,te,ae){var ce,xe,Se=255;for(xe=0;xe<Q;++xe){for(ce=0;ce<z;++ce){var ze=g[E+ce];ee[te+4*ce]=ze,Se&=ze}E+=P,te+=ae}return Se!=255}function Le(g,E,P,z,Q){var ee;for(ee=0;ee<Q;++ee)P[z+ee]=g[E+ee]>>8}function He(){a1=B,u3=G,f3=ie,h3=Le}function pt(g,E,P){y[g]=function(z,Q,ee,te,ae,ce,xe,Se,ze,_e,Ce,Pe,$e,je,Ke,Ze,ht){var st,jt=ht-1>>1,Lt=ae[ce+0]|xe[Se+0]<<16,mr=ze[_e+0]|Ce[Pe+0]<<16;e(z!=null);var Mt=3*Lt+mr+131074>>2;for(E(z[Q+0],255&Mt,Mt>>16,$e,je),ee!=null&&(Mt=3*mr+Lt+131074>>2,E(ee[te+0],255&Mt,Mt>>16,Ke,Ze)),st=1;st<=jt;++st){var Dr=ae[ce+st]|xe[Se+st]<<16,La=ze[_e+st]|Ce[Pe+st]<<16,gr=Lt+Dr+mr+La+524296,Bt=gr+2*(Dr+mr)>>3;Mt=Bt+Lt>>1,Lt=(gr=gr+2*(Lt+La)>>3)+Dr>>1,E(z[Q+2*st-1],255&Mt,Mt>>16,$e,je+(2*st-1)*P),E(z[Q+2*st-0],255&Lt,Lt>>16,$e,je+(2*st-0)*P),ee!=null&&(Mt=gr+mr>>1,Lt=Bt+La>>1,E(ee[te+2*st-1],255&Mt,Mt>>16,Ke,Ze+(2*st-1)*P),E(ee[te+2*st+0],255&Lt,Lt>>16,Ke,Ze+(2*st+0)*P)),Lt=Dr,mr=La}1&ht||(Mt=3*Lt+mr+131074>>2,E(z[Q+ht-1],255&Mt,Mt>>16,$e,je+(ht-1)*P),ee!=null&&(Mt=3*mr+Lt+131074>>2,E(ee[te+ht-1],255&Mt,Mt>>16,Ke,Ze+(ht-1)*P)))}}function or(){co[$m]=TF,co[Xm]=E3,co[x3]=CF,co[Km]=A3,co[Ym]=S3,co[i_]=T3,co[_3]=kF,co[s_]=E3,co[o_]=A3,co[Qm]=S3,co[l_]=T3}function wn(g){return g&-16384?0>g?0:255:g>>NF}function Tr(g,E){return wn((19077*g>>8)+(26149*E>>8)-14234)}function bn(g,E,P){return wn((19077*g>>8)-(6419*E>>8)-(13320*P>>8)+8708)}function Va(g,E){return wn((19077*g>>8)+(33050*E>>8)-17685)}function di(g,E,P,z,Q){z[Q+0]=Tr(g,P),z[Q+1]=bn(g,E,P),z[Q+2]=Va(g,E)}function En(g,E,P,z,Q){z[Q+0]=Va(g,E),z[Q+1]=bn(g,E,P),z[Q+2]=Tr(g,P)}function pi(g,E,P,z,Q){var ee=bn(g,E,P);E=ee<<3&224|Va(g,E)>>3,z[Q+0]=248&Tr(g,P)|ee>>5,z[Q+1]=E}function io(g,E,P,z,Q){var ee=240&Va(g,E)|15;z[Q+0]=240&Tr(g,P)|bn(g,E,P)>>4,z[Q+1]=ee}function Gl(g,E,P,z,Q){z[Q+0]=255,di(g,E,P,z,Q+1)}function Kd(g,E,P,z,Q){En(g,E,P,z,Q),z[Q+3]=255}function Bi(g,E,P,z,Q){di(g,E,P,z,Q),z[Q+3]=255}function Wl(g,E,P){y[g]=function(z,Q,ee,te,ae,ce,xe,Se,ze){for(var _e=Se+(-2&ze)*P;Se!=_e;)E(z[Q+0],ee[te+0],ae[ce+0],xe,Se),E(z[Q+1],ee[te+0],ae[ce+0],xe,Se+P),Q+=2,++te,++ce,Se+=2*P;1&ze&&E(z[Q+0],ee[te+0],ae[ce+0],xe,Se)}}function Yh(g,E,P){return P==0?g==0?E==0?6:5:E==0?4:0:P}function qm(g,E,P,z,Q){switch(g>>>30){case 3:If(E,P,z,Q,0);break;case 2:oo(E,P,z,Q);break;case 1:Xr(E,P,z,Q)}}function so(g,E){var P,z,Q=E.M,ee=E.Nb,te=g.oc,ae=g.pc+40,ce=g.oc,xe=g.pc+584,Se=g.oc,ze=g.pc+600;for(P=0;16>P;++P)te[ae+32*P-1]=129;for(P=0;8>P;++P)ce[xe+32*P-1]=129,Se[ze+32*P-1]=129;for(0<Q?te[ae-1-32]=ce[xe-1-32]=Se[ze-1-32]=129:(a(te,ae-32-1,127,21),a(ce,xe-32-1,127,9),a(Se,ze-32-1,127,9)),z=0;z<g.za;++z){var _e=E.ya[E.aa+z];if(0<z){for(P=-1;16>P;++P)n(te,ae+32*P-4,te,ae+32*P+12,4);for(P=-1;8>P;++P)n(ce,xe+32*P-4,ce,xe+32*P+4,4),n(Se,ze+32*P-4,Se,ze+32*P+4,4)}var Ce=g.Gd,Pe=g.Hd+z,$e=_e.ad,je=_e.Hc;if(0<Q&&(n(te,ae-32,Ce[Pe].y,0,16),n(ce,xe-32,Ce[Pe].f,0,8),n(Se,ze-32,Ce[Pe].ea,0,8)),_e.Za){var Ke=te,Ze=ae-32+16;for(0<Q&&(z>=g.za-1?a(Ke,Ze,Ce[Pe].y[15],4):n(Ke,Ze,Ce[Pe+1].y,0,4)),P=0;4>P;P++)Ke[Ze+128+P]=Ke[Ze+256+P]=Ke[Ze+384+P]=Ke[Ze+0+P];for(P=0;16>P;++P,je<<=2)Ke=te,Ze=ae+k3[P],Mo[_e.Ob[P]](Ke,Ze),qm(je,$e,16*+P,Ke,Ze)}else if(Ke=Yh(z,Q,_e.Ob[0]),tu[Ke](te,ae),je!=0)for(P=0;16>P;++P,je<<=2)qm(je,$e,16*+P,te,ae+k3[P]);for(P=_e.Gc,Ke=Yh(z,Q,_e.Dd),Kl[Ke](ce,xe),Kl[Ke](Se,ze),je=$e,Ke=ce,Ze=xe,255&(_e=0|P)&&(170&_e?dl(je,256,Ke,Ze):hn(je,256,Ke,Ze)),_e=Se,je=ze,255&(P>>=8)&&(170&P?dl($e,320,_e,je):hn($e,320,_e,je)),Q<g.Ub-1&&(n(Ce[Pe].y,0,te,ae+480,16),n(Ce[Pe].f,0,ce,xe+224,8),n(Ce[Pe].ea,0,Se,ze+224,8)),P=8*ee*g.B,Ce=g.sa,Pe=g.ta+16*z+16*ee*g.R,$e=g.qa,_e=g.ra+8*z+P,je=g.Ha,Ke=g.Ia+8*z+P,P=0;16>P;++P)n(Ce,Pe+P*g.R,te,ae+32*P,16);for(P=0;8>P;++P)n($e,_e+P*g.B,ce,xe+32*P,8),n(je,Ke+P*g.B,Se,ze+32*P,8)}}function Cf(g,E,P,z,Q,ee,te,ae,ce){var xe=[0],Se=[0],ze=0,_e=ce!=null?ce.kd:0,Ce=ce??new nt;if(g==null||12>P)return 7;Ce.data=g,Ce.w=E,Ce.ha=P,E=[E],P=[P],Ce.gb=[Ce.gb];e:{var Pe=E,$e=P,je=Ce.gb;if(e(g!=null),e($e!=null),e(je!=null),je[0]=0,12<=$e[0]&&!r(g,Pe[0],"RIFF")){if(r(g,Pe[0]+8,"WEBP")){je=3;break e}var Ke=Me(g,Pe[0]+4);if(12>Ke||4294967286<Ke){je=3;break e}if(_e&&Ke>$e[0]-8){je=7;break e}je[0]=Ke,Pe[0]+=12,$e[0]-=12}je=0}if(je!=0)return je;for(Ke=0<Ce.gb[0],P=P[0];;){e:{var Ze=g;$e=E,je=P;var ht=xe,st=Se,jt=Pe=[0];if((Mt=ze=[ze])[0]=0,8>je[0])je=7;else{if(!r(Ze,$e[0],"VP8X")){if(Me(Ze,$e[0]+4)!=10){je=3;break e}if(18>je[0]){je=7;break e}var Lt=Me(Ze,$e[0]+8),mr=1+be(Ze,$e[0]+12);if(2147483648<=mr*(Ze=1+be(Ze,$e[0]+15))){je=3;break e}jt!=null&&(jt[0]=Lt),ht!=null&&(ht[0]=mr),st!=null&&(st[0]=Ze),$e[0]+=18,je[0]-=18,Mt[0]=1}je=0}}if(ze=ze[0],Pe=Pe[0],je!=0)return je;if($e=!!(2&Pe),!Ke&&ze)return 3;if(ee!=null&&(ee[0]=!!(16&Pe)),te!=null&&(te[0]=$e),ae!=null&&(ae[0]=0),te=xe[0],Pe=Se[0],ze&&$e&&ce==null){je=0;break}if(4>P){je=7;break}if(Ke&&ze||!Ke&&!ze&&!r(g,E[0],"ALPH")){P=[P],Ce.na=[Ce.na],Ce.P=[Ce.P],Ce.Sa=[Ce.Sa];e:{Lt=g,je=E,Ke=P;var Mt=Ce.gb;ht=Ce.na,st=Ce.P,jt=Ce.Sa,mr=22,e(Lt!=null),e(Ke!=null),Ze=je[0];var Dr=Ke[0];for(e(ht!=null),e(jt!=null),ht[0]=null,st[0]=null,jt[0]=0;;){if(je[0]=Ze,Ke[0]=Dr,8>Dr){je=7;break e}var La=Me(Lt,Ze+4);if(4294967286<La){je=3;break e}var gr=8+La+1&-2;if(mr+=gr,0<Mt&&mr>Mt){je=3;break e}if(!r(Lt,Ze,"VP8 ")||!r(Lt,Ze,"VP8L")){je=0;break e}if(Dr[0]<gr){je=7;break e}r(Lt,Ze,"ALPH")||(ht[0]=Lt,st[0]=Ze+8,jt[0]=La),Ze+=gr,Dr-=gr}}if(P=P[0],Ce.na=Ce.na[0],Ce.P=Ce.P[0],Ce.Sa=Ce.Sa[0],je!=0)break}P=[P],Ce.Ja=[Ce.Ja],Ce.xa=[Ce.xa];e:if(Mt=g,je=E,Ke=P,ht=Ce.gb[0],st=Ce.Ja,jt=Ce.xa,Lt=je[0],Ze=!r(Mt,Lt,"VP8 "),mr=!r(Mt,Lt,"VP8L"),e(Mt!=null),e(Ke!=null),e(st!=null),e(jt!=null),8>Ke[0])je=7;else{if(Ze||mr){if(Mt=Me(Mt,Lt+4),12<=ht&&Mt>ht-12){je=3;break e}if(_e&&Mt>Ke[0]-8){je=7;break e}st[0]=Mt,je[0]+=8,Ke[0]-=8,jt[0]=mr}else jt[0]=5<=Ke[0]&&Mt[Lt+0]==47&&!(Mt[Lt+4]>>5),st[0]=Ke[0];je=0}if(P=P[0],Ce.Ja=Ce.Ja[0],Ce.xa=Ce.xa[0],E=E[0],je!=0)break;if(4294967286<Ce.Ja)return 3;if(ae==null||$e||(ae[0]=Ce.xa?2:1),te=[te],Pe=[Pe],Ce.xa){if(5>P){je=7;break}ae=te,_e=Pe,$e=ee,g==null||5>P?g=0:5<=P&&g[E+0]==47&&!(g[E+4]>>5)?(Ke=[0],Mt=[0],ht=[0],W(st=new F,g,E,P),hi(st,Ke,Mt,ht)?(ae!=null&&(ae[0]=Ke[0]),_e!=null&&(_e[0]=Mt[0]),$e!=null&&($e[0]=ht[0]),g=1):g=0):g=0}else{if(10>P){je=7;break}ae=Pe,g==null||10>P||!nl(g,E+3,P-3)?g=0:(_e=g[E+0]|g[E+1]<<8|g[E+2]<<16,$e=16383&(g[E+7]<<8|g[E+6]),g=16383&(g[E+9]<<8|g[E+8]),1&_e||3<(_e>>1&7)||!(_e>>4&1)||_e>>5>=Ce.Ja||!$e||!g?g=0:(te&&(te[0]=$e),ae&&(ae[0]=g),g=1))}if(!g||(te=te[0],Pe=Pe[0],ze&&(xe[0]!=te||Se[0]!=Pe)))return 3;ce!=null&&(ce[0]=Ce,ce.offset=E-ce.w,e(4294967286>E-ce.w),e(ce.offset==ce.ha-P));break}return je==0||je==7&&ze&&ce==null?(ee!=null&&(ee[0]|=Ce.na!=null&&0<Ce.na.length),z!=null&&(z[0]=te),Q!=null&&(Q[0]=Pe),0):je}function Yd(g,E,P){var z=E.width,Q=E.height,ee=0,te=0,ae=z,ce=Q;if(E.Da=g!=null&&0<g.Da,E.Da&&(ae=g.cd,ce=g.bd,ee=g.v,te=g.j,11>P||(ee&=-2,te&=-2),0>ee||0>te||0>=ae||0>=ce||ee+ae>z||te+ce>Q))return 0;if(E.v=ee,E.j=te,E.va=ee+ae,E.o=te+ce,E.U=ae,E.T=ce,E.da=g!=null&&0<g.da,E.da){if(!De(ae,ce,P=[g.ib],ee=[g.hb]))return 0;E.ib=P[0],E.hb=ee[0]}return E.ob=g!=null&&g.ob,E.Kb=g==null||!g.Sd,E.da&&(E.ob=E.ib<3*z/4&&E.hb<3*Q/4,E.Kb=0),1}function Qd(g){if(g==null)return 2;if(11>g.S){var E=g.f.RGBA;E.fb+=(g.height-1)*E.A,E.A=-E.A}else E=g.f.kb,g=g.height,E.O+=(g-1)*E.fa,E.fa=-E.fa,E.N+=(g-1>>1)*E.Ab,E.Ab=-E.Ab,E.W+=(g-1>>1)*E.Db,E.Db=-E.Db,E.F!=null&&(E.J+=(g-1)*E.lb,E.lb=-E.lb);return 0}function Xc(g,E,P,z){if(z==null||0>=g||0>=E)return 2;if(P!=null){if(P.Da){var Q=P.cd,ee=P.bd,te=-2&P.v,ae=-2&P.j;if(0>te||0>ae||0>=Q||0>=ee||te+Q>g||ae+ee>E)return 2;g=Q,E=ee}if(P.da){if(!De(g,E,Q=[P.ib],ee=[P.hb]))return 2;g=Q[0],E=ee[0]}}z.width=g,z.height=E;e:{var ce=z.width,xe=z.height;if(g=z.S,0>=ce||0>=xe||!(g>=$m&&13>g))g=2;else{if(0>=z.Rd&&z.sd==null){te=ee=Q=E=0;var Se=(ae=ce*N3[g])*xe;if(11>g||(ee=(xe+1)/2*(E=(ce+1)/2),g==12&&(te=(Q=ce)*xe)),(xe=i(Se+2*ee+te))==null){g=1;break e}z.sd=xe,11>g?((ce=z.f.RGBA).eb=xe,ce.fb=0,ce.A=ae,ce.size=Se):((ce=z.f.kb).y=xe,ce.O=0,ce.fa=ae,ce.Fd=Se,ce.f=xe,ce.N=0+Se,ce.Ab=E,ce.Cd=ee,ce.ea=xe,ce.W=0+Se+ee,ce.Db=E,ce.Ed=ee,g==12&&(ce.F=xe,ce.J=0+Se+2*ee),ce.Tc=te,ce.lb=Q)}if(E=1,Q=z.S,ee=z.width,te=z.height,Q>=$m&&13>Q)if(11>Q)g=z.f.RGBA,E&=(ae=Math.abs(g.A))*(te-1)+ee<=g.size,E&=ae>=ee*N3[Q],E&=g.eb!=null;else{g=z.f.kb,ae=(ee+1)/2,Se=(te+1)/2,ce=Math.abs(g.fa),xe=Math.abs(g.Ab);var ze=Math.abs(g.Db),_e=Math.abs(g.lb),Ce=_e*(te-1)+ee;E&=ce*(te-1)+ee<=g.Fd,E&=xe*(Se-1)+ae<=g.Cd,E=(E&=ze*(Se-1)+ae<=g.Ed)&ce>=ee&xe>=ae&ze>=ae,E&=g.y!=null,E&=g.f!=null,E&=g.ea!=null,Q==12&&(E&=_e>=ee,E&=Ce<=g.Tc,E&=g.F!=null)}else E=0;g=E?0:2}}return g!=0||P!=null&&P.fd&&(g=Qd(z)),g}var kf=64,bs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Es=24,Kc=32,$l=8,Yc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ye("Predictor0","PredictorAdd0"),y.Predictor0=function(){return 4278190080},y.Predictor1=function(g){return g},y.Predictor2=function(g,E,P){return E[P+0]},y.Predictor3=function(g,E,P){return E[P+1]},y.Predictor4=function(g,E,P){return E[P-1]},y.Predictor5=function(g,E,P){return qe(qe(g,E[P+1]),E[P+0])},y.Predictor6=function(g,E,P){return qe(g,E[P-1])},y.Predictor7=function(g,E,P){return qe(g,E[P+0])},y.Predictor8=function(g,E,P){return qe(E[P-1],E[P+0])},y.Predictor9=function(g,E,P){return qe(E[P+0],E[P+1])},y.Predictor10=function(g,E,P){return qe(qe(g,E[P-1]),qe(E[P+0],E[P+1]))},y.Predictor11=function(g,E,P){var z=E[P+0];return 0>=Tt(z>>24&255,g>>24&255,(E=E[P-1])>>24&255)+Tt(z>>16&255,g>>16&255,E>>16&255)+Tt(z>>8&255,g>>8&255,E>>8&255)+Tt(255&z,255&g,255&E)?z:g},y.Predictor12=function(g,E,P){var z=E[P+0];return(tt((g>>24&255)+(z>>24&255)-((E=E[P-1])>>24&255))<<24|tt((g>>16&255)+(z>>16&255)-(E>>16&255))<<16|tt((g>>8&255)+(z>>8&255)-(E>>8&255))<<8|tt((255&g)+(255&z)-(255&E)))>>>0},y.Predictor13=function(g,E,P){var z=E[P-1];return(at((g=qe(g,E[P+0]))>>24&255,z>>24&255)<<24|at(g>>16&255,z>>16&255)<<16|at(g>>8&255,z>>8&255)<<8|at(255&g,255&z))>>>0};var Jd=y.PredictorAdd0;y.PredictorAdd1=$t,Ye("Predictor2","PredictorAdd2"),Ye("Predictor3","PredictorAdd3"),Ye("Predictor4","PredictorAdd4"),Ye("Predictor5","PredictorAdd5"),Ye("Predictor6","PredictorAdd6"),Ye("Predictor7","PredictorAdd7"),Ye("Predictor8","PredictorAdd8"),Ye("Predictor9","PredictorAdd9"),Ye("Predictor10","PredictorAdd10"),Ye("Predictor11","PredictorAdd11"),Ye("Predictor12","PredictorAdd12"),Ye("Predictor13","PredictorAdd13");var Qh=y.PredictorAdd2;ct("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),ct("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var sa,Hm=y.ColorIndexInverseTransform,fl=y.MapARGB,hl=y.VP8LColorIndexInverseTransformAlpha,Zd=y.MapAlpha,e1=y.VP8LPredictorsAdd=[];e1.length=16,(y.VP8LPredictors=[]).length=16,(y.VP8LPredictorsAdd_C=[]).length=16,(y.VP8LPredictors_C=[]).length=16;var t1,r1,Qc,Jc,Zc,Nf,eu,If,oo,dl,Xr,hn,oa,Ra,Xl,n1,Jh,Gm,a3,i3,s3,o3,l3,c3,a1,u3,f3,h3,d3=i(511),p3=i(2041),m3=i(225),g3=i(767),v3=0,a_=p3,Wm=m3,As=g3,lo=d3,$m=0,Xm=1,x3=2,Km=3,Ym=4,i_=5,_3=6,s_=7,o_=8,Qm=9,l_=10,hF=[2,3,7],dF=[3,3,11],y3=[280,256,256,256,40],pF=[0,1,1,1,0],mF=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],gF=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],vF=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],xF=8,c_=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],u_=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],i1=null,_F=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],yF=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],w3=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],wF=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],bF=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],EF=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],AF=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],tu=[],Mo=[],Kl=[],SF=1,b3=2,ru=[],co=[];pt("UpsampleRgbLinePair",di,3),pt("UpsampleBgrLinePair",En,3),pt("UpsampleRgbaLinePair",Bi,4),pt("UpsampleBgraLinePair",Kd,4),pt("UpsampleArgbLinePair",Gl,4),pt("UpsampleRgba4444LinePair",io,2),pt("UpsampleRgb565LinePair",pi,2);var TF=y.UpsampleRgbLinePair,CF=y.UpsampleBgrLinePair,E3=y.UpsampleRgbaLinePair,A3=y.UpsampleBgraLinePair,S3=y.UpsampleArgbLinePair,T3=y.UpsampleRgba4444LinePair,kF=y.UpsampleRgb565LinePair,Jm=16,Zm=1<<Jm-1,s1=-227,f_=482,NF=6,C3=0,IF=i(256),RF=i(256),LF=i(256),DF=i(256),PF=i(f_-s1),OF=i(f_-s1);Wl("YuvToRgbRow",di,3),Wl("YuvToBgrRow",En,3),Wl("YuvToRgbaRow",Bi,4),Wl("YuvToBgraRow",Kd,4),Wl("YuvToArgbRow",Gl,4),Wl("YuvToRgba4444Row",io,2),Wl("YuvToRgb565Row",pi,2);var k3=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],eg=[0,2,8],FF=[8,7,6,4,4,2,2,2,1,1,1,1],MF=1;this.WebPDecodeRGBA=function(g,E,P,z,Q){var ee=Xm,te=new Xe,ae=new Ct;te.ba=ae,ae.S=ee,ae.width=[ae.width],ae.height=[ae.height];var ce=ae.width,xe=ae.height,Se=new kt;if(Se==null||g==null)var ze=2;else e(Se!=null),ze=Cf(g,E,P,Se.width,Se.height,Se.Pd,Se.Qd,Se.format,null);if(ze!=0?ce=0:(ce!=null&&(ce[0]=Se.width[0]),xe!=null&&(xe[0]=Se.height[0]),ce=1),ce){ae.width=ae.width[0],ae.height=ae.height[0],z!=null&&(z[0]=ae.width),Q!=null&&(Q[0]=ae.height);e:{if(z=new Pi,(Q=new nt).data=g,Q.w=E,Q.ha=P,Q.kd=1,E=[0],e(Q!=null),((g=Cf(Q.data,Q.w,Q.ha,null,null,null,E,null,Q))==0||g==7)&&E[0]&&(g=4),(E=g)==0){if(e(te!=null),z.data=Q.data,z.w=Q.w+Q.offset,z.ha=Q.ha-Q.offset,z.put=Ut,z.ac=Br,z.bc=_s,z.ma=te,Q.xa){if((g=Be())==null){te=1;break e}if(function(_e,Ce){var Pe=[0],$e=[0],je=[0];t:for(;;){if(_e==null)return 0;if(Ce==null)return _e.a=2,0;if(_e.l=Ce,_e.a=0,W(_e.m,Ce.data,Ce.w,Ce.ha),!hi(_e.m,Pe,$e,je)){_e.a=3;break t}if(_e.xb=b3,Ce.width=Pe[0],Ce.height=$e[0],!Ue(Pe[0],$e[0],1,_e,null))break t;return 1}return e(_e.a!=0),0}(g,z)){if(z=(E=Xc(z.width,z.height,te.Oa,te.ba))==0){t:{z=g;r:for(;;){if(z==null){z=0;break t}if(e(z.s.yc!=null),e(z.s.Ya!=null),e(0<z.s.Wb),e((P=z.l)!=null),e((Q=P.ma)!=null),z.xb!=0){if(z.ca=Q.ba,z.tb=Q.tb,e(z.ca!=null),!Yd(Q.Oa,P,Km)){z.a=2;break r}if(!Ve(z,P.width)||P.da)break r;if((P.da||ut(z.ca.S))&&He(),11>z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),z.ca.f.kb.F!=null&&He()),z.Pb&&0<z.s.ua&&z.s.vb.X==null&&!J(z.s.vb,z.s.Wa.Xa)){z.a=1;break r}z.xb=0}if(!Fe(z,z.V,z.Ba,z.c,z.i,P.o,oe))break r;Q.Dc=z.Ma,z=1;break t}e(z.a!=0),z=0}z=!z}z&&(E=g.a)}else E=g.a}else{if((g=new Qi)==null){te=1;break e}if(g.Fa=Q.na,g.P=Q.P,g.qc=Q.Sa,Ji(g,z)){if((E=Xc(z.width,z.height,te.Oa,te.ba))==0){if(g.Aa=0,P=te.Oa,e((Q=g)!=null),P!=null){if(0<(ce=0>(ce=P.Md)?0:100<ce?255:255*ce/100)){for(xe=Se=0;4>xe;++xe)12>(ze=Q.pb[xe]).lc&&(ze.ia=ce*FF[0>ze.lc?0:ze.lc]>>3),Se|=ze.ia;Se&&(alert("todo:VP8InitRandom"),Q.ia=1)}Q.Ga=P.Id,100<Q.Ga?Q.Ga=100:0>Q.Ga&&(Q.Ga=0)}(function(_e,Ce){if(_e==null)return 0;if(Ce==null)return xn(_e,2,"NULL VP8Io parameter in VP8Decode().");if(!_e.cb&&!Ji(_e,Ce))return 0;if(e(_e.cb),Ce.ac==null||Ce.ac(Ce)){Ce.ob&&(_e.L=0);var Pe=eg[_e.L];if(_e.L==2?(_e.yb=0,_e.zb=0):(_e.yb=Ce.v-Pe>>4,_e.zb=Ce.j-Pe>>4,0>_e.yb&&(_e.yb=0),0>_e.zb&&(_e.zb=0)),_e.Va=Ce.o+15+Pe>>4,_e.Hb=Ce.va+15+Pe>>4,_e.Hb>_e.za&&(_e.Hb=_e.za),_e.Va>_e.Ub&&(_e.Va=_e.Ub),0<_e.L){var $e=_e.ed;for(Pe=0;4>Pe;++Pe){var je;if(_e.Qa.Cb){var Ke=_e.Qa.Lb[Pe];_e.Qa.Fb||(Ke+=$e.Tb)}else Ke=$e.Tb;for(je=0;1>=je;++je){var Ze=_e.gd[Pe][je],ht=Ke;if($e.Pc&&(ht+=$e.vd[0],je&&(ht+=$e.od[0])),0<(ht=0>ht?0:63<ht?63:ht)){var st=ht;0<$e.wb&&(st=4<$e.wb?st>>2:st>>1)>9-$e.wb&&(st=9-$e.wb),1>st&&(st=1),Ze.dd=st,Ze.tc=2*ht+st,Ze.ld=40<=ht?2:15<=ht?1:0}else Ze.tc=0;Ze.La=je}}}Pe=0}else xn(_e,6,"Frame setup failed"),Pe=_e.a;if(Pe=Pe==0){if(Pe){_e.$c=0,0<_e.Aa||(_e.Ic=MF);t:{Pe=_e.Ic,$e=4*(st=_e.za);var jt=32*st,Lt=st+1,mr=0<_e.L?st*(0<_e.Aa?2:1):0,Mt=(_e.Aa==2?2:1)*st;if((Ze=$e+832+(je=3*(16*Pe+eg[_e.L])/2*jt)+(Ke=_e.Fa!=null&&0<_e.Fa.length?_e.Kc.c*_e.Kc.i:0))!=Ze)Pe=0;else{if(Ze>_e.Vb){if(_e.Vb=0,_e.Ec=i(Ze),_e.Fc=0,_e.Ec==null){Pe=xn(_e,1,"no memory during frame initialization.");break t}_e.Vb=Ze}Ze=_e.Ec,ht=_e.Fc,_e.Ac=Ze,_e.Bc=ht,ht+=$e,_e.Gd=s(jt,Di),_e.Hd=0,_e.rb=s(Lt+1,Cn),_e.sb=1,_e.wa=mr?s(mr,_r):null,_e.Y=0,_e.D.Nb=0,_e.D.wa=_e.wa,_e.D.Y=_e.Y,0<_e.Aa&&(_e.D.Y+=st),e(!0),_e.oc=Ze,_e.pc=ht,ht+=832,_e.ya=s(Mt,Li),_e.aa=0,_e.D.ya=_e.ya,_e.D.aa=_e.aa,_e.Aa==2&&(_e.D.aa+=st),_e.R=16*st,_e.B=8*st,st=(jt=eg[_e.L])*_e.R,jt=jt/2*_e.B,_e.sa=Ze,_e.ta=ht+st,_e.qa=_e.sa,_e.ra=_e.ta+16*Pe*_e.R+jt,_e.Ha=_e.qa,_e.Ia=_e.ra+8*Pe*_e.B+jt,_e.$c=0,ht+=je,_e.mb=Ke?Ze:null,_e.nb=Ke?ht:null,e(ht+Ke<=_e.Fc+_e.Vb),zl(_e),a(_e.Ac,_e.Bc,0,$e),Pe=1}}if(Pe){if(Ce.ka=0,Ce.y=_e.sa,Ce.O=_e.ta,Ce.f=_e.qa,Ce.N=_e.ra,Ce.ea=_e.Ha,Ce.Vd=_e.Ia,Ce.fa=_e.R,Ce.Rc=_e.B,Ce.F=null,Ce.J=0,!v3){for(Pe=-255;255>=Pe;++Pe)d3[255+Pe]=0>Pe?-Pe:Pe;for(Pe=-1020;1020>=Pe;++Pe)p3[1020+Pe]=-128>Pe?-128:127<Pe?127:Pe;for(Pe=-112;112>=Pe;++Pe)m3[112+Pe]=-16>Pe?-16:15<Pe?15:Pe;for(Pe=-255;510>=Pe;++Pe)g3[255+Pe]=0>Pe?0:255<Pe?255:Pe;v3=1}eu=Zi,If=Wd,dl=to,Xr=zh,hn=al,oo=Gd,oa=Tf,Ra=Fo,Xl=K,n1=ge,Jh=$c,Gm=L,a3=Ae,i3=Ne,s3=cl,o3=ul,l3=Kh,c3=Sf,Mo[0]=Hl,Mo[1]=qh,Mo[2]=zc,Mo[3]=Wh,Mo[4]=Oi,Mo[5]=Ef,Mo[6]=ro,Mo[7]=_n,Mo[8]=Af,Mo[9]=qc,tu[0]=$d,tu[1]=Gh,tu[2]=Vc,tu[3]=Oo,tu[4]=ql,tu[5]=es,tu[6]=Xd,Kl[0]=Hc,Kl[1]=Hh,Kl[2]=sl,Kl[3]=$h,Kl[4]=Gc,Kl[5]=ts,Kl[6]=Xh,Pe=1}else Pe=0}Pe&&(Pe=function(Dr,La){for(Dr.M=0;Dr.M<Dr.Va;++Dr.M){var gr,Bt=Dr.Jc[Dr.M&Dr.Xb],Et=Dr.m,la=Dr;for(gr=0;gr<la.za;++gr){var fr=Et,Or=la,Nn=Or.Ac,Ja=Or.Bc+4*gr,Ui=Or.zc,$n=Or.ya[Or.aa+gr];if(Or.Qa.Bb?$n.$b=ve(fr,Or.Pa.jb[0])?2+ve(fr,Or.Pa.jb[2]):ve(fr,Or.Pa.jb[1]):$n.$b=0,Or.kc&&($n.Ad=ve(fr,Or.Bd)),$n.Za=!ve(fr,145)+0,$n.Za){var mi=$n.Ob,ji=0;for(Or=0;4>Or;++Or){var Da,Ur=Ui[0+Or];for(Da=0;4>Da;++Da){Ur=bF[Nn[Ja+Da]][Ur];for(var Yr=w3[ve(fr,Ur[0])];0<Yr;)Yr=w3[2*Yr+ve(fr,Ur[Yr])];Ur=-Yr,Nn[Ja+Da]=Ur}n(mi,ji,Nn,Ja,4),ji+=4,Ui[0+Or]=Ur}}else Ur=ve(fr,156)?ve(fr,128)?1:3:ve(fr,163)?2:0,$n.Ob[0]=Ur,a(Nn,Ja,Ur,4),a(Ui,0,Ur,4);$n.Dd=ve(fr,142)?ve(fr,114)?ve(fr,183)?1:3:2:0}if(la.m.Ka)return xn(Dr,7,"Premature end-of-partition0 encountered.");for(;Dr.ja<Dr.za;++Dr.ja){if(la=Bt,fr=(Et=Dr).rb[Et.sb-1],Nn=Et.rb[Et.sb+Et.ja],gr=Et.ya[Et.aa+Et.ja],Ja=Et.kc?gr.Ad:0)fr.la=Nn.la=0,gr.Za||(fr.Na=Nn.Na=0),gr.Hc=0,gr.Gc=0,gr.ia=0;else{var Xn,Qr;if(fr=Nn,Nn=la,Ja=Et.Pa.Xc,Ui=Et.ya[Et.aa+Et.ja],$n=Et.pb[Ui.$b],Or=Ui.ad,mi=0,ji=Et.rb[Et.sb-1],Ur=Da=0,a(Or,mi,0,384),Ui.Za)var Za=0,Bo=Ja[3];else{Yr=i(16);var ca=fr.Na+ji.Na;if(ca=i1(Nn,Ja[1],ca,$n.Eb,0,Yr,0),fr.Na=ji.Na=(0<ca)+0,1<ca)eu(Yr,0,Or,mi);else{var rs=Yr[0]+3>>3;for(Yr=0;256>Yr;Yr+=16)Or[mi+Yr]=rs}Za=1,Bo=Ja[0]}var dn=15&fr.la,Pa=15&ji.la;for(Yr=0;4>Yr;++Yr){var Ss=1&Pa;for(rs=Qr=0;4>rs;++rs)dn=dn>>1|(Ss=(ca=i1(Nn,Bo,ca=Ss+(1&dn),$n.Sc,Za,Or,mi))>Za)<<7,Qr=Qr<<2|(3<ca?3:1<ca?2:Or[mi+0]!=0),mi+=16;dn>>=4,Pa=Pa>>1|Ss<<7,Da=(Da<<8|Qr)>>>0}for(Bo=dn,Za=Pa>>4,Xn=0;4>Xn;Xn+=2){for(Qr=0,dn=fr.la>>4+Xn,Pa=ji.la>>4+Xn,Yr=0;2>Yr;++Yr){for(Ss=1&Pa,rs=0;2>rs;++rs)ca=Ss+(1&dn),dn=dn>>1|(Ss=0<(ca=i1(Nn,Ja[2],ca,$n.Qc,0,Or,mi)))<<3,Qr=Qr<<2|(3<ca?3:1<ca?2:Or[mi+0]!=0),mi+=16;dn>>=2,Pa=Pa>>1|Ss<<5}Ur|=Qr<<4*Xn,Bo|=dn<<4<<Xn,Za|=(240&Pa)<<Xn}fr.la=Bo,ji.la=Za,Ui.Hc=Da,Ui.Gc=Ur,Ui.ia=43690&Ur?0:$n.ia,Ja=!(Da|Ur)}if(0<Et.L&&(Et.wa[Et.Y+Et.ja]=Et.gd[gr.$b][gr.Za],Et.wa[Et.Y+Et.ja].La|=!Ja),la.Ka)return xn(Dr,7,"Premature end-of-file encountered.")}if(zl(Dr),Et=La,la=1,gr=(Bt=Dr).D,fr=0<Bt.L&&Bt.M>=Bt.zb&&Bt.M<=Bt.Va,Bt.Aa==0)t:{if(gr.M=Bt.M,gr.uc=fr,so(Bt,gr),la=1,gr=(Qr=Bt.D).Nb,fr=(Ur=eg[Bt.L])*Bt.R,Nn=Ur/2*Bt.B,Yr=16*gr*Bt.R,rs=8*gr*Bt.B,Ja=Bt.sa,Ui=Bt.ta-fr+Yr,$n=Bt.qa,Or=Bt.ra-Nn+rs,mi=Bt.Ha,ji=Bt.Ia-Nn+rs,Pa=(dn=Qr.M)==0,Da=dn>=Bt.Va-1,Bt.Aa==2&&so(Bt,Qr),Qr.uc)for(Ss=(ca=Bt).D.M,e(ca.D.uc),Qr=ca.yb;Qr<ca.Hb;++Qr){Za=Qr,Bo=Ss;var Vi=(Ts=(ei=ca).D).Nb;Xn=ei.R;var Ts=Ts.wa[Ts.Y+Za],Cs=ei.sa,ns=ei.ta+16*Vi*Xn+16*Za,ks=Ts.dd,An=Ts.tc;if(An!=0)if(e(3<=An),ei.L==1)0<Za&&o3(Cs,ns,Xn,An+4),Ts.La&&c3(Cs,ns,Xn,An),0<Bo&&s3(Cs,ns,Xn,An+4),Ts.La&&l3(Cs,ns,Xn,An);else{var Ns=ei.B,Uo=ei.qa,Rf=ei.ra+8*Vi*Ns+8*Za,Yl=ei.Ha,ei=ei.Ia+8*Vi*Ns+8*Za;Vi=Ts.ld,0<Za&&(Ra(Cs,ns,Xn,An+4,ks,Vi),n1(Uo,Rf,Yl,ei,Ns,An+4,ks,Vi)),Ts.La&&(Gm(Cs,ns,Xn,An,ks,Vi),i3(Uo,Rf,Yl,ei,Ns,An,ks,Vi)),0<Bo&&(oa(Cs,ns,Xn,An+4,ks,Vi),Xl(Uo,Rf,Yl,ei,Ns,An+4,ks,Vi)),Ts.La&&(Jh(Cs,ns,Xn,An,ks,Vi),a3(Uo,Rf,Yl,ei,Ns,An,ks,Vi))}}if(Bt.ia&&alert("todo:DitherRow"),Et.put!=null){if(Qr=16*dn,dn=16*(dn+1),Pa?(Et.y=Bt.sa,Et.O=Bt.ta+Yr,Et.f=Bt.qa,Et.N=Bt.ra+rs,Et.ea=Bt.Ha,Et.W=Bt.Ia+rs):(Qr-=Ur,Et.y=Ja,Et.O=Ui,Et.f=$n,Et.N=Or,Et.ea=mi,Et.W=ji),Da||(dn-=Ur),dn>Et.o&&(dn=Et.o),Et.F=null,Et.J=null,Bt.Fa!=null&&0<Bt.Fa.length&&Qr<dn&&(Et.J=v(Bt,Et,Qr,dn-Qr),Et.F=Bt.mb,Et.F==null&&Et.F.length==0)){la=xn(Bt,3,"Could not decode alpha data.");break t}Qr<Et.j&&(Ur=Et.j-Qr,Qr=Et.j,e(!(1&Ur)),Et.O+=Bt.R*Ur,Et.N+=Bt.B*(Ur>>1),Et.W+=Bt.B*(Ur>>1),Et.F!=null&&(Et.J+=Et.width*Ur)),Qr<dn&&(Et.O+=Et.v,Et.N+=Et.v>>1,Et.W+=Et.v>>1,Et.F!=null&&(Et.J+=Et.v),Et.ka=Qr-Et.j,Et.U=Et.va-Et.v,Et.T=dn-Qr,la=Et.put(Et))}gr+1!=Bt.Ic||Da||(n(Bt.sa,Bt.ta-fr,Ja,Ui+16*Bt.R,fr),n(Bt.qa,Bt.ra-Nn,$n,Or+8*Bt.B,Nn),n(Bt.Ha,Bt.Ia-Nn,mi,ji+8*Bt.B,Nn))}if(!la)return xn(Dr,6,"Output aborted.")}return 1}(_e,Ce)),Ce.bc!=null&&Ce.bc(Ce),Pe&=1}return Pe?(_e.cb=0,Pe):0})(g,z)||(E=g.a)}}else E=g.a}E==0&&te.Oa!=null&&te.Oa.fd&&(E=Qd(te.ba))}te=E}ee=te!=0?null:11>ee?ae.f.RGBA.eb:ae.f.kb.y}else ee=null;return ee};var N3=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(y,R){for(var S="",k=0;k<4;k++)S+=String.fromCharCode(y[R++]);return S}function u(y,R){return y[R+0]|y[R+1]<<8}function h(y,R){return(y[R+0]|y[R+1]<<8|y[R+2]<<16)>>>0}function d(y,R){return(y[R+0]|y[R+1]<<8|y[R+2]<<16|y[R+3]<<24)>>>0}new l;var f=[0],p=[0],m=[],_=new l,x=t,T=function(y,R){var S={},k=0,C=!1,H=0,X=0;if(S.frames=[],!function(D,F){for(var U=0;U<4;U++)if(D[F+U]!="RIFF".charCodeAt(U))return!0;return!1}(y,R)){for(d(y,R+=4),R+=8;R<y.length;){var V=c(y,R),q=d(y,R+=4);R+=4;var re=q+(1&q);switch(V){case"VP8 ":case"VP8L":S.frames[k]===void 0&&(S.frames[k]={}),(Ee=S.frames[k]).src_off=C?X:R-8,Ee.src_size=H+q+8,k++,C&&(C=!1,H=0,X=0);break;case"VP8X":(Ee=S.header={}).feature_flags=y[R];var W=R+4;Ee.canvas_width=1+h(y,W),W+=3,Ee.canvas_height=1+h(y,W),W+=3;break;case"ALPH":C=!0,H=re+8,X=R-8;break;case"ANIM":(Ee=S.header).bgcolor=d(y,R),W=R+4,Ee.loop_count=u(y,W),W+=2;break;case"ANMF":var me,Ee;(Ee=S.frames[k]={}).offset_x=2*h(y,R),R+=3,Ee.offset_y=2*h(y,R),R+=3,Ee.width=1+h(y,R),R+=3,Ee.height=1+h(y,R),R+=3,Ee.duration=h(y,R),R+=3,me=y[R++],Ee.dispose=1&me,Ee.blend=me>>1&1}V!="ANMF"&&(R+=re)}return S}}(x,0);T.response=x,T.rgbaoutput=!0,T.dataurl=!1;var b=T.header?T.header:null,I=T.frames?T.frames:null;if(b){b.loop_counter=b.loop_count,f=[b.canvas_height],p=[b.canvas_width];for(var j=0;j<I.length&&I[j].blend!=0;j++);}var O=I[0],N=_.WebPDecodeRGBA(x,O.src_off,O.src_size,p,f);O.rgba=N,O.imgwidth=p[0],O.imgheight=f[0];for(var A=0;A<p[0]*f[0]*4;A++)m[A]=N[A];return this.width=p,this.height=f,this.data=m,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function YQ(){var t,e=this.internal.__metadata__.metadata,r=unescape(encodeURIComponent(e));t=this.internal.__metadata__.rawXml?r:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+t.length+" >>"),this.internal.write("stream"),this.internal.write(t),this.internal.write("endstream"),this.internal.write("endobj")}function QQ(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(t){var e,r,n,a,i,s,o,l,c,u=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new l,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new s,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new s,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var F=D;Object.defineProperty(this,"pdf",{get:function(){return F}});var U=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return U},set:function(J){U=!!J}});var M=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return M},set:function(J){M=!!J}});var Y=0;Object.defineProperty(this,"posX",{get:function(){return Y},set:function(J){isNaN(J)||(Y=J)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(J){isNaN(J)||(se=J)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(J){var Ie;typeof J=="number"?Ie=[J,J,J,J]:((Ie=new Array(4))[0]=J[0],Ie[1]=J.length>=2?J[1]:Ie[0],Ie[2]=J.length>=3?J[2]:Ie[0],Ie[3]=J.length>=4?J[3]:Ie[1]),c.margin=Ie}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(J){he=J}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(J){fe=J}});var ve=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ve},set:function(J){ve=J}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(J){J instanceof u&&(c=J)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(J){c.path=J}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(J){ke=J}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(J){var Ie;Ie=d(J),this.ctx.fillStyle=Ie.style,this.ctx.isFillTransparent=Ie.a===0,this.ctx.fillOpacity=Ie.a,this.pdf.setFillColor(Ie.r,Ie.g,Ie.b,{a:Ie.a}),this.pdf.setTextColor(Ie.r,Ie.g,Ie.b,{a:Ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(J){var Ie=d(J);this.ctx.strokeStyle=Ie.style,this.ctx.isStrokeTransparent=Ie.a===0,this.ctx.strokeOpacity=Ie.a,Ie.a===0?this.pdf.setDrawColor(255,255,255):(Ie.a,this.pdf.setDrawColor(Ie.r,Ie.g,Ie.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(J){["butt","round","square"].indexOf(J)!==-1&&(this.ctx.lineCap=J,this.pdf.setLineCap(J))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(J){isNaN(J)||(this.ctx.lineWidth=J,this.pdf.setLineWidth(J))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(J){["bevel","round","miter"].indexOf(J)!==-1&&(this.ctx.lineJoin=J,this.pdf.setLineJoin(J))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(J){isNaN(J)||(this.ctx.miterLimit=J,this.pdf.setMiterLimit(J))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(J){this.ctx.textBaseline=J}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(J){["right","end","center","left","start"].indexOf(J)!==-1&&(this.ctx.textAlign=J)}});var ne=null,be=null,Me=null;Object.defineProperty(this,"fontFaces",{get:function(){return Me},set:function(J){ne=null,be=null,Me=J}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(J){var Ie;if(this.ctx.font=J,(Ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(J))!==null){var Re=Ie[1];Ie[2];var De=Ie[3],Te=Ie[4];Ie[5];var Qe=Ie[6],Ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Te)[2];Te=Math.floor(Ye==="px"?parseFloat(Te)*this.pdf.internal.scaleFactor:Ye==="em"?parseFloat(Te)*this.pdf.getFontSize():parseFloat(Te)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Te);var we=function(ct){var Ft,bt,Nt=[],zt=ct.trim();if(zt==="")return By;if(zt in eC)return[eC[zt]];for(;zt!=="";){switch(bt=null,Ft=(zt=rC(zt)).charAt(0)){case'"':case"'":bt=HQ(zt.substring(1),Ft);break;default:bt=GQ(zt)}if(bt===null||(Nt.push(bt[0]),(zt=rC(bt[1]))!==""&&zt.charAt(0)!==","))return By;zt=zt.replace(/^,/,"")}return Nt}(Qe);if(this.fontFaces){var qe=function(ct,Ft){var bt=ct.getFontList(),Nt=JSON.stringify(bt);if(ne===null||be!==Nt){var zt=function(xr){var Pt=[];return Object.keys(xr).forEach(function(Oe){xr[Oe].forEach(function(ut){var dt=null;switch(ut){case"bold":dt={family:Oe,weight:"bold"};break;case"italic":dt={family:Oe,style:"italic"};break;case"bolditalic":dt={family:Oe,weight:"bold",style:"italic"};break;case"":case"normal":dt={family:Oe}}dt!==null&&(dt.ref={name:Oe,style:ut},Pt.push(dt))})}),Pt}(bt);ne=function(xr){for(var Pt={},Oe=0;Oe<xr.length;++Oe){var ut=My(xr[Oe]),dt=ut.family,Qt=ut.stretch,Ct=ut.style,kt=ut.weight;Pt[dt]=Pt[dt]||{},Pt[dt][Qt]=Pt[dt][Qt]||{},Pt[dt][Qt][Ct]=Pt[dt][Qt][Ct]||{},Pt[dt][Qt][Ct][kt]=ut}return Pt}(zt.concat(Ft)),be=Nt}return ne}(this.pdf,this.fontFaces),tt=we.map(function(ct){return{family:ct,stretch:"normal",weight:De,style:Re}}),at=function(ct,Ft,bt){for(var Nt=(bt=bt||{}).defaultFontFamily||"times",zt=Object.assign({},qQ,bt.genericFontFamilies||{}),xr=null,Pt=null,Oe=0;Oe<Ft.length;++Oe)if(zt[(xr=My(Ft[Oe])).family]&&(xr.family=zt[xr.family]),ct.hasOwnProperty(xr.family)){Pt=ct[xr.family];break}if(!(Pt=Pt||ct[Nt]))throw new Error("Could not find a font-family for the rule '"+tC(xr)+"' and default family '"+Nt+"'.");if(Pt=function(ut,dt){if(dt[ut])return dt[ut];var Qt=jw[ut],Ct=Qt<=jw.normal?-1:1,kt=Z6(dt,UD,Qt,Ct);if(!kt)throw new Error("Could not find a matching font-stretch value for "+ut);return kt}(xr.stretch,Pt),Pt=function(ut,dt){if(dt[ut])return dt[ut];for(var Qt=BD[ut],Ct=0;Ct<Qt.length;++Ct)if(dt[Qt[Ct]])return dt[Qt[Ct]];throw new Error("Could not find a matching font-style for "+ut)}(xr.style,Pt),!(Pt=function(ut,dt){if(dt[ut])return dt[ut];if(ut===400&&dt[500])return dt[500];if(ut===500&&dt[400])return dt[400];var Qt=zQ[ut],Ct=Z6(dt,jD,Qt,ut<400?-1:1);if(!Ct)throw new Error("Could not find a matching font-weight for value "+ut);return Ct}(xr.weight,Pt)))throw new Error("Failed to resolve a font for the rule '"+tC(xr)+"'.");return Pt}(qe,tt);this.pdf.setFont(at.ref.name,at.ref.style)}else{var Tt="";(De==="bold"||parseInt(De,10)>=700||Re==="bold")&&(Tt="bold"),Re==="italic"&&(Tt+="italic"),Tt.length===0&&(Tt="normal");for(var $t="",At={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},vt=0;vt<we.length;vt++){if(this.pdf.internal.getFont(we[vt],Tt,{noFallback:!0,disableWarning:!0})!==void 0){$t=we[vt];break}if(Tt==="bolditalic"&&this.pdf.internal.getFont(we[vt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)$t=we[vt],Tt="bold";else if(this.pdf.internal.getFont(we[vt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){$t=we[vt],Tt="normal";break}}if($t===""){for(var lt=0;lt<we.length;lt++)if(At[we[lt]]){$t=At[we[lt]];break}}$t=$t===""?"Times":$t,this.pdf.setFont($t,Tt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(J){this.ctx.globalCompositeOperation=J}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(J){this.ctx.globalAlpha=J}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(J){this.ctx.lineDashOffset=J,Ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(J){this.ctx.lineDash=J,Ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(J){this.ctx.ignoreClearRect=!!J}})};h.prototype.setLineDash=function(D){this.lineDash=D},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){I.call(this,"fill",!1)},h.prototype.stroke=function(){I.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(D,F){if(isNaN(D)||isNaN(F))throw pn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var U=this.ctx.transform.applyToPoint(new s(D,F));this.path.push({type:"mt",x:U.x,y:U.y}),this.ctx.lastPoint=new s(D,F)},h.prototype.closePath=function(){var D=new s(0,0),F=0;for(F=this.path.length-1;F!==-1;F--)if(this.path[F].type==="begin"&&rn(this.path[F+1])==="object"&&typeof this.path[F+1].x=="number"){D=new s(this.path[F+1].x,this.path[F+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(D.x,D.y)},h.prototype.lineTo=function(D,F){if(isNaN(D)||isNaN(F))throw pn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var U=this.ctx.transform.applyToPoint(new s(D,F));this.path.push({type:"lt",x:U.x,y:U.y}),this.ctx.lastPoint=new s(U.x,U.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),I.call(this,null,!0)},h.prototype.quadraticCurveTo=function(D,F,U,M){if(isNaN(U)||isNaN(M)||isNaN(D)||isNaN(F))throw pn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Y=this.ctx.transform.applyToPoint(new s(U,M)),se=this.ctx.transform.applyToPoint(new s(D,F));this.path.push({type:"qct",x1:se.x,y1:se.y,x:Y.x,y:Y.y}),this.ctx.lastPoint=new s(Y.x,Y.y)},h.prototype.bezierCurveTo=function(D,F,U,M,Y,se){if(isNaN(Y)||isNaN(se)||isNaN(D)||isNaN(F)||isNaN(U)||isNaN(M))throw pn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new s(Y,se)),fe=this.ctx.transform.applyToPoint(new s(D,F)),ve=this.ctx.transform.applyToPoint(new s(U,M));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:ve.x,y2:ve.y,x:he.x,y:he.y}),this.ctx.lastPoint=new s(he.x,he.y)},h.prototype.arc=function(D,F,U,M,Y,se){if(isNaN(D)||isNaN(F)||isNaN(U)||isNaN(M)||isNaN(Y))throw pn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new s(D,F));D=he.x,F=he.y;var fe=this.ctx.transform.applyToPoint(new s(0,U)),ve=this.ctx.transform.applyToPoint(new s(0,0));U=Math.sqrt(Math.pow(fe.x-ve.x,2)+Math.pow(fe.y-ve.y,2))}Math.abs(Y-M)>=2*Math.PI&&(M=0,Y=2*Math.PI),this.path.push({type:"arc",x:D,y:F,radius:U,startAngle:M,endAngle:Y,counterclockwise:se})},h.prototype.arcTo=function(D,F,U,M,Y){throw new Error("arcTo not implemented.")},h.prototype.rect=function(D,F,U,M){if(isNaN(D)||isNaN(F)||isNaN(U)||isNaN(M))throw pn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,F),this.lineTo(D+U,F),this.lineTo(D+U,F+M),this.lineTo(D,F+M),this.lineTo(D,F),this.lineTo(D+U,F),this.lineTo(D,F)},h.prototype.fillRect=function(D,F,U,M){if(isNaN(D)||isNaN(F)||isNaN(U)||isNaN(M))throw pn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var Y={};this.lineCap!=="butt"&&(Y.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Y.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,F,U,M),this.fill(),Y.hasOwnProperty("lineCap")&&(this.lineCap=Y.lineCap),Y.hasOwnProperty("lineJoin")&&(this.lineJoin=Y.lineJoin)}},h.prototype.strokeRect=function(D,F,U,M){if(isNaN(D)||isNaN(F)||isNaN(U)||isNaN(M))throw pn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(D,F,U,M),this.stroke())},h.prototype.clearRect=function(D,F,U,M){if(isNaN(D)||isNaN(F)||isNaN(U)||isNaN(M))throw pn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,F,U,M))},h.prototype.save=function(D){D=typeof D!="boolean"||D;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("q");if(this.pdf.setPage(F),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var M=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=M}},h.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("Q");this.pdf.setPage(F),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(D){var F,U,M,Y;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))F=0,U=0,M=0,Y=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(se!==null)F=parseInt(se[1]),U=parseInt(se[2]),M=parseInt(se[3]),Y=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)F=parseInt(se[1]),U=parseInt(se[2]),M=parseInt(se[3]),Y=parseFloat(se[4]);else{if(Y=1,typeof D=="string"&&D.charAt(0)!=="#"){var he=new RD(D);D=he.ok?he.toHex():"#000000"}D.length===4?(F=D.substring(1,2),F+=F,U=D.substring(2,3),U+=U,M=D.substring(3,4),M+=M):(F=D.substring(1,3),U=D.substring(3,5),M=D.substring(5,7)),F=parseInt(F,16),U=parseInt(U,16),M=parseInt(M,16)}}return{r:F,g:U,b:M,a:Y,style:D}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(D,F,U,M){if(isNaN(F)||isNaN(U)||typeof D!="string")throw pn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(M=isNaN(M)?void 0:M,!f.call(this)){var Y=re(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;k.call(this,{text:D,x:F,y:U,scale:se,angle:Y,align:this.textAlign,maxWidth:M})}},h.prototype.strokeText=function(D,F,U,M){if(isNaN(F)||isNaN(U)||typeof D!="string")throw pn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){M=isNaN(M)?void 0:M;var Y=re(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;k.call(this,{text:D,x:F,y:U,scale:se,renderingMode:"stroke",angle:Y,align:this.textAlign,maxWidth:M})}},h.prototype.measureText=function(D){if(typeof D!="string")throw pn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var F=this.pdf,U=this.pdf.internal.scaleFactor,M=F.internal.getFontSize(),Y=F.getStringUnitWidth(D)*M/F.internal.scaleFactor;return new function(se){var he=(se=se||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return he}}),this}({width:Y*=Math.round(96*U/72*1e4)/1e4})},h.prototype.scale=function(D,F){if(isNaN(D)||isNaN(F))throw pn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var U=new l(D,0,0,F,0,0);this.ctx.transform=this.ctx.transform.multiply(U)},h.prototype.rotate=function(D){if(isNaN(D))throw pn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var F=new l(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(F)},h.prototype.translate=function(D,F){if(isNaN(D)||isNaN(F))throw pn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var U=new l(1,0,0,1,D,F);this.ctx.transform=this.ctx.transform.multiply(U)},h.prototype.transform=function(D,F,U,M,Y,se){if(isNaN(D)||isNaN(F)||isNaN(U)||isNaN(M)||isNaN(Y)||isNaN(se))throw pn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new l(D,F,U,M,Y,se);this.ctx.transform=this.ctx.transform.multiply(he)},h.prototype.setTransform=function(D,F,U,M,Y,se){D=isNaN(D)?1:D,F=isNaN(F)?0:F,U=isNaN(U)?0:U,M=isNaN(M)?1:M,Y=isNaN(Y)?0:Y,se=isNaN(se)?0:se,this.ctx.transform=new l(D,F,U,M,Y,se)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(D,F,U,M,Y,se,he,fe,ve){var ke=this.pdf.getImageProperties(D),ne=1,be=1,Me=1,J=1;M!==void 0&&fe!==void 0&&(Me=fe/M,J=ve/Y,ne=ke.width/M*fe/M,be=ke.height/Y*ve/Y),se===void 0&&(se=F,he=U,F=0,U=0),M!==void 0&&fe===void 0&&(fe=M,ve=Y),M===void 0&&fe===void 0&&(fe=ke.width,ve=ke.height);var Ie=this.ctx.transform.decompose(),Re=re(Ie.rotate.shx),De=new l,Te=(De=(De=(De=De.multiply(Ie.translate)).multiply(Ie.skew)).multiply(Ie.scale)).applyToRectangle(new o(se-F*Me,he-U*J,M*ne,Y*be));if(this.autoPaging){for(var Qe,Ye=_.call(this,Te),we=[],qe=0;qe<Ye.length;qe+=1)we.indexOf(Ye[qe])===-1&&we.push(Ye[qe]);b(we);for(var tt=we[0],at=we[we.length-1],Tt=tt;Tt<at+1;Tt++){this.pdf.setPage(Tt);var $t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],At=Tt===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=Tt===1?0:vt+(Tt-2)*lt;if(this.ctx.clip_path.length!==0){var Ft=this.path;Qe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(Qe,this.posX+this.margin[3],-ct+At+this.ctx.prevPageLastElemOffset),j.call(this,"fill",!0),this.path=Ft}var bt=JSON.parse(JSON.stringify(Te));bt=T([bt],this.posX+this.margin[3],-ct+At+this.ctx.prevPageLastElemOffset)[0];var Nt=(Tt>tt||Tt<at)&&m.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$t,lt,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",bt.x,bt.y,bt.w,bt.h,null,null,Re),Nt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(D,"JPEG",Te.x,Te.y,Te.w,Te.h,null,null,Re)};var _=function(D,F,U){var M=[];F=F||this.pdf.internal.pageSize.width,U=U||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Y=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":M.push(Math.floor((D.y+Y)/U)+1);break;case"arc":M.push(Math.floor((D.y+Y-D.radius)/U)+1),M.push(Math.floor((D.y+Y+D.radius)/U)+1);break;case"qct":var se=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);M.push(Math.floor((se.y+Y)/U)+1),M.push(Math.floor((se.y+se.h+Y)/U)+1);break;case"bct":var he=me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);M.push(Math.floor((he.y+Y)/U)+1),M.push(Math.floor((he.y+he.h+Y)/U)+1);break;case"rect":M.push(Math.floor((D.y+Y)/U)+1),M.push(Math.floor((D.y+D.h+Y)/U)+1)}for(var fe=0;fe<M.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<M[fe];)x.call(this);return M},x=function(){var D=this.fillStyle,F=this.strokeStyle,U=this.font,M=this.lineCap,Y=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=F,this.font=U,this.lineCap=M,this.lineWidth=Y,this.lineJoin=se},T=function(D,F,U){for(var M=0;M<D.length;M++)switch(D[M].type){case"bct":D[M].x2+=F,D[M].y2+=U;case"qct":D[M].x1+=F,D[M].y1+=U;default:D[M].x+=F,D[M].y+=U}return D},b=function(D){return D.sort(function(F,U){return F-U})},I=function(D,F){var U=this.fillStyle,M=this.strokeStyle,Y=this.lineCap,se=this.lineWidth,he=Math.abs(se*this.ctx.transform.scaleX),fe=this.lineJoin;if(this.autoPaging){for(var ve,ke,ne=JSON.parse(JSON.stringify(this.path)),be=JSON.parse(JSON.stringify(this.path)),Me=[],J=0;J<be.length;J++)if(be[J].x!==void 0)for(var Ie=_.call(this,be[J]),Re=0;Re<Ie.length;Re+=1)Me.indexOf(Ie[Re])===-1&&Me.push(Ie[Re]);for(var De=0;De<Me.length;De++)for(;this.pdf.internal.getNumberOfPages()<Me[De];)x.call(this);b(Me);for(var Te=Me[0],Qe=Me[Me.length-1],Ye=Te;Ye<Qe+1;Ye++){this.pdf.setPage(Ye),this.fillStyle=U,this.strokeStyle=M,this.lineCap=Y,this.lineWidth=he,this.lineJoin=fe;var we=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],qe=Ye===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Tt=Ye===1?0:tt+(Ye-2)*at;if(this.ctx.clip_path.length!==0){var $t=this.path;ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(ve,this.posX+this.margin[3],-Tt+qe+this.ctx.prevPageLastElemOffset),j.call(this,D,!0),this.path=$t}if(ke=JSON.parse(JSON.stringify(ne)),this.path=T(ke,this.posX+this.margin[3],-Tt+qe+this.ctx.prevPageLastElemOffset),F===!1||Ye===0){var At=(Ye>Te||Ye<Qe)&&m.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],we,at,null).clip().discardPath()),j.call(this,D,F),At&&this.pdf.restoreGraphicsState()}this.lineWidth=se}this.path=ne}else this.lineWidth=he,j.call(this,D,F),this.lineWidth=se},j=function(D,F){if((D!=="stroke"||F||!p.call(this))&&(D==="stroke"||F||!f.call(this))){for(var U,M,Y=[],se=this.path,he=0;he<se.length;he++){var fe=se[he];switch(fe.type){case"begin":Y.push({begin:!0});break;case"close":Y.push({close:!0});break;case"mt":Y.push({start:fe,deltas:[],abs:[]});break;case"lt":var ve=Y.length;if(se[he-1]&&!isNaN(se[he-1].x)&&(U=[fe.x-se[he-1].x,fe.y-se[he-1].y],ve>0)){for(;ve>=0;ve--)if(Y[ve-1].close!==!0&&Y[ve-1].begin!==!0){Y[ve-1].deltas.push(U),Y[ve-1].abs.push(fe);break}}break;case"bct":U=[fe.x1-se[he-1].x,fe.y1-se[he-1].y,fe.x2-se[he-1].x,fe.y2-se[he-1].y,fe.x-se[he-1].x,fe.y-se[he-1].y],Y[Y.length-1].deltas.push(U);break;case"qct":var ke=se[he-1].x+2/3*(fe.x1-se[he-1].x),ne=se[he-1].y+2/3*(fe.y1-se[he-1].y),be=fe.x+2/3*(fe.x1-fe.x),Me=fe.y+2/3*(fe.y1-fe.y),J=fe.x,Ie=fe.y;U=[ke-se[he-1].x,ne-se[he-1].y,be-se[he-1].x,Me-se[he-1].y,J-se[he-1].x,Ie-se[he-1].y],Y[Y.length-1].deltas.push(U);break;case"arc":Y.push({deltas:[],abs:[],arc:!0}),Array.isArray(Y[Y.length-1].abs)&&Y[Y.length-1].abs.push(fe)}}M=F?null:D==="stroke"?"stroke":"fill";for(var Re=!1,De=0;De<Y.length;De++)if(Y[De].arc)for(var Te=Y[De].abs,Qe=0;Qe<Te.length;Qe++){var Ye=Te[Qe];Ye.type==="arc"?A.call(this,Ye.x,Ye.y,Ye.radius,Ye.startAngle,Ye.endAngle,Ye.counterclockwise,void 0,F,!Re):C.call(this,Ye.x,Ye.y),Re=!0}else if(Y[De].close===!0)this.pdf.internal.out("h"),Re=!1;else if(Y[De].begin!==!0){var we=Y[De].start.x,qe=Y[De].start.y;H.call(this,Y[De].deltas,we,qe),Re=!0}M&&y.call(this,M),F&&R.call(this)}},O=function(D){var F=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,U=F*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-U;case"top":return D+F-U;case"hanging":return D+F-2*U;case"middle":return D+F/2-U;default:return D}},N=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(F,U){this.colorStops.push([F,U])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(D,F,U,M,Y,se,he,fe,ve){for(var ke=V.call(this,U,M,Y,se),ne=0;ne<ke.length;ne++){var be=ke[ne];ne===0&&(ve?S.call(this,be.x1+D,be.y1+F):C.call(this,be.x1+D,be.y1+F)),X.call(this,D,F,be.x2,be.y2,be.x3,be.y3,be.x4,be.y4)}fe?R.call(this):y.call(this,he)},y=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(D,F){this.pdf.internal.out(r(D)+" "+n(F)+" m")},k=function(D){var F;switch(D.align){case"right":case"end":F="right";break;case"center":F="center";break;default:F="left"}var U,M,Y,se=this.pdf.getTextDimensions(D.text),he=O.call(this,D.y),fe=N.call(this,he)-se.h,ve=this.ctx.transform.applyToPoint(new s(D.x,he));if(this.autoPaging){var ke=this.ctx.transform.decompose(),ne=new l;ne=(ne=(ne=ne.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale);for(var be=this.ctx.transform.applyToRectangle(new o(D.x,he,se.w,se.h)),Me=ne.applyToRectangle(new o(D.x,fe,se.w,se.h)),J=_.call(this,Me),Ie=[],Re=0;Re<J.length;Re+=1)Ie.indexOf(J[Re])===-1&&Ie.push(J[Re]);b(Ie);for(var De=Ie[0],Te=Ie[Ie.length-1],Qe=De;Qe<Te+1;Qe++){this.pdf.setPage(Qe);var Ye=Qe===1?this.posY+this.margin[0]:this.margin[0],we=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qe=this.pdf.internal.pageSize.height-this.margin[2],tt=qe-this.margin[0],at=this.pdf.internal.pageSize.width-this.margin[1],Tt=at-this.margin[3],$t=Qe===1?0:we+(Qe-2)*tt;if(this.ctx.clip_path.length!==0){var At=this.path;U=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(U,this.posX+this.margin[3],-1*$t+Ye),j.call(this,"fill",!0),this.path=At}var vt=T([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-$t+Ye+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(M=this.pdf.internal.getFontSize(),this.pdf.setFontSize(M*D.scale),Y=this.lineWidth,this.lineWidth=Y*D.scale);var lt=this.autoPaging!=="text";if(lt||vt.y+vt.h<=qe){if(lt||vt.y>=Ye&&vt.x<=at){var ct=lt?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||at-vt.x)[0],Ft=T([JSON.parse(JSON.stringify(be))],this.posX+this.margin[3],-$t+Ye+this.ctx.prevPageLastElemOffset)[0],bt=lt&&(Qe>De||Qe<Te)&&m.call(this);bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tt,tt,null).clip().discardPath()),this.pdf.text(ct,Ft.x,Ft.y,{angle:D.angle,align:F,renderingMode:D.renderingMode}),bt&&this.pdf.restoreGraphicsState()}}else vt.y<qe&&(this.ctx.prevPageLastElemOffset+=qe-vt.y);D.scale>=.01&&(this.pdf.setFontSize(M),this.lineWidth=Y)}}else D.scale>=.01&&(M=this.pdf.internal.getFontSize(),this.pdf.setFontSize(M*D.scale),Y=this.lineWidth,this.lineWidth=Y*D.scale),this.pdf.text(D.text,ve.x+this.posX,ve.y+this.posY,{angle:D.angle,align:F,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(M),this.lineWidth=Y)},C=function(D,F,U,M){U=U||0,M=M||0,this.pdf.internal.out(r(D+U)+" "+n(F+M)+" l")},H=function(D,F,U){return this.pdf.lines(D,F,U,null,null)},X=function(D,F,U,M,Y,se,he,fe){this.pdf.internal.out([e(a(U+D)),e(i(M+F)),e(a(Y+D)),e(i(se+F)),e(a(he+D)),e(i(fe+F)),"c"].join(" "))},V=function(D,F,U,M){for(var Y=2*Math.PI,se=Math.PI/2;F>U;)F-=Y;var he=Math.abs(U-F);he<Y&&M&&(he=Y-he);for(var fe=[],ve=M?-1:1,ke=F;he>1e-5;){var ne=ke+ve*Math.min(he,se);fe.push(q.call(this,D,ke,ne)),he-=Math.abs(ne-ke),ke=ne}return fe},q=function(D,F,U){var M=(U-F)/2,Y=D*Math.cos(M),se=D*Math.sin(M),he=Y,fe=-se,ve=he*he+fe*fe,ke=ve+he*Y+fe*se,ne=4/3*(Math.sqrt(2*ve*ke)-ke)/(he*se-fe*Y),be=he-ne*fe,Me=fe+ne*he,J=be,Ie=-Me,Re=M+F,De=Math.cos(Re),Te=Math.sin(Re);return{x1:D*Math.cos(F),y1:D*Math.sin(F),x2:be*De-Me*Te,y2:be*Te+Me*De,x3:J*De-Ie*Te,y3:J*Te+Ie*De,x4:D*Math.cos(U),y4:D*Math.sin(U)}},re=function(D){return 180*D/Math.PI},W=function(D,F,U,M,Y,se){var he=D+.5*(U-D),fe=F+.5*(M-F),ve=Y+.5*(U-Y),ke=se+.5*(M-se),ne=Math.min(D,Y,he,ve),be=Math.max(D,Y,he,ve),Me=Math.min(F,se,fe,ke),J=Math.max(F,se,fe,ke);return new o(ne,Me,be-ne,J-Me)},me=function(D,F,U,M,Y,se,he,fe){var ve,ke,ne,be,Me,J,Ie,Re,De,Te,Qe,Ye,we,qe,tt=U-D,at=M-F,Tt=Y-U,$t=se-M,At=he-Y,vt=fe-se;for(ke=0;ke<41;ke++)De=(Ie=(ne=D+(ve=ke/40)*tt)+ve*((Me=U+ve*Tt)-ne))+ve*(Me+ve*(Y+ve*At-Me)-Ie),Te=(Re=(be=F+ve*at)+ve*((J=M+ve*$t)-be))+ve*(J+ve*(se+ve*vt-J)-Re),ke==0?(Qe=De,Ye=Te,we=De,qe=Te):(Qe=Math.min(Qe,De),Ye=Math.min(Ye,Te),we=Math.max(we,De),qe=Math.max(qe,Te));return new o(Math.round(Qe),Math.round(Ye),Math.round(we-Qe),Math.round(qe-Ye))},Ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,F,U=(D=this.ctx.lineDash,F=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:F}));this.prevLineDash!==U&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=U)}}})(Vt.API),function(t){var e=function(s){var o,l,c,u,h,d,f,p,m,_;for(l=[],c=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(h=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(d=(h=((h=((h=((h=(h-(_=h%85))/85)-(m=h%85))/85)-(p=h%85))/85)-(f=h%85))/85)%85,l.push(d+33,f+33,p+33,m+33,_+33)):l.push(122);return function(x,T){for(var b=T;b>0;b--)x.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(s){var o,l,c,u,h,d=String,f="length",p=255,m="charCodeAt",_="slice",x="replace";for(s[_](-2),s=s[_](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),c=[],u=0,h=(s+=o="uuuuu"[_](s[f]%5||5))[f];h>u;u+=5)l=52200625*(s[m](u)-33)+614125*(s[m](u+1)-33)+7225*(s[m](u+2)-33)+85*(s[m](u+3)-33)+(s[m](u+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(T,b){for(var I=b;I>0;I--)T.pop()}(c,o[f]),d.fromCharCode.apply(d,c)},n=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},i=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=Dw(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,o){var l=0,c=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=a(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Vt.API),function(t){t.loadFile=function(e,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var h=new XMLHttpRequest,d=0,f=function(p){var m=p.length,_=[],x=String.fromCharCode;for(d=0;d<m;d+=1)_.push(x(255&p.charCodeAt(d)));return _.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?u(f(this.responseText)):u(void 0)}),h.send(null),c&&h.status===200)return f(h.responseText)}(a,i,s)}catch{}return o}(e,r,n)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile}(Vt.API),function(t){function e(){return(sr.html2canvas?Promise.resolve(sr.html2canvas):_y(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(sr.DOMPurify?Promise.resolve(sr.DOMPurify):_y(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=rn(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},i=function o(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),h=l.firstChild;h;h=h.nextSibling)c!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||u.appendChild(o(h,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},s=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return(u=u.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var p=u[f],m=p.src.find(function(_){return _.format==="truetype"});m&&c.addFont(m.url,p.ref.name,p.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,c.context2d.save(!0),l(this.prop.container,d)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||Vt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,h){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(d){return c.updateProgress(null,u),d}).then(u,h).then(function(d){return c.updateProgress(1),d})})},s.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),l&&(l=l.bind(u));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:s.convert(Object.assign({},u),Promise.prototype),d=c.call(h,o,l);return s.convert(d,u.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Vt.getPageSize=function(o,l,c){if(rn(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var h,d=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var p,m=0,_=0;if(f.hasOwnProperty(d))m=f[d][1]/h,_=f[d][0]/h;else try{m=c[1],_=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",_>m&&(p=_,_=m,m=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",m>_&&(p=_,_=m,m=p)}return{width:_,height:m,unit:l,k:h,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(My):null;var c=new s(l);return l.worker?c:c.from(o).doCallback()}}(Vt.API),Vt.API.addJS=function(t){var e,r,n=t;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&r!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var h=r.internal.newObject();u.push(h);var d=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(Vt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,i,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(h){for(var d,f=256*h.charCodeAt(4)+h.charCodeAt(5),p=h.length,m={width:0,height:0,numcomponents:1},_=4;_<p;_+=2){if(_+=f,e.indexOf(h.charCodeAt(_+1))!==-1){d=256*h.charCodeAt(_+5)+h.charCodeAt(_+6),m={width:256*h.charCodeAt(_+7)+h.charCodeAt(_+8),height:d,numcomponents:h.charCodeAt(_+9)};break}f=256*h.charCodeAt(_+2)+h.charCodeAt(_+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:a}}return u}}(Vt.API),Vt.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var a,i=kQ(t,{checkCrc:!0}),s=i.width,o=i.height,l=i.channels,c=i.palette,u=i.depth;a=c&&l===1?function(A){for(var y=A.width,R=A.height,S=A.data,k=A.palette,C=A.depth,H=!1,X=[],V=[],q=void 0,re=!1,W=0,me=0;me<k.length;me++){var Ee=l6(k[me],4),D=Ee[0],F=Ee[1],U=Ee[2],M=Ee[3];X.push(D,F,U),M!=null&&(M===0?(W++,V.length<1&&V.push(me)):M<255&&(re=!0))}if(re||W>1){H=!0,V=void 0;var Y=y*R;q=new Uint8Array(Y);for(var se=new DataView(S.buffer),he=0;he<Y;he++){var fe=Uy(se,he,C),ve=l6(k[fe],4)[3];q[he]=ve}}else W===0&&(V=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:H?8:void 0,colorBytes:S,alphaBytes:q,needSMask:H,palette:X,mask:V}}(i):l===2||l===4?function(A){for(var y=A.data,R=A.width,S=A.height,k=A.channels,C=A.depth,H=k===2?"DeviceGray":"DeviceRGB",X=k-1,V=R*S,q=X,re=V*q,W=1*V,me=Math.ceil(re*C/8),Ee=Math.ceil(W*C/8),D=new Uint8Array(me),F=new Uint8Array(Ee),U=new DataView(y.buffer),M=new DataView(D.buffer),Y=new DataView(F.buffer),se=!1,he=0;he<V;he++){for(var fe=he*k,ve=0;ve<q;ve++)fC(M,Uy(U,fe+ve,C),he*q+ve,C);var ke=Uy(U,fe+q,C);ke<(1<<C)-1&&(se=!0),fC(Y,ke,1*he,C)}return{colorSpace:H,colorsPerPixel:X,sMaskBitsPerComponent:se?C:void 0,colorBytes:D,alphaBytes:F,needSMask:se}}(i):function(A){var y=A.data,R=A.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:R,colorsPerPixel:R==="DeviceGray"?1:3,colorBytes:y instanceof Uint16Array?function(S){for(var k=S.length,C=new Uint8Array(2*k),H=new DataView(C.buffer,C.byteOffset,C.byteLength),X=0;X<k;X++)H.setUint16(2*X,S[X],!1);return C}(y):y,needSMask:!1}}(i);var h,d,f,p=a,m=p.colorSpace,_=p.colorsPerPixel,x=p.sMaskBitsPerComponent,T=p.colorBytes,b=p.alphaBytes,I=p.needSMask,j=p.palette,O=p.mask,N=null;return n!==Vt.API.image_compression.NONE&&typeof Dw=="function"?(N=function(A){var y;switch(A){case Vt.API.image_compression.FAST:y=11;break;case Vt.API.image_compression.MEDIUM:y=13;break;case Vt.API.image_compression.SLOW:y=14;break;default:y=12}return y}(n),h=this.decode.FLATE_DECODE,d="/Predictor ".concat(N," /Colors ").concat(_," /BitsPerComponent ").concat(u," /Columns ").concat(s),t=sC(T,Math.ceil(s*_*u/8),_,u,n),I&&(f=sC(b,Math.ceil(s*x/8),1,x,n))):(h=void 0,d=void 0,t=T,I&&(f=b)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:t,index:e,filter:h,decodeParameters:d,transparency:O,palette:j,sMask:f,predictor:N,width:s,height:o,bitsPerComponent:u,sMaskBitsPerComponent:x,colorSpace:m}}},function(t){t.processGIF89A=function(e,r,n,a){var i=new KQ(e),s=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new jy(100).encode(c,100);return t.processJPEG.call(this,u,r,n,a)},t.processGIF87A=t.processGIF89A}(Vt.API),Vo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Vo.prototype.parseBGR=function(){this.pos=this.offset;var t="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[t]()}catch(r){pn.log("bit decode error:"+r)}},Vo.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Vo.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Vo.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Vo.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&e)/e*255|0,o=(i>>5&e)/e*255|0,l=(i>>10&e)/e*255|0,c=i>>15?255:0,u=n*this.width*4+4*a;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=t}},Vo.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/e*255|0,u=a*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=t}},Vo.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Vo.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},Vo.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,a){var i=new Vo(e,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new jy(100).encode(l,100);return t.processJPEG.call(this,c,r,n,a)}}(Vt.API),dC.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,a){var i=new dC(e),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new jy(100).encode(l,100);return t.processJPEG.call(this,c,r,n,a)}}(Vt.API),Vt.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,l=0,c=0;c<a;c+=4){var u=n[c],h=n[c+1],d=n[c+2],f=n[c+3];i[o++]=u,i[o++]=h,i[o++]=d,s[l++]=f}var p=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:p,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Vt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},a0=Vt.API,jg=a0.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:a.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=e.doKerning!==!1,d=0,f=t.length,p=0,m=o[0]||l,_=[];for(r=0;r<f;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?_.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(d=h&&rn(c[n])==="object"&&!isNaN(parseInt(c[n][p],10))?c[n][p]/u:0,_.push((o[n]||m)/l+d)),p=n;return _},nC=a0.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return a0.processArabic&&(t=a0.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:jg.apply(this,arguments).reduce(function(i,s){return i+s},0)},aC=function(t,e,r,n){for(var a=[],i=0,s=t.length,o=0;i!==s&&o+e[i]<r;)o+=e[i],i++;a.push(t.slice(0,i));var l=i;for(o=0;i!==s;)o+e[i]>n&&(a.push(t.slice(l,i)),o=0,l=i),o+=e[i],i++;return l!==i&&a.push(t.slice(l,i)),a},iC=function(t,e,r){r||(r={});var n,a,i,s,o,l,c,u=[],h=[u],d=r.textIndent||0,f=0,p=0,m=t.split(" "),_=jg.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var x=Array(l).join(" "),T=[];m.map(function(I){(I=I.split(/\s*\n/)).length>1?T=T.concat(I.map(function(j,O){return(O&&j.length?`
`:"")+j})):T.push(I[0])}),m=T,l=nC.apply(this,[x,r])}for(i=0,s=m.length;i<s;i++){var b=0;if(n=m[i],l&&n[0]==`
`&&(n=n.substr(1),b=1),d+f+(p=(a=jg.apply(this,[n,r])).reduce(function(I,j){return I+j},0))>e||b){if(p>e){for(o=aC.apply(this,[n,a,e-(d+f),e]),u.push(o.shift()),u=[o.pop()];o.length;)h.push([o.shift()]);p=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(I,j){return I+j},0)}else u=[n];h.push(u),d=p+l,f=_}else u.push(n),d+=f+p,f=_}return c=l?function(I,j){return(j?x:"")+I.join(" ")}:function(I){return I.join(" ")},h.map(c)},a0.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle),d="Unicode";return h.metadata[d]?{widths:h.metadata[d].widths||{0:1},kerning:h.metadata[d].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(iC.apply(this,[n[o],s,i]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[r[i]]=e[i],a[e[i]]=r[i];var s=function(d){return"0x"+parseInt(d,10).toString(16)},o=t.__fontmetrics__.compress=function(d){var f,p,m,_,x=["{"];for(var T in d){if(f=d[T],isNaN(parseInt(T,10))?p="'"+T+"'":(T=parseInt(T,10),p=(p=s(T).slice(2)).slice(0,-1)+a[p.slice(-1)]),typeof f=="number")f<0?(m=s(f).slice(3),_="-"):(m=s(f).slice(2),_=""),m=_+m.slice(0,-1)+a[m.slice(-1)];else{if(rn(f)!=="object")throw new Error("Don't know what to do with value type "+rn(f)+".");m=o(f)}x.push(p+m)}return x.push("}"),x.join("")},l=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,p,m,_,x={},T=1,b=x,I=[],j="",O="",N=d.length-1,A=1;A<N;A+=1)(_=d[A])=="'"?f?(m=f.join(""),f=void 0):f=[]:f?f.push(_):_=="{"?(I.push([b,m]),b={},m=void 0):_=="}"?((p=I.pop())[0][p[1]]=b,m=void 0,b=p[0]):_=="-"?T=-1:m===void 0?n.hasOwnProperty(_)?(j+=n[_],m=parseInt(j,16)*T,T=1,j=""):j+=_:n.hasOwnProperty(_)?(O+=n[_],b[m]=parseInt(O,16)*T,T=1,m=void 0,O=""):O+=_;return x},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var f=d.font,p=h.Unicode[f.postScriptName];p&&(f.metadata.Unicode={},f.metadata.Unicode.widths=p.widths,f.metadata.Unicode.kerning=p.kerning);var m=u.Unicode[f.postScriptName];m&&(f.metadata.Unicode.encoding=m,f.encoding=m.codePages[0])}])}(Vt.API),function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(k2(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(Vt),Vt.API.addSvgAsImage=function(t,e,r,n,a,i,s,o){if(isNaN(e)||isNaN(r))throw pn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw pn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=a;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(sr.canvg?Promise.resolve(sr.canvg):_y(()=>import("./index.es-B07YbTae.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load canvg: "+d))}).then(function(d){return d.default?d.default:d}).then(function(d){return d.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(d){return d.render(u)}).then(function(){h.addImage(l.toDataURL("image/jpeg",1),e,r,n,a,s,o)})},Vt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},Vt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,h=0;function d(p,m){var _,x=!1;for(_=0;_<p.length;_+=1)p[_]===m&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=o.length;for(h=0;h<f;h+=1)r[o[h]].value=r[o[h]].defaultValue,r[o[h]].explicitSet=!1}if(rn(t)==="object"){for(a in t)if(i=t[a],d(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&d(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,m=[];for(p in r)r[p].explicitSet===!0&&(r[p].type==="name"?m.push("/"+p+" /"+r[p].value):m.push("/"+p+" "+r[p].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},Vt.API.addMetadata=function(t,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:t,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",QQ),this.internal.events.subscribe("postPutResources",YQ)),this},function(t){var e=t.API,r=e.pdfEscape16=function(i,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],h=0,d=i.length;h<d;++h){if(o=s.metadata.characterToGlyph(i.charCodeAt(h)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(h),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(i){var s,o,l,c,u,h,d;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,d=(o=Object.keys(i).sort(function(f,p){return f-p})).length;h<d;h++)s=o[h],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(c=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,d=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",p=0;p<d.length;p++)f+=String.fromCharCode(d[p]);var m=c();u({data:f,addLength1:!0,objectId:m}),l("endobj");var _=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var x=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+x0(o.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var T=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+x0(o.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+_+" 0 R"),l("/BaseFont /"+x0(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+T+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,d="",f=0;f<h.length;f++)d+=String.fromCharCode(h[f]);var p=c();u({data:d,addLength1:!0,objectId:p}),l("endobj");var m=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var _=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+p+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+x0(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var x=0;x<o.metadata.hmtx.widths.length;x++)o.metadata.hmtx.widths[x]=parseInt(o.metadata.hmtx.widths[x]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+x0(o.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",l=i.x,c=i.y,u=i.options||{},h=i.mutex||{},d=h.pdfEscape,f=h.activeFontKey,p=h.fonts,m=f,_="",x=0,T="",b=p[m].encoding;if(p[m].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:h};for(T=o,m=f,Array.isArray(o)&&(T=o[0]),x=0;x<T.length;x+=1)p[m].metadata.hasOwnProperty("cmap")&&(s=p[m].metadata.cmap.unicode.codeMap[T[x].charCodeAt(0)]),s||T[x].charCodeAt(0)<256&&p[m].metadata.hasOwnProperty("Unicode")?_+=T[x]:_+="";var I="";return parseInt(m.slice(1))<14||b==="WinAnsiEncoding"?I=d(_,m).split("").map(function(j){return j.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(I=r(_,p[m])),h.isHex=!0,{text:I,x:l,y:c,options:u,mutex:h}};e.events.push(["postProcessText",function(i){var s=i.text||"",o=[],l={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([a(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(a(Object.assign({},l,{text:s[c]})).text);i.text=o}else i.text=a(Object.assign({},l,{text:s})).text}])}(Vt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Vt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,i,s,o,l,c,u,h=e,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),T=!1,b=0;this.__bidiEngine__={};var I=function(S){var k=S.charCodeAt(),C=k>>8,H=m[C];return H!==void 0?h[256*H+(255&k)]:C===252||C===253?"AL":x.test(C)?"L":C===8?"R":"N"},j=function(S){for(var k,C=0;C<S.length;C++){if((k=I(S.charAt(C)))==="L")return!1;if(k==="R")return!0}return!1},O=function(S,k,C,H){var X,V,q,re,W=k[H];switch(W){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":T=!1;break;case"N":case"AN":break;case"EN":T&&(W="AN");break;case"AL":T=!0,W="R";break;case"WS":case"BN":W="N";break;case"CS":H<1||H+1>=k.length||(X=C[H-1])!=="EN"&&X!=="AN"||(V=k[H+1])!=="EN"&&V!=="AN"?W="N":T&&(V="AN"),W=V===X?V:"N";break;case"ES":W=(X=H>0?C[H-1]:"B")==="EN"&&H+1<k.length&&k[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&C[H-1]==="EN"){W="EN";break}if(T){W="N";break}for(q=H+1,re=k.length;q<re&&k[q]==="ET";)q++;W=q<re&&k[q]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(re=k.length,q=H+1;q<re&&k[q]==="NSM";)q++;if(q<re){var me=S[H],Ee=me>=1425&&me<=2303||me===64286;if(X=k[q],Ee&&(X==="R"||X==="AL")){W="R";break}}}W=H<1||(X=k[H-1])==="B"?"N":C[H-1];break;case"B":T=!1,a=!0,W=b;break;case"S":i=!0,W="N"}return W},N=function(S,k,C){var H=S.split("");return C&&A(H,C,{hiLevel:b}),H.reverse(),k&&k.reverse(),H.join("")},A=function(S,k,C){var H,X,V,q,re,W=-1,me=S.length,Ee=0,D=[],F=b?f:d,U=[];for(T=!1,a=!1,i=!1,X=0;X<me;X++)U[X]=I(S[X]);for(V=0;V<me;V++){if(re=Ee,D[V]=O(S,U,D,V),H=240&(Ee=F[re][p[D[V]]]),Ee&=15,k[V]=q=F[Ee][5],H>0)if(H===16){for(X=W;X<V;X++)k[X]=1;W=-1}else W=-1;if(F[Ee][6])W===-1&&(W=V);else if(W>-1){for(X=W;X<V;X++)k[X]=q;W=-1}U[V]==="B"&&(k[V]=0),C.hiLevel|=q}i&&function(M,Y,se){for(var he=0;he<se;he++)if(M[he]==="S"){Y[he]=b;for(var fe=he-1;fe>=0&&M[fe]==="WS";fe--)Y[fe]=b}}(U,k,me)},y=function(S,k,C,H,X){if(!(X.hiLevel<S)){if(S===1&&b===1&&!a)return k.reverse(),void(C&&C.reverse());for(var V,q,re,W,me=k.length,Ee=0;Ee<me;){if(H[Ee]>=S){for(re=Ee+1;re<me&&H[re]>=S;)re++;for(W=Ee,q=re-1;W<q;W++,q--)V=k[W],k[W]=k[q],k[q]=V,C&&(V=C[W],C[W]=C[q],C[q]=V);Ee=re}Ee++}}},R=function(S,k,C){var H=S.split(""),X={hiLevel:b};return C||(C=[]),A(H,C,X),function(V,q,re){if(re.hiLevel!==0&&u)for(var W,me=0;me<V.length;me++)q[me]===1&&(W=_.indexOf(V[me]))>=0&&(V[me]=_[W+1])}(H,C,X),y(2,H,k,C,X),y(1,H,k,C,X),H.join("")};return this.__bidiEngine__.doBidiReorder=function(S,k,C){if(function(X,V){if(V)for(var q=0;q<X.length;q++)V[q]=q;o===void 0&&(o=j(X)),c===void 0&&(c=j(X))}(S,k),s||!l||c)if(s&&l&&o^c)b=o?1:0,S=N(S,k,C);else if(!s&&l&&c)b=o?1:0,S=R(S,k,C),S=N(S,k);else if(!s||o||l||c){if(s&&!l&&o^c)S=N(S,k),o?(b=0,S=R(S,k,C)):(b=1,S=R(S,k,C),S=N(S,k));else if(s&&o&&!l&&c)b=1,S=R(S,k,C),S=N(S,k);else if(!s&&!l&&o^c){var H=u;o?(b=1,S=R(S,k,C),b=0,u=!1,S=R(S,k,C),u=H):(b=0,S=R(S,k,C),S=N(S,k),b=1,u=!1,S=R(S,k,C),u=H,S=N(S,k))}}else b=0,S=R(S,k,C);else b=o?1:0,S=R(S,k,C);return S},this.__bidiEngine__.setOptions=function(S){S&&(s=S.isInputVisual,l=S.isOutputVisual,o=S.isInputRtl,c=S.isOutputRtl,u=S.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Vt),Vt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new of(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new hJ(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new JQ(this.contents),this.head=new eJ(this),this.name=new iJ(this),this.cmap=new zD(this),this.toUnicode={},this.hhea=new tJ(this),this.maxp=new sJ(this),this.hmtx=new oJ(this),this.post=new nJ(this),this.os2=new rJ(this),this.loca=new fJ(this),this.glyf=new lJ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)e=l[s],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,i,s,o;for(s=0,i=0,o=(e=""+e).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=e.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var rl,of=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,i,s,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,i;for(i=[],n=0,a=e.length;n<a;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),JQ=function(){var t;function e(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,i,s,o,l,c,u,h,d,f,p,m;for(m in f=Object.keys(r).length,l=Math.log(2),h=16*Math.floor(Math.log(f)/l),s=Math.floor(h/l),u=16*f-h,(a=new of).writeInt(this.scalarType),a.writeShort(f),a.writeShort(h),a.writeShort(s),a.writeShort(u),i=16*f,c=a.pos+i,o=null,p=[],r)for(d=r[m],a.writeString(m),a.writeInt(t(d)),a.writeInt(c),a.writeInt(d.length),p=p.concat(d),m==="head"&&(o=c),c+=d.length;c%4;)p.push(0),c++;return a.write(p),n=2981146554-t(a.data),a.pos=o+8,a.writeUInt32(n),a.data},t=function(r){var n,a,i,s;for(r=qD.call(r);r.length%4;)r.push(0);for(i=new of(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},e}(),ZQ={}.hasOwnProperty,Ul=function(t,e){for(var r in e)ZQ.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};rl=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var eJ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,rl),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new of).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),pC=function(){function t(e,r){var n,a,i,s,o,l,c,u,h,d,f,p,m,_,x,T,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),d=f/2,e.pos+=6,i=function(){var I,j;for(j=[],l=I=0;0<=d?I<d:I>d;l=0<=d?++I:--I)j.push(e.readUInt16());return j}(),e.pos+=2,m=function(){var I,j;for(j=[],l=I=0;0<=d?I<d:I>d;l=0<=d?++I:--I)j.push(e.readUInt16());return j}(),c=function(){var I,j;for(j=[],l=I=0;0<=d?I<d:I>d;l=0<=d?++I:--I)j.push(e.readUInt16());return j}(),u=function(){var I,j;for(j=[],l=I=0;0<=d?I<d:I>d;l=0<=d?++I:--I)j.push(e.readUInt16());return j}(),a=(this.length-e.pos+this.offset)/2,o=function(){var I,j;for(j=[],l=I=0;0<=a?I<a:I>a;l=0<=a?++I:--I)j.push(e.readUInt16());return j}(),l=x=0,b=i.length;x<b;l=++x)for(_=i[l],n=T=p=m[l];p<=_?T<=_:T>=_;n=p<=_?++T:--T)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-p)-(d-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}e.pos=h}return t.encode=function(e,r){var n,a,i,s,o,l,c,u,h,d,f,p,m,_,x,T,b,I,j,O,N,A,y,R,S,k,C,H,X,V,q,re,W,me,Ee,D,F,U,M,Y,se,he,fe,ve,ke,ne;switch(H=new of,s=Object.keys(e).sort(function(be,Me){return be-Me}),r){case"macroman":for(m=0,_=function(){var be=[];for(p=0;p<256;++p)be.push(0);return be}(),T={0:0},i={},X=0,W=s.length;X<W;X++)T[fe=e[a=s[X]]]==null&&(T[fe]=++m),i[a]={old:e[a],new:T[e[a]]},_[a]=T[e[a]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(_),{charMap:i,subtable:H.data,maxGlyphID:m+1};case"unicode":for(k=[],h=[],b=0,T={},n={},x=c=null,V=0,me=s.length;V<me;V++)T[j=e[a=s[V]]]==null&&(T[j]=++b),n[a]={old:j,new:T[j]},o=T[j]-a,x!=null&&o===c||(x&&h.push(x),k.push(a),c=o),x=a;for(x&&h.push(x),h.push(65535),k.push(65535),R=2*(y=k.length),A=2*Math.pow(Math.log(y)/Math.LN2,2),d=Math.log(A/2)/Math.LN2,N=2*y-A,l=[],O=[],f=[],p=q=0,Ee=k.length;q<Ee;p=++q){if(S=k[p],u=h[p],S===65535){l.push(0),O.push(0);break}if(S-(C=n[S].new)>=32768)for(l.push(0),O.push(2*(f.length+y-p)),a=re=S;S<=u?re<=u:re>=u;a=S<=u?++re:--re)f.push(n[a].new);else l.push(C-S),O.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*y+2*f.length),H.writeUInt16(0),H.writeUInt16(R),H.writeUInt16(A),H.writeUInt16(d),H.writeUInt16(N),se=0,D=h.length;se<D;se++)a=h[se],H.writeUInt16(a);for(H.writeUInt16(0),he=0,F=k.length;he<F;he++)a=k[he],H.writeUInt16(a);for(ve=0,U=l.length;ve<U;ve++)o=l[ve],H.writeUInt16(o);for(ke=0,M=O.length;ke<M;ke++)I=O[ke],H.writeUInt16(I);for(ne=0,Y=f.length;ne<Y;ne++)m=f[ne],H.writeUInt16(m);return{charMap:n,subtable:H.data,maxGlyphID:b+1}}},t}(),zD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,rl),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new pC(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,a;return r==null&&(r="macroman"),n=pC.encode(e,r),(a=new of).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},t}(),tJ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,rl),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),rJ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,rl),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),nJ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,rl),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)r=e.readByte(),a.push(this.names.push(e.readString(r)));return a;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var s,o,l;for(l=[],i=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;i=0<=o?++s:--s)l.push(e.readUInt32());return l}).call(this)}},t}(),aJ=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},iJ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,rl),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,a,i,s,o,l,c,u,h,d;for(e.pos=this.offset,e.readShort(),r=e.readShort(),o=e.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},i=u=0,h=n.length;u<h;i=++u)a=n[i],e.pos=a.offset,c=e.readString(a.length),s=new aJ(c,a),l[d=a.nameID]==null&&(l[d]=[]),l[a.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),sJ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,rl),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),oJ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,rl),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,a,i,s,o,l;for(e.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],r=c=0;0<=a?c<a:c>a;r=0<=a?++c:--c)u.push(e.readInt16());return u}(),this.widths=(function(){var c,u,h,d;for(d=[],c=0,u=(h=this.metrics).length;c<u;c++)i=h[c],d.push(i.advance);return d}).call(this),n=this.widths[this.widths.length-1],l=[],r=s=0;0<=a?s<a:s>a;r=0<=a?++s:--s)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),qD=[].slice,lJ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,rl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,a,i,s,o,l,c,u,h;return e in this.cache?this.cache[e]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(e),(a=i.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,s=(o=new of(r.read(a))).readShort(),c=o.readShort(),h=o.readShort(),l=o.readShort(),u=o.readShort(),this.cache[e]=s===-1?new uJ(o,c,h,l,u):new cJ(o,s,c,h,l,u),this.cache[e]))},t.prototype.encode=function(e,r,n){var a,i,s,o,l;for(s=[],i=[],o=0,l=r.length;o<l;o++)a=e[r[o]],i.push(s.length),a&&(s=s.concat(a.encode(n)));return i.push(s.length),{table:s,offsets:i}},t}(),cJ=function(){function t(e,r,n,a,i,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),uJ=function(){function t(e,r,n,a,i){var s,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new of(qD.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),fJ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,rl),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,s=0;s<n.length;++s)if(n[s]=a,i<r.length&&r[i]==s){++i,n[s]=a;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(a+=l)}for(var c=new Array(4*n.length),u=0;u<n.length;++u)c[4*u+3]=255&n[u],c[4*u+2]=(65280&n[u])>>8,c[4*u+1]=(16711680&n[u])>>16,c[4*u]=(4278190080&n[u])>>24;return c},t}(),hJ=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,i,s,o,l;for(a={},s=0,o=e.length;s<o;s++)a[i=e[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],a[i]=n;return a},t.prototype.encode=function(e,r){var n,a,i,s,o,l,c,u,h,d,f,p,m,_,x;for(a in n=zD.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),f={0:0},x=n.charMap)f[(l=x[a]).old]=l.new;for(p in d=n.maxGlyphID,s)p in f||(f[p]=d++);return u=function(T){var b,I;for(b in I={},T)I[T[b]]=b;return I}(f),h=Object.keys(u).sort(function(T,b){return T-b}),m=function(){var T,b,I;for(I=[],T=0,b=h.length;T<b;T++)o=h[T],I.push(u[o]);return I}(),i=this.font.glyf.encode(s,m,f),c=this.font.loca.encode(i.offsets,m),_={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},t}();Vt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+e.convert(s));return i.push(">>"),i.join(`
`)}return""+r},e}();/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Uv={};Uv.version="0.18.5";var HD=1252,dJ=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],hE={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},dE=function(t){dJ.indexOf(t)!=-1&&(HD=hE[0]=t)};function pJ(){dE(1252)}var Wo=function(t){dE(t)};function pE(){Wo(1200),pJ()}function mC(t){for(var e=[],r=0,n=t.length;r<n;++r)e[r]=t.charCodeAt(r);return e}function mJ(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return e.join("")}function GD(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return e.join("")}var D1=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1);return e==255&&r==254?mJ(t.slice(2)):e==254&&r==255?GD(t.slice(2)):e==65279?t.slice(1):t},Vg=function(e){return String.fromCharCode(e)},gC=function(e){return String.fromCharCode(e)},zp,Lu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function qp(t){for(var e="",r=0,n=0,a=0,i=0,s=0,o=0,l=0,c=0;c<t.length;)r=t.charCodeAt(c++),i=r>>2,n=t.charCodeAt(c++),s=(r&3)<<4|n>>4,a=t.charCodeAt(c++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),e+=Lu.charAt(i)+Lu.charAt(s)+Lu.charAt(o)+Lu.charAt(l);return e}function Qs(t){var e="",r=0,n=0,a=0,i=0,s=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)i=Lu.indexOf(t.charAt(c++)),s=Lu.indexOf(t.charAt(c++)),r=i<<2|s>>4,e+=String.fromCharCode(r),o=Lu.indexOf(t.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=Lu.indexOf(t.charAt(c++)),a=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(a));return e}var yr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Bc=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function lf(t){return yr?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function vC(t){return yr?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Bs=function(e){return yr?Bc(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function Xx(t){if(typeof ArrayBuffer>"u")return Bs(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function _f(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function gJ(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function mE(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return mE(new Uint8Array(t));for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=t[r];return e}var Xa=yr?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Bc(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),a=0;for(e=0,r=0;e<t.length;r+=a,++e)if(a=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function vJ(t){for(var e=[],r=0,n=t.length+250,a=lf(t.length+255),i=0;i<t.length;++i){var s=t.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=t.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(e.push(a.slice(0,r)),r=0,a=lf(65535),n=65530)}return e.push(a.slice(0,r)),Xa(e)}var Xi=/\u0000/g,P1=/[\u0001-\u0006]/g;function Z0(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function $o(t,e){var r=""+t;return r.length>=e?r:Jn("0",e-r.length)+r}function gE(t,e){var r=""+t;return r.length>=e?r:Jn(" ",e-r.length)+r}function jv(t,e){var r=""+t;return r.length>=e?r:r+Jn(" ",e-r.length)}function xJ(t,e){var r=""+Math.round(t);return r.length>=e?r:Jn("0",e-r.length)+r}function _J(t,e){var r=""+t;return r.length>=e?r:Jn("0",e-r.length)+r}var xC=Math.pow(2,32);function i0(t,e){if(t>xC||t<-xC)return xJ(t,e);var r=Math.round(t);return _J(r,e)}function Vv(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var _C=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Vy=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function yJ(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var er={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},yC={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},wJ={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function zv(t,e,r){for(var n=t<0?-1:1,a=t*n,i=0,s=1,o=0,l=1,c=0,u=0,h=Math.floor(a);c<e&&(h=Math.floor(a),o=h*s+i,u=h*c+l,!(a-h<5e-8));)a=1/(a-h),i=s,s=o,l=c,c=u;if(u>e&&(c>e?(u=l,o=i):(u=c,o=s)),!r)return[0,n*o,u];var d=Math.floor(n*o/u);return[d,n*o-d*u,u]}function zf(t,e,r){if(t>2958465||t<0)return null;var n=t|0,a=Math.floor(86400*(t-n)),i=0,s=[],o={D:n,T:a,u:86400*(t-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=CJ(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var WD=new Date(1899,11,31,0,0,0),bJ=WD.getTime(),EJ=new Date(1900,2,1,0,0,0);function $D(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=EJ&&(r+=24*60*60*1e3),(r-(bJ+(t.getTimezoneOffset()-WD.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function vE(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function AJ(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function SJ(t){var e=t<0?12:11,r=vE(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function TJ(t){var e=vE(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Hp(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=SJ(t):e===10?r=t.toFixed(10).substr(0,12):r=TJ(t),vE(AJ(r.toUpperCase()))}function _h(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Hp(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Io(14,$D(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function CJ(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function kJ(t,e,r,n){var a="",i=0,s=0,o=r.y,l,c=0;switch(t){case 98:o=r.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=r.m,c=e.length;break;case 3:return Vy[r.m-1][1];case 5:return Vy[r.m-1][0];default:return Vy[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=r.d,c=e.length;break;case 3:return _C[r.q][0];default:return _C[r.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(r.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=r.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=r.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?$o(r.S,e.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),e==="s"?i===0?"0":""+i/s:(a=$o(i,2+n),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?$o(l,c):"";return u}function Du(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var XD=/%/g;function NJ(t,e,r){var n=e.replace(XD,""),a=e.length-n.length;return wc(t,n,r*Math.pow(10,2*a))+Jn("%",a)}function IJ(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return wc(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function KD(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+KD(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(e/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var YD=/# (\?+)( ?)\/( ?)(\d+)/;function RJ(t,e,r){var n=parseInt(t[4],10),a=Math.round(e*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?Jn(" ",t[1].length+1+t[4].length):gE(s,t[1].length)+t[2]+"/"+t[3]+$o(o,t[4].length))}function LJ(t,e,r){return r+(e===0?"":""+e)+Jn(" ",t[1].length+2+t[4].length)}var QD=/^#*0*\.([0#]+)/,JD=/\).*[0#]/,ZD=/\(###\) ###\\?-####/;function Hi(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function wC(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function bC(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function DJ(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function PJ(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function fo(t,e,r){if(t.charCodeAt(0)===40&&!e.match(JD)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?fo("n",n,r):"("+fo("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return IJ(t,e,r);if(e.indexOf("%")!==-1)return NJ(t,e,r);if(e.indexOf("E")!==-1)return KD(e,r);if(e.charCodeAt(0)===36)return"$"+fo(t,e.substr(e.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+i0(l,e.length);if(e.match(/^[#?]+$/))return a=i0(r,0),a==="0"&&(a=""),a.length>e.length?a:Hi(e.substr(0,e.length-a.length))+a;if(i=e.match(YD))return RJ(i,l,c);if(e.match(/^#+0+$/))return c+i0(l,e.length-e.indexOf("0"));if(i=e.match(QD))return a=wC(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Hi(i[1])).replace(/\.$/,"."+Hi(i[1])).replace(/\.(\d*)$/,function(p,m){return"."+m+Jn("0",Hi(i[1]).length-m.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return c+wC(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return c+Du(i0(l,0));if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+fo(t,e,-r):Du(""+(Math.floor(r)+DJ(r,i[1].length)))+"."+$o(bC(r,i[1].length),i[1].length);if(i=e.match(/^#,#*,#0/))return fo(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Z0(fo(t,e.replace(/[\\-]/g,""),r)),s=0,Z0(Z0(e.replace(/\\/g,"")).replace(/[0#]/g,function(p){return s<a.length?a.charAt(s++):p==="0"?"0":""}));if(e.match(ZD))return a=fo(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=zv(l,Math.pow(10,s)-1,!1),a=""+c,u=wc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=jv(o[2],s),u.length<i[4].length&&(u=Hi(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=zv(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?gE(o[1],s)+i[2]+"/"+i[3]+jv(o[2],s):Jn(" ",2*s+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return a=i0(r,0),e.length<=a.length?a:Hi(e.substr(0,e.length-a.length))+a;if(i=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var h=e.indexOf(".")-s,d=e.length-a.length-h;return Hi(e.substr(0,h)+a+e.substr(e.length-d))}if(i=e.match(/^00,000\.([#0]*0)$/))return s=bC(r,i[1].length),r<0?"-"+fo(t,e,-r):Du(PJ(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?$o(0,3-p.length):"")+p})+"."+$o(s,i[1].length);switch(e){case"###,##0.00":return fo(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var f=Du(i0(l,0));return f!=="0"?c+f:"";case"###,###.00":return fo(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return fo(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function OJ(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return wc(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function FJ(t,e,r){var n=e.replace(XD,""),a=e.length-n.length;return wc(t,n,r*Math.pow(10,2*a))+Jn("%",a)}function eP(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+eP(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(e/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function vl(t,e,r){if(t.charCodeAt(0)===40&&!e.match(JD)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?vl("n",n,r):"("+vl("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return OJ(t,e,r);if(e.indexOf("%")!==-1)return FJ(t,e,r);if(e.indexOf("E")!==-1)return eP(e,r);if(e.charCodeAt(0)===36)return"$"+vl(t,e.substr(e.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+$o(l,e.length);if(e.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>e.length?a:Hi(e.substr(0,e.length-a.length))+a;if(i=e.match(YD))return LJ(i,l,c);if(e.match(/^#+0+$/))return c+$o(l,e.length-e.indexOf("0"));if(i=e.match(QD))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Hi(i[1])).replace(/\.$/,"."+Hi(i[1])),a=a.replace(/\.(\d*)$/,function(p,m){return"."+m+Jn("0",Hi(i[1]).length-m.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return c+Du(""+l);if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+vl(t,e,-r):Du(""+r)+"."+Jn("0",i[1].length);if(i=e.match(/^#,#*,#0/))return vl(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Z0(vl(t,e.replace(/[\\-]/g,""),r)),s=0,Z0(Z0(e.replace(/\\/g,"")).replace(/[0#]/g,function(p){return s<a.length?a.charAt(s++):p==="0"?"0":""}));if(e.match(ZD))return a=vl(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=zv(l,Math.pow(10,s)-1,!1),a=""+c,u=wc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=jv(o[2],s),u.length<i[4].length&&(u=Hi(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=zv(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?gE(o[1],s)+i[2]+"/"+i[3]+jv(o[2],s):Jn(" ",2*s+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return a=""+r,e.length<=a.length?a:Hi(e.substr(0,e.length-a.length))+a;if(i=e.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var h=e.indexOf(".")-s,d=e.length-a.length-h;return Hi(e.substr(0,h)+a+e.substr(e.length-d))}if(i=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+vl(t,e,-r):Du(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?$o(0,3-p.length):"")+p})+"."+$o(0,i[1].length);switch(e){case"###,###":case"##,###":case"#,###":var f=Du(""+l);return f!=="0"?c+f:"";default:if(e.match(/\.[0#?]*$/))return vl(t,e.slice(0,e.lastIndexOf(".")),r)+Hi(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function wc(t,e,r){return(r|0)===r?vl(t,e,r):fo(t,e,r)}function MJ(t){for(var e=[],r=!1,n=0,a=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(a,n-a),a=n+1}if(e[e.length]=t.substr(a),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var tP=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Vd(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":Vv(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(tP))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function BJ(t,e,r,n){for(var a=[],i="",s=0,o="",l="t",c,u,h,d="H";s<t.length;)switch(o=t.charAt(s)){case"G":if(!Vv(t,s))throw new Error("unrecognized character "+o+" in "+t);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(h=t.charCodeAt(++s))!==34&&s<t.length;)i+=String.fromCharCode(h);a[a.length]={t:"t",v:i},++s;break;case"\\":var f=t.charAt(++s),p=f==="("||f===")"?f:"t";a[a.length]={t:p,v:f},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:e},++s;break;case"B":case"b":if(t.charAt(s+1)==="1"||t.charAt(s+1)==="2"){if(c==null&&(c=zf(e,r,t.charAt(s+1)==="2"),c==null))return"";a[a.length]={t:"X",v:t.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=zf(e,r),c==null))return"";for(i=o;++s<t.length&&t.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=d),a[a.length]={t:o,v:i},l=o;break;case"A":case"a":case"":var m={t:o,v:o};if(c==null&&(c=zf(e,r)),t.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(m.v=c.H>=12?"P":"A"),m.t="T",d="h",s+=3):t.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(m.v=c.H>=12?"PM":"AM"),m.t="T",s+=5,d="h"):t.substr(s,5).toUpperCase()==="/"?(c!=null&&(m.v=c.H>=12?"":""),m.t="T",s+=5,d="h"):(m.t="t",++s),c==null&&m.t==="T")return"";a[a.length]=m,l=o;break;case"[":for(i=o;t.charAt(s++)!=="]"&&s<t.length;)i+=t.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(tP)){if(c==null&&(c=zf(e,r),c==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Vd(t)||(a[a.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=o;++s<t.length&&(o=t.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;t.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},l=o;break;case"*":++s,(t.charAt(s)==" "||t.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<t.length&&"0123456789".indexOf(t.charAt(++s))>-1;)i+=t.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);a[a.length]={t:"t",v:o},++s;break}var _=0,x=0,T;for(s=a.length-1,l="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=d,l="h",_<1&&(_=1);break;case"s":(T=a[s].v.match(/\.0+$/))&&(x=Math.max(x,T[0].length-1)),_<3&&(_=3);case"d":case"y":case"M":case"e":l=a[s].t;break;case"m":l==="s"&&(a[s].t="M",_<2&&(_=2));break;case"X":break;case"Z":_<1&&a[s].v.match(/[Hh]/)&&(_=1),_<2&&a[s].v.match(/[Mm]/)&&(_=2),_<3&&a[s].v.match(/[Ss]/)&&(_=3)}switch(_){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var b="",I;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=kJ(a[s].t.charCodeAt(0),a[s].v,c,x),a[s].t="t";break;case"n":case"?":for(I=s+1;a[I]!=null&&((o=a[I].t)==="?"||o==="D"||(o===" "||o==="t")&&a[I+1]!=null&&(a[I+1].t==="?"||a[I+1].t==="t"&&a[I+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[I].v==="/"||a[I].v===" "&&a[I+1]!=null&&a[I+1].t=="?"));)a[s].v+=a[I].v,a[I]={v:"",t:";"},++I;b+=a[s].v,s=I-1;break;case"G":a[s].t="t",a[s].v=_h(e,r);break}var j="",O,N;if(b.length>0){b.charCodeAt(0)==40?(O=e<0&&b.charCodeAt(0)===45?-e:e,N=wc("n",b,O)):(O=e<0&&n>1?-e:e,N=wc("n",b,O),O<0&&a[0]&&a[0].t=="t"&&(N=N.substr(1),a[0].v="-"+a[0].v)),I=N.length-1;var A=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){A=s;break}var y=a.length;if(A===a.length&&N.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(I>=a[s].v.length-1?(I-=a[s].v.length,a[s].v=N.substr(I+1,a[s].v.length)):I<0?a[s].v="":(a[s].v=N.substr(0,I+1),I=-1),a[s].t="t",y=s);I>=0&&y<a.length&&(a[y].v=N.substr(0,I+1)+a[y].v)}else if(A!==a.length&&N.indexOf("E")===-1){for(I=N.indexOf(".")-1,s=A;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(u=a[s].v.indexOf(".")>-1&&s===A?a[s].v.indexOf(".")-1:a[s].v.length-1,j=a[s].v.substr(u+1);u>=0;--u)I>=0&&(a[s].v.charAt(u)==="0"||a[s].v.charAt(u)==="#")&&(j=N.charAt(I--)+j);a[s].v=j,a[s].t="t",y=s}for(I>=0&&y<a.length&&(a[y].v=N.substr(0,I+1)+a[y].v),I=N.indexOf(".")+1,s=A;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==A)){for(u=a[s].v.indexOf(".")>-1&&s===A?a[s].v.indexOf(".")+1:0,j=a[s].v.substr(0,u);u<a[s].v.length;++u)I<N.length&&(j+=N.charAt(I++));a[s].v=j,a[s].t="t",y=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(O=n>1&&e<0&&s>0&&a[s-1].v==="-"?-e:e,a[s].v=wc(a[s].t,a[s].v,O),a[s].t="t");var R="";for(s=0;s!==a.length;++s)a[s]!=null&&(R+=a[s].v);return R}var EC=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function AC(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function UJ(t,e){var r=MJ(t),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(EC),o=r[1].match(EC);return AC(e,s)?[n,r[0]]:AC(e,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function Io(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:er)[t],n==null&&(n=r.table&&r.table[yC[t]]||er[yC[t]]),n==null&&(n=wJ[t]||"General");break}if(Vv(n,0))return _h(e,r);e instanceof Date&&(e=$D(e,r.date1904));var a=UJ(n,e);if(Vv(a[1]))return _h(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return BJ(a[1],e,r,a[0])}function bc(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(er[r]==null){e<0&&(e=r);continue}if(er[r]==t){e=r;break}}e<0&&(e=391)}return er[e]=t,e}function Kx(t){for(var e=0;e!=392;++e)t[e]!==void 0&&bc(t[e],e)}function zd(){er=yJ()}var jJ={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},rP=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function VJ(t){var e=typeof t=="number"?er[t]:t;return e=e.replace(rP,"(\\d+)"),new RegExp("^"+e+"$")}function zJ(t,e,r){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(e.match(rP)||[]).forEach(function(h,d){var f=parseInt(r[d+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=f;break;case"d":i=f;break;case"h":s=f;break;case"s":l=f;break;case"m":s>=0?o=f:a=f;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&a==-1&&i==-1?u:c+"T"+u}var qJ=function(){var t={};t.version="1.2.0";function e(){for(var N=0,A=new Array(256),y=0;y!=256;++y)N=y,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,A[y]=N;return typeof Int32Array<"u"?new Int32Array(A):A}var r=e();function n(N){var A=0,y=0,R=0,S=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(R=0;R!=256;++R)S[R]=N[R];for(R=0;R!=256;++R)for(y=N[R],A=256+R;A<4096;A+=256)y=S[A]=y>>>8^N[y&255];var k=[];for(R=1;R!=16;++R)k[R-1]=typeof Int32Array<"u"?S.subarray(R*256,R*256+256):S.slice(R*256,R*256+256);return k}var a=n(r),i=a[0],s=a[1],o=a[2],l=a[3],c=a[4],u=a[5],h=a[6],d=a[7],f=a[8],p=a[9],m=a[10],_=a[11],x=a[12],T=a[13],b=a[14];function I(N,A){for(var y=A^-1,R=0,S=N.length;R<S;)y=y>>>8^r[(y^N.charCodeAt(R++))&255];return~y}function j(N,A){for(var y=A^-1,R=N.length-15,S=0;S<R;)y=b[N[S++]^y&255]^T[N[S++]^y>>8&255]^x[N[S++]^y>>16&255]^_[N[S++]^y>>>24]^m[N[S++]]^p[N[S++]]^f[N[S++]]^d[N[S++]]^h[N[S++]]^u[N[S++]]^c[N[S++]]^l[N[S++]]^o[N[S++]]^s[N[S++]]^i[N[S++]]^r[N[S++]];for(R+=15;S<R;)y=y>>>8^r[(y^N[S++])&255];return~y}function O(N,A){for(var y=A^-1,R=0,S=N.length,k=0,C=0;R<S;)k=N.charCodeAt(R++),k<128?y=y>>>8^r[(y^k)&255]:k<2048?(y=y>>>8^r[(y^(192|k>>6&31))&255],y=y>>>8^r[(y^(128|k&63))&255]):k>=55296&&k<57344?(k=(k&1023)+64,C=N.charCodeAt(R++)&1023,y=y>>>8^r[(y^(240|k>>8&7))&255],y=y>>>8^r[(y^(128|k>>2&63))&255],y=y>>>8^r[(y^(128|C>>6&15|(k&3)<<4))&255],y=y>>>8^r[(y^(128|C&63))&255]):(y=y>>>8^r[(y^(224|k>>12&15))&255],y=y>>>8^r[(y^(128|k>>6&63))&255],y=y>>>8^r[(y^(128|k&63))&255]);return~y}return t.table=r,t.bstr=I,t.buf=j,t.str=O,t}(),Gt=function(){var e={};e.version="1.2.1";function r(Z,de){for(var oe=Z.split("/"),ue=de.split("/"),pe=0,ye=0,Fe=Math.min(oe.length,ue.length);pe<Fe;++pe){if(ye=oe[pe].length-ue[pe].length)return ye;if(oe[pe]!=ue[pe])return oe[pe]<ue[pe]?-1:1}return oe.length-ue.length}function n(Z){if(Z.charAt(Z.length-1)=="/")return Z.slice(0,-1).indexOf("/")===-1?Z:n(Z.slice(0,-1));var de=Z.lastIndexOf("/");return de===-1?Z:Z.slice(0,de+1)}function a(Z){if(Z.charAt(Z.length-1)=="/")return a(Z.slice(0,-1));var de=Z.lastIndexOf("/");return de===-1?Z:Z.slice(de+1)}function i(Z,de){typeof de=="string"&&(de=new Date(de));var oe=de.getHours();oe=oe<<6|de.getMinutes(),oe=oe<<5|de.getSeconds()>>>1,Z.write_shift(2,oe);var ue=de.getFullYear()-1980;ue=ue<<4|de.getMonth()+1,ue=ue<<5|de.getDate(),Z.write_shift(2,ue)}function s(Z){var de=Z.read_shift(2)&65535,oe=Z.read_shift(2)&65535,ue=new Date,pe=oe&31;oe>>>=5;var ye=oe&15;oe>>>=4,ue.setMilliseconds(0),ue.setFullYear(oe+1980),ue.setMonth(ye-1),ue.setDate(pe);var Fe=de&31;de>>>=5;var Ge=de&63;return de>>>=6,ue.setHours(de),ue.setMinutes(Ge),ue.setSeconds(Fe<<1),ue}function o(Z){ai(Z,0);for(var de={},oe=0;Z.l<=Z.length-4;){var ue=Z.read_shift(2),pe=Z.read_shift(2),ye=Z.l+pe,Fe={};switch(ue){case 21589:oe=Z.read_shift(1),oe&1&&(Fe.mtime=Z.read_shift(4)),pe>5&&(oe&2&&(Fe.atime=Z.read_shift(4)),oe&4&&(Fe.ctime=Z.read_shift(4))),Fe.mtime&&(Fe.mt=new Date(Fe.mtime*1e3));break}Z.l=ye,de[ue]=Fe}return de}var l;function c(){return l||(l={})}function u(Z,de){if(Z[0]==80&&Z[1]==75)return dt(Z,de);if((Z[0]|32)==109&&(Z[1]|32)==105)return Ut(Z,de);if(Z.length<512)throw new Error("CFB file size "+Z.length+" < 512");var oe=3,ue=512,pe=0,ye=0,Fe=0,Ge=0,Be=0,Ue=[],Ve=Z.slice(0,512);ai(Ve,0);var ot=h(Ve);switch(oe=ot[0],oe){case 3:ue=512;break;case 4:ue=4096;break;case 0:if(ot[1]==0)return dt(Z,de);default:throw new Error("Major Version: Expected 3 or 4 saw "+oe)}ue!==512&&(Ve=Z.slice(0,ue),ai(Ve,28));var mt=Z.slice(0,ue);d(Ve,oe);var wt=Ve.read_shift(4,"i");if(oe===3&&wt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+wt);Ve.l+=4,Fe=Ve.read_shift(4,"i"),Ve.l+=4,Ve.chk("00100000","Mini Stream Cutoff Size: "),Ge=Ve.read_shift(4,"i"),pe=Ve.read_shift(4,"i"),Be=Ve.read_shift(4,"i"),ye=Ve.read_shift(4,"i");for(var ft=-1,yt=0;yt<109&&(ft=Ve.read_shift(4,"i"),!(ft<0));++yt)Ue[yt]=ft;var Zt=f(Z,ue);_(Be,ye,Zt,ue,Ue);var Gr=T(Zt,Fe,Ue,ue);Gr[Fe].name="!Directory",pe>0&&Ge!==C&&(Gr[Ge].name="!MiniFAT"),Gr[Ue[0]].name="!FAT",Gr.fat_addrs=Ue,Gr.ssz=ue;var _r={},Cn=[],Yi=[],Li=[];b(Fe,Gr,Zt,Cn,pe,_r,Yi,Ge),p(Yi,Li,Cn),Cn.shift();var ys={FileIndex:Yi,FullPaths:Li};return de&&de.raw&&(ys.raw={header:mt,sectors:Zt}),ys}function h(Z){if(Z[Z.l]==80&&Z[Z.l+1]==75)return[0,0];Z.chk(H,"Header Signature: "),Z.l+=16;var de=Z.read_shift(2,"u");return[Z.read_shift(2,"u"),de]}function d(Z,de){var oe=9;switch(Z.l+=2,oe=Z.read_shift(2)){case 9:if(de!=3)throw new Error("Sector Shift: Expected 9 saw "+oe);break;case 12:if(de!=4)throw new Error("Sector Shift: Expected 12 saw "+oe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+oe)}Z.chk("0600","Mini Sector Shift: "),Z.chk("000000000000","Reserved: ")}function f(Z,de){for(var oe=Math.ceil(Z.length/de)-1,ue=[],pe=1;pe<oe;++pe)ue[pe-1]=Z.slice(pe*de,(pe+1)*de);return ue[oe-1]=Z.slice(oe*de),ue}function p(Z,de,oe){for(var ue=0,pe=0,ye=0,Fe=0,Ge=0,Be=oe.length,Ue=[],Ve=[];ue<Be;++ue)Ue[ue]=Ve[ue]=ue,de[ue]=oe[ue];for(;Ge<Ve.length;++Ge)ue=Ve[Ge],pe=Z[ue].L,ye=Z[ue].R,Fe=Z[ue].C,Ue[ue]===ue&&(pe!==-1&&Ue[pe]!==pe&&(Ue[ue]=Ue[pe]),ye!==-1&&Ue[ye]!==ye&&(Ue[ue]=Ue[ye])),Fe!==-1&&(Ue[Fe]=ue),pe!==-1&&ue!=Ue[ue]&&(Ue[pe]=Ue[ue],Ve.lastIndexOf(pe)<Ge&&Ve.push(pe)),ye!==-1&&ue!=Ue[ue]&&(Ue[ye]=Ue[ue],Ve.lastIndexOf(ye)<Ge&&Ve.push(ye));for(ue=1;ue<Be;++ue)Ue[ue]===ue&&(ye!==-1&&Ue[ye]!==ye?Ue[ue]=Ue[ye]:pe!==-1&&Ue[pe]!==pe&&(Ue[ue]=Ue[pe]));for(ue=1;ue<Be;++ue)if(Z[ue].type!==0){if(Ge=ue,Ge!=Ue[Ge])do Ge=Ue[Ge],de[ue]=de[Ge]+"/"+de[ue];while(Ge!==0&&Ue[Ge]!==-1&&Ge!=Ue[Ge]);Ue[ue]=-1}for(de[0]+="/",ue=1;ue<Be;++ue)Z[ue].type!==2&&(de[ue]+="/")}function m(Z,de,oe){for(var ue=Z.start,pe=Z.size,ye=[],Fe=ue;oe&&pe>0&&Fe>=0;)ye.push(de.slice(Fe*k,Fe*k+k)),pe-=k,Fe=jf(oe,Fe*4);return ye.length===0?We(0):Xa(ye).slice(0,Z.size)}function _(Z,de,oe,ue,pe){var ye=C;if(Z===C){if(de!==0)throw new Error("DIFAT chain shorter than expected")}else if(Z!==-1){var Fe=oe[Z],Ge=(ue>>>2)-1;if(!Fe)return;for(var Be=0;Be<Ge&&(ye=jf(Fe,Be*4))!==C;++Be)pe.push(ye);_(jf(Fe,ue-4),de-1,oe,ue,pe)}}function x(Z,de,oe,ue,pe){var ye=[],Fe=[];pe||(pe=[]);var Ge=ue-1,Be=0,Ue=0;for(Be=de;Be>=0;){pe[Be]=!0,ye[ye.length]=Be,Fe.push(Z[Be]);var Ve=oe[Math.floor(Be*4/ue)];if(Ue=Be*4&Ge,ue<4+Ue)throw new Error("FAT boundary crossed: "+Be+" 4 "+ue);if(!Z[Ve])break;Be=jf(Z[Ve],Ue)}return{nodes:ye,data:FC([Fe])}}function T(Z,de,oe,ue){var pe=Z.length,ye=[],Fe=[],Ge=[],Be=[],Ue=ue-1,Ve=0,ot=0,mt=0,wt=0;for(Ve=0;Ve<pe;++Ve)if(Ge=[],mt=Ve+de,mt>=pe&&(mt-=pe),!Fe[mt]){Be=[];var ft=[];for(ot=mt;ot>=0;){ft[ot]=!0,Fe[ot]=!0,Ge[Ge.length]=ot,Be.push(Z[ot]);var yt=oe[Math.floor(ot*4/ue)];if(wt=ot*4&Ue,ue<4+wt)throw new Error("FAT boundary crossed: "+ot+" 4 "+ue);if(!Z[yt]||(ot=jf(Z[yt],wt),ft[ot]))break}ye[mt]={nodes:Ge,data:FC([Be])}}return ye}function b(Z,de,oe,ue,pe,ye,Fe,Ge){for(var Be=0,Ue=ue.length?2:0,Ve=de[Z].data,ot=0,mt=0,wt;ot<Ve.length;ot+=128){var ft=Ve.slice(ot,ot+128);ai(ft,64),mt=ft.read_shift(2),wt=AE(ft,0,mt-Ue),ue.push(wt);var yt={name:wt,type:ft.read_shift(1),color:ft.read_shift(1),L:ft.read_shift(4,"i"),R:ft.read_shift(4,"i"),C:ft.read_shift(4,"i"),clsid:ft.read_shift(16),state:ft.read_shift(4,"i"),start:0,size:0},Zt=ft.read_shift(2)+ft.read_shift(2)+ft.read_shift(2)+ft.read_shift(2);Zt!==0&&(yt.ct=I(ft,ft.l-8));var Gr=ft.read_shift(2)+ft.read_shift(2)+ft.read_shift(2)+ft.read_shift(2);Gr!==0&&(yt.mt=I(ft,ft.l-8)),yt.start=ft.read_shift(4,"i"),yt.size=ft.read_shift(4,"i"),yt.size<0&&yt.start<0&&(yt.size=yt.type=0,yt.start=C,yt.name=""),yt.type===5?(Be=yt.start,pe>0&&Be!==C&&(de[Be].name="!StreamData")):yt.size>=4096?(yt.storage="fat",de[yt.start]===void 0&&(de[yt.start]=x(oe,yt.start,de.fat_addrs,de.ssz)),de[yt.start].name=yt.name,yt.content=de[yt.start].data.slice(0,yt.size)):(yt.storage="minifat",yt.size<0?yt.size=0:Be!==C&&yt.start!==C&&de[Be]&&(yt.content=m(yt,de[Be].data,(de[Ge]||{}).data))),yt.content&&ai(yt.content,0),ye[wt]=yt,Fe.push(yt)}}function I(Z,de){return new Date((Ps(Z,de+4)/1e7*Math.pow(2,32)+Ps(Z,de)/1e7-11644473600)*1e3)}function j(Z,de){return c(),u(l.readFileSync(Z),de)}function O(Z,de){var oe=de&&de.type;switch(oe||yr&&Buffer.isBuffer(Z)&&(oe="buffer"),oe||"base64"){case"file":return j(Z,de);case"base64":return u(Bs(Qs(Z)),de);case"binary":return u(Bs(Z),de)}return u(Z,de)}function N(Z,de){var oe=de||{},ue=oe.root||"Root Entry";if(Z.FullPaths||(Z.FullPaths=[]),Z.FileIndex||(Z.FileIndex=[]),Z.FullPaths.length!==Z.FileIndex.length)throw new Error("inconsistent CFB structure");Z.FullPaths.length===0&&(Z.FullPaths[0]=ue+"/",Z.FileIndex[0]={name:ue,type:5}),oe.CLSID&&(Z.FileIndex[0].clsid=oe.CLSID),A(Z)}function A(Z){var de="Sh33tJ5";if(!Gt.find(Z,"/"+de)){var oe=We(4);oe[0]=55,oe[1]=oe[3]=50,oe[2]=54,Z.FileIndex.push({name:de,type:2,content:oe,size:4,L:69,R:69,C:69}),Z.FullPaths.push(Z.FullPaths[0]+de),y(Z)}}function y(Z,de){N(Z);for(var oe=!1,ue=!1,pe=Z.FullPaths.length-1;pe>=0;--pe){var ye=Z.FileIndex[pe];switch(ye.type){case 0:ue?oe=!0:(Z.FileIndex.pop(),Z.FullPaths.pop());break;case 1:case 2:case 5:ue=!0,isNaN(ye.R*ye.L*ye.C)&&(oe=!0),ye.R>-1&&ye.L>-1&&ye.R==ye.L&&(oe=!0);break;default:oe=!0;break}}if(!(!oe&&!de)){var Fe=new Date(1987,1,19),Ge=0,Be=Object.create?Object.create(null):{},Ue=[];for(pe=0;pe<Z.FullPaths.length;++pe)Be[Z.FullPaths[pe]]=!0,Z.FileIndex[pe].type!==0&&Ue.push([Z.FullPaths[pe],Z.FileIndex[pe]]);for(pe=0;pe<Ue.length;++pe){var Ve=n(Ue[pe][0]);ue=Be[Ve],ue||(Ue.push([Ve,{name:a(Ve).replace("/",""),type:1,clsid:V,ct:Fe,mt:Fe,content:null}]),Be[Ve]=!0)}for(Ue.sort(function(wt,ft){return r(wt[0],ft[0])}),Z.FullPaths=[],Z.FileIndex=[],pe=0;pe<Ue.length;++pe)Z.FullPaths[pe]=Ue[pe][0],Z.FileIndex[pe]=Ue[pe][1];for(pe=0;pe<Ue.length;++pe){var ot=Z.FileIndex[pe],mt=Z.FullPaths[pe];if(ot.name=a(mt).replace("/",""),ot.L=ot.R=ot.C=-(ot.color=1),ot.size=ot.content?ot.content.length:0,ot.start=0,ot.clsid=ot.clsid||V,pe===0)ot.C=Ue.length>1?1:-1,ot.size=0,ot.type=5;else if(mt.slice(-1)=="/"){for(Ge=pe+1;Ge<Ue.length&&n(Z.FullPaths[Ge])!=mt;++Ge);for(ot.C=Ge>=Ue.length?-1:Ge,Ge=pe+1;Ge<Ue.length&&n(Z.FullPaths[Ge])!=n(mt);++Ge);ot.R=Ge>=Ue.length?-1:Ge,ot.type=1}else n(Z.FullPaths[pe+1]||"")==n(mt)&&(ot.R=pe+1),ot.type=2}}}function R(Z,de){var oe=de||{};if(oe.fileType=="mad")return _s(Z,oe);switch(y(Z),oe.fileType){case"zip":return Ct(Z,oe)}var ue=function(wt){for(var ft=0,yt=0,Zt=0;Zt<wt.FileIndex.length;++Zt){var Gr=wt.FileIndex[Zt];if(Gr.content){var _r=Gr.content.length;_r>0&&(_r<4096?ft+=_r+63>>6:yt+=_r+511>>9)}}for(var Cn=wt.FullPaths.length+3>>2,Yi=ft+7>>3,Li=ft+127>>7,ys=Yi+yt+Cn+Li,Di=ys+127>>7,Do=Di<=109?0:Math.ceil((Di-109)/127);ys+Di+Do+127>>7>Di;)Do=++Di<=109?0:Math.ceil((Di-109)/127);var Wn=[1,Do,Di,Li,Cn,yt,ft,0];return wt.FileIndex[0].size=ft<<6,Wn[7]=(wt.FileIndex[0].start=Wn[0]+Wn[1]+Wn[2]+Wn[3]+Wn[4]+Wn[5])+(Wn[6]+7>>3),Wn}(Z),pe=We(ue[7]<<9),ye=0,Fe=0;{for(ye=0;ye<8;++ye)pe.write_shift(1,X[ye]);for(ye=0;ye<8;++ye)pe.write_shift(2,0);for(pe.write_shift(2,62),pe.write_shift(2,3),pe.write_shift(2,65534),pe.write_shift(2,9),pe.write_shift(2,6),ye=0;ye<3;++ye)pe.write_shift(2,0);for(pe.write_shift(4,0),pe.write_shift(4,ue[2]),pe.write_shift(4,ue[0]+ue[1]+ue[2]+ue[3]-1),pe.write_shift(4,0),pe.write_shift(4,4096),pe.write_shift(4,ue[3]?ue[0]+ue[1]+ue[2]-1:C),pe.write_shift(4,ue[3]),pe.write_shift(-4,ue[1]?ue[0]-1:C),pe.write_shift(4,ue[1]),ye=0;ye<109;++ye)pe.write_shift(-4,ye<ue[2]?ue[1]+ye:-1)}if(ue[1])for(Fe=0;Fe<ue[1];++Fe){for(;ye<236+Fe*127;++ye)pe.write_shift(-4,ye<ue[2]?ue[1]+ye:-1);pe.write_shift(-4,Fe===ue[1]-1?C:Fe+1)}var Ge=function(wt){for(Fe+=wt;ye<Fe-1;++ye)pe.write_shift(-4,ye+1);wt&&(++ye,pe.write_shift(-4,C))};for(Fe=ye=0,Fe+=ue[1];ye<Fe;++ye)pe.write_shift(-4,q.DIFSECT);for(Fe+=ue[2];ye<Fe;++ye)pe.write_shift(-4,q.FATSECT);Ge(ue[3]),Ge(ue[4]);for(var Be=0,Ue=0,Ve=Z.FileIndex[0];Be<Z.FileIndex.length;++Be)Ve=Z.FileIndex[Be],Ve.content&&(Ue=Ve.content.length,!(Ue<4096)&&(Ve.start=Fe,Ge(Ue+511>>9)));for(Ge(ue[6]+7>>3);pe.l&511;)pe.write_shift(-4,q.ENDOFCHAIN);for(Fe=ye=0,Be=0;Be<Z.FileIndex.length;++Be)Ve=Z.FileIndex[Be],Ve.content&&(Ue=Ve.content.length,!(!Ue||Ue>=4096)&&(Ve.start=Fe,Ge(Ue+63>>6)));for(;pe.l&511;)pe.write_shift(-4,q.ENDOFCHAIN);for(ye=0;ye<ue[4]<<2;++ye){var ot=Z.FullPaths[ye];if(!ot||ot.length===0){for(Be=0;Be<17;++Be)pe.write_shift(4,0);for(Be=0;Be<3;++Be)pe.write_shift(4,-1);for(Be=0;Be<12;++Be)pe.write_shift(4,0);continue}Ve=Z.FileIndex[ye],ye===0&&(Ve.start=Ve.size?Ve.start-1:C);var mt=ye===0&&oe.root||Ve.name;if(Ue=2*(mt.length+1),pe.write_shift(64,mt,"utf16le"),pe.write_shift(2,Ue),pe.write_shift(1,Ve.type),pe.write_shift(1,Ve.color),pe.write_shift(-4,Ve.L),pe.write_shift(-4,Ve.R),pe.write_shift(-4,Ve.C),Ve.clsid)pe.write_shift(16,Ve.clsid,"hex");else for(Be=0;Be<4;++Be)pe.write_shift(4,0);pe.write_shift(4,Ve.state||0),pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(4,Ve.start),pe.write_shift(4,Ve.size),pe.write_shift(4,0)}for(ye=1;ye<Z.FileIndex.length;++ye)if(Ve=Z.FileIndex[ye],Ve.size>=4096)if(pe.l=Ve.start+1<<9,yr&&Buffer.isBuffer(Ve.content))Ve.content.copy(pe,pe.l,0,Ve.size),pe.l+=Ve.size+511&-512;else{for(Be=0;Be<Ve.size;++Be)pe.write_shift(1,Ve.content[Be]);for(;Be&511;++Be)pe.write_shift(1,0)}for(ye=1;ye<Z.FileIndex.length;++ye)if(Ve=Z.FileIndex[ye],Ve.size>0&&Ve.size<4096)if(yr&&Buffer.isBuffer(Ve.content))Ve.content.copy(pe,pe.l,0,Ve.size),pe.l+=Ve.size+63&-64;else{for(Be=0;Be<Ve.size;++Be)pe.write_shift(1,Ve.content[Be]);for(;Be&63;++Be)pe.write_shift(1,0)}if(yr)pe.l=pe.length;else for(;pe.l<pe.length;)pe.write_shift(1,0);return pe}function S(Z,de){var oe=Z.FullPaths.map(function(Be){return Be.toUpperCase()}),ue=oe.map(function(Be){var Ue=Be.split("/");return Ue[Ue.length-(Be.slice(-1)=="/"?2:1)]}),pe=!1;de.charCodeAt(0)===47?(pe=!0,de=oe[0].slice(0,-1)+de):pe=de.indexOf("/")!==-1;var ye=de.toUpperCase(),Fe=pe===!0?oe.indexOf(ye):ue.indexOf(ye);if(Fe!==-1)return Z.FileIndex[Fe];var Ge=!ye.match(P1);for(ye=ye.replace(Xi,""),Ge&&(ye=ye.replace(P1,"!")),Fe=0;Fe<oe.length;++Fe)if((Ge?oe[Fe].replace(P1,"!"):oe[Fe]).replace(Xi,"")==ye||(Ge?ue[Fe].replace(P1,"!"):ue[Fe]).replace(Xi,"")==ye)return Z.FileIndex[Fe];return null}var k=64,C=-2,H="d0cf11e0a1b11ae1",X=[208,207,17,224,161,177,26,225],V="00000000000000000000000000000000",q={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:C,FREESECT:-1,HEADER_SIGNATURE:H,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:V,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function re(Z,de,oe){c();var ue=R(Z,oe);l.writeFileSync(de,ue)}function W(Z){for(var de=new Array(Z.length),oe=0;oe<Z.length;++oe)de[oe]=String.fromCharCode(Z[oe]);return de.join("")}function me(Z,de){var oe=R(Z,de);switch(de&&de.type||"buffer"){case"file":return c(),l.writeFileSync(de.filename,oe),oe;case"binary":return typeof oe=="string"?oe:W(oe);case"base64":return qp(typeof oe=="string"?oe:W(oe));case"buffer":if(yr)return Buffer.isBuffer(oe)?oe:Bc(oe);case"array":return typeof oe=="string"?Bs(oe):oe}return oe}var Ee;function D(Z){try{var de=Z.InflateRaw,oe=new de;if(oe._processChunk(new Uint8Array([3,0]),oe._finishFlushFlag),oe.bytesRead)Ee=Z;else throw new Error("zlib does not expose bytesRead")}catch(ue){console.error("cannot use native zlib: "+(ue.message||ue))}}function F(Z,de){if(!Ee)return Oe(Z,de);var oe=Ee.InflateRaw,ue=new oe,pe=ue._processChunk(Z.slice(Z.l),ue._finishFlushFlag);return Z.l+=ue.bytesRead,pe}function U(Z){return Ee?Ee.deflateRawSync(Z):lt(Z)}var M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],se=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function he(Z){var de=(Z<<1|Z<<11)&139536|(Z<<5|Z<<15)&558144;return(de>>16|de>>8|de)&255}for(var fe=typeof Uint8Array<"u",ve=fe?new Uint8Array(256):[],ke=0;ke<256;++ke)ve[ke]=he(ke);function ne(Z,de){var oe=ve[Z&255];return de<=8?oe>>>8-de:(oe=oe<<8|ve[Z>>8&255],de<=16?oe>>>16-de:(oe=oe<<8|ve[Z>>16&255],oe>>>24-de))}function be(Z,de){var oe=de&7,ue=de>>>3;return(Z[ue]|(oe<=6?0:Z[ue+1]<<8))>>>oe&3}function Me(Z,de){var oe=de&7,ue=de>>>3;return(Z[ue]|(oe<=5?0:Z[ue+1]<<8))>>>oe&7}function J(Z,de){var oe=de&7,ue=de>>>3;return(Z[ue]|(oe<=4?0:Z[ue+1]<<8))>>>oe&15}function Ie(Z,de){var oe=de&7,ue=de>>>3;return(Z[ue]|(oe<=3?0:Z[ue+1]<<8))>>>oe&31}function Re(Z,de){var oe=de&7,ue=de>>>3;return(Z[ue]|(oe<=1?0:Z[ue+1]<<8))>>>oe&127}function De(Z,de,oe){var ue=de&7,pe=de>>>3,ye=(1<<oe)-1,Fe=Z[pe]>>>ue;return oe<8-ue||(Fe|=Z[pe+1]<<8-ue,oe<16-ue)||(Fe|=Z[pe+2]<<16-ue,oe<24-ue)||(Fe|=Z[pe+3]<<24-ue),Fe&ye}function Te(Z,de,oe){var ue=de&7,pe=de>>>3;return ue<=5?Z[pe]|=(oe&7)<<ue:(Z[pe]|=oe<<ue&255,Z[pe+1]=(oe&7)>>8-ue),de+3}function Qe(Z,de,oe){var ue=de&7,pe=de>>>3;return oe=(oe&1)<<ue,Z[pe]|=oe,de+1}function Ye(Z,de,oe){var ue=de&7,pe=de>>>3;return oe<<=ue,Z[pe]|=oe&255,oe>>>=8,Z[pe+1]=oe,de+8}function we(Z,de,oe){var ue=de&7,pe=de>>>3;return oe<<=ue,Z[pe]|=oe&255,oe>>>=8,Z[pe+1]=oe&255,Z[pe+2]=oe>>>8,de+16}function qe(Z,de){var oe=Z.length,ue=2*oe>de?2*oe:de+5,pe=0;if(oe>=de)return Z;if(yr){var ye=vC(ue);if(Z.copy)Z.copy(ye);else for(;pe<Z.length;++pe)ye[pe]=Z[pe];return ye}else if(fe){var Fe=new Uint8Array(ue);if(Fe.set)Fe.set(Z);else for(;pe<oe;++pe)Fe[pe]=Z[pe];return Fe}return Z.length=ue,Z}function tt(Z){for(var de=new Array(Z),oe=0;oe<Z;++oe)de[oe]=0;return de}function at(Z,de,oe){var ue=1,pe=0,ye=0,Fe=0,Ge=0,Be=Z.length,Ue=fe?new Uint16Array(32):tt(32);for(ye=0;ye<32;++ye)Ue[ye]=0;for(ye=Be;ye<oe;++ye)Z[ye]=0;Be=Z.length;var Ve=fe?new Uint16Array(Be):tt(Be);for(ye=0;ye<Be;++ye)Ue[pe=Z[ye]]++,ue<pe&&(ue=pe),Ve[ye]=0;for(Ue[0]=0,ye=1;ye<=ue;++ye)Ue[ye+16]=Ge=Ge+Ue[ye-1]<<1;for(ye=0;ye<Be;++ye)Ge=Z[ye],Ge!=0&&(Ve[ye]=Ue[Ge+16]++);var ot=0;for(ye=0;ye<Be;++ye)if(ot=Z[ye],ot!=0)for(Ge=ne(Ve[ye],ue)>>ue-ot,Fe=(1<<ue+4-ot)-1;Fe>=0;--Fe)de[Ge|Fe<<ot]=ot&15|ye<<4;return ue}var Tt=fe?new Uint16Array(512):tt(512),$t=fe?new Uint16Array(32):tt(32);if(!fe){for(var At=0;At<512;++At)Tt[At]=0;for(At=0;At<32;++At)$t[At]=0}(function(){for(var Z=[],de=0;de<32;de++)Z.push(5);at(Z,$t,32);var oe=[];for(de=0;de<=143;de++)oe.push(8);for(;de<=255;de++)oe.push(9);for(;de<=279;de++)oe.push(7);for(;de<=287;de++)oe.push(8);at(oe,Tt,288)})();var vt=function(){for(var de=fe?new Uint8Array(32768):[],oe=0,ue=0;oe<se.length-1;++oe)for(;ue<se[oe+1];++ue)de[ue]=oe;for(;ue<32768;++ue)de[ue]=29;var pe=fe?new Uint8Array(259):[];for(oe=0,ue=0;oe<Y.length-1;++oe)for(;ue<Y[oe+1];++ue)pe[ue]=oe;function ye(Ge,Be){for(var Ue=0;Ue<Ge.length;){var Ve=Math.min(65535,Ge.length-Ue),ot=Ue+Ve==Ge.length;for(Be.write_shift(1,+ot),Be.write_shift(2,Ve),Be.write_shift(2,~Ve&65535);Ve-- >0;)Be[Be.l++]=Ge[Ue++]}return Be.l}function Fe(Ge,Be){for(var Ue=0,Ve=0,ot=fe?new Uint16Array(32768):[];Ve<Ge.length;){var mt=Math.min(65535,Ge.length-Ve);if(mt<10){for(Ue=Te(Be,Ue,+(Ve+mt==Ge.length)),Ue&7&&(Ue+=8-(Ue&7)),Be.l=Ue/8|0,Be.write_shift(2,mt),Be.write_shift(2,~mt&65535);mt-- >0;)Be[Be.l++]=Ge[Ve++];Ue=Be.l*8;continue}Ue=Te(Be,Ue,+(Ve+mt==Ge.length)+2);for(var wt=0;mt-- >0;){var ft=Ge[Ve];wt=(wt<<5^ft)&32767;var yt=-1,Zt=0;if((yt=ot[wt])&&(yt|=Ve&-32768,yt>Ve&&(yt-=32768),yt<Ve))for(;Ge[yt+Zt]==Ge[Ve+Zt]&&Zt<250;)++Zt;if(Zt>2){ft=pe[Zt],ft<=22?Ue=Ye(Be,Ue,ve[ft+1]>>1)-1:(Ye(Be,Ue,3),Ue+=5,Ye(Be,Ue,ve[ft-23]>>5),Ue+=3);var Gr=ft<8?0:ft-4>>2;Gr>0&&(we(Be,Ue,Zt-Y[ft]),Ue+=Gr),ft=de[Ve-yt],Ue=Ye(Be,Ue,ve[ft]>>3),Ue-=3;var _r=ft<4?0:ft-2>>1;_r>0&&(we(Be,Ue,Ve-yt-se[ft]),Ue+=_r);for(var Cn=0;Cn<Zt;++Cn)ot[wt]=Ve&32767,wt=(wt<<5^Ge[Ve])&32767,++Ve;mt-=Zt-1}else ft<=143?ft=ft+48:Ue=Qe(Be,Ue,1),Ue=Ye(Be,Ue,ve[ft]),ot[wt]=Ve&32767,++Ve}Ue=Ye(Be,Ue,0)-1}return Be.l=(Ue+7)/8|0,Be.l}return function(Be,Ue){return Be.length<8?ye(Be,Ue):Fe(Be,Ue)}}();function lt(Z){var de=We(50+Math.floor(Z.length*1.1)),oe=vt(Z,de);return de.slice(0,oe)}var ct=fe?new Uint16Array(32768):tt(32768),Ft=fe?new Uint16Array(32768):tt(32768),bt=fe?new Uint16Array(128):tt(128),Nt=1,zt=1;function xr(Z,de){var oe=Ie(Z,de)+257;de+=5;var ue=Ie(Z,de)+1;de+=5;var pe=J(Z,de)+4;de+=4;for(var ye=0,Fe=fe?new Uint8Array(19):tt(19),Ge=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Be=1,Ue=fe?new Uint8Array(8):tt(8),Ve=fe?new Uint8Array(8):tt(8),ot=Fe.length,mt=0;mt<pe;++mt)Fe[M[mt]]=ye=Me(Z,de),Be<ye&&(Be=ye),Ue[ye]++,de+=3;var wt=0;for(Ue[0]=0,mt=1;mt<=Be;++mt)Ve[mt]=wt=wt+Ue[mt-1]<<1;for(mt=0;mt<ot;++mt)(wt=Fe[mt])!=0&&(Ge[mt]=Ve[wt]++);var ft=0;for(mt=0;mt<ot;++mt)if(ft=Fe[mt],ft!=0){wt=ve[Ge[mt]]>>8-ft;for(var yt=(1<<7-ft)-1;yt>=0;--yt)bt[wt|yt<<ft]=ft&7|mt<<3}var Zt=[];for(Be=1;Zt.length<oe+ue;)switch(wt=bt[Re(Z,de)],de+=wt&7,wt>>>=3){case 16:for(ye=3+be(Z,de),de+=2,wt=Zt[Zt.length-1];ye-- >0;)Zt.push(wt);break;case 17:for(ye=3+Me(Z,de),de+=3;ye-- >0;)Zt.push(0);break;case 18:for(ye=11+Re(Z,de),de+=7;ye-- >0;)Zt.push(0);break;default:Zt.push(wt),Be<wt&&(Be=wt);break}var Gr=Zt.slice(0,oe),_r=Zt.slice(oe);for(mt=oe;mt<286;++mt)Gr[mt]=0;for(mt=ue;mt<30;++mt)_r[mt]=0;return Nt=at(Gr,ct,286),zt=at(_r,Ft,30),de}function Pt(Z,de){if(Z[0]==3&&!(Z[1]&3))return[lf(de),2];for(var oe=0,ue=0,pe=vC(de||1<<18),ye=0,Fe=pe.length>>>0,Ge=0,Be=0;!(ue&1);){if(ue=Me(Z,oe),oe+=3,ue>>>1)ue>>1==1?(Ge=9,Be=5):(oe=xr(Z,oe),Ge=Nt,Be=zt);else{oe&7&&(oe+=8-(oe&7));var Ue=Z[oe>>>3]|Z[(oe>>>3)+1]<<8;if(oe+=32,Ue>0)for(!de&&Fe<ye+Ue&&(pe=qe(pe,ye+Ue),Fe=pe.length);Ue-- >0;)pe[ye++]=Z[oe>>>3],oe+=8;continue}for(;;){!de&&Fe<ye+32767&&(pe=qe(pe,ye+32767),Fe=pe.length);var Ve=De(Z,oe,Ge),ot=ue>>>1==1?Tt[Ve]:ct[Ve];if(oe+=ot&15,ot>>>=4,!(ot>>>8&255))pe[ye++]=ot;else{if(ot==256)break;ot-=257;var mt=ot<8?0:ot-4>>2;mt>5&&(mt=0);var wt=ye+Y[ot];mt>0&&(wt+=De(Z,oe,mt),oe+=mt),Ve=De(Z,oe,Be),ot=ue>>>1==1?$t[Ve]:Ft[Ve],oe+=ot&15,ot>>>=4;var ft=ot<4?0:ot-2>>1,yt=se[ot];for(ft>0&&(yt+=De(Z,oe,ft),oe+=ft),!de&&Fe<wt&&(pe=qe(pe,wt+100),Fe=pe.length);ye<wt;)pe[ye]=pe[ye-yt],++ye}}}return de?[pe,oe+7>>>3]:[pe.slice(0,ye),oe+7>>>3]}function Oe(Z,de){var oe=Z.slice(Z.l||0),ue=Pt(oe,de);return Z.l+=ue[1],ue[0]}function ut(Z,de){if(Z)typeof console<"u"&&console.error(de);else throw new Error(de)}function dt(Z,de){var oe=Z;ai(oe,0);var ue=[],pe=[],ye={FileIndex:ue,FullPaths:pe};N(ye,{root:de.root});for(var Fe=oe.length-4;(oe[Fe]!=80||oe[Fe+1]!=75||oe[Fe+2]!=5||oe[Fe+3]!=6)&&Fe>=0;)--Fe;oe.l=Fe+4,oe.l+=4;var Ge=oe.read_shift(2);oe.l+=6;var Be=oe.read_shift(4);for(oe.l=Be,Fe=0;Fe<Ge;++Fe){oe.l+=20;var Ue=oe.read_shift(4),Ve=oe.read_shift(4),ot=oe.read_shift(2),mt=oe.read_shift(2),wt=oe.read_shift(2);oe.l+=8;var ft=oe.read_shift(4),yt=o(oe.slice(oe.l+ot,oe.l+ot+mt));oe.l+=ot+mt+wt;var Zt=oe.l;oe.l=ft+4,Qt(oe,Ue,Ve,ye,yt),oe.l=Zt}return ye}function Qt(Z,de,oe,ue,pe){Z.l+=2;var ye=Z.read_shift(2),Fe=Z.read_shift(2),Ge=s(Z);if(ye&8257)throw new Error("Unsupported ZIP encryption");for(var Be=Z.read_shift(4),Ue=Z.read_shift(4),Ve=Z.read_shift(4),ot=Z.read_shift(2),mt=Z.read_shift(2),wt="",ft=0;ft<ot;++ft)wt+=String.fromCharCode(Z[Z.l++]);if(mt){var yt=o(Z.slice(Z.l,Z.l+mt));(yt[21589]||{}).mt&&(Ge=yt[21589].mt),((pe||{})[21589]||{}).mt&&(Ge=pe[21589].mt)}Z.l+=mt;var Zt=Z.slice(Z.l,Z.l+Ue);switch(Fe){case 8:Zt=F(Z,Ve);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Fe)}var Gr=!1;ye&8&&(Be=Z.read_shift(4),Be==134695760&&(Be=Z.read_shift(4),Gr=!0),Ue=Z.read_shift(4),Ve=Z.read_shift(4)),Ue!=de&&ut(Gr,"Bad compressed size: "+de+" != "+Ue),Ve!=oe&&ut(Gr,"Bad uncompressed size: "+oe+" != "+Ve),Ia(ue,wt,Zt,{unsafe:!0,mt:Ge})}function Ct(Z,de){var oe=de||{},ue=[],pe=[],ye=We(1),Fe=oe.compression?8:0,Ge=0,Be=0,Ue=0,Ve=0,ot=0,mt=Z.FullPaths[0],wt=mt,ft=Z.FileIndex[0],yt=[],Zt=0;for(Be=1;Be<Z.FullPaths.length;++Be)if(wt=Z.FullPaths[Be].slice(mt.length),ft=Z.FileIndex[Be],!(!ft.size||!ft.content||wt=="Sh33tJ5")){var Gr=Ve,_r=We(wt.length);for(Ue=0;Ue<wt.length;++Ue)_r.write_shift(1,wt.charCodeAt(Ue)&127);_r=_r.slice(0,_r.l),yt[ot]=qJ.buf(ft.content,0);var Cn=ft.content;Fe==8&&(Cn=U(Cn)),ye=We(30),ye.write_shift(4,67324752),ye.write_shift(2,20),ye.write_shift(2,Ge),ye.write_shift(2,Fe),ft.mt?i(ye,ft.mt):ye.write_shift(4,0),ye.write_shift(-4,yt[ot]),ye.write_shift(4,Cn.length),ye.write_shift(4,ft.content.length),ye.write_shift(2,_r.length),ye.write_shift(2,0),Ve+=ye.length,ue.push(ye),Ve+=_r.length,ue.push(_r),Ve+=Cn.length,ue.push(Cn),ye=We(46),ye.write_shift(4,33639248),ye.write_shift(2,0),ye.write_shift(2,20),ye.write_shift(2,Ge),ye.write_shift(2,Fe),ye.write_shift(4,0),ye.write_shift(-4,yt[ot]),ye.write_shift(4,Cn.length),ye.write_shift(4,ft.content.length),ye.write_shift(2,_r.length),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(4,0),ye.write_shift(4,Gr),Zt+=ye.l,pe.push(ye),Zt+=_r.length,pe.push(_r),++ot}return ye=We(22),ye.write_shift(4,101010256),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,ot),ye.write_shift(2,ot),ye.write_shift(4,Zt),ye.write_shift(4,Ve),ye.write_shift(2,0),Xa([Xa(ue),Xa(pe),ye])}var kt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Kt(Z,de){if(Z.ctype)return Z.ctype;var oe=Z.name||"",ue=oe.match(/\.([^\.]+)$/);return ue&&kt[ue[1]]||de&&(ue=(oe=de).match(/[\.\\]([^\.\\])+$/),ue&&kt[ue[1]])?kt[ue[1]]:"application/octet-stream"}function Kr(Z){for(var de=qp(Z),oe=[],ue=0;ue<de.length;ue+=76)oe.push(de.slice(ue,ue+76));return oe.join(`\r
`)+`\r
`}function Jt(Z){var de=Z.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ue){var Ve=Ue.charCodeAt(0).toString(16).toUpperCase();return"="+(Ve.length==1?"0"+Ve:Ve)});de=de.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),de.charAt(0)==`
`&&(de="=0D"+de.slice(1)),de=de.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var oe=[],ue=de.split(`\r
`),pe=0;pe<ue.length;++pe){var ye=ue[pe];if(ye.length==0){oe.push("");continue}for(var Fe=0;Fe<ye.length;){var Ge=76,Be=ye.slice(Fe,Fe+Ge);Be.charAt(Ge-1)=="="?Ge--:Be.charAt(Ge-2)=="="?Ge-=2:Be.charAt(Ge-3)=="="&&(Ge-=3),Be=ye.slice(Fe,Fe+Ge),Fe+=Ge,Fe<ye.length&&(Be+="="),oe.push(Be)}}return oe.join(`\r
`)}function gn(Z){for(var de=[],oe=0;oe<Z.length;++oe){for(var ue=Z[oe];oe<=Z.length&&ue.charAt(ue.length-1)=="=";)ue=ue.slice(0,ue.length-1)+Z[++oe];de.push(ue)}for(var pe=0;pe<de.length;++pe)de[pe]=de[pe].replace(/[=][0-9A-Fa-f]{2}/g,function(ye){return String.fromCharCode(parseInt(ye.slice(1),16))});return Bs(de.join(`\r
`))}function Br(Z,de,oe){for(var ue="",pe="",ye="",Fe,Ge=0;Ge<10;++Ge){var Be=de[Ge];if(!Be||Be.match(/^\s*$/))break;var Ue=Be.match(/^(.*?):\s*([^\s].*)$/);if(Ue)switch(Ue[1].toLowerCase()){case"content-location":ue=Ue[2].trim();break;case"content-type":ye=Ue[2].trim();break;case"content-transfer-encoding":pe=Ue[2].trim();break}}switch(++Ge,pe.toLowerCase()){case"base64":Fe=Bs(Qs(de.slice(Ge).join("")));break;case"quoted-printable":Fe=gn(de.slice(Ge));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+pe)}var Ve=Ia(Z,ue.slice(oe.length),Fe,{unsafe:!0});ye&&(Ve.ctype=ye)}function Ut(Z,de){if(W(Z.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var oe=de&&de.root||"",ue=(yr&&Buffer.isBuffer(Z)?Z.toString("binary"):W(Z)).split(`\r
`),pe=0,ye="";for(pe=0;pe<ue.length;++pe)if(ye=ue[pe],!!/^Content-Location:/i.test(ye)&&(ye=ye.slice(ye.indexOf("file")),oe||(oe=ye.slice(0,ye.lastIndexOf("/")+1)),ye.slice(0,oe.length)!=oe))for(;oe.length>0&&(oe=oe.slice(0,oe.length-1),oe=oe.slice(0,oe.lastIndexOf("/")+1),ye.slice(0,oe.length)!=oe););var Fe=(ue[1]||"").match(/boundary="(.*?)"/);if(!Fe)throw new Error("MAD cannot find boundary");var Ge="--"+(Fe[1]||""),Be=[],Ue=[],Ve={FileIndex:Be,FullPaths:Ue};N(Ve);var ot,mt=0;for(pe=0;pe<ue.length;++pe){var wt=ue[pe];wt!==Ge&&wt!==Ge+"--"||(mt++&&Br(Ve,ue.slice(ot,pe),oe),ot=pe)}return Ve}function _s(Z,de){var oe=de||{},ue=oe.boundary||"SheetJS";ue="------="+ue;for(var pe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ue.slice(2)+'"',"","",""],ye=Z.FullPaths[0],Fe=ye,Ge=Z.FileIndex[0],Be=1;Be<Z.FullPaths.length;++Be)if(Fe=Z.FullPaths[Be].slice(ye.length),Ge=Z.FileIndex[Be],!(!Ge.size||!Ge.content||Fe=="Sh33tJ5")){Fe=Fe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Zt){return"_x"+Zt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Zt){return"_u"+Zt.charCodeAt(0).toString(16)+"_"});for(var Ue=Ge.content,Ve=yr&&Buffer.isBuffer(Ue)?Ue.toString("binary"):W(Ue),ot=0,mt=Math.min(1024,Ve.length),wt=0,ft=0;ft<=mt;++ft)(wt=Ve.charCodeAt(ft))>=32&&wt<128&&++ot;var yt=ot>=mt*4/5;pe.push(ue),pe.push("Content-Location: "+(oe.root||"file:///C:/SheetJS/")+Fe),pe.push("Content-Transfer-Encoding: "+(yt?"quoted-printable":"base64")),pe.push("Content-Type: "+Kt(Ge,Fe)),pe.push(""),pe.push(yt?Jt(Ve):Kr(Ve))}return pe.push(ue+`--\r
`),pe.join(`\r
`)}function hi(Z){var de={};return N(de,Z),de}function Ia(Z,de,oe,ue){var pe=ue&&ue.unsafe;pe||N(Z);var ye=!pe&&Gt.find(Z,de);if(!ye){var Fe=Z.FullPaths[0];de.slice(0,Fe.length)==Fe?Fe=de:(Fe.slice(-1)!="/"&&(Fe+="/"),Fe=(Fe+de).replace("//","/")),ye={name:a(de),type:2},Z.FileIndex.push(ye),Z.FullPaths.push(Fe),pe||Gt.utils.cfb_gc(Z)}return ye.content=oe,ye.size=oe?oe.length:0,ue&&(ue.CLSID&&(ye.clsid=ue.CLSID),ue.mt&&(ye.mt=ue.mt),ue.ct&&(ye.ct=ue.ct)),ye}function Qa(Z,de){N(Z);var oe=Gt.find(Z,de);if(oe){for(var ue=0;ue<Z.FileIndex.length;++ue)if(Z.FileIndex[ue]==oe)return Z.FileIndex.splice(ue,1),Z.FullPaths.splice(ue,1),!0}return!1}function sn(Z,de,oe){N(Z);var ue=Gt.find(Z,de);if(ue){for(var pe=0;pe<Z.FileIndex.length;++pe)if(Z.FileIndex[pe]==ue)return Z.FileIndex[pe].name=a(oe),Z.FullPaths[pe]=oe,!0}return!1}function vn(Z){y(Z,!0)}return e.find=S,e.read=O,e.parse=u,e.write=me,e.writeFile=re,e.utils={cfb_new:hi,cfb_add:Ia,cfb_del:Qa,cfb_mov:sn,cfb_gc:vn,ReadShift:sp,CheckField:AP,prep_blob:ai,bconcat:Xa,use_zlib:D,_deflateRaw:lt,_inflateRaw:Oe,consts:q},e}();function HJ(t){return typeof t=="string"?Xx(t):Array.isArray(t)?gJ(t):t}function Om(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=Xx(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?Tl(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var a=new Blob([HJ(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,t);if(typeof saveAs<"u")return saveAs(a,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:t,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=t,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=_f(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function GJ(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var r=e.read();return e.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+t)}function aa(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function SC(t,e){for(var r=[],n=aa(t),a=0;a!==n.length;++a)r[t[n[a]][e]]==null&&(r[t[n[a]][e]]=n[a]);return r}function Yx(t){for(var e=[],r=aa(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function Qx(t){for(var e=[],r=aa(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function WJ(t){for(var e=[],r=aa(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var qv=new Date(1899,11,30,0,0,0);function Ua(t,e){var r=t.getTime(),n=qv.getTime()+(t.getTimezoneOffset()-qv.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var nP=new Date,$J=qv.getTime()+(nP.getTimezoneOffset()-qv.getTimezoneOffset())*6e4,TC=nP.getTimezoneOffset();function Jx(t){var e=new Date;return e.setTime(t*24*60*60*1e3+$J),e.getTimezoneOffset()!==TC&&e.setTime(e.getTime()+(e.getTimezoneOffset()-TC)*6e4),e}function XJ(t){var e=0,r=0,n=!1,a=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=r*parseInt(a[i],10)}return e}var CC=new Date("2017-02-19T19:06:09.000Z"),aP=isNaN(CC.getFullYear())?new Date("2/19/17"):CC,KJ=aP.getFullYear()==2017;function Fn(t,e){var r=new Date(t);if(KJ)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(aP.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=t.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return t.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function yh(t,e){if(yr&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return Tl(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return Tl(GD(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return Tl(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return Tl(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=t.length;++a)n.push(String.fromCharCode(t[a]));return n.join("")}function Mn(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Mn(t[r]));return e}function Jn(t,e){for(var r="";r.length<e;)r+=t;return r}function Ko(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(e=Number(n)))?e/r:e}var YJ=["january","february","march","april","may","june","july","august","september","october","november","december"];function _d(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),a=e.getMonth(),i=e.getDate();if(isNaN(i))return r;var s=t.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&YJ.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}var QJ=function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(t||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(a),s.push(i[o]);return s}}();function iP(t){return t?t.content&&t.type?yh(t.content,!0):t.data?D1(t.data):t.asNodeBuffer&&yr?D1(t.asNodeBuffer().toString("binary")):t.asBinary?D1(t.asBinary()):t._data&&t._data.getContent?D1(yh(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function sP(t){if(!t)return null;if(t.data)return mC(t.data);if(t.asNodeBuffer&&yr)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?mC(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function JJ(t){return t&&t.name.slice(-4)===".bin"?sP(t):iP(t)}function mo(t,e){for(var r=t.FullPaths||aa(t.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return t.files?t.files[r[i]]:t.FileIndex[i]}return null}function xE(t,e){var r=mo(t,e);if(r==null)throw new Error("Cannot find file "+e+" in zip");return r}function wa(t,e,r){if(!r)return JJ(xE(t,e));if(!e)return null;try{return wa(t,e)}catch{return null}}function Us(t,e,r){if(!r)return iP(xE(t,e));if(!e)return null;try{return Us(t,e)}catch{return null}}function ZJ(t,e,r){return sP(xE(t,e))}function kC(t){for(var e=t.FullPaths||aa(t.files),r=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&r.push(e[n].replace(/^Root Entry[\/]/,""));return r.sort()}function vr(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return yr?n=Bc(r):n=vJ(r),Gt.utils.cfb_add(t,e,n)}Gt.utils.cfb_add(t,e,r)}else t.file(e,r)}function _E(){return Gt.utils.cfb_new()}function oP(t,e){switch(e.type){case"base64":return Gt.read(t,{type:"base64"});case"binary":return Gt.read(t,{type:"binary"});case"buffer":case"array":return Gt.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function O1(t,e){if(t.charAt(0)=="/")return t.slice(1);var r=e.split("/");e.slice(-1)!="/"&&r.pop();for(var n=t.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var xa=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,eZ=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,NC=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,tZ=/<[^>]*>/g,Ri=xa.match(NC)?NC:tZ,rZ=/<\w*:/,nZ=/<(\/?)\w+:/;function ar(t,e,r){for(var n={},a=0,i=0;a!==t.length&&!((i=t.charCodeAt(a))===32||i===10||i===13);++a);if(e||(n[0]=t.slice(0,a)),a===t.length)return n;var s=t.match(eZ),o=0,l="",c=0,u="",h="",d=1;if(s)for(c=0;c!=s.length;++c){for(h=s[c],i=0;i!=h.length&&h.charCodeAt(i)!==61;++i);for(u=h.slice(0,i).trim();h.charCodeAt(i+1)==32;)++i;for(d=(a=h.charCodeAt(i+1))==34||a==39?1:0,l=h.slice(i+1+d,h.length-d),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var f=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[f]&&u.slice(o-3,o)=="ext")continue;n[f]=l,n[f.toLowerCase()]=l}}return n}function jl(t){return t.replace(nZ,"<$1")}var lP={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},yE=Yx(lP),Vr=function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(t,function(o,l){return lP[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),wE=/[&<>'"]/g,aZ=/[\u0000-\u0008\u000b-\u001f]/g;function an(t){var e=t+"";return e.replace(wE,function(r){return yE[r]}).replace(aZ,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function IC(t){return an(t).replace(/ /g,"_x0020_")}var cP=/[\u0000-\u001f]/g;function bE(t){var e=t+"";return e.replace(wE,function(r){return yE[r]}).replace(/\n/g,"<br/>").replace(cP,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function iZ(t){var e=t+"";return e.replace(wE,function(r){return yE[r]}).replace(cP,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var RC=function(){var t=/&#(\d+);/g;function e(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(t,e)}}();function sZ(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function Ln(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function zy(t){for(var e="",r=0,n=0,a=0,i=0,s=0,o=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(a=t.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,e+=String.fromCharCode(s);continue}if(i=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=t.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function LC(t){var e=lf(2*t.length),r,n,a=1,i=0,s=0,o;for(n=0;n<t.length;n+=a)a=1,(o=t.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(t.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(e[i++]=s&255,e[i++]=s>>>8,s=0),e[i++]=r%256,e[i++]=r>>>8;return e.slice(0,i).toString("ucs2")}function DC(t){return Bc(t,"binary").toString("utf8")}var zg="foo bar baz",un=yr&&(DC(zg)==zy(zg)&&DC||LC(zg)==zy(zg)&&LC)||zy,Tl=yr?function(t){return Bc(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,a=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},Gp=function(){var t={};return function(r,n){var a=r+"|"+(n||"");return t[a]?t[a]:t[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),uP=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<t.length;++a)n=n.replace(t[a][0],t[a][1]);return n}}(),oZ=function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),lZ=/<\/?(?:vt:)?variant>/g,cZ=/<(?:vt:)([^>]*)>([\s\S]*)</;function PC(t,e){var r=ar(t),n=t.match(oZ(r.baseType))||[],a=[];if(n.length!=r.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(lZ,"").match(cZ);s&&a.push({v:un(s[2]),t:s[1]})}),a}var fP=/(^\s|\s$|\n)/;function li(t,e){return"<"+t+(e.match(fP)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Wp(t){return aa(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function gt(t,e,r){return"<"+t+(r!=null?Wp(r):"")+(e!=null?(e.match(fP)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function Vw(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function uZ(t,e){switch(typeof t){case"string":var r=gt("vt:lpwstr",an(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return gt((t|0)==t?"vt:i4":"vt:r8",an(String(t)));case"boolean":return gt("vt:bool",t?"true":"false")}if(t instanceof Date)return gt("vt:filetime",Vw(t));throw new Error("Unable to serialize "+t)}function EE(t){if(yr&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return un(_f(mE(t)));throw new Error("Bad input format: expected Buffer or string")}var $p=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Fa={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Fh=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ds={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function fZ(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),a=t[e+6]&15,i=5;i>=0;--i)a=a*256+t[e+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function hZ(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,a=0,i=0,s=n?-e:e;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(e)?26985:0);for(var o=0;o<=5;++o,i/=256)t[r+o]=i&255;t[r+6]=(a&15)<<4|i&15,t[r+7]=a>>4|n}var OC=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var a=0,i=t[0][n].length;a<i;a+=r)e.push.apply(e,t[0][n].slice(a,a+r));return e},FC=yr?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Bc(e)})):OC(t)}:OC,MC=function(t,e,r){for(var n=[],a=e;a<r;a+=2)n.push(String.fromCharCode(dc(t,a)));return n.join("").replace(Xi,"")},AE=yr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(Xi,""):MC(t,e,r)}:MC,BC=function(t,e,r){for(var n=[],a=e;a<e+r;++a)n.push(("0"+t[a].toString(16)).slice(-2));return n.join("")},hP=yr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):BC(t,e,r)}:BC,UC=function(t,e,r){for(var n=[],a=e;a<r;a++)n.push(String.fromCharCode(_0(t,a)));return n.join("")},Fm=yr?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):UC(e,r,n)}:UC,dP=function(t,e){var r=Ps(t,e);return r>0?Fm(t,e+4,e+4+r-1):""},pP=dP,mP=function(t,e){var r=Ps(t,e);return r>0?Fm(t,e+4,e+4+r-1):""},gP=mP,vP=function(t,e){var r=2*Ps(t,e);return r>0?Fm(t,e+4,e+4+r-1):""},xP=vP,_P=function(e,r){var n=Ps(e,r);return n>0?AE(e,r+4,r+4+n):""},yP=_P,wP=function(t,e){var r=Ps(t,e);return r>0?Fm(t,e+4,e+4+r):""},bP=wP,EP=function(t,e){return fZ(t,e)},Hv=EP,SE=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};yr&&(pP=function(e,r){if(!Buffer.isBuffer(e))return dP(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},gP=function(e,r){if(!Buffer.isBuffer(e))return mP(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},xP=function(e,r){if(!Buffer.isBuffer(e))return vP(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},yP=function(e,r){if(!Buffer.isBuffer(e))return _P(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},bP=function(e,r){if(!Buffer.isBuffer(e))return wP(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},Hv=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):EP(e,r)},SE=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var _0=function(t,e){return t[e]},dc=function(t,e){return t[e+1]*256+t[e]},dZ=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Ps=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},jf=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},pZ=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function sp(t,e){var r="",n,a,i=[],s,o,l,c;switch(e){case"dbcs":if(c=this.l,yr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)r+=String.fromCharCode(dc(this,c)),c+=2;t*=2;break;case"utf8":r=Fm(this,this.l,this.l+t);break;case"utf16le":t*=2,r=AE(this,this.l,this.l+t);break;case"wstr":return sp.call(this,t,"dbcs");case"lpstr-ansi":r=pP(this,this.l),t=4+Ps(this,this.l);break;case"lpstr-cp":r=gP(this,this.l),t=4+Ps(this,this.l);break;case"lpwstr":r=xP(this,this.l),t=4+2*Ps(this,this.l);break;case"lpp4":t=4+Ps(this,this.l),r=yP(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Ps(this,this.l),r=bP(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(s=_0(this,this.l+t++))!==0;)i.push(Vg(s));r=i.join("");break;case"_wstr":for(t=0,r="";(s=dc(this,this.l+t))!==0;)i.push(Vg(s)),t+=2;t+=2,r=i.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=_0(this,c),this.l=c+1,o=sp.call(this,t-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Vg(dc(this,c))),c+=2}r=i.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=_0(this,c),this.l=c+1,o=sp.call(this,t-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Vg(_0(this,c))),c+=1}r=i.join("");break;default:switch(t){case 1:return n=_0(this,this.l),this.l++,n;case 2:return n=(e==="i"?dZ:dc)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(n=(t>0?jf:pZ)(this,this.l),this.l+=4,n):(a=Ps(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return t==8?a=Hv(this,this.l):a=Hv([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;t=8;case 16:r=hP(this,this.l,t);break}}return this.l+=t,r}var mZ=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},gZ=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},vZ=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function xZ(t,e,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=e.length;++a)vZ(this,e.charCodeAt(a),this.l+2*a);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;n=e.length}else if(r==="hex"){for(;a<t;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+t,this.length);for(a=0;a<Math.min(e.length,t);++a){var s=e.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,mZ(this,e,this.l);break;case 8:if(n=8,r==="f"){hZ(this,e,this.l);break}case 16:break;case-4:n=4,gZ(this,e,this.l);break}return this.l+=n,this}function AP(t,e){var r=hP(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function ai(t,e){t.l=e,t.read_shift=sp,t.chk=AP,t.write_shift=xZ}function Ii(t,e){t.l+=e}function We(t){var e=lf(t);return ai(e,0),e}function Uc(t,e,r){if(t){var n,a,i;ai(t,t.l||0);for(var s=t.length,o=0,l=0;t.l<s;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var c=Zp[o]||Zp[65535];for(n=t.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=t.read_shift(1))&127)<<7*a;l=t.l+i;var u=c.f&&c.f(t,i,r);if(t.l=l,e(u,c,o))return}}}function ps(){var t=[],e=yr?256:2048,r=function(c){var u=We(c);return ai(u,0),u},n=r(e),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},i=function(c){return n&&c<n.length-n.l?n:(a(),n=r(Math.max(c+1,e)))},s=function(){return a(),Xa(t)},o=function(c){a(),n=c,n.l==null&&(n.l=n.length),i(e)};return{next:i,push:o,end:s,_bufs:t}}function it(t,e,r,n){var a=+e,i;if(!isNaN(a)){n||(n=Zp[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var s=t.next(i);a<=127?s.write_shift(1,a):(s.write_shift(1,(a&127)+128),s.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&SE(r)&&t.push(r)}}function op(t,e,r){var n=Mn(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function jC(t,e,r){var n=Mn(t);return n.s=op(n.s,e.s,r),n.e=op(n.e,e.s,r),n}function lp(t,e){if(t.cRel&&t.c<0)for(t=Mn(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Mn(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=nr(t);return!t.cRel&&t.cRel!=null&&(r=wZ(r)),!t.rRel&&t.rRel!=null&&(r=_Z(r)),r}function qy(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+qn(t.s.c)+":"+(t.e.cRel?"":"$")+qn(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+va(t.s.r)+":"+(t.e.rRel?"":"$")+va(t.e.r):lp(t.s,e.biff)+":"+lp(t.e,e.biff)}function TE(t){return parseInt(yZ(t),10)-1}function va(t){return""+(t+1)}function _Z(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function yZ(t){return t.replace(/\$(\d+)$/,"$1")}function CE(t){for(var e=bZ(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function qn(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function wZ(t){return t.replace(/^([A-Z])/,"$$$1")}function bZ(t){return t.replace(/^\$([A-Z])/,"$1")}function EZ(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Hn(t){for(var e=0,r=0,n=0;n<t.length;++n){var a=t.charCodeAt(n);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:e-1}}function nr(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function gs(t){var e=t.indexOf(":");return e==-1?{s:Hn(t),e:Hn(t)}:{s:Hn(t.slice(0,e)),e:Hn(t.slice(e+1))}}function pr(t,e){return typeof e>"u"||typeof e=="number"?pr(t.s,t.e):(typeof t!="string"&&(t=nr(t)),typeof e!="string"&&(e=nr(e)),t==e?t:t+":"+e)}function zr(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=t.length;for(r=0;n<i&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(e.s.c=--r,r=0;n<i&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(e.s.r=--r,n===i||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=i&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(e.e.c=--r,r=0;n!=i&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return e.e.r=--r,e}function VC(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Io(t.z,r?Ua(e):e)}catch{}try{return t.w=Io((t.XF||{}).numFmtId||(r?14:0),r?Ua(e):e)}catch{return""+e}}function Pc(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?jc[t.v]||t.v:e==null?VC(t,t.v):VC(t,e))}function yf(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function SP(t,e,r){var n=r||{},a=t?Array.isArray(t):n.dense,i=t||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Hn(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=zr(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var h=0;h!=e.length;++h)if(e[h]){if(!Array.isArray(e[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=e[h].length;++d)if(!(typeof e[h][d]>"u")){var f={v:e[h][d]},p=s+h,m=o+d;if(c.s.r>p&&(c.s.r=p),c.s.c>m&&(c.s.c=m),c.e.r<p&&(c.e.r=p),c.e.c<m&&(c.e.c=m),e[h][d]&&typeof e[h][d]=="object"&&!Array.isArray(e[h][d])&&!(e[h][d]instanceof Date))f=e[h][d];else if(Array.isArray(f.v)&&(f.f=e[h][d][1],f.v=f.v[0]),f.v===null)if(f.f)f.t="n";else if(n.nullError)f.t="e",f.v=0;else if(n.sheetStubs)f.t="z";else continue;else typeof f.v=="number"?f.t="n":typeof f.v=="boolean"?f.t="b":f.v instanceof Date?(f.z=n.dateNF||er[14],n.cellDates?(f.t="d",f.w=Io(f.z,Ua(f.v))):(f.t="n",f.v=Ua(f.v),f.w=Io(f.z,f.v))):f.t="s";if(a)i[p]||(i[p]=[]),i[p][m]&&i[p][m].z&&(f.z=i[p][m].z),i[p][m]=f;else{var _=nr({c:m,r:p});i[_]&&i[_].z&&(f.z=i[_].z),i[_]=f}}}return c.s.c<1e7&&(i["!ref"]=pr(c)),i}function qd(t,e){return SP(null,t,e)}function AZ(t){return t.read_shift(4,"i")}function Yo(t,e){return e||(e=We(4)),e.write_shift(4,t),e}function ki(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Ka(t,e){var r=!1;return e==null&&(r=!0,e=We(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function SZ(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function TZ(t,e){return e||(e=We(4)),e.write_shift(2,0),e.write_shift(2,0),e}function kE(t,e){var r=t.l,n=t.read_shift(1),a=ki(t),i=[],s={t:a,h:a};if(n&1){for(var o=t.read_shift(4),l=0;l!=o;++l)i.push(SZ(t));s.r=i}else s.r=[{ich:0,ifnt:0}];return t.l=r+e,s}function CZ(t,e){var r=!1;return e==null&&(r=!0,e=We(15+4*t.t.length)),e.write_shift(1,0),Ka(t.t,e),r?e.slice(0,e.l):e}var kZ=kE;function NZ(t,e){var r=!1;return e==null&&(r=!0,e=We(23+4*t.t.length)),e.write_shift(1,1),Ka(t.t,e),e.write_shift(4,1),TZ({},e),r?e.slice(0,e.l):e}function Lo(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Mh(t,e){return e==null&&(e=We(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Bh(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Uh(t,e){return e==null&&(e=We(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var IZ=ki,TP=Ka;function NE(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function Gv(t,e){var r=!1;return e==null&&(r=!0,e=We(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var RZ=ki,zw=NE,IE=Gv;function RE(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var a=n===0?Hv([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):jf(e,0)>>2;return r?a/100:a}function CP(t,e){e==null&&(e=We(4));var r=0,n=0,a=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?a:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function kP(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function LZ(t,e){return e||(e=We(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var jh=kP,Hd=LZ;function Ci(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function wh(t,e){return(e||We(8)).write_shift(8,t,"f")}function DZ(t){var e={},r=t.read_shift(1),n=r>>>1,a=t.read_shift(1),i=t.read_shift(2,"i"),s=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=a;var c=Jf[a];c&&(e.rgb=Kp(c));break;case 2:e.rgb=Kp([s,o,l]);break;case 3:e.theme=a;break}return i!=0&&(e.tint=i>0?i/32767:i/32768),e}function Wv(t,e){if(e||(e=We(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function PZ(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function OZ(t,e){e||(e=We(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}function NP(t,e){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=t.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function FZ(t){return NP(t,1)}function MZ(t){return NP(t,2)}var LE=2,ls=3,qg=11,zC=12,$v=19,Hg=64,BZ=65,UZ=71,jZ=4108,VZ=4126,qa=80,IP=81,zZ=[qa,IP],qw={1:{n:"CodePage",t:LE},2:{n:"Category",t:qa},3:{n:"PresentationFormat",t:qa},4:{n:"ByteCount",t:ls},5:{n:"LineCount",t:ls},6:{n:"ParagraphCount",t:ls},7:{n:"SlideCount",t:ls},8:{n:"NoteCount",t:ls},9:{n:"HiddenCount",t:ls},10:{n:"MultimediaClipCount",t:ls},11:{n:"ScaleCrop",t:qg},12:{n:"HeadingPairs",t:jZ},13:{n:"TitlesOfParts",t:VZ},14:{n:"Manager",t:qa},15:{n:"Company",t:qa},16:{n:"LinksUpToDate",t:qg},17:{n:"CharacterCount",t:ls},19:{n:"SharedDoc",t:qg},22:{n:"HyperlinksChanged",t:qg},23:{n:"AppVersion",t:ls,p:"version"},24:{n:"DigSig",t:BZ},26:{n:"ContentType",t:qa},27:{n:"ContentStatus",t:qa},28:{n:"Language",t:qa},29:{n:"Version",t:qa},255:{},2147483648:{n:"Locale",t:$v},2147483651:{n:"Behavior",t:$v},1919054434:{}},Hw={1:{n:"CodePage",t:LE},2:{n:"Title",t:qa},3:{n:"Subject",t:qa},4:{n:"Author",t:qa},5:{n:"Keywords",t:qa},6:{n:"Comments",t:qa},7:{n:"Template",t:qa},8:{n:"LastAuthor",t:qa},9:{n:"RevNumber",t:qa},10:{n:"EditTime",t:Hg},11:{n:"LastPrinted",t:Hg},12:{n:"CreatedDate",t:Hg},13:{n:"ModifiedDate",t:Hg},14:{n:"PageCount",t:ls},15:{n:"WordCount",t:ls},16:{n:"CharCount",t:ls},17:{n:"Thumbnail",t:UZ},18:{n:"Application",t:qa},19:{n:"DocSecurity",t:ls},255:{},2147483648:{n:"Locale",t:$v},2147483651:{n:"Behavior",t:$v},1919054434:{}},qC={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},qZ=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function HZ(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var GZ=HZ([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Jf=Mn(GZ),jc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},RP={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},Gw={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Gg={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function DE(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function WZ(t){var e=DE();if(!t||!t.match)return e;var r={};if((t.match(Ri)||[]).forEach(function(n){var a=ar(n);switch(a[0].replace(rZ,"<")){case"<?xml":break;case"<Types":e.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":e[Gw[a.ContentType]]!==void 0&&e[Gw[a.ContentType]].push(a.PartName);break}}),e.xmlns!==Fa.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=r,delete e.calcchains,e}function LP(t,e){var r=WJ(Gw),n=[],a;n[n.length]=xa,n[n.length]=gt("Types",null,{xmlns:Fa.CT,"xmlns:xsd":Fa.xsd,"xmlns:xsi":Fa.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return gt("Default",null,{Extension:l[0],ContentType:l[1]})}));var i=function(l){t[l]&&t[l].length>0&&(a=t[l][0],n[n.length]=gt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Gg[l][e.bookType]||Gg[l].xlsx}))},s=function(l){(t[l]||[]).forEach(function(c){n[n.length]=gt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:Gg[l][e.bookType]||Gg[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(c){n[n.length]=gt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:r[l][0]})})};return i("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var wr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Xp(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function cp(t,e){var r={"!id":{}};if(!t)return r;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(t.match(Ri)||[]).forEach(function(a){var i=ar(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:O1(i.Target,e);r[o]=s,n[i.Id]=s}}),r["!id"]=n,r}function ed(t){var e=[xa,gt("Relationships",null,{xmlns:Fa.RELS})];return aa(t["!id"]).forEach(function(r){e[e.length]=gt("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function tn(t,e,r,n,a,i){if(a||(a={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,a.Id="rId"+e,a.Type=n,a.Target=r,[wr.HLINK,wr.XPATH,wr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),t["!id"][a.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][a.Id]=a,t[("/"+a.Target).replace("//","/")]=a,e}var $Z="application/vnd.oasis.opendocument.spreadsheet";function XZ(t,e){for(var r=EE(t),n,a;n=$p.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=ar(n[0],!1),a.path=="/"&&a.type!==$Z)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}function KZ(t){var e=[xa];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function HC(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function YZ(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function QZ(t){var e=[xa];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(HC(t[r][0],t[r][1])),e.push(YZ("",t[r][0]));return e.push(HC("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function DP(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Uv.version+"</meta:generator></office:meta></office:document-meta>"}var To=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],JZ=function(){for(var t=new Array(To.length),e=0;e<To.length;++e){var r=To[e],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return t}();function PP(t){var e={};t=un(t);for(var r=0;r<To.length;++r){var n=To[r],a=t.match(JZ[r]);a!=null&&a.length>0&&(e[n[1]]=Vr(a[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=Fn(e[n[1]]))}return e}function Hy(t,e,r,n,a){a[t]!=null||e==null||e===""||(a[t]=e,e=an(e),n[n.length]=r?gt(t,e,r):li(t,e))}function OP(t,e){var r=e||{},n=[xa,gt("cp:coreProperties",null,{"xmlns:cp":Fa.CORE_PROPS,"xmlns:dc":Fa.dc,"xmlns:dcterms":Fa.dcterms,"xmlns:dcmitype":Fa.dcmitype,"xmlns:xsi":Fa.xsi})],a={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&Hy("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:Vw(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),t.ModifiedDate!=null&&Hy("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:Vw(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=To.length;++i){var s=To[i],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:t?t[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&Hy(s[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Zf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],FP=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function MP(t,e,r,n){var a=[];if(typeof t=="string")a=PC(t,n);else for(var i=0;i<t.length;++i)a=a.concat(t[i].map(function(u){return{v:u}}));var s=typeof e=="string"?PC(e,n).map(function(u){return u.v}):e,o=0,l=0;if(s.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=s.slice(o,o+l);break}o+=l}}function ZZ(t,e,r){var n={};return e||(e={}),t=un(t),Zf.forEach(function(a){var i=(t.match(Gp(a[0]))||[])[1];switch(a[2]){case"string":i&&(e[a[1]]=Vr(i));break;case"bool":e[a[1]]=i==="true";break;case"raw":var s=t.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&MP(n.HeadingPairs,n.TitlesOfParts,e,r),e}function BP(t){var e=[],r=gt;return t||(t={}),t.Application="SheetJS",e[e.length]=xa,e[e.length]=gt("Properties",null,{xmlns:Fa.EXT_PROPS,"xmlns:vt":Fa.vt}),Zf.forEach(function(n){if(t[n[1]]!==void 0){var a;switch(n[2]){case"string":a=an(String(t[n[1]]));break;case"bool":a=t[n[1]]?"true":"false";break}a!==void 0&&(e[e.length]=r(n[0],a))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+an(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var eee=/<[^>]+>[^<]*/g;function tee(t,e){var r={},n="",a=t.match(eee);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=ar(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Vr(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=Vr(u);break;case"bool":r[n]=Ln(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=Fn(u);break;case"cy":case"error":r[n]=Vr(u);break;default:if(c.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(e.WTF)throw new Error(s)}}}return r}function UP(t){var e=[xa,gt("Properties",null,{xmlns:Fa.CUST_PROPS,"xmlns:vt":Fa.vt})];if(!t)return e.join("");var r=1;return aa(t).forEach(function(a){++r,e[e.length]=gt("property",uZ(t[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:an(a)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var Ww={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Gy;function ree(t,e,r){Gy||(Gy=Yx(Ww)),e=Gy[e]||e,t[e]=r}function nee(t,e){var r=[];return aa(Ww).map(function(n){for(var a=0;a<To.length;++a)if(To[a][1]==n)return To[a];for(a=0;a<Zf.length;++a)if(Zf[a][1]==n)return Zf[a];throw n}).forEach(function(n){if(t[n[1]]!=null){var a=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(li(Ww[n[1]]||n[1],a))}}),gt("DocumentProperties",r.join(""),{xmlns:Ds.o})}function aee(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return t&&aa(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)){for(var s=0;s<To.length;++s)if(i==To[s][1])return;for(s=0;s<Zf.length;++s)if(i==Zf[s][1])return;for(s=0;s<r.length;++s)if(i==r[s])return;var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),a.push(gt(IC(i),o,{"dt:dt":l}))}}),e&&aa(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)&&!(t&&Object.prototype.hasOwnProperty.call(t,i))){var s=e[i],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),a.push(gt(IC(i),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Ds.o+'">'+a.join("")+"</"+n+">"}function PE(t){var e=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function iee(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var s=We(8);return s.write_shift(4,n),s.write_shift(4,a),s}function jP(t,e,r){var n=t.l,a=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-n&3;)++t.l;return a}function VP(t,e,r){var n=t.read_shift(0,"lpwstr");return n}function zP(t,e,r){return e===31?VP(t):jP(t,e,r)}function $w(t,e,r){return zP(t,e,r===!1?0:4)}function see(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return zP(t,e,0)}function oee(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n){var a=t.l;r[n]=t.read_shift(0,"lpwstr").replace(Xi,""),t.l-a&2&&(t.l+=2)}return r}function lee(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n)r[n]=t.read_shift(0,"lpstr-cp").replace(Xi,"");return r}function cee(t){var e=t.l,r=Xv(t,IP);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var n=Xv(t,ls);return[r,n]}function uee(t){for(var e=t.read_shift(4),r=[],n=0;n<e/2;++n)r.push(cee(t));return r}function GC(t,e){for(var r=t.read_shift(4),n={},a=0;a!=r;++a){var i=t.read_shift(4),s=t.read_shift(4);n[i]=t.read_shift(s,e===1200?"utf16le":"utf8").replace(Xi,"").replace(P1,"!"),e===1200&&s%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),n}function qP(t){var e=t.read_shift(4),r=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),r}function fee(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function Xv(t,e,r){var n=t.read_shift(2),a,i=r||{};if(t.l+=2,e!==zC&&n!==e&&zZ.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===zC?n:e){case 2:return a=t.read_shift(2,"i"),i.raw||(t.l+=2),a;case 3:return a=t.read_shift(4,"i"),a;case 11:return t.read_shift(4)!==0;case 19:return a=t.read_shift(4),a;case 30:return jP(t,n,4).replace(Xi,"");case 31:return VP(t);case 64:return PE(t);case 65:return qP(t);case 71:return fee(t);case 80:return $w(t,n,!i.raw).replace(Xi,"");case 81:return see(t,n).replace(Xi,"");case 4108:return uee(t);case 4126:case 4127:return n==4127?oee(t):lee(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function WC(t,e){var r=We(4),n=We(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=We(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=iee(e);break;case 31:case 80:for(n=We(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Xa([r,n])}function $C(t,e){var r=t.l,n=t.read_shift(4),a=t.read_shift(4),i=[],s=0,o=0,l=-1,c={};for(s=0;s!=a;++s){var u=t.read_shift(4),h=t.read_shift(4);i[s]=[u,h+r]}i.sort(function(T,b){return T[1]-b[1]});var d={};for(s=0;s!=a;++s){if(t.l!==i[s][1]){var f=!0;if(s>0&&e)switch(e[i[s-1][0]].t){case 2:t.l+2===i[s][1]&&(t.l+=2,f=!1);break;case 80:t.l<=i[s][1]&&(t.l=i[s][1],f=!1);break;case 4108:t.l<=i[s][1]&&(t.l=i[s][1],f=!1);break}if((!e||s==0)&&t.l<=i[s][1]&&(f=!1,t.l=i[s][1]),f)throw new Error("Read Error: Expected address "+i[s][1]+" at "+t.l+" :"+s)}if(e){var p=e[i[s][0]];if(d[p.n]=Xv(t,p.t,{raw:!0}),p.p==="version"&&(d[p.n]=String(d[p.n]>>16)+"."+("0000"+String(d[p.n]&65535)).slice(-4)),p.n=="CodePage")switch(d[p.n]){case 0:d[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Wo(o=d[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+d[p.n])}}else if(i[s][0]===1){if(o=d.CodePage=Xv(t,LE),Wo(o),l!==-1){var m=t.l;t.l=i[l][1],c=GC(t,o),t.l=m}}else if(i[s][0]===0){if(o===0){l=s,t.l=i[s+1][1];continue}c=GC(t,o)}else{var _=c[i[s][0]],x;switch(t[t.l]){case 65:t.l+=4,x=qP(t);break;case 30:t.l+=4,x=$w(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,x=$w(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,x=t.read_shift(4,"i");break;case 19:t.l+=4,x=t.read_shift(4);break;case 5:t.l+=4,x=t.read_shift(8,"f");break;case 11:t.l+=4,x=ua(t,4);break;case 64:t.l+=4,x=Fn(PE(t));break;default:throw new Error("unparsed value: "+t[t.l])}d[_]=x}}return t.l=r+n,d}var HP=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function hee(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function XC(t,e,r){var n=We(8),a=[],i=[],s=8,o=0,l=We(8),c=We(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),i.push(l),a.push(c),s+=8+l.length,!e){c=We(8),c.write_shift(4,0),a.unshift(c);var u=[We(4)];for(u[0].write_shift(4,t.length),o=0;o<t.length;++o){var h=t[o][0];for(l=We(8+2*(h.length+1)+(h.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,h.length+1),l.write_shift(0,h,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=Xa(u),i.unshift(l),s+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(HP.indexOf(t[o][0])>-1||FP.indexOf(t[o][0])>-1)&&t[o][1]!=null){var d=t[o][1],f=0;if(e){f=+e[t[o][0]];var p=r[f];if(p.p=="version"&&typeof d=="string"){var m=d.split(".");d=(+m[0]<<16)+(+m[1]||0)}l=WC(p.t,d)}else{var _=hee(d);_==-1&&(_=31,d=String(d)),l=WC(_,d)}i.push(l),c=We(8),c.write_shift(4,e?f:2+o),a.push(c),s+=8+l.length}var x=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,x),x+=i[o].length;return n.write_shift(4,s),n.write_shift(4,i.length),Xa([n].concat(a).concat(i))}function KC(t,e,r){var n=t.content;if(!n)return{};ai(n,0);var a,i,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==Gt.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(s=n.read_shift(16),l=n.read_shift(4));var h=$C(n,e),d={SystemIdentifier:c};for(var f in h)d[f]=h[f];if(d.FMTID=i,a===1)return d;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var p;try{p=$C(n,null)}catch{}for(f in p)d[f]=p[f];return d.FMTID=[i,s],d}function YC(t,e,r,n,a,i){var s=We(a?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,Gt.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,a?2:1),s.write_shift(16,e,"hex"),s.write_shift(4,a?68:48);var l=XC(t,r,n);if(o.push(l),a){var c=XC(a,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+l.length),o.push(c)}return Xa(o)}function fu(t,e){return t.read_shift(e),null}function dee(t,e){e||(e=We(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function pee(t,e,r){for(var n=[],a=t.l+e;t.l<a;)n.push(r(t,a-t.l));if(a!==t.l)throw new Error("Slurp error");return n}function ua(t,e){return t.read_shift(e)===1}function Gi(t,e){return e||(e=We(2)),e.write_shift(2,+!!t),e}function ba(t){return t.read_shift(2,"u")}function vo(t,e){return e||(e=We(2)),e.write_shift(2,t),e}function GP(t,e){return pee(t,e,ba)}function mee(t){var e=t.read_shift(1),r=t.read_shift(1);return r===1?e:e===1}function WP(t,e,r){return r||(r=We(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function Mm(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=t.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?t.read_shift(n,a):"";return s}function gee(t){var e=t.read_shift(2),r=t.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,o,l={};a&&(s=t.read_shift(2)),n&&(o=t.read_shift(4));var c=i==2?"dbcs-cont":"sbcs-cont",u=e===0?"":t.read_shift(e,c);return a&&(t.l+=4*s),n&&(t.l+=o),l.t=u,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function vee(t){var e=t.t||"",r=We(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=We(2*e.length);n.write_shift(2*e.length,e,"utf16le");var a=[r,n];return Xa(a)}function bh(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var a=t.read_shift(1);return a===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function Bm(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):bh(t,n,r)}function Vh(t,e,r){if(r.biff>5)return Bm(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function $P(t,e,r){return r||(r=We(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function xee(t){var e=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[e,r]}function _ee(t){var e=t.read_shift(4),r=t.l,n=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),t.l=r);var a=t.read_shift((n?e-24:e)>>1,"utf16le").replace(Xi,"");return n&&(t.l+=24),a}function yee(t){for(var e=t.read_shift(2),r="";e-- >0;)r+="../";var n=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=t.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=t.read_shift(i>>1,"utf16le").replace(Xi,"");return r+s}function wee(t,e){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return _ee(t);case"0303000000000000c000000000000046":return yee(t);default:throw new Error("Unsupported Moniker "+r)}}function Wg(t){var e=t.read_shift(4),r=e>0?t.read_shift(e,"utf16le").replace(Xi,""):"";return r}function QC(t,e){e||(e=We(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function bee(t,e){var r=t.l+e,n=t.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=t.read_shift(2);t.l+=2;var i,s,o,l,c="",u,h;a&16&&(i=Wg(t,r-t.l)),a&128&&(s=Wg(t,r-t.l)),(a&257)===257&&(o=Wg(t,r-t.l)),(a&257)===1&&(l=wee(t,r-t.l)),a&8&&(c=Wg(t,r-t.l)),a&32&&(u=t.read_shift(16)),a&64&&(h=PE(t)),t.l=r;var d=s||o||l||"";d&&c&&(d+="#"+c),d||(d="#"+c),a&2&&d.charAt(0)=="/"&&d.charAt(1)!="/"&&(d="file://"+d);var f={Target:d};return u&&(f.guid=u),h&&(f.time=h),i&&(f.Tooltip=i),f}function Eee(t){var e=We(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}e.write_shift(4,2),e.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)e.write_shift(4,s[r]);if(i==28)n=n.slice(1),QC(n,e);else if(i&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)e.write_shift(1,parseInt(s[r],16));var o=a>-1?n.slice(0,a):n;for(e.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)e.write_shift(2,o.charCodeAt(r));e.write_shift(2,0),i&8&&QC(a>-1?n.slice(a+1):"",e)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)e.write_shift(1,parseInt(s[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)e.write_shift(1,n.charCodeAt(r+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function XP(t){var e=t.read_shift(1),r=t.read_shift(1),n=t.read_shift(1),a=t.read_shift(1);return[e,r,n,a]}function KP(t,e){var r=XP(t);return r[3]=0,r}function Vl(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return{r:e,c:r,ixfe:n}}function Eh(t,e,r,n){return n||(n=We(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function Aee(t){var e=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:e,flags:r}}function See(t,e,r){return e===0?"":Vh(t,e,r)}function Tee(t,e,r){var n=r.biff>8?4:2,a=t.read_shift(n),i=t.read_shift(n,"i"),s=t.read_shift(n,"i");return[a,i,s]}function YP(t){var e=t.read_shift(2),r=RE(t);return[e,r]}function Cee(t,e,r){t.l+=4,e-=4;var n=t.l+e,a=Mm(t,e,r),i=t.read_shift(2);if(n-=t.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return t.l+=i,a}function Zx(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(2);return{s:{c:n,r:e},e:{c:a,r}}}function QP(t,e){return e||(e=We(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function JP(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(1),a=t.read_shift(1);return{s:{c:n,r:e},e:{c:a,r}}}var kee=JP;function ZP(t){t.l+=4;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return t.l+=12,[r,e,n]}function Nee(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function Iee(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function wi(t){t.l+=2,t.l+=t.read_shift(2)}var Ree={0:wi,4:wi,5:wi,6:wi,7:Iee,8:wi,9:wi,10:wi,11:wi,12:wi,13:Nee,14:wi,15:wi,16:wi,17:wi,18:wi,19:wi,20:wi,21:ZP};function Lee(t,e){for(var r=t.l+e,n=[];t.l<r;){var a=t.read_shift(2);t.l-=2;try{n.push(Ree[a](t,r-t.l))}catch{return t.l=r,n}}return t.l!=r&&(t.l=r),n}function $g(t,e){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),e-=2,e>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(e),r}function OE(t,e,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=We(a);return i.write_shift(2,n),i.write_shift(2,e),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function Dee(t,e){return e===0||t.read_shift(2),1200}function Pee(t,e,r){if(r.enc)return t.l+=e,"";var n=t.l,a=Vh(t,0,r);return t.read_shift(e+n-t.l),a}function Oee(t,e){var r=!e||e.biff==8,n=We(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function Fee(t,e,r){var n=r&&r.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Mee(t,e,r){var n=t.read_shift(4),a=t.read_shift(1)&3,i=t.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=Mm(t,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function Bee(t,e){var r=!e||e.biff>=8?2:1,n=We(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function Uee(t,e){for(var r=t.l+e,n=t.read_shift(4),a=t.read_shift(4),i=[],s=0;s!=a&&t.l<r;++s)i.push(gee(t));return i.Count=n,i.Unique=a,i}function jee(t,e){var r=We(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],a=0;a<t.length;++a)n[a]=vee(t[a]);var i=Xa([r].concat(n));return i.parts=[r.length].concat(n.map(function(s){return s.length})),i}function Vee(t,e){var r={};return r.dsst=t.read_shift(2),t.l+=e-2,r}function zee(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var r=t.read_shift(2);t.l+=4;var n=t.read_shift(1);return t.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=r/20),e}function qee(t){var e=Aee(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var r=t.read_shift(4);return r!==0}function Hee(t){return t.read_shift(2),t.read_shift(4)}function JC(t,e,r){var n=0;r&&r.biff==2||(n=t.read_shift(2));var a=t.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function Gee(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),c=t.read_shift(2);return{Pos:[e,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:o,Selected:l,TabRatio:c}}function Wee(){var t=We(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function $ee(t,e,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=t.read_shift(2);return{RTL:n&64}}function Xee(t){var e=We(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function Kee(){}function Yee(t,e,r){var n={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return n.name=Mm(t,0,r),n}function Qee(t,e){var r=t.name||"Arial",n=e&&e.biff==5,a=n?15+r.length:16+2*r.length,i=We(a);return i.write_shift(2,t.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function Jee(t){var e=Vl(t);return e.isst=t.read_shift(4),e}function Zee(t,e,r,n){var a=We(10);return Eh(t,e,n,a),a.write_shift(4,r),a}function ete(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=t.l+e,a=Vl(t);r.biff==2&&t.l++;var i=Bm(t,n-t.l,r);return a.val=i,a}function tte(t,e,r,n,a){var i=!a||a.biff==8,s=We(8+ +i+(1+i)*r.length);return Eh(t,e,n,s),s.write_shift(2,r.length),i&&s.write_shift(1,1),s.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),s}function rte(t,e,r){var n=t.read_shift(2),a=Vh(t,0,r);return[n,a]}function nte(t,e,r,n){var a=r&&r.biff==5;n||(n=We(a?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(a?1:2,e.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*e.length,e,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}var ate=Vh;function ZC(t,e,r){var n=t.l+e,a=r.biff==8||!r.biff?4:2,i=t.read_shift(a),s=t.read_shift(a),o=t.read_shift(2),l=t.read_shift(2);return t.l=n,{s:{r:i,c:o},e:{r:s,c:l}}}function ite(t,e){var r=e.biff==8||!e.biff?4:2,n=We(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function ste(t){var e=t.read_shift(2),r=t.read_shift(2),n=YP(t);return{r:e,c:r,ixfe:n[0],rknum:n[1]}}function ote(t,e){for(var r=t.l+e-2,n=t.read_shift(2),a=t.read_shift(2),i=[];t.l<r;)i.push(YP(t));if(t.l!==r)throw new Error("MulRK read error");var s=t.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function lte(t,e){for(var r=t.l+e-2,n=t.read_shift(2),a=t.read_shift(2),i=[];t.l<r;)i.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var s=t.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function cte(t,e,r,n){var a={},i=t.read_shift(4),s=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(2);return a.patternType=qZ[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function ute(t,e,r){var n={};return n.ifnt=t.read_shift(2),n.numFmtId=t.read_shift(2),n.flags=t.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=cte(t,e,n.fStyle,r),n}function ek(t,e,r,n){var a=r&&r.biff==5;n||(n=We(a?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var i=0;return t.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function fte(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function hte(t){var e=We(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function tk(t,e,r){var n=Vl(t);(r.biff==2||e==9)&&++t.l;var a=mee(t);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function dte(t,e,r,n,a,i){var s=We(8);return Eh(t,e,n,s),WP(r,i,s),s}function pte(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Vl(t),a=Ci(t);return n.val=a,n}function mte(t,e,r,n){var a=We(14);return Eh(t,e,n,a),wh(r,a),a}var rk=See;function gte(t,e,r){var n=t.l+e,a=t.read_shift(2),i=t.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=bh(t,i),o=[];n>t.l;)o.push(Bm(t));return[i,a,s,o]}function nk(t,e,r){var n=t.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=Cee(t,e-2,r)),i.body=a||t.read_shift(e-2),typeof a=="string"&&(i.Name=a),i}var vte=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function ak(t,e,r){var n=t.l+e,a=t.read_shift(2),i=t.read_shift(1),s=t.read_shift(1),o=t.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),l=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var c=bh(t,s,r);a&32&&(c=vte[c.charCodeAt(0)]);var u=n-t.l;r&&r.biff==2&&--u;var h=n==t.l||o===0||!(u>0)?[]:Lie(t,u,r,o);return{chKey:i,Name:c,itab:l,rgce:h}}function eO(t,e,r){if(r.biff<8)return xte(t,e,r);for(var n=[],a=t.l+e,i=t.read_shift(r.biff>8?4:2);i--!==0;)n.push(Tee(t,r.biff>8?12:6,r));if(t.l!=a)throw new Error("Bad ExternSheet: "+t.l+" != "+a);return n}function xte(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=Mm(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function _te(t,e,r){if(r.biff<8){t.l+=e;return}var n=t.read_shift(2),a=t.read_shift(2),i=bh(t,n,r),s=bh(t,a,r);return[i,s]}function yte(t,e,r){var n=JP(t);t.l++;var a=t.read_shift(1);return e-=8,[Die(t,e,r),a,n]}function ik(t,e,r){var n=kee(t);switch(r.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[n,Iie(t,e,r)]}function wte(t){var e=t.read_shift(4)!==0,r=t.read_shift(4)!==0,n=t.read_shift(4);return[e,r,n]}function bte(t,e,r){if(!(r.biff<8)){var n=t.read_shift(2),a=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),o=Vh(t,0,r);return r.biff<8&&t.read_shift(1),[{r:n,c:a},o,s,i]}}function Ete(t,e,r){return bte(t,e,r)}function Ate(t,e){for(var r=[],n=t.read_shift(2);n--;)r.push(Zx(t));return r}function Ste(t){var e=We(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)QP(t[r],e);return e}function Tte(t,e,r){if(r&&r.biff<8)return kte(t,e,r);var n=ZP(t),a=Lee(t,e-22,n[1]);return{cmo:n,ft:a}}var Cte={8:function(t,e){var r=t.l+e;t.l+=10;var n=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var a=t.read_shift(1);return t.l+=a,t.l=r,{fmt:n}}};function kte(t,e,r){t.l+=4;var n=t.read_shift(2),a=t.read_shift(2),i=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var s=[];return s.push((Cte[n]||Ii)(t,e,r)),{cmo:[a,n,i],ft:s}}function Nte(t,e,r){var n=t.l,a="";try{t.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?t.l+=6:s=xee(t,6,r);var o=t.read_shift(2);t.read_shift(2),ba(t,2);var l=t.read_shift(2);t.l+=l;for(var c=1;c<t.lens.length-1;++c){if(t.l-n!=t.lens[c])throw new Error("TxO: bad continue record");var u=t[t.l],h=bh(t,t.lens[c+1]-t.lens[c]-1);if(a+=h,a.length>=(u?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return t.l=n+e,{t:a}}catch{return t.l=n+e,{t:a}}}function Ite(t,e){var r=Zx(t);t.l+=16;var n=bee(t,e-24);return[r,n]}function Rte(t){var e=We(24),r=Hn(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)e.write_shift(1,parseInt(n[a],16));return Xa([e,Eee(t[1])])}function Lte(t,e){t.read_shift(2);var r=Zx(t),n=t.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(Xi,""),[r,n]}function Dte(t){var e=t[1].Tooltip,r=We(10+2*(e.length+1));r.write_shift(2,2048);var n=Hn(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<e.length;++a)r.write_shift(2,e.charCodeAt(a));return r.write_shift(2,0),r}function Pte(t){var e=[0,0],r;return r=t.read_shift(2),e[0]=qC[r]||r,r=t.read_shift(2),e[1]=qC[r]||r,e}function Ote(t){return t||(t=We(4)),t.write_shift(2,1),t.write_shift(2,1),t}function Fte(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(KP(t));return r}function Mte(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(KP(t));return r}function Bte(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function tO(t,e,r){if(!r.cellStyles)return Ii(t,e);var n=r&&r.biff>=12?4:2,a=t.read_shift(n),i=t.read_shift(n),s=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(2);n==2&&(t.l+=2);var c={s:a,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function Ute(t,e){var r=We(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function jte(t,e){var r={};return e<32||(t.l+=16,r.header=Ci(t),r.footer=Ci(t),t.l+=2),r}function Vte(t,e,r){var n={area:!1};if(r.biff!=5)return t.l+=e,n;var a=t.read_shift(1);return t.l+=3,a&16&&(n.area=!0),n}function zte(t){for(var e=We(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}var qte=Vl,Hte=GP,Gte=Bm;function Wte(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),a={fmt:e,env:r,len:n,data:t.slice(t.l,t.l+n)};return t.l+=n,a}function $te(t,e,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Vl(t);++t.l;var a=Vh(t,e-7,r);return n.t="str",n.val=a,n}function Xte(t){var e=Vl(t);++t.l;var r=Ci(t);return e.t="n",e.val=r,e}function Kte(t,e,r){var n=We(15);return zm(n,t,e),n.write_shift(8,r,"f"),n}function Yte(t){var e=Vl(t);++t.l;var r=t.read_shift(2);return e.t="n",e.val=r,e}function Qte(t,e,r){var n=We(9);return zm(n,t,e),n.write_shift(2,r),n}function Jte(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function Zte(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function ere(t,e,r){var n=t.l+e,a=Vl(t),i=t.read_shift(2),s=bh(t,i,r);return t.l=n,a.t="str",a.val=s,a}var tre=[2,3,48,49,131,139,140,245],Xw=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Yx({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=lf(1);switch(l.type){case"base64":u=Bs(Qs(o));break;case"binary":u=Bs(o);break;case"buffer":case"array":u=o;break}ai(u,0);var h=u.read_shift(1),d=!!(h&136),f=!1,p=!1;switch(h){case 2:break;case 3:break;case 48:f=!0,d=!0;break;case 49:f=!0,d=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var m=0,_=521;h==2&&(m=u.read_shift(2)),u.l+=3,h!=2&&(m=u.read_shift(4)),m>1048576&&(m=1e6),h!=2&&(_=u.read_shift(2));var x=u.read_shift(2),T=l.codepage||1252;h!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(T=t[u[u.l]]),u.l+=1,u.l+=2),p&&(u.l+=36);for(var b=[],I={},j=Math.min(u.length,h==2?521:_-10-(f?264:0)),O=p?32:11;u.l<j&&u[u.l]!=13;)switch(I={},I.name=zp.utils.decode(T,u.slice(u.l,u.l+O)).replace(/[\u0000\r\n].*$/g,""),u.l+=O,I.type=String.fromCharCode(u.read_shift(1)),h!=2&&!p&&(I.offset=u.read_shift(4)),I.len=u.read_shift(1),h==2&&(I.offset=u.read_shift(2)),I.dec=u.read_shift(1),I.name.length&&b.push(I),h!=2&&(u.l+=p?13:14),I.type){case"B":(!f||I.len!=8)&&l.WTF&&console.log("Skipping "+I.name+":"+I.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+I.name+":"+I.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+I.type)}if(u[u.l]!==13&&(u.l=_-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=_;var N=0,A=0;for(c[0]=[],A=0;A!=b.length;++A)c[0][A]=b[A].name;for(;m-- >0;){if(u[u.l]===42){u.l+=x;continue}for(++u.l,c[++N]=[],A=0,A=0;A!=b.length;++A){var y=u.slice(u.l,u.l+b[A].len);u.l+=b[A].len,ai(y,0);var R=zp.utils.decode(T,y);switch(b[A].type){case"C":R.trim().length&&(c[N][A]=R.replace(/\s+$/,""));break;case"D":R.length===8?c[N][A]=new Date(+R.slice(0,4),+R.slice(4,6)-1,+R.slice(6,8)):c[N][A]=R;break;case"F":c[N][A]=parseFloat(R.trim());break;case"+":case"I":c[N][A]=p?y.read_shift(-4,"i")^2147483648:y.read_shift(4,"i");break;case"L":switch(R.trim().toUpperCase()){case"Y":case"T":c[N][A]=!0;break;case"N":case"F":c[N][A]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+R+"|")}break;case"M":if(!d)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));c[N][A]="##MEMO##"+(p?parseInt(R.trim(),10):y.read_shift(4));break;case"N":R=R.replace(/\u0000/g,"").trim(),R&&R!="."&&(c[N][A]=+R||0);break;case"@":c[N][A]=new Date(y.read_shift(-8,"f")-621356832e5);break;case"T":c[N][A]=new Date((y.read_shift(4)-2440588)*864e5+y.read_shift(4));break;case"Y":c[N][A]=y.read_shift(4,"i")/1e4+y.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[N][A]=-y.read_shift(-8,"f");break;case"B":if(f&&b[A].len==8){c[N][A]=y.read_shift(8,"f");break}case"G":case"P":y.l+=b[A].len;break;case"0":if(b[A].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[A].type)}}}if(h!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=b,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=qd(r(o,c),c);return u["!cols"]=c.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete c.DBF,u}function a(o,l){try{return yf(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&Wo(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=ps(),h=Qv(o,{header:1,raw:!0,cellDates:!0}),d=h[0],f=h.slice(1),p=o["!cols"]||[],m=0,_=0,x=0,T=1;for(m=0;m<d.length;++m){if(((p[m]||{}).DBF||{}).name){d[m]=p[m].DBF.name,++x;continue}if(d[m]!=null){if(++x,typeof d[m]=="number"&&(d[m]=d[m].toString(10)),typeof d[m]!="string")throw new Error("DBF Invalid column name "+d[m]+" |"+typeof d[m]+"|");if(d.indexOf(d[m])!==m){for(_=0;_<1024;++_)if(d.indexOf(d[m]+"_"+_)==-1){d[m]+="_"+_;break}}}}var b=zr(o["!ref"]),I=[],j=[],O=[];for(m=0;m<=b.e.c-b.s.c;++m){var N="",A="",y=0,R=[];for(_=0;_<f.length;++_)f[_][m]!=null&&R.push(f[_][m]);if(R.length==0||d[m]==null){I[m]="?";continue}for(_=0;_<R.length;++_){switch(typeof R[_]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=R[_]instanceof Date?"D":"C";break;default:A="C"}y=Math.max(y,String(R[_]).length),N=N&&N!=A?"C":A}y>250&&(y=250),A=((p[m]||{}).DBF||{}).type,A=="C"&&p[m].DBF.len>y&&(y=p[m].DBF.len),N=="B"&&A=="N"&&(N="N",O[m]=p[m].DBF.dec,y=p[m].DBF.len),j[m]=N=="C"||A=="N"?y:i[N]||0,T+=j[m],I[m]=N}var S=u.next(32);for(S.write_shift(4,318902576),S.write_shift(4,f.length),S.write_shift(2,296+32*x),S.write_shift(2,T),m=0;m<4;++m)S.write_shift(4,0);for(S.write_shift(4,0|(+e[HD]||3)<<8),m=0,_=0;m<d.length;++m)if(d[m]!=null){var k=u.next(32),C=(d[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);k.write_shift(1,C,"sbcs"),k.write_shift(1,I[m]=="?"?"C":I[m],"sbcs"),k.write_shift(4,_),k.write_shift(1,j[m]||i[I[m]]||0),k.write_shift(1,O[m]||0),k.write_shift(1,2),k.write_shift(4,0),k.write_shift(1,0),k.write_shift(4,0),k.write_shift(4,0),_+=j[m]||i[I[m]]||0}var H=u.next(264);for(H.write_shift(4,13),m=0;m<65;++m)H.write_shift(4,0);for(m=0;m<f.length;++m){var X=u.next(T);for(X.write_shift(1,0),_=0;_<d.length;++_)if(d[_]!=null)switch(I[_]){case"L":X.write_shift(1,f[m][_]==null?63:f[m][_]?84:70);break;case"B":X.write_shift(8,f[m][_]||0,"f");break;case"N":var V="0";for(typeof f[m][_]=="number"&&(V=f[m][_].toFixed(O[_]||0)),x=0;x<j[_]-V.length;++x)X.write_shift(1,32);X.write_shift(1,V,"sbcs");break;case"D":f[m][_]?(X.write_shift(4,("0000"+f[m][_].getFullYear()).slice(-4),"sbcs"),X.write_shift(2,("00"+(f[m][_].getMonth()+1)).slice(-2),"sbcs"),X.write_shift(2,("00"+f[m][_].getDate()).slice(-2),"sbcs")):X.write_shift(8,"00000000","sbcs");break;case"C":var q=String(f[m][_]!=null?f[m][_]:"").slice(0,j[_]);for(X.write_shift(1,q,"sbcs"),x=0;x<j[_]-q.length;++x)X.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),rO=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+aa(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(d,f){var p=t[f];return typeof p=="number"?gC(p):p},n=function(d,f,p){var m=f.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return m==59?d:gC(m)};t["|"]=254;function a(d,f){switch(f.type){case"base64":return i(Qs(d),f);case"binary":return i(d,f);case"buffer":return i(yr&&Buffer.isBuffer(d)?d.toString("binary"):_f(d),f);case"array":return i(yh(d),f)}throw new Error("Unrecognized type "+f.type)}function i(d,f){var p=d.split(/[\n\r]+/),m=-1,_=-1,x=0,T=0,b=[],I=[],j=null,O={},N=[],A=[],y=[],R=0,S;for(+f.codepage>=0&&Wo(+f.codepage);x!==p.length;++x){R=0;var k=p[x].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),C=k.replace(/;;/g,"\0").split(";").map(function(M){return M.replace(/\u0000/g,";")}),H=C[0],X;if(k.length>0)switch(H){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":C[1].charAt(0)=="P"&&I.push(k.slice(3).replace(/;;/g,";"));break;case"C":var V=!1,q=!1,re=!1,W=!1,me=-1,Ee=-1;for(T=1;T<C.length;++T)switch(C[T].charAt(0)){case"A":break;case"X":_=parseInt(C[T].slice(1))-1,q=!0;break;case"Y":for(m=parseInt(C[T].slice(1))-1,q||(_=0),S=b.length;S<=m;++S)b[S]=[];break;case"K":X=C[T].slice(1),X.charAt(0)==='"'?X=X.slice(1,X.length-1):X==="TRUE"?X=!0:X==="FALSE"?X=!1:isNaN(Ko(X))?isNaN(_d(X).getDate())||(X=Fn(X)):(X=Ko(X),j!==null&&Vd(j)&&(X=Jx(X))),V=!0;break;case"E":W=!0;var D=td(C[T].slice(1),{r:m,c:_});b[m][_]=[b[m][_],D];break;case"S":re=!0,b[m][_]=[b[m][_],"S5S"];break;case"G":break;case"R":me=parseInt(C[T].slice(1))-1;break;case"C":Ee=parseInt(C[T].slice(1))-1;break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+k)}if(V&&(b[m][_]&&b[m][_].length==2?b[m][_][0]=X:b[m][_]=X,j=null),re){if(W)throw new Error("SYLK shared formula cannot have own formula");var F=me>-1&&b[me][Ee];if(!F||!F[1])throw new Error("SYLK shared formula cannot find base");b[m][_][1]=yO(F[1],{r:m-me,c:_-Ee})}break;case"F":var U=0;for(T=1;T<C.length;++T)switch(C[T].charAt(0)){case"X":_=parseInt(C[T].slice(1))-1,++U;break;case"Y":for(m=parseInt(C[T].slice(1))-1,S=b.length;S<=m;++S)b[S]=[];break;case"M":R=parseInt(C[T].slice(1))/20;break;case"F":break;case"G":break;case"P":j=I[parseInt(C[T].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(y=C[T].slice(1).split(" "),S=parseInt(y[0],10);S<=parseInt(y[1],10);++S)R=parseInt(y[2],10),A[S-1]=R===0?{hidden:!0}:{wch:R},cf(A[S-1]);break;case"C":_=parseInt(C[T].slice(1))-1,A[_]||(A[_]={});break;case"R":m=parseInt(C[T].slice(1))-1,N[m]||(N[m]={}),R>0?(N[m].hpt=R,N[m].hpx=wd(R)):R===0&&(N[m].hidden=!0);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+k)}U<1&&(j=null);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+k)}}return N.length>0&&(O["!rows"]=N),A.length>0&&(O["!cols"]=A),f&&f.sheetRows&&(b=b.slice(0,f.sheetRows)),[b,O]}function s(d,f){var p=a(d,f),m=p[0],_=p[1],x=qd(m,f);return aa(_).forEach(function(T){x[T]=_[T]}),x}function o(d,f){return yf(s(d,f),f)}function l(d,f,p,m){var _="C;Y"+(p+1)+";X"+(m+1)+";K";switch(d.t){case"n":_+=d.v||0,d.f&&!d.F&&(_+=";E"+VE(d.f,{r:p,c:m}));break;case"b":_+=d.v?"TRUE":"FALSE";break;case"e":_+=d.w||d.v;break;case"d":_+='"'+(d.w||d.v)+'"';break;case"s":_+='"'+d.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return _}function c(d,f){f.forEach(function(p,m){var _="F;W"+(m+1)+" "+(m+1)+" ";p.hidden?_+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=Yp(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=Qp(p.wpx)),typeof p.wch=="number"&&(_+=Math.round(p.wch))),_.charAt(_.length-1)!=" "&&d.push(_)})}function u(d,f){f.forEach(function(p,m){var _="F;";p.hidden?_+="M0;":p.hpt?_+="M"+20*p.hpt+";":p.hpx&&(_+="M"+20*Jp(p.hpx)+";"),_.length>2&&d.push(_+"R"+(m+1))})}function h(d,f){var p=["ID;PWXL;N;E"],m=[],_=zr(d["!ref"]),x,T=Array.isArray(d),b=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),d["!cols"]&&c(p,d["!cols"]),d["!rows"]&&u(p,d["!rows"]),p.push("B;Y"+(_.e.r-_.s.r+1)+";X"+(_.e.c-_.s.c+1)+";D"+[_.s.c,_.s.r,_.e.c,_.e.r].join(" "));for(var I=_.s.r;I<=_.e.r;++I)for(var j=_.s.c;j<=_.e.c;++j){var O=nr({r:I,c:j});x=T?(d[I]||[])[j]:d[O],!(!x||x.v==null&&(!x.f||x.F))&&m.push(l(x,d,I,j))}return p.join(b)+b+m.join(b)+b+"E"+b}return{to_workbook:o,to_sheet:s,from_sheet:h}}(),nO=function(){function t(i,s){switch(s.type){case"base64":return e(Qs(i),s);case"binary":return e(i,s);case"buffer":return e(yr&&Buffer.isBuffer(i)?i.toString("binary"):_f(i),s);case"array":return e(yh(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){for(var o=i.split(`
`),l=-1,c=-1,u=0,h=[];u!==o.length;++u){if(o[u].trim()==="BOT"){h[++l]=[],c=0;continue}if(!(l<0)){var d=o[u].trim().split(","),f=d[0],p=d[1];++u;for(var m=o[u]||"";(m.match(/["]/g)||[]).length&1&&u<o.length-1;)m+=`
`+o[++u];switch(m=m.trim(),+f){case-1:if(m==="BOT"){h[++l]=[],c=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?h[l][c]=!0:m==="FALSE"?h[l][c]=!1:isNaN(Ko(p))?isNaN(_d(p).getDate())?h[l][c]=p:h[l][c]=Fn(p):h[l][c]=Ko(p),++c;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),h[l][c++]=m!==""?m:null;break}if(m==="EOD")break}}return s&&s.sheetRows&&(h=h.slice(0,s.sheetRows)),h}function r(i,s){return qd(t(i,s),s)}function n(i,s){return yf(r(i,s),s)}var a=function(){var i=function(l,c,u,h,d){l.push(c),l.push(u+","+h),l.push('"'+d.replace(/"/g,'""')+'"')},s=function(l,c,u,h){l.push(c+","+u),l.push(c==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(l){var c=[],u=zr(l["!ref"]),h,d=Array.isArray(l);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,u.e.r-u.s.r+1,""),i(c,"TUPLES",0,u.e.c-u.s.c+1,""),i(c,"DATA",0,0,"");for(var f=u.s.r;f<=u.e.r;++f){s(c,-1,0,"BOT");for(var p=u.s.c;p<=u.e.c;++p){var m=nr({r:f,c:p});if(h=d?(l[f]||[])[p]:l[m],!h){s(c,1,0,"");continue}switch(h.t){case"n":var _=h.w;!_&&h.v!=null&&(_=h.v),_==null?h.f&&!h.F?s(c,1,0,"="+h.f):s(c,1,0,""):s(c,0,_,"V");break;case"b":s(c,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=Io(h.z||er[14],Ua(Fn(h.v)))),s(c,0,h.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var x=`\r
`,T=c.join(x);return T}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),aO=function(){function t(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,d){for(var f=h.split(`
`),p=-1,m=-1,_=0,x=[];_!==f.length;++_){var T=f[_].trim().split(":");if(T[0]==="cell"){var b=Hn(T[1]);if(x.length<=b.r)for(p=x.length;p<=b.r;++p)x[p]||(x[p]=[]);switch(p=b.r,m=b.c,T[2]){case"t":x[p][m]=t(T[3]);break;case"v":x[p][m]=+T[3];break;case"vtf":var I=T[T.length-1];case"vtc":switch(T[3]){case"nl":x[p][m]=!!+T[4];break;default:x[p][m]=+T[4];break}T[2]=="vtf"&&(x[p][m]=[x[p][m],I])}}}return d&&d.sheetRows&&(x=x.slice(0,d.sheetRows)),x}function n(h,d){return qd(r(h,d),d)}function a(h,d){return yf(n(h,d),d)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(h){if(!h||!h["!ref"])return"";for(var d=[],f=[],p,m="",_=gs(h["!ref"]),x=Array.isArray(h),T=_.s.r;T<=_.e.r;++T)for(var b=_.s.c;b<=_.e.c;++b)if(m=nr({r:T,c:b}),p=x?(h[T]||[])[b]:h[m],!(!p||p.v==null||p.t==="z")){switch(f=["cell",m,"t"],p.t){case"s":case"str":f.push(e(p.v));break;case"n":p.f?(f[2]="vtf",f[3]="n",f[4]=p.v,f[5]=e(p.f)):(f[2]="v",f[3]=p.v);break;case"b":f[2]="vt"+(p.f?"f":"c"),f[3]="nl",f[4]=p.v?"1":"0",f[5]=e(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var I=Ua(Fn(p.v));f[2]="vtc",f[3]="nd",f[4]=""+I,f[5]=p.w||Io(p.z||er[14],I);break;case"e":continue}d.push(f.join(":"))}return d.push("sheet:c:"+(_.e.c-_.s.c+1)+":r:"+(_.e.r-_.s.r+1)+":tvf:1"),d.push("valueformat:1:text-wiki"),d.join(`
`)}function u(h){return[i,s,o,s,c(h),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}}(),yd=function(){function t(u,h,d,f,p){p.raw?h[d][f]=u:u===""||(u==="TRUE"?h[d][f]=!0:u==="FALSE"?h[d][f]=!1:isNaN(Ko(u))?isNaN(_d(u).getDate())?h[d][f]=u:h[d][f]=Fn(u):h[d][f]=Ko(u))}function e(u,h){var d=h||{},f=[];if(!u||u.length===0)return f;for(var p=u.split(/[\r\n]/),m=p.length-1;m>=0&&p[m].length===0;)--m;for(var _=10,x=0,T=0;T<=m;++T)x=p[T].indexOf(" "),x==-1?x=p[T].length:x++,_=Math.max(_,x);for(T=0;T<=m;++T){f[T]=[];var b=0;for(t(p[T].slice(0,_).trim(),f,T,b,d),b=1;b<=(p[T].length-_)/10+1;++b)t(p[T].slice(_+(b-1)*10,_+b*10).trim(),f,T,b,d)}return d.sheetRows&&(f=f.slice(0,d.sheetRows)),f}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var h={},d=!1,f=0,p=0;f<u.length;++f)(p=u.charCodeAt(f))==34?d=!d:!d&&p in r&&(h[p]=(h[p]||0)+1);p=[];for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&p.push([h[f],f]);if(!p.length){h=n;for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&p.push([h[f],f])}return p.sort(function(m,_){return m[0]-_[0]||n[m[1]]-n[_[1]]}),r[p.pop()[1]]||44}function i(u,h){var d=h||{},f="",p=d.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(f=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(f=u.charAt(4),u=u.slice(6)):f=a(u.slice(0,1024)):d&&d.FS?f=d.FS:f=a(u.slice(0,1024));var _=0,x=0,T=0,b=0,I=0,j=f.charCodeAt(0),O=!1,N=0,A=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var y=d.dateNF!=null?VJ(d.dateNF):null;function R(){var S=u.slice(b,I),k={};if(S.charAt(0)=='"'&&S.charAt(S.length-1)=='"'&&(S=S.slice(1,-1).replace(/""/g,'"')),S.length===0)k.t="z";else if(d.raw)k.t="s",k.v=S;else if(S.trim().length===0)k.t="s",k.v=S;else if(S.charCodeAt(0)==61)S.charCodeAt(1)==34&&S.charCodeAt(S.length-1)==34?(k.t="s",k.v=S.slice(2,-1).replace(/""/g,'"')):gae(S)?(k.t="n",k.f=S.slice(1)):(k.t="s",k.v=S);else if(S=="TRUE")k.t="b",k.v=!0;else if(S=="FALSE")k.t="b",k.v=!1;else if(!isNaN(T=Ko(S)))k.t="n",d.cellText!==!1&&(k.w=S),k.v=T;else if(!isNaN(_d(S).getDate())||y&&S.match(y)){k.z=d.dateNF||er[14];var C=0;y&&S.match(y)&&(S=zJ(S,d.dateNF,S.match(y)||[]),C=1),d.cellDates?(k.t="d",k.v=Fn(S,C)):(k.t="n",k.v=Ua(Fn(S,C))),d.cellText!==!1&&(k.w=Io(k.z,k.v instanceof Date?Ua(k.v):k.v)),d.cellNF||delete k.z}else k.t="s",k.v=S;if(k.t=="z"||(d.dense?(p[_]||(p[_]=[]),p[_][x]=k):p[nr({c:x,r:_})]=k),b=I+1,A=u.charCodeAt(b),m.e.c<x&&(m.e.c=x),m.e.r<_&&(m.e.r=_),N==j)++x;else if(x=0,++_,d.sheetRows&&d.sheetRows<=_)return!0}e:for(;I<u.length;++I)switch(N=u.charCodeAt(I)){case 34:A===34&&(O=!O);break;case j:case 10:case 13:if(!O&&R())break e;break}return I-b>0&&R(),p["!ref"]=pr(m),p}function s(u,h){return!(h&&h.PRN)||h.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,h):qd(e(u,h),h)}function o(u,h){var d="",f=h.type=="string"?[0,0,0,0]:KE(u,h);switch(h.type){case"base64":d=Qs(u);break;case"binary":d=u;break;case"buffer":h.codepage==65001?d=u.toString("utf8"):h.codepage&&typeof zp<"u"||(d=yr&&Buffer.isBuffer(u)?u.toString("binary"):_f(u));break;case"array":d=yh(u);break;case"string":d=u;break;default:throw new Error("Unrecognized type "+h.type)}return f[0]==239&&f[1]==187&&f[2]==191?d=un(d.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?d=un(d):h.type=="binary"&&typeof zp<"u",d.slice(0,19)=="socialcalc:version:"?aO.to_sheet(h.type=="string"?d:un(d),h):s(d,h)}function l(u,h){return yf(o(u,h),h)}function c(u){for(var h=[],d=zr(u["!ref"]),f,p=Array.isArray(u),m=d.s.r;m<=d.e.r;++m){for(var _=[],x=d.s.c;x<=d.e.c;++x){var T=nr({r:m,c:x});if(f=p?(u[m]||[])[x]:u[T],!f||f.v==null){_.push("          ");continue}for(var b=(f.w||(Pc(f),f.w)||"").slice(0,10);b.length<10;)b+=" ";_.push(b+(x===0?" ":""))}h.push(_.join(""))}return h.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function rre(t,e){var r=e||{},n=!!r.WTF;r.WTF=!0;try{var a=rO.to_workbook(t,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return yd.to_workbook(t,e)}}var eh=function(){function t(D,F,U){if(D){ai(D,D.l||0);for(var M=U.Enum||me;D.l<D.length;){var Y=D.read_shift(2),se=M[Y]||M[65535],he=D.read_shift(2),fe=D.l+he,ve=se.f&&se.f(D,he,U);if(D.l=fe,F(ve,se,Y))return}}}function e(D,F){switch(F.type){case"base64":return r(Bs(Qs(D)),F);case"binary":return r(Bs(D),F);case"buffer":case"array":return r(D,F)}throw"Unsupported type "+F.type}function r(D,F){if(!D)return D;var U=F||{},M=U.dense?[]:{},Y="Sheet1",se="",he=0,fe={},ve=[],ke=[],ne={s:{r:0,c:0},e:{r:0,c:0}},be=U.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)U.Enum=me,t(D,function(Re,De,Te){switch(Te){case 0:U.vers=Re,Re>=4096&&(U.qpro=!0);break;case 6:ne=Re;break;case 204:Re&&(se=Re);break;case 222:se=Re;break;case 15:case 51:U.qpro||(Re[1].v=Re[1].v.slice(1));case 13:case 14:case 16:Te==14&&(Re[2]&112)==112&&(Re[2]&15)>1&&(Re[2]&15)<15&&(Re[1].z=U.dateNF||er[14],U.cellDates&&(Re[1].t="d",Re[1].v=Jx(Re[1].v))),U.qpro&&Re[3]>he&&(M["!ref"]=pr(ne),fe[Y]=M,ve.push(Y),M=U.dense?[]:{},ne={s:{r:0,c:0},e:{r:0,c:0}},he=Re[3],Y=se||"Sheet"+(he+1),se="");var Qe=U.dense?(M[Re[0].r]||[])[Re[0].c]:M[nr(Re[0])];if(Qe){Qe.t=Re[1].t,Qe.v=Re[1].v,Re[1].z!=null&&(Qe.z=Re[1].z),Re[1].f!=null&&(Qe.f=Re[1].f);break}U.dense?(M[Re[0].r]||(M[Re[0].r]=[]),M[Re[0].r][Re[0].c]=Re[1]):M[nr(Re[0])]=Re[1];break}},U);else if(D[2]==26||D[2]==14)U.Enum=Ee,D[2]==14&&(U.qpro=!0,D.l=0),t(D,function(Re,De,Te){switch(Te){case 204:Y=Re;break;case 22:Re[1].v=Re[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Re[3]>he&&(M["!ref"]=pr(ne),fe[Y]=M,ve.push(Y),M=U.dense?[]:{},ne={s:{r:0,c:0},e:{r:0,c:0}},he=Re[3],Y="Sheet"+(he+1)),be>0&&Re[0].r>=be)break;U.dense?(M[Re[0].r]||(M[Re[0].r]=[]),M[Re[0].r][Re[0].c]=Re[1]):M[nr(Re[0])]=Re[1],ne.e.c<Re[0].c&&(ne.e.c=Re[0].c),ne.e.r<Re[0].r&&(ne.e.r=Re[0].r);break;case 27:Re[14e3]&&(ke[Re[14e3][0]]=Re[14e3][1]);break;case 1537:ke[Re[0]]=Re[1],Re[0]==he&&(Y=Re[1]);break}},U);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(M["!ref"]=pr(ne),fe[se||Y]=M,ve.push(se||Y),!ke.length)return{SheetNames:ve,Sheets:fe};for(var Me={},J=[],Ie=0;Ie<ke.length;++Ie)fe[ve[Ie]]?(J.push(ke[Ie]||ve[Ie]),Me[ke[Ie]]=fe[ke[Ie]]||fe[ve[Ie]]):(J.push(ke[Ie]),Me[ke[Ie]]={"!ref":"A1"});return{SheetNames:J,Sheets:Me}}function n(D,F){var U=F||{};if(+U.codepage>=0&&Wo(+U.codepage),U.type=="string")throw new Error("Cannot write WK1 to JS string");var M=ps(),Y=zr(D["!ref"]),se=Array.isArray(D),he=[];xt(M,0,i(1030)),xt(M,6,l(Y));for(var fe=Math.min(Y.e.r,8191),ve=Y.s.r;ve<=fe;++ve)for(var ke=va(ve),ne=Y.s.c;ne<=Y.e.c;++ne){ve===Y.s.r&&(he[ne]=qn(ne));var be=he[ne]+ke,Me=se?(D[ve]||[])[ne]:D[be];if(!(!Me||Me.t=="z"))if(Me.t=="n")(Me.v|0)==Me.v&&Me.v>=-32768&&Me.v<=32767?xt(M,13,f(ve,ne,Me.v)):xt(M,14,m(ve,ne,Me.v));else{var J=Pc(Me);xt(M,15,h(ve,ne,J.slice(0,239)))}}return xt(M,1),M.end()}function a(D,F){var U=F||{};if(+U.codepage>=0&&Wo(+U.codepage),U.type=="string")throw new Error("Cannot write WK3 to JS string");var M=ps();xt(M,0,s(D));for(var Y=0,se=0;Y<D.SheetNames.length;++Y)(D.Sheets[D.SheetNames[Y]]||{})["!ref"]&&xt(M,27,W(D.SheetNames[Y],se++));var he=0;for(Y=0;Y<D.SheetNames.length;++Y){var fe=D.Sheets[D.SheetNames[Y]];if(!(!fe||!fe["!ref"])){for(var ve=zr(fe["!ref"]),ke=Array.isArray(fe),ne=[],be=Math.min(ve.e.r,8191),Me=ve.s.r;Me<=be;++Me)for(var J=va(Me),Ie=ve.s.c;Ie<=ve.e.c;++Ie){Me===ve.s.r&&(ne[Ie]=qn(Ie));var Re=ne[Ie]+J,De=ke?(fe[Me]||[])[Ie]:fe[Re];if(!(!De||De.t=="z"))if(De.t=="n")xt(M,23,R(Me,Ie,he,De.v));else{var Te=Pc(De);xt(M,22,N(Me,Ie,he,Te.slice(0,239)))}}++he}}return xt(M,1),M.end()}function i(D){var F=We(2);return F.write_shift(2,D),F}function s(D){var F=We(26);F.write_shift(2,4096),F.write_shift(2,4),F.write_shift(4,0);for(var U=0,M=0,Y=0,se=0;se<D.SheetNames.length;++se){var he=D.SheetNames[se],fe=D.Sheets[he];if(!(!fe||!fe["!ref"])){++Y;var ve=gs(fe["!ref"]);U<ve.e.r&&(U=ve.e.r),M<ve.e.c&&(M=ve.e.c)}}return U>8191&&(U=8191),F.write_shift(2,U),F.write_shift(1,Y),F.write_shift(1,M),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(1,1),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(4,0),F}function o(D,F,U){var M={s:{c:0,r:0},e:{c:0,r:0}};return F==8&&U.qpro?(M.s.c=D.read_shift(1),D.l++,M.s.r=D.read_shift(2),M.e.c=D.read_shift(1),D.l++,M.e.r=D.read_shift(2),M):(M.s.c=D.read_shift(2),M.s.r=D.read_shift(2),F==12&&U.qpro&&(D.l+=2),M.e.c=D.read_shift(2),M.e.r=D.read_shift(2),F==12&&U.qpro&&(D.l+=2),M.s.c==65535&&(M.s.c=M.e.c=M.s.r=M.e.r=0),M)}function l(D){var F=We(8);return F.write_shift(2,D.s.c),F.write_shift(2,D.s.r),F.write_shift(2,D.e.c),F.write_shift(2,D.e.r),F}function c(D,F,U){var M=[{c:0,r:0},{t:"n",v:0},0,0];return U.qpro&&U.vers!=20768?(M[0].c=D.read_shift(1),M[3]=D.read_shift(1),M[0].r=D.read_shift(2),D.l+=2):(M[2]=D.read_shift(1),M[0].c=D.read_shift(2),M[0].r=D.read_shift(2)),M}function u(D,F,U){var M=D.l+F,Y=c(D,F,U);if(Y[1].t="s",U.vers==20768){D.l++;var se=D.read_shift(1);return Y[1].v=D.read_shift(se,"utf8"),Y}return U.qpro&&D.l++,Y[1].v=D.read_shift(M-D.l,"cstr"),Y}function h(D,F,U){var M=We(7+U.length);M.write_shift(1,255),M.write_shift(2,F),M.write_shift(2,D),M.write_shift(1,39);for(var Y=0;Y<M.length;++Y){var se=U.charCodeAt(Y);M.write_shift(1,se>=128?95:se)}return M.write_shift(1,0),M}function d(D,F,U){var M=c(D,F,U);return M[1].v=D.read_shift(2,"i"),M}function f(D,F,U){var M=We(7);return M.write_shift(1,255),M.write_shift(2,F),M.write_shift(2,D),M.write_shift(2,U,"i"),M}function p(D,F,U){var M=c(D,F,U);return M[1].v=D.read_shift(8,"f"),M}function m(D,F,U){var M=We(13);return M.write_shift(1,255),M.write_shift(2,F),M.write_shift(2,D),M.write_shift(8,U,"f"),M}function _(D,F,U){var M=D.l+F,Y=c(D,F,U);if(Y[1].v=D.read_shift(8,"f"),U.qpro)D.l=M;else{var se=D.read_shift(2);I(D.slice(D.l,D.l+se),Y),D.l+=se}return Y}function x(D,F,U){var M=F&32768;return F&=-32769,F=(M?D:0)+(F>=8192?F-16384:F),(M?"":"$")+(U?qn(F):va(F))}var T={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function I(D,F){ai(D,0);for(var U=[],M=0,Y="",se="",he="",fe="";D.l<D.length;){var ve=D[D.l++];switch(ve){case 0:U.push(D.read_shift(8,"f"));break;case 1:se=x(F[0].c,D.read_shift(2),!0),Y=x(F[0].r,D.read_shift(2),!1),U.push(se+Y);break;case 2:{var ke=x(F[0].c,D.read_shift(2),!0),ne=x(F[0].r,D.read_shift(2),!1);se=x(F[0].c,D.read_shift(2),!0),Y=x(F[0].r,D.read_shift(2),!1),U.push(ke+ne+":"+se+Y)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:U.push("("+U.pop()+")");break;case 5:U.push(D.read_shift(2));break;case 6:{for(var be="";ve=D[D.l++];)be+=String.fromCharCode(ve);U.push('"'+be.replace(/"/g,'""')+'"')}break;case 8:U.push("-"+U.pop());break;case 23:U.push("+"+U.pop());break;case 22:U.push("NOT("+U.pop()+")");break;case 20:case 21:fe=U.pop(),he=U.pop(),U.push(["AND","OR"][ve-20]+"("+he+","+fe+")");break;default:if(ve<32&&b[ve])fe=U.pop(),he=U.pop(),U.push(he+b[ve]+fe);else if(T[ve]){if(M=T[ve][1],M==69&&(M=D[D.l++]),M>U.length){console.error("WK1 bad formula parse 0x"+ve.toString(16)+":|"+U.join("|")+"|");return}var Me=U.slice(-M);U.length-=M,U.push(T[ve][0]+"("+Me.join(",")+")")}else return ve<=7?console.error("WK1 invalid opcode "+ve.toString(16)):ve<=24?console.error("WK1 unsupported op "+ve.toString(16)):ve<=30?console.error("WK1 invalid opcode "+ve.toString(16)):ve<=115?console.error("WK1 unsupported function opcode "+ve.toString(16)):console.error("WK1 unrecognized opcode "+ve.toString(16))}}U.length==1?F[1].f=""+U[0]:console.error("WK1 bad formula parse |"+U.join("|")+"|")}function j(D){var F=[{c:0,r:0},{t:"n",v:0},0];return F[0].r=D.read_shift(2),F[3]=D[D.l++],F[0].c=D[D.l++],F}function O(D,F){var U=j(D);return U[1].t="s",U[1].v=D.read_shift(F-4,"cstr"),U}function N(D,F,U,M){var Y=We(6+M.length);Y.write_shift(2,D),Y.write_shift(1,U),Y.write_shift(1,F),Y.write_shift(1,39);for(var se=0;se<M.length;++se){var he=M.charCodeAt(se);Y.write_shift(1,he>=128?95:he)}return Y.write_shift(1,0),Y}function A(D,F){var U=j(D);U[1].v=D.read_shift(2);var M=U[1].v>>1;if(U[1].v&1)switch(M&7){case 0:M=(M>>3)*5e3;break;case 1:M=(M>>3)*500;break;case 2:M=(M>>3)/20;break;case 3:M=(M>>3)/200;break;case 4:M=(M>>3)/2e3;break;case 5:M=(M>>3)/2e4;break;case 6:M=(M>>3)/16;break;case 7:M=(M>>3)/64;break}return U[1].v=M,U}function y(D,F){var U=j(D),M=D.read_shift(4),Y=D.read_shift(4),se=D.read_shift(2);if(se==65535)return M===0&&Y===3221225472?(U[1].t="e",U[1].v=15):M===0&&Y===3489660928?(U[1].t="e",U[1].v=42):U[1].v=0,U;var he=se&32768;return se=(se&32767)-16446,U[1].v=(1-he*2)*(Y*Math.pow(2,se+32)+M*Math.pow(2,se)),U}function R(D,F,U,M){var Y=We(14);if(Y.write_shift(2,D),Y.write_shift(1,U),Y.write_shift(1,F),M==0)return Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(2,65535),Y;var se=0,he=0,fe=0,ve=0;return M<0&&(se=1,M=-M),he=Math.log2(M)|0,M/=Math.pow(2,he-31),ve=M>>>0,ve&2147483648||(M/=2,++he,ve=M>>>0),M-=ve,ve|=2147483648,ve>>>=0,M*=Math.pow(2,32),fe=M>>>0,Y.write_shift(4,fe),Y.write_shift(4,ve),he+=16383+(se?32768:0),Y.write_shift(2,he),Y}function S(D,F){var U=y(D);return D.l+=F-14,U}function k(D,F){var U=j(D),M=D.read_shift(4);return U[1].v=M>>6,U}function C(D,F){var U=j(D),M=D.read_shift(8,"f");return U[1].v=M,U}function H(D,F){var U=C(D);return D.l+=F-10,U}function X(D,F){return D[D.l+F-1]==0?D.read_shift(F,"cstr"):""}function V(D,F){var U=D[D.l++];U>F-1&&(U=F-1);for(var M="";M.length<U;)M+=String.fromCharCode(D[D.l++]);return M}function q(D,F,U){if(!(!U.qpro||F<21)){var M=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var Y=D.read_shift(F-21,"cstr");return[M,Y]}}function re(D,F){for(var U={},M=D.l+F;D.l<M;){var Y=D.read_shift(2);if(Y==14e3){for(U[Y]=[0,""],U[Y][0]=D.read_shift(2);D[D.l];)U[Y][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return U}function W(D,F){var U=We(5+D.length);U.write_shift(2,14e3),U.write_shift(2,F);for(var M=0;M<D.length;++M){var Y=D.charCodeAt(M);U[U.l++]=Y>127?95:Y}return U[U.l++]=0,U}var me={0:{n:"BOF",f:ba},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:d},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:_},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:X},222:{n:"SHEETNAMELP",f:V},65535:{n:""}},Ee={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:O},23:{n:"NUMBER17",f:y},24:{n:"NUMBER18",f:A},25:{n:"FORMULA19",f:S},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:re},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:k},38:{n:"??"},39:{n:"NUMBER27",f:C},40:{n:"FORMULA28",f:H},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:X},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:q},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:e}}();function nre(t){var e={},r=t.match(Ri),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=ar(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;e.cp=hE[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=i.val;break;case"<sz":e.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":i.rgb&&(e.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return e}var are=function(){var t=Gp("t"),e=Gp("rPr");function r(i){var s=i.match(t);if(!s)return{t:"s",v:""};var o={t:"s",v:Vr(s[1])},l=i.match(e);return l&&(o.s=nre(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),ire=function(){var e=/(\r\n|\n)/g;function r(a,i,s){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(e,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),sre=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,ore=/<(?:\w+:)?r>/,lre=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function FE(t,e){var r=e?e.cellHTML:!0,n={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Vr(un(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=un(t),r&&(n.h=bE(n.t))):t.match(ore)&&(n.r=un(t),n.t=Vr(un((t.replace(lre,"").match(sre)||[]).join("").replace(Ri,""))),r&&(n.h=ire(are(n.r)))),n):{t:""}}var cre=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,ure=/<(?:\w+:)?(?:si|sstItem)>/g,fre=/<\/(?:\w+:)?(?:si|sstItem)>/;function hre(t,e){var r=[],n="";if(!t)return r;var a=t.match(cre);if(a){n=a[2].replace(ure,"").split(fre);for(var i=0;i!=n.length;++i){var s=FE(n[i].trim(),e);s!=null&&(r[r.length]=s)}a=ar(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var dre=/^\s|\s$|[\t\n\r]/;function iO(t,e){if(!e.bookSST)return"";var r=[xa];r[r.length]=gt("sst",null,{xmlns:Fh[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var a=t[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(dre)&&(i+=' xml:space="preserve"'),i+=">"+an(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function pre(t){return[t.read_shift(4),t.read_shift(4)]}function mre(t,e){var r=[],n=!1;return Uc(t,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function gre(t,e){return e||(e=We(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var vre=CZ;function xre(t){var e=ps();it(e,159,gre(t));for(var r=0;r<t.length;++r)it(e,19,vre(t[r]));return it(e,160),e.end()}function sO(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function Ec(t,e){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),r}function _re(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=Ec(t,4),e.U=Ec(t,4),e.W=Ec(t,4),e}function yre(t){for(var e=t.read_shift(4),r=t.l+e-4,n={},a=t.read_shift(4),i=[];a-- >0;)i.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(n.name=t.read_shift(0,"lpp4"),n.comps=i,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return n}function wre(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(yre(t));return e}function bre(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function Ere(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=Ec(t,4),e.U=Ec(t,4),e.W=Ec(t,4),e}function Are(t){var e=Ere(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function oO(t,e){var r=t.l+e,n={};n.Flags=t.read_shift(4)&63,t.l+=4,n.AlgID=t.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=t.read_shift(4),n.KeySize=t.read_shift(4),n.ProviderType=t.read_shift(4),t.l+=8,n.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,n}function lO(t,e){var r={},n=t.l+e;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,n),t.l=n,r}function Sre(t){var e=Ec(t);switch(e.Minor){case 2:return[e.Minor,Tre(t)];case 3:return[e.Minor,Cre()];case 4:return[e.Minor,kre(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function Tre(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),n=oO(t,r),a=lO(t,t.length-t.l);return{t:"Std",h:n,v:a}}function Cre(){throw new Error("File is password-protected: ECMA-376 Extensible")}function kre(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),n={};return r.replace(Ri,function(i){var s=ar(i);switch(jl(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function Nre(t,e){var r={},n=r.EncryptionVersionInfo=Ec(t,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=t.read_shift(4),e-=4;var a=t.read_shift(4);return e-=4,r.EncryptionHeader=oO(t,a),e-=a,r.EncryptionVerifier=lO(t,e),r}function Ire(t){var e={},r=e.EncryptionVersionInfo=Ec(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function ME(t){var e=0,r,n=sO(t),a=n.length+1,i,s,o,l,c;for(r=lf(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=e&16384?1:0,l=e<<1&32767,c=o|l,e=c^s;return e^52811}var cO=function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,o){return n(s^o)},i=function(s){for(var o=e[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var u=s[c],h=0;h!=7;++h)u&64&&(o^=r[l]),u*=2,--l;return o};return function(s){for(var o=sO(s),l=i(o),c=o.length,u=lf(16),h=0;h!=16;++h)u[h]=0;var d,f,p;for((c&1)===1&&(d=l>>8,u[c]=a(t[0],d),--c,d=l&255,f=o[o.length-1],u[c]=a(f,d));c>0;)--c,d=l>>8,u[c]=a(o[c],d),--c,d=l&255,u[c]=a(o[c],d);for(c=15,p=15-o.length;p>0;)d=l>>8,u[c]=a(t[p],d),--c,--p,d=l&255,u[c]=a(o[c],d),--c,--p;return u}}(),Rre=function(t,e,r,n,a){a||(a=e),n||(n=cO(t));var i,s;for(i=0;i!=e.length;++i)s=e[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},Lre=function(t){var e=0,r=cO(t);return function(n){var a=Rre("",n,e,r);return e=a[1],a[0]}};function Dre(t,e,r,n){var a={key:ba(t),verificationBytes:ba(t)};return r.password&&(a.verifier=ME(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=Lre(r.password)),a}function Pre(t,e,r){var n=r||{};return n.Info=t.read_shift(2),t.l-=2,n.Info===1?n.Data=Ire(t):n.Data=Nre(t,e),n}function Ore(t,e,r){var n={Type:r.biff>=8?t.read_shift(2):0};return n.Type?Pre(t,e-2,n):Dre(t,r.biff>=8?e:e-2,r,n),n}var uO=function(){function t(a,i){switch(i.type){case"base64":return e(Qs(a),i);case"binary":return e(a,i);case"buffer":return e(yr&&Buffer.isBuffer(a)?a.toString("binary"):_f(a),i);case"array":return e(yh(a),i)}throw new Error("Unrecognized type "+i.type)}function e(a,i){var s=i||{},o=s.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,h){Array.isArray(o)&&(o[h]=[]);for(var d=/\\\w+\b/g,f=0,p,m=-1;p=d.exec(u);){switch(p[0]){case"\\cell":var _=u.slice(f,d.lastIndex-p[0].length);if(_[0]==" "&&(_=_.slice(1)),++m,_.length){var x={v:_,t:"s"};Array.isArray(o)?o[h][m]=x:o[nr({r:h,c:m})]=x}break}f=d.lastIndex}m>c.e.c&&(c.e.c=m)}),o["!ref"]=pr(c),o}function r(a,i){return yf(t(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=zr(a["!ref"]),o,l=Array.isArray(a),c=s.s.r;c<=s.e.r;++c){i.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var h=nr({r:c,c:u});o=l?(a[c]||[])[u]:a[h],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(Pc(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function Fre(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Kp(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}function Mre(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,a=Math.max(e,r,n),i=Math.min(e,r,n),s=a-i;if(s===0)return[0,0,e];var o=0,l=0,c=a+i;switch(l=s/(c>1?2-c:c),a){case e:o=((r-n)/s+6)%6;break;case r:o=(n-e)/s+2;break;case n:o=(e-r)/s+4;break}return[o/6,l,c/2]}function Bre(t){var e=t[0],r=t[1],n=t[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],o=6*e,l;if(r!==0)switch(o|0){case 0:case 6:l=a*o,s[0]+=a,s[1]+=l;break;case 1:l=a*(2-o),s[0]+=l,s[1]+=a;break;case 2:l=a*(o-2),s[1]+=a,s[2]+=l;break;case 3:l=a*(4-o),s[1]+=l,s[2]+=a;break;case 4:l=a*(o-4),s[2]+=a,s[0]+=l;break;case 5:l=a*(6-o),s[2]+=l,s[0]+=a;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function Kv(t,e){if(e===0)return t;var r=Mre(Fre(t));return e<0?r[2]=r[2]*(1+e):r[2]=1-(1-r[2])*(1-e),Kp(Bre(r))}var fO=6,Ure=15,jre=1,Ti=fO;function Yp(t){return Math.floor((t+Math.round(128/Ti)/256)*Ti)}function Qp(t){return Math.floor((t-5)/Ti*100+.5)/100}function Yv(t){return Math.round((t*Ti+5)/Ti*256)/256}function Wy(t){return Yv(Qp(Yp(t)))}function BE(t){var e=Math.abs(t-Wy(t)),r=Ti;if(e>.005)for(Ti=jre;Ti<Ure;++Ti)Math.abs(t-Wy(t))<=e&&(e=Math.abs(t-Wy(t)),r=Ti);Ti=r}function cf(t){t.width?(t.wpx=Yp(t.width),t.wch=Qp(t.wpx),t.MDW=Ti):t.wpx?(t.wch=Qp(t.wpx),t.width=Yv(t.wch),t.MDW=Ti):typeof t.wch=="number"&&(t.width=Yv(t.wch),t.wpx=Yp(t.width),t.MDW=Ti),t.customWidth&&delete t.customWidth}var Vre=96,hO=Vre;function Jp(t){return t*96/hO}function wd(t){return t*hO/96}var zre={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function qre(t,e,r,n){e.Borders=[];var a={},i=!1;(t[0].match(Ri)||[]).forEach(function(s){var o=ar(s);switch(jl(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=Ln(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=Ln(o.diagonalDown)),e.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function Hre(t,e,r,n){e.Fills=[];var a={},i=!1;(t[0].match(Ri)||[]).forEach(function(s){var o=ar(s);switch(jl(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},e.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function Gre(t,e,r,n){e.Fonts=[];var a={},i=!1;(t[0].match(Ri)||[]).forEach(function(s){var o=ar(s);switch(jl(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=un(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?Ln(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?Ln(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?Ln(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?Ln(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?Ln(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?Ln(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?Ln(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=hE[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=Ln(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=Jf[a.color.index];a.color.index==81&&(l=Jf[1]),l||(l=Jf[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=Kv(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function Wre(t,e,r){e.NumberFmt=[];for(var n=aa(er),a=0;a<n.length;++a)e.NumberFmt[n[a]]=er[n[a]];var i=t[0].match(Ri);if(i)for(a=0;a<i.length;++a){var s=ar(i[a]);switch(jl(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Vr(un(s.formatCode)),l=parseInt(s.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}bc(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}function $re(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=gt("numFmt",null,{numFmtId:n,formatCode:an(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=gt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var Xg=["numFmtId","fillId","fontId","borderId","xfId"],Kg=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Xre(t,e,r){e.CellXf=[];var n,a=!1;(t[0].match(Ri)||[]).forEach(function(i){var s=ar(i),o=0;switch(jl(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<Xg.length;++o)n[Xg[o]]&&(n[Xg[o]]=parseInt(n[Xg[o]],10));for(o=0;o<Kg.length;++o)n[Kg[o]]&&(n[Kg[o]]=Ln(n[Kg[o]]));if(e.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[o]){n.numFmtId=o;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=Ln(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}function Kre(t){var e=[];return e[e.length]=gt("cellXfs",null),t.forEach(function(r){e[e.length]=gt("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=gt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var Yre=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var h;return(h=o.match(e))&&Wre(h,u,c),(h=o.match(a))&&Gre(h,u,l,c),(h=o.match(n))&&Hre(h,u,l,c),(h=o.match(i))&&qre(h,u,l,c),(h=o.match(r))&&Xre(h,u,c),u}}();function dO(t,e){var r=[xa,gt("styleSheet",null,{xmlns:Fh[0],"xmlns:vt":Fa.vt})],n;return t.SSF&&(n=$re(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Kre(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Qre(t,e){var r=t.read_shift(2),n=ki(t);return[r,n]}function Jre(t,e,r){r||(r=We(6+4*e.length)),r.write_shift(2,t),Ka(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Zre(t,e,r){var n={};n.sz=t.read_shift(2)/20;var a=PZ(t);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=t.read_shift(2);switch(i===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=t.read_shift(1);s!=0&&(n.underline=s);var o=t.read_shift(1);o>0&&(n.family=o);var l=t.read_shift(1);switch(l>0&&(n.charset=l),t.l++,n.color=DZ(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=ki(t),n}function ene(t,e){e||(e=We(25+4*32)),e.write_shift(2,t.sz*20),OZ(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),Wv(t.color,e);var n=0;return n=2,e.write_shift(1,n),Ka(t.name,e),e.length>e.l?e.slice(0,e.l):e}var tne=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],$y,rne=Ii;function sk(t,e){e||(e=We(4*3+8*7+16*1)),$y||($y=Yx(tne));var r=$y[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(Wv({auto:1},e),Wv({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function nne(t,e){var r=t.l+e,n=t.read_shift(2),a=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:a}}function pO(t,e,r){r||(r=We(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function b1(t,e){return e||(e=We(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var ane=Ii;function ine(t,e){return e||(e=We(51)),e.write_shift(1,0),b1(null,e),b1(null,e),b1(null,e),b1(null,e),b1(null,e),e.length>e.l?e.slice(0,e.l):e}function sne(t,e){return e||(e=We(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),Gv(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function one(t,e,r){var n=We(2052);return n.write_shift(4,t),Gv(e,n),Gv(r,n),n.length>n.l?n.slice(0,n.l):n}function lne(t,e,r){var n={};n.NumberFmt=[];for(var a in er)n.NumberFmt[a]=er[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return Uc(t,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],bc(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=Kv(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(u),s=!0;break;case 38:i.pop(),s=!1;break;default:if(c.T>0)i.push(u);else if(c.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}function cne(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&++r}),r!=0&&(it(t,615,Yo(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&it(t,44,Jre(a,e[a]))}),it(t,616))}}function une(t){var e=1;it(t,611,Yo(e)),it(t,43,ene({sz:12,color:{theme:1},name:"Calibri",family:2})),it(t,612)}function fne(t){var e=2;it(t,603,Yo(e)),it(t,45,sk({patternType:"none"})),it(t,45,sk({patternType:"gray125"})),it(t,604)}function hne(t){var e=1;it(t,613,Yo(e)),it(t,46,ine()),it(t,614)}function dne(t){var e=1;it(t,626,Yo(e)),it(t,47,pO({numFmtId:0},65535)),it(t,627)}function pne(t,e){it(t,617,Yo(e.length)),e.forEach(function(r){it(t,47,pO(r,0))}),it(t,618)}function mne(t){var e=1;it(t,619,Yo(e)),it(t,48,sne({xfId:0,name:"Normal"})),it(t,620)}function gne(t){var e=0;it(t,505,Yo(e)),it(t,506)}function vne(t){var e=0;it(t,508,one(e,"TableStyleMedium9","PivotStyleMedium4")),it(t,509)}function xne(t,e){var r=ps();return it(r,278),cne(r,t.SSF),une(r),fne(r),hne(r),dne(r),pne(r,e.cellXfs),mne(r),gne(r),vne(r),it(r,279),r.end()}var _ne=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function yne(t,e,r){e.themeElements.clrScheme=[];var n={};(t[0].match(Ri)||[]).forEach(function(a){var i=ar(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(e.themeElements.clrScheme[_ne.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function wne(){}function bne(){}var Ene=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Ane=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Sne=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Tne(t,e,r){e.themeElements={};var n;[["clrScheme",Ene,yne],["fontScheme",Ane,wne],["fmtScheme",Sne,bne]].forEach(function(a){if(!(n=t.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,e,r)})}var Cne=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function mO(t,e){(!t||t.length===0)&&(t=UE());var r,n={};if(!(r=t.match(Cne)))throw new Error("themeElements not found in theme");return Tne(r[0],n,e),n.raw=t,n}function UE(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[xa];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function kne(t,e,r){var n=t.l+e,a=t.read_shift(4);if(a!==124226){if(!r.cellStyles){t.l=n;return}var i=t.slice(t.l);t.l=n;var s;try{s=oP(i,{type:"array"})}catch{return}var o=Us(s,"theme/theme/theme1.xml",!0);if(o)return mO(o,r)}}function Nne(t){return t.read_shift(4)}function Ine(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=Rne(t,4);break;case 2:e.xclrValue=XP(t);break;case 3:e.xclrValue=Nne(t);break;case 4:t.l+=4;break}return t.l+=8,e}function Rne(t,e){return Ii(t,e)}function Lne(t,e){return Ii(t,e)}function Dne(t){var e=t.read_shift(2),r=t.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Ine(t);break;case 6:n[1]=Lne(t,r);break;case 14:case 15:n[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+r)}return n}function Pne(t,e){var r=t.l+e;t.l+=2;var n=t.read_shift(2);t.l+=2;for(var a=t.read_shift(2),i=[];a-- >0;)i.push(Dne(t,r-t.l));return{ixfe:n,ext:i}}function One(t,e){e.forEach(function(r){switch(r[0]){}})}function Fne(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:ki(t)}}function Mne(t){var e=We(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Ka(t.name,e),e.slice(0,e.l)}function Bne(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function Une(t){var e=We(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function jne(t,e){var r=We(8+2*e.length);return r.write_shift(4,t),Ka(e,r),r.slice(0,r.l)}function Vne(t){return t.l+=4,t.read_shift(4)!=0}function zne(t,e){var r=We(8);return r.write_shift(4,t),r.write_shift(4,1),r}function qne(t,e,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return Uc(t,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(h){o==1?n.Cell.push({type:n.Types[h[0]-1].name,index:h[1]}):o==0&&n.Value.push({type:n.Types[h[0]-1].name,index:h[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:i.push(u),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!c.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function Hne(){var t=ps();return it(t,332),it(t,334,Yo(1)),it(t,335,Mne({name:"XLDAPR",version:12e4,flags:3496657072})),it(t,336),it(t,339,jne(1,"XLDAPR")),it(t,52),it(t,35,Yo(514)),it(t,4096,Yo(0)),it(t,4097,vo(1)),it(t,36),it(t,53),it(t,340),it(t,337,zne(1)),it(t,51,Une([[1,0]])),it(t,338),it(t,333),t.end()}function Gne(t,e,r){var n={Types:[],Cell:[],Value:[]};if(!t)return n;var a=!1,i=2,s;return t.replace(Ri,function(o){var l=ar(o);switch(jl(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(s=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):i==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function gO(){var t=[xa];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function Wne(t){var e=[];if(!t)return e;var r=1;return(t.match(Ri)||[]).forEach(function(n){var a=ar(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,e.push(a);break}}),e}function $ne(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=nr(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function Xne(t,e,r){var n=[];return Uc(t,function(i,s,o){switch(o){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function Kne(t,e,r,n){if(!t)return t;var a=n||{},i=!1;Uc(t,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},a)}function Yne(t,e){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][r].Target}var O0=1024;function vO(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[gt("xml",null,{"xmlns:v":Ds.v,"xmlns:o":Ds.o,"xmlns:x":Ds.x,"xmlns:mv":Ds.mv}).replace(/\/>/,">"),gt("o:shapelayout",gt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),gt("v:shapetype",[gt("v:stroke",null,{joinstyle:"miter"}),gt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];O0<t*1e3;)O0+=1e3;return e.forEach(function(i){var s=Hn(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?gt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=gt("v:fill",l,o),u={on:"t",obscured:"t"};++O0,a=a.concat(["<v:shape"+Wp({id:"_x0000_s"+O0,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,gt("v:shadow",null,u),gt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",li("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),li("x:AutoFill","False"),li("x:Row",String(s.r)),li("x:Column",String(s.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function ok(t,e,r,n){var a=Array.isArray(t),i;e.forEach(function(s){var o=Hn(s.ref);if(a?(t[o.r]||(t[o.r]=[]),i=t[o.r][o.c]):i=t[s.ref],!i){i={t:"z"},a?t[o.r][o.c]=i:t[s.ref]=i;var l=zr(t["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=pr(l);c!==t["!ref"]&&(t["!ref"]=c)}i.c||(i.c=[]);var u={a:s.author,t:s.t,r:s.r,T:r};s.h&&(u.h=s.h);for(var h=i.c.length-1;h>=0;--h){if(!r&&i.c[h].T)return;r&&!i.c[h].T&&i.c.splice(h,1)}if(r&&n){for(h=0;h<n.length;++h)if(u.a==n[h].id){u.a=n[h].name||u.a;break}}i.c.push(u)})}function Qne(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=ar(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=Hn(l.ref);if(!(e.sheetRows&&e.sheetRows<=u.r)){var h=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),d=!!h&&!!h[1]&&FE(h[1])||{r:"",t:"",h:""};c.r=d.r,d.r=="<t></t>"&&(d.t=d.h=""),c.t=(d.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(c.h=d.h),n.push(c)}}}}),n}function xO(t){var e=[xa,gt("comments",null,{xmlns:Fh[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(a){var i=an(a.a);r.indexOf(i)==-1&&(r.push(i),e.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),e.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(a=r.indexOf(an(l.a))),i.push(l.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)e.push(li("t",an(i[0]||"")));else{for(var s=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)s+=`Reply:
    `+i[o]+`
`;e.push(li("t",an(s)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function Jne(t,e){var r=[],n=!1,a={},i=0;return t.replace(Ri,function(o,l){var c=ar(o);switch(jl(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=l+o.length;break;case"</text>":a.t=t.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function Zne(t,e,r){var n=[xa,gt("ThreadedComments",null,{xmlns:Fa.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(a){var i="";(a[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&e.indexOf(s.a)==-1&&e.push(s.a);var l={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=l.id:l.parentId=i,s.ID=l.id,s.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(s.a)).slice(-12)+"}"),n.push(gt("threadedComment",li("text",s.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function eae(t,e){var r=[],n=!1;return t.replace(Ri,function(i){var s=ar(i);switch(jl(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function tae(t){var e=[xa,gt("personList",null,{xmlns:Fa.TCMNT,"xmlns:x":Fh[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(gt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function rae(t){var e={};e.iauthor=t.read_shift(4);var r=jh(t);return e.rfx=r.s,e.ref=nr(r.s),t.l+=16,e}function nae(t,e){return e==null&&(e=We(36)),e.write_shift(4,t[1].iauthor),Hd(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var aae=ki;function iae(t){return Ka(t.slice(0,54))}function sae(t,e){var r=[],n=[],a={},i=!1;return Uc(t,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,e.sheetRows&&a.rfx&&e.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}function oae(t){var e=ps(),r=[];return it(e,628),it(e,630),t.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),it(e,632,iae(a.a)))})}),it(e,631),it(e,633),t.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:Hn(n[0]),e:Hn(n[0])};it(e,635,nae([i,a])),a.t&&a.t.length>0&&it(e,637,NZ(a)),it(e,636),delete a.iauthor})}),it(e,634),it(e,629),e.end()}var lae="application/vnd.ms-office.vbaProject";function cae(t){var e=Gt.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Gt.utils.cfb_add(e,a,t.FileIndex[n].content)}}),Gt.write(e)}function uae(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Gt.utils.cfb_add(t,a,e.FileIndex[n].content)}})}var _O=["xlsb","xlsm","xlam","biff8","xla"];function fae(){return{"!type":"dialog"}}function hae(){return{"!type":"dialog"}}function dae(){return{"!type":"macro"}}function pae(){return{"!type":"macro"}}var td=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,a,i,s){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=e.c:--u,l?c+=e.r:--c,a+(o?"":"$")+qn(u)+(l?"":"$")+va(c)}return function(a,i){return e=i,a.replace(t,r)}}(),jE=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,VE=function(){return function(e,r){return e.replace(jE,function(n,a,i,s,o,l){var c=CE(s)-(i?0:r.c),u=TE(l)-(o?0:r.r),h=u==0?"":o?u+1:"["+u+"]",d=c==0?"":i?c+1:"["+c+"]";return a+"R"+h+"C"+d})}}();function yO(t,e){return t.replace(jE,function(r,n,a,i,s,o){return n+(a=="$"?a+i:qn(CE(i)+e.c))+(s=="$"?s+o:va(TE(o)+e.r))})}function mae(t,e,r){var n=gs(e),a=n.s,i=Hn(r),s={r:i.r-a.r,c:i.c-a.c};return yO(t,s)}function gae(t){return t.length!=1}function lk(t){return t.replace(/_xlfn\./g,"")}function _a(t){t.l+=1}function uf(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function wO(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return bO(t);r.biff==12&&(n=4)}var a=t.read_shift(n),i=t.read_shift(n),s=uf(t),o=uf(t);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function bO(t){var e=uf(t),r=uf(t),n=t.read_shift(1),a=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function vae(t,e,r){if(r.biff<8)return bO(t);var n=t.read_shift(r.biff==12?4:2),a=t.read_shift(r.biff==12?4:2),i=uf(t),s=uf(t);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function EO(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return xae(t);var n=t.read_shift(r&&r.biff==12?4:2),a=uf(t);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function xae(t){var e=uf(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function _ae(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function yae(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return wae(t);var a=t.read_shift(n>=12?4:2),i=t.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function wae(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),a==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:a,rRel:n}}function bae(t,e,r){var n=(t[t.l++]&96)>>5,a=wO(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function Eae(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}var s=wO(t,i,r);return[n,a,s]}function Aae(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Sae(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}return t.l+=i,[n,a]}function Tae(t,e,r){var n=(t[t.l++]&96)>>5,a=vae(t,e-1,r);return[n,a]}function Cae(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function ck(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function kae(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(t.read_shift(r&&r.biff==2?1:2));return a}function Nae(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function Iae(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function Rae(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function Lae(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function AO(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function Dae(t){return t.read_shift(2),AO(t)}function Pae(t){return t.read_shift(2),AO(t)}function Oae(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=EO(t,0,r);return[n,a]}function Fae(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=yae(t,0,r);return[n,a]}function Mae(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var i=EO(t,0,r);return[n,a,i]}function Bae(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(r&&r.biff<=3?1:2);return[Vie[a],CO[a],n]}function Uae(t,e,r){var n=t[t.l++],a=t.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:jae(t);return[a,(i[0]===0?CO:jie)[i[1]]]}function jae(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function Vae(t,e,r){t.l+=r&&r.biff==2?3:4}function zae(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function qae(t){return t.l++,jc[t.read_shift(1)]}function Hae(t){return t.l++,t.read_shift(2)}function Gae(t){return t.l++,t.read_shift(1)!==0}function Wae(t){return t.l++,Ci(t)}function $ae(t,e,r){return t.l++,Mm(t,e-1,r)}function Xae(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=ua(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=jc[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Ci(t);break;case 2:r[1]=Vh(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Kae(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?jh:Zx)(t));return a}function Yae(t,e,r){var n=0,a=0;r.biff==12?(n=t.read_shift(4),a=t.read_shift(4)):(a=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=Xae(t,r.biff);return s}function Qae(t,e,r){var n=t.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=t.read_shift(a);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,i]}function Jae(t,e,r){if(r.biff==5)return Zae(t);var n=t.read_shift(1)>>>5&3,a=t.read_shift(2),i=t.read_shift(4);return[n,a,i]}function Zae(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function eie(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function tie(t,e,r){var n=t.read_shift(1)>>>5&3,a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function rie(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function nie(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return t.l+=i,[n,a]}var aie=Ii,iie=Ii,sie=Ii;function Um(t,e,r){return t.l+=2,[_ae(t)]}function zE(t){return t.l+=6,[]}var oie=Um,lie=zE,cie=zE,uie=Um;function SO(t){return t.l+=2,[ba(t),t.read_shift(2)&1]}var fie=Um,hie=SO,die=zE,pie=Um,mie=Um,gie=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function vie(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),a=t.read_shift(2),i=t.read_shift(2),s=gie[r>>2&31];return{ixti:e,coltype:r&3,rt:s,idx:n,c:a,C:i}}function xie(t){return t.l+=2,[t.read_shift(4)]}function _ie(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function yie(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function wie(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function bie(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function Eie(t){return t.l+=4,[0,0]}var uk={1:{n:"PtgExp",f:zae},2:{n:"PtgTbl",f:sie},3:{n:"PtgAdd",f:_a},4:{n:"PtgSub",f:_a},5:{n:"PtgMul",f:_a},6:{n:"PtgDiv",f:_a},7:{n:"PtgPower",f:_a},8:{n:"PtgConcat",f:_a},9:{n:"PtgLt",f:_a},10:{n:"PtgLe",f:_a},11:{n:"PtgEq",f:_a},12:{n:"PtgGe",f:_a},13:{n:"PtgGt",f:_a},14:{n:"PtgNe",f:_a},15:{n:"PtgIsect",f:_a},16:{n:"PtgUnion",f:_a},17:{n:"PtgRange",f:_a},18:{n:"PtgUplus",f:_a},19:{n:"PtgUminus",f:_a},20:{n:"PtgPercent",f:_a},21:{n:"PtgParen",f:_a},22:{n:"PtgMissArg",f:_a},23:{n:"PtgStr",f:$ae},26:{n:"PtgSheet",f:_ie},27:{n:"PtgEndSheet",f:yie},28:{n:"PtgErr",f:qae},29:{n:"PtgBool",f:Gae},30:{n:"PtgInt",f:Hae},31:{n:"PtgNum",f:Wae},32:{n:"PtgArray",f:Cae},33:{n:"PtgFunc",f:Bae},34:{n:"PtgFuncVar",f:Uae},35:{n:"PtgName",f:Qae},36:{n:"PtgRef",f:Oae},37:{n:"PtgArea",f:bae},38:{n:"PtgMemArea",f:eie},39:{n:"PtgMemErr",f:aie},40:{n:"PtgMemNoMem",f:iie},41:{n:"PtgMemFunc",f:tie},42:{n:"PtgRefErr",f:rie},43:{n:"PtgAreaErr",f:Aae},44:{n:"PtgRefN",f:Fae},45:{n:"PtgAreaN",f:Tae},46:{n:"PtgMemAreaN",f:wie},47:{n:"PtgMemNoMemN",f:bie},57:{n:"PtgNameX",f:Jae},58:{n:"PtgRef3d",f:Mae},59:{n:"PtgArea3d",f:Eae},60:{n:"PtgRefErr3d",f:nie},61:{n:"PtgAreaErr3d",f:Sae},255:{}},Aie={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Sie={1:{n:"PtgElfLel",f:SO},2:{n:"PtgElfRw",f:pie},3:{n:"PtgElfCol",f:oie},6:{n:"PtgElfRwV",f:mie},7:{n:"PtgElfColV",f:uie},10:{n:"PtgElfRadical",f:fie},11:{n:"PtgElfRadicalS",f:die},13:{n:"PtgElfColS",f:lie},15:{n:"PtgElfColSV",f:cie},16:{n:"PtgElfRadicalLel",f:hie},25:{n:"PtgList",f:vie},29:{n:"PtgSxName",f:xie},255:{}},Tie={0:{n:"PtgAttrNoop",f:Eie},1:{n:"PtgAttrSemi",f:Lae},2:{n:"PtgAttrIf",f:Iae},4:{n:"PtgAttrChoose",f:kae},8:{n:"PtgAttrGoto",f:Nae},16:{n:"PtgAttrSum",f:Vae},32:{n:"PtgAttrBaxcel",f:ck},33:{n:"PtgAttrBaxcel",f:ck},64:{n:"PtgAttrSpace",f:Dae},65:{n:"PtgAttrSpaceSemi",f:Pae},128:{n:"PtgAttrIfError",f:Rae},255:{}};function jm(t,e,r,n){if(n.biff<8)return Ii(t,e);for(var a=t.l+e,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=Yae(t,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=Kae(t,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=t.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return e=a-t.l,e!==0&&i.push(Ii(t,e)),i}function Vm(t,e,r){for(var n=t.l+e,a,i,s=[];n!=t.l;)e=n-t.l,i=t[t.l],a=uk[i]||uk[Aie[i]],(i===24||i===25)&&(a=(i===24?Sie:Tie)[t[t.l+1]]),!a||!a.f?Ii(t,e):s.push([a.n,a.f(t,e,r)]);return s}function Cie(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}e.push(a.join(","))}return e.join(";")}var kie={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Nie(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function TO(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(t[n[0]][0]){case 357:return a=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return t[n[0]][0][3]?(a=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function fk(t,e,r){var n=TO(t,e,r);return n=="#REF"?n:Nie(n,r)}function Si(t,e,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0}},o=[],l,c,u,h=0,d=0,f,p="";if(!t[0]||!t[0][0])return"";for(var m=-1,_="",x=0,T=t[0].length;x<T;++x){var b=t[0][x];switch(b[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),m>=0){switch(t[0][m][1][0]){case 0:_=Jn(" ",t[0][m][1][1]);break;case 1:_=Jn("\r",t[0][m][1][1]);break;default:if(_="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][m][1][0])}c=c+_,m=-1}o.push(c+kie[b[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=op(b[1][1],s,a),o.push(lp(u,i));break;case"PtgRefN":u=r?op(b[1][1],r,a):b[1][1],o.push(lp(u,i));break;case"PtgRef3d":h=b[1][1],u=op(b[1][2],s,a),p=fk(n,h,a),o.push(p+"!"+lp(u,i));break;case"PtgFunc":case"PtgFuncVar":var I=b[1][0],j=b[1][1];I||(I=0),I&=127;var O=I==0?[]:o.slice(-I);o.length-=I,j==="User"&&(j=O.shift()),o.push(j+"("+O.join(",")+")");break;case"PtgBool":o.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(b[1]);break;case"PtgNum":o.push(String(b[1]));break;case"PtgStr":o.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(b[1]);break;case"PtgAreaN":f=jC(b[1][1],r?{s:r}:s,a),o.push(qy(f,a));break;case"PtgArea":f=jC(b[1][1],s,a),o.push(qy(f,a));break;case"PtgArea3d":h=b[1][1],f=b[1][2],p=fk(n,h,a),o.push(p+"!"+qy(f,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=b[1][2];var N=(n.names||[])[d-1]||(n[0]||[])[d],A=N?N.Name:"SH33TJSNAME"+String(d);A&&A.slice(0,6)=="_xlfn."&&!a.xlfn&&(A=A.slice(6)),o.push(A);break;case"PtgNameX":var y=b[1][1];d=b[1][2];var R;if(a.biff<=5)y<0&&(y=-y),n[y]&&(R=n[y][d]);else{var S="";if(((n[y]||[])[0]||[])[0]==14849||(((n[y]||[])[0]||[])[0]==1025?n[y][d]&&n[y][d].itab>0&&(S=n.SheetNames[n[y][d].itab-1]+"!"):S=n.SheetNames[d-1]+"!"),n[y]&&n[y][d])S+=n[y][d].Name;else if(n[0]&&n[0][d])S+=n[0][d].Name;else{var k=(TO(n,y,a)||"").split(";;");k[d-1]?S=k[d-1]:S+="SH33TJSERRX"}o.push(S);break}R||(R={Name:"SH33TJSERRY"}),o.push(R.Name);break;case"PtgParen":var C="(",H=")";if(m>=0){switch(_="",t[0][m][1][0]){case 2:C=Jn(" ",t[0][m][1][1])+C;break;case 3:C=Jn("\r",t[0][m][1][1])+C;break;case 4:H=Jn(" ",t[0][m][1][1])+H;break;case 5:H=Jn("\r",t[0][m][1][1])+H;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][m][1][0])}m=-1}o.push(C+o.pop()+H);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:b[1][1],r:b[1][0]};var X={c:r.c,r:r.r};if(n.sharedf[nr(u)]){var V=n.sharedf[nr(u)];o.push(Si(V,s,X,n,a))}else{var q=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(Si(c[1],s,X,n,a)),q=!0;break}q||o.push(b[1])}break;case"PtgArray":o.push("{"+Cie(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=x;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var re=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&m>=0&&re.indexOf(t[0][x][0])==-1){b=t[0][m];var W=!0;switch(b[1][0]){case 4:W=!1;case 0:_=Jn(" ",b[1][1]);break;case 5:W=!1;case 1:_=Jn("\r",b[1][1]);break;default:if(_="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}o.push((W?_:"")+o.pop()+(W?"":_)),m=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function Iie(t,e,r){var n=t.l+e,a=r.biff==2?1:2,i,s=t.read_shift(a);if(s==65535)return[[],Ii(t,e-2)];var o=Vm(t,s,r);return e!==s+a&&(i=jm(t,e-s-a,o,r)),t.l=n,[o,i]}function Rie(t,e,r){var n=t.l+e,a=r.biff==2?1:2,i,s=t.read_shift(a);if(s==65535)return[[],Ii(t,e-2)];var o=Vm(t,s,r);return e!==s+a&&(i=jm(t,e-s-a,o,r)),t.l=n,[o,i]}function Lie(t,e,r,n){var a=t.l+e,i=Vm(t,n,r),s;return a!==t.l&&(s=jm(t,a-t.l,i,r)),[i,s]}function Die(t,e,r){var n=t.l+e,a,i=t.read_shift(2),s=Vm(t,i,r);return i==65535?[[],Ii(t,e-2)]:(e!==i+2&&(a=jm(t,n-i-2,s,r)),[s,a])}function Pie(t){var e;if(dc(t,t.l+6)!==65535)return[Ci(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function Oie(t){if(t==null){var e=We(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return wh(t);return wh(0)}function Xy(t,e,r){var n=t.l+e,a=Vl(t);r.biff==2&&++t.l;var i=Pie(t),s=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var o=Rie(t,n-t.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function Fie(t,e,r,n,a){var i=Eh(e,r,a),s=Oie(t.v),o=We(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=We(t.bf.length),u=0;u<t.bf.length;++u)c[u]=t.bf[u];var h=Xa([i,s,o,c]);return h}function e_(t,e,r){var n=t.read_shift(4),a=Vm(t,n,r),i=t.read_shift(4),s=i>0?jm(t,i,a,r):null;return[a,s]}var Mie=e_,t_=e_,Bie=e_,Uie=e_,jie={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},CO={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Vie={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function hk(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function zie(t){var e="of:="+t.replace(jE,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function Ky(t){var e=t.split(":"),r=e[0].split(".")[0];return[r,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function qie(t){return t.replace(/\./,"!")}var up={},rd={},fp=typeof Map<"u";function qE(t,e,r){var n=0,a=t.length;if(r){if(fp?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var i=fp?r.get(e):r[e];n<i.length;++n)if(t[i[n]].t===e)return t.Count++,i[n]}}else for(;n<a;++n)if(t[n].t===e)return t.Count++,n;return t[a]={t:e},t.Count++,t.Unique++,r&&(fp?(r.has(e)||r.set(e,[]),r.get(e).push(a)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(a))),a}function r_(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(Ti=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=Qp(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=Yv(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function th(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function wf(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],a=60,i=t.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){bc(e.z,a),r.ssf[a]=e.z,r.revssf[e.z]=n=a;break}}for(a=0;a!=i;++a)if(t[a].numFmtId===n)return a;return t[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function kO(t,e,r,n,a,i){try{n.cellNF&&(t.z=er[e])}catch(o){if(n.WTF)throw o}if(!(t.t==="z"&&!n.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=Fn(t.v)),(!n||n.cellText!==!1)&&t.t!=="z")try{if(er[e]==null&&bc(jJ[e]||"General",e),t.t==="e")t.w=t.w||jc[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Hp(t.v);else if(t.t==="d"){var s=Ua(t.v);(s|0)===s?t.w=s.toString(10):t.w=Hp(s)}else{if(t.v===void 0)return"";t.w=_h(t.v,rd)}else t.t==="d"?t.w=Io(e,Ua(t.v),rd):t.w=Io(e,t.v,rd)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{t.s=i.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=Kv(a.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),n.WTF&&(t.s.fgColor.raw_rgb=a.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=Kv(a.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),n.WTF&&(t.s.bgColor.raw_rgb=a.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function Hie(t,e,r){if(t&&t["!ref"]){var n=zr(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function Gie(t,e){var r=zr(e);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=pr(r))}var Wie=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,$ie=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Xie=/<(?:\w:)?hyperlink [^>]*>/mg,Kie=/"(\w*:\w*)"/,Yie=/<(?:\w:)?col\b[^>]*[\/]?>/g,Qie=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Jie=/<(?:\w:)?pageMargins[^>]*\/>/g,NO=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Zie=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,ese=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function tse(t,e,r,n,a,i,s){if(!t)return t;n||(n={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",h=t.match($ie);h?(c=t.slice(0,h.index),u=t.slice(h.index+h[0].length)):c=u=t;var d=c.match(NO);d?HE(d[0],o,a,r):(d=c.match(Zie))&&nse(d[0],d[1]||"",o,a,r);var f=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(f>0){var p=c.slice(f,f+50).match(Kie);p&&Gie(o,p[1])}var m=c.match(ese);m&&m[1]&&gse(m[1],a);var _=[];if(e.cellStyles){var x=c.match(Yie);x&&fse(_,x)}h&&_se(h[1],o,e,l,i,s);var T=u.match(Qie);T&&(o["!autofilter"]=dse(T[0]));var b=[],I=u.match(Wie);if(I)for(f=0;f!=I.length;++f)b[f]=zr(I[f].slice(I[f].indexOf('"')+1));var j=u.match(Xie);j&&lse(o,j,n);var O=u.match(Jie);if(O&&(o["!margins"]=cse(ar(O[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=pr(l)),e.sheetRows>0&&o["!ref"]){var N=zr(o["!ref"]);e.sheetRows<=+N.e.r&&(N.e.r=e.sheetRows-1,N.e.r>l.e.r&&(N.e.r=l.e.r),N.e.r<N.s.r&&(N.s.r=N.e.r),N.e.c>l.e.c&&(N.e.c=l.e.c),N.e.c<N.s.c&&(N.s.c=N.e.c),o["!fullref"]=o["!ref"],o["!ref"]=pr(N))}return _.length>0&&(o["!cols"]=_),b.length>0&&(o["!merges"]=b),o}function rse(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+pr(t[r])+'"/>';return e+"</mergeCells>"}function HE(t,e,r,n){var a=ar(t);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Vr(un(a.codeName)))}function nse(t,e,r,n,a){HE(t.slice(0,t.indexOf(">")),r,n,a)}function ase(t,e,r,n,a){var i=!1,s={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[r];try{e.Workbook&&(l=e.Workbook.Sheets[r].CodeName||l)}catch{}i=!0,s.codeName=Tl(an(l))}if(t&&t["!outline"]){var c={summaryBelow:1,summaryRight:1};t["!outline"].above&&(c.summaryBelow=0),t["!outline"].left&&(c.summaryRight=0),o=(o||"")+gt("outlinePr",null,c)}!i&&!o||(a[a.length]=gt("sheetPr",o,s))}var ise=["objects","scenarios","selectLockedCells","selectUnlockedCells"],sse=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function ose(t){var e={sheet:1};return ise.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),sse.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=ME(t.password).toString(16).toUpperCase()),gt("sheetProtection",null,e)}function lse(t,e,r){for(var n=Array.isArray(t),a=0;a!=e.length;++a){var i=ar(un(e[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+Vr(i.location))):(i.Target="#"+Vr(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=zr(i.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=nr({c,r:l});n?(t[l]||(t[l]=[]),t[l][c]||(t[l][c]={t:"z",v:void 0}),t[l][c].l=i):(t[u]||(t[u]={t:"z",v:void 0}),t[u].l=i)}}}function cse(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(e[r]=parseFloat(t[r]))}),e}function use(t){return th(t),gt("pageMargins",null,t)}function fse(t,e){for(var r=!1,n=0;n!=e.length;++n){var a=ar(e[n],!0);a.hidden&&(a.hidden=Ln(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,BE(a.width)),cf(a);i<=s;)t[i++]=Mn(a)}}function hse(t,e){for(var r=["<cols>"],n,a=0;a!=e.length;++a)(n=e[a])&&(r[r.length]=gt("col",null,r_(a,n)));return r[r.length]="</cols>",r.join("")}function dse(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}function pse(t,e,r,n){var a=typeof t.ref=="string"?t.ref:pr(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=gs(a);s.s.r==s.e.r&&(s.e.r=gs(e["!ref"]).e.r,a=pr(s));for(var o=0;o<i.length;++o){var l=i[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),gt("autoFilter",null,{ref:a})}var mse=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function gse(t,e){e.Views||(e.Views=[{}]),(t.match(mse)||[]).forEach(function(r,n){var a=ar(r);e.Views[n]||(e.Views[n]={}),+a.zoomScale&&(e.Views[n].zoom=+a.zoomScale),Ln(a.rightToLeft)&&(e.Views[n].RTL=!0)})}function vse(t,e,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),gt("sheetViews",gt("sheetView",null,a),{})}function xse(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var a="",i=t.t,s=t.v;if(t.t!=="z")switch(t.t){case"b":a=t.v?"1":"0";break;case"n":a=""+t.v;break;case"e":a=jc[t.v];break;case"d":n&&n.cellDates?a=Fn(t.v,-1).toISOString():(t=Mn(t),t.t="n",a=""+(t.v=Ua(Fn(t.v)))),typeof t.z>"u"&&(t.z=er[14]);break;default:a=t.v;break}var o=li("v",an(a)),l={r:e},c=wf(n.cellXfs,t,n);switch(c!==0&&(l.s=c),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=li("v",""+qE(n.Strings,t.v,n.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=i&&(t.t=i,t.v=s),typeof t.f=="string"&&t.f){var u=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=gt("f",an(t.f),u)+(t.v!=null?o:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(l.cm=1),gt("c",o,l)}var _se=function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=Gp("v"),s=Gp("f");return function(l,c,u,h,d,f){for(var p=0,m="",_=[],x=[],T=0,b=0,I=0,j="",O,N,A=0,y=0,R,S,k=0,C=0,H=Array.isArray(f.CellXf),X,V=[],q=[],re=Array.isArray(c),W=[],me={},Ee=!1,D=!!u.sheetStubs,F=l.split(e),U=0,M=F.length;U!=M;++U){m=F[U].trim();var Y=m.length;if(Y!==0){var se=0;e:for(p=0;p<Y;++p)switch(m[p]){case">":if(m[p-1]!="/"){++p;break e}if(u&&u.cellStyles){if(N=ar(m.slice(se,p),!0),A=N.r!=null?parseInt(N.r,10):A+1,y=-1,u.sheetRows&&u.sheetRows<A)continue;me={},Ee=!1,N.ht&&(Ee=!0,me.hpt=parseFloat(N.ht),me.hpx=wd(me.hpt)),N.hidden=="1"&&(Ee=!0,me.hidden=!0),N.outlineLevel!=null&&(Ee=!0,me.level=+N.outlineLevel),Ee&&(W[A-1]=me)}break;case"<":se=p;break}if(se>=p)break;if(N=ar(m.slice(se,p),!0),A=N.r!=null?parseInt(N.r,10):A+1,y=-1,!(u.sheetRows&&u.sheetRows<A)){h.s.r>A-1&&(h.s.r=A-1),h.e.r<A-1&&(h.e.r=A-1),u&&u.cellStyles&&(me={},Ee=!1,N.ht&&(Ee=!0,me.hpt=parseFloat(N.ht),me.hpx=wd(me.hpt)),N.hidden=="1"&&(Ee=!0,me.hidden=!0),N.outlineLevel!=null&&(Ee=!0,me.level=+N.outlineLevel),Ee&&(W[A-1]=me)),_=m.slice(p).split(t);for(var he=0;he!=_.length&&_[he].trim().charAt(0)=="<";++he);for(_=_.slice(he),p=0;p!=_.length;++p)if(m=_[p].trim(),m.length!==0){if(x=m.match(r),T=p,b=0,I=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,x!=null&&x.length===2){for(T=0,j=x[1],b=0;b!=j.length&&!((I=j.charCodeAt(b)-64)<1||I>26);++b)T=26*T+I;--T,y=T}else++y;for(b=0;b!=m.length&&m.charCodeAt(b)!==62;++b);if(++b,N=ar(m.slice(0,b),!0),N.r||(N.r=nr({r:A-1,c:y})),j=m.slice(b),O={t:""},(x=j.match(i))!=null&&x[1]!==""&&(O.v=Vr(x[1])),u.cellFormula){if((x=j.match(s))!=null&&x[1]!==""){if(O.f=Vr(un(x[1])).replace(/\r\n/g,`
`),u.xlfn||(O.f=lk(O.f)),x[0].indexOf('t="array"')>-1)O.F=(j.match(a)||[])[1],O.F.indexOf(":")>-1&&V.push([zr(O.F),O.F]);else if(x[0].indexOf('t="shared"')>-1){S=ar(x[0]);var fe=Vr(un(x[1]));u.xlfn||(fe=lk(fe)),q[parseInt(S.si,10)]=[S,fe,N.r]}}else(x=j.match(/<f[^>]*\/>/))&&(S=ar(x[0]),q[S.si]&&(O.f=mae(q[S.si][1],q[S.si][2],N.r)));var ve=Hn(N.r);for(b=0;b<V.length;++b)ve.r>=V[b][0].s.r&&ve.r<=V[b][0].e.r&&ve.c>=V[b][0].s.c&&ve.c<=V[b][0].e.c&&(O.F=V[b][1])}if(N.t==null&&O.v===void 0)if(O.f||O.F)O.v=0,O.t="n";else if(D)O.t="z";else continue;else O.t=N.t||"n";switch(h.s.c>y&&(h.s.c=y),h.e.c<y&&(h.e.c=y),O.t){case"n":if(O.v==""||O.v==null){if(!D)continue;O.t="z"}else O.v=parseFloat(O.v);break;case"s":if(typeof O.v>"u"){if(!D)continue;O.t="z"}else R=up[parseInt(O.v,10)],O.v=R.t,O.r=R.r,u.cellHTML&&(O.h=R.h);break;case"str":O.t="s",O.v=O.v!=null?un(O.v):"",u.cellHTML&&(O.h=bE(O.v));break;case"inlineStr":x=j.match(n),O.t="s",x!=null&&(R=FE(x[1]))?(O.v=R.t,u.cellHTML&&(O.h=R.h)):O.v="";break;case"b":O.v=Ln(O.v);break;case"d":u.cellDates?O.v=Fn(O.v,1):(O.v=Ua(Fn(O.v,1)),O.t="n");break;case"e":(!u||u.cellText!==!1)&&(O.w=O.v),O.v=RP[O.v];break}if(k=C=0,X=null,H&&N.s!==void 0&&(X=f.CellXf[N.s],X!=null&&(X.numFmtId!=null&&(k=X.numFmtId),u.cellStyles&&X.fillId!=null&&(C=X.fillId))),kO(O,k,C,u,d,f),u.cellDates&&H&&O.t=="n"&&Vd(er[k])&&(O.t="d",O.v=Jx(O.v)),N.cm&&u.xlmeta){var ke=(u.xlmeta.Cell||[])[+N.cm-1];ke&&ke.type=="XLDAPR"&&(O.D=!0)}if(re){var ne=Hn(N.r);c[ne.r]||(c[ne.r]=[]),c[ne.r][ne.c]=O}else c[N.r]=O}}}}W.length>0&&(c["!rows"]=W)}}();function yse(t,e,r,n){var a=[],i=[],s=zr(t["!ref"]),o="",l,c="",u=[],h=0,d=0,f=t["!rows"],p=Array.isArray(t),m={r:c},_,x=-1;for(d=s.s.c;d<=s.e.c;++d)u[d]=qn(d);for(h=s.s.r;h<=s.e.r;++h){for(i=[],c=va(h),d=s.s.c;d<=s.e.c;++d){l=u[d]+c;var T=p?(t[h]||[])[d]:t[l];T!==void 0&&(o=xse(T,l,t,e))!=null&&i.push(o)}(i.length>0||f&&f[h])&&(m={r:c},f&&f[h]&&(_=f[h],_.hidden&&(m.hidden=1),x=-1,_.hpx?x=Jp(_.hpx):_.hpt&&(x=_.hpt),x>-1&&(m.ht=x,m.customHeight=1),_.level&&(m.outlineLevel=_.level)),a[a.length]=gt("row",i.join(""),m))}if(f)for(;h<f.length;++h)f&&f[h]&&(m={r:h+1},_=f[h],_.hidden&&(m.hidden=1),x=-1,_.hpx?x=Jp(_.hpx):_.hpt&&(x=_.hpt),x>-1&&(m.ht=x,m.customHeight=1),_.level&&(m.outlineLevel=_.level),a[a.length]=gt("row","",m));return a.join("")}function IO(t,e,r,n){var a=[xa,gt("worksheet",null,{xmlns:Fh[0],"xmlns:r":Fa.r})],i=r.SheetNames[t],s=0,o="",l=r.Sheets[i];l==null&&(l={});var c=l["!ref"]||"A1",u=zr(c);if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=pr(u)}n||(n={}),l["!comments"]=[];var h=[];ase(l,r,t,e,a),a[a.length]=gt("dimension",null,{ref:c}),a[a.length]=vse(l,e,t,r),e.sheetFormat&&(a[a.length]=gt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(a[a.length]=hse(l,l["!cols"])),a[s=a.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=yse(l,e),o.length>0&&(a[a.length]=o)),a.length>s+1&&(a[a.length]="</sheetData>",a[s]=a[s].replace("/>",">")),l["!protect"]&&(a[a.length]=ose(l["!protect"])),l["!autofilter"]!=null&&(a[a.length]=pse(l["!autofilter"],l,r,t)),l["!merges"]!=null&&l["!merges"].length>0&&(a[a.length]=rse(l["!merges"]));var d=-1,f,p=-1;return l["!links"].length>0&&(a[a.length]="<hyperlinks>",l["!links"].forEach(function(m){m[1].Target&&(f={ref:m[0]},m[1].Target.charAt(0)!="#"&&(p=tn(n,-1,an(m[1].Target).replace(/#.*$/,""),wr.HLINK),f["r:id"]="rId"+p),(d=m[1].Target.indexOf("#"))>-1&&(f.location=an(m[1].Target.slice(d+1))),m[1].Tooltip&&(f.tooltip=an(m[1].Tooltip)),a[a.length]=gt("hyperlink",null,f))}),a[a.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(a[a.length]=use(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(a[a.length]=li("ignoredErrors",gt("ignoredError",null,{numberStoredAsText:1,sqref:c}))),h.length>0&&(p=tn(n,-1,"../drawings/drawing"+(t+1)+".xml",wr.DRAW),a[a.length]=gt("drawing",null,{"r:id":"rId"+p}),l["!drawing"]=h),l["!comments"].length>0&&(p=tn(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",wr.VML),a[a.length]=gt("legacyDrawing",null,{"r:id":"rId"+p}),l["!legacy"]=p),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function wse(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var a=t.read_shift(2);t.l+=1;var i=t.read_shift(1);return t.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function bse(t,e,r){var n=We(145),a=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var i=320;a.hpx?i=Jp(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var s=0;a.level&&(s|=a.level),a.hidden&&(s|=16),(a.hpx||a.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var c={r:t,c:0},u=0;u<16;++u)if(!(e.s.c>u+1<<10||e.e.c<u<<10)){for(var h=-1,d=-1,f=u<<10;f<u+1<<10;++f){c.c=f;var p=Array.isArray(r)?(r[c.r]||[])[c.c]:r[nr(c)];p&&(h<0&&(h=f),d=f)}h<0||(++o,n.write_shift(4,h),n.write_shift(4,d))}var m=n.l;return n.l=l,n.write_shift(4,o),n.l=m,n.length>n.l?n.slice(0,n.l):n}function Ese(t,e,r,n){var a=bse(n,r,e);(a.length>17||(e["!rows"]||[])[n])&&it(t,0,a)}var Ase=jh,Sse=Hd;function Tse(){}function Cse(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=IZ(t),r}function kse(t,e,r){r==null&&(r=We(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return Wv({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),TP(t,r),r.slice(0,r.l)}function Nse(t){var e=Lo(t);return[e]}function Ise(t,e,r){return r==null&&(r=We(8)),Mh(e,r)}function Rse(t){var e=Bh(t);return[e]}function Lse(t,e,r){return r==null&&(r=We(4)),Uh(e,r)}function Dse(t){var e=Lo(t),r=t.read_shift(1);return[e,r,"b"]}function Pse(t,e,r){return r==null&&(r=We(9)),Mh(e,r),r.write_shift(1,t.v?1:0),r}function Ose(t){var e=Bh(t),r=t.read_shift(1);return[e,r,"b"]}function Fse(t,e,r){return r==null&&(r=We(5)),Uh(e,r),r.write_shift(1,t.v?1:0),r}function Mse(t){var e=Lo(t),r=t.read_shift(1);return[e,r,"e"]}function Bse(t,e,r){return r==null&&(r=We(9)),Mh(e,r),r.write_shift(1,t.v),r}function Use(t){var e=Bh(t),r=t.read_shift(1);return[e,r,"e"]}function jse(t,e,r){return r==null&&(r=We(8)),Uh(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function Vse(t){var e=Lo(t),r=t.read_shift(4);return[e,r,"s"]}function zse(t,e,r){return r==null&&(r=We(12)),Mh(e,r),r.write_shift(4,e.v),r}function qse(t){var e=Bh(t),r=t.read_shift(4);return[e,r,"s"]}function Hse(t,e,r){return r==null&&(r=We(8)),Uh(e,r),r.write_shift(4,e.v),r}function Gse(t){var e=Lo(t),r=Ci(t);return[e,r,"n"]}function Wse(t,e,r){return r==null&&(r=We(16)),Mh(e,r),wh(t.v,r),r}function RO(t){var e=Bh(t),r=Ci(t);return[e,r,"n"]}function $se(t,e,r){return r==null&&(r=We(12)),Uh(e,r),wh(t.v,r),r}function Xse(t){var e=Lo(t),r=RE(t);return[e,r,"n"]}function Kse(t,e,r){return r==null&&(r=We(12)),Mh(e,r),CP(t.v,r),r}function Yse(t){var e=Bh(t),r=RE(t);return[e,r,"n"]}function Qse(t,e,r){return r==null&&(r=We(8)),Uh(e,r),CP(t.v,r),r}function Jse(t){var e=Lo(t),r=kE(t);return[e,r,"is"]}function Zse(t){var e=Lo(t),r=ki(t);return[e,r,"str"]}function eoe(t,e,r){return r==null&&(r=We(12+4*t.v.length)),Mh(e,r),Ka(t.v,r),r.length>r.l?r.slice(0,r.l):r}function toe(t){var e=Bh(t),r=ki(t);return[e,r,"str"]}function roe(t,e,r){return r==null&&(r=We(8+4*t.v.length)),Uh(e,r),Ka(t.v,r),r.length>r.l?r.slice(0,r.l):r}function noe(t,e,r){var n=t.l+e,a=Lo(t);a.r=r["!row"];var i=t.read_shift(1),s=[a,i,"b"];if(r.cellFormula){t.l+=2;var o=t_(t,n-t.l,r);s[3]=Si(o,null,a,r.supbooks,r)}else t.l=n;return s}function aoe(t,e,r){var n=t.l+e,a=Lo(t);a.r=r["!row"];var i=t.read_shift(1),s=[a,i,"e"];if(r.cellFormula){t.l+=2;var o=t_(t,n-t.l,r);s[3]=Si(o,null,a,r.supbooks,r)}else t.l=n;return s}function ioe(t,e,r){var n=t.l+e,a=Lo(t);a.r=r["!row"];var i=Ci(t),s=[a,i,"n"];if(r.cellFormula){t.l+=2;var o=t_(t,n-t.l,r);s[3]=Si(o,null,a,r.supbooks,r)}else t.l=n;return s}function soe(t,e,r){var n=t.l+e,a=Lo(t);a.r=r["!row"];var i=ki(t),s=[a,i,"str"];if(r.cellFormula){t.l+=2;var o=t_(t,n-t.l,r);s[3]=Si(o,null,a,r.supbooks,r)}else t.l=n;return s}var ooe=jh,loe=Hd;function coe(t,e){return e==null&&(e=We(4)),e.write_shift(4,t),e}function uoe(t,e){var r=t.l+e,n=jh(t),a=NE(t),i=ki(t),s=ki(t),o=ki(t);t.l=r;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}function foe(t,e){var r=We(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Hd({s:Hn(t[0]),e:Hn(t[0])},r),IE("rId"+e,r);var n=t[1].Target.indexOf("#"),a=n==-1?"":t[1].Target.slice(n+1);return Ka(a||"",r),Ka(t[1].Tooltip||"",r),Ka("",r),r.slice(0,r.l)}function hoe(){}function doe(t,e,r){var n=t.l+e,a=kP(t),i=t.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=Mie(t,n-t.l,r);s[1]=o}else t.l=n;return s}function poe(t,e,r){var n=t.l+e,a=jh(t),i=[a];if(r.cellFormula){var s=Uie(t,n-t.l,r);i[1]=s,t.l=n}else t.l=n;return i}function moe(t,e,r){r==null&&(r=We(18));var n=r_(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return e.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),e.level&&(a|=e.level<<8),r.write_shift(2,a),r}var LO=["left","right","top","bottom","header","footer"];function goe(t){var e={};return LO.forEach(function(r){e[r]=Ci(t)}),e}function voe(t,e){return e==null&&(e=We(6*8)),th(t),LO.forEach(function(r){wh(t[r],e)}),e}function xoe(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function _oe(t,e,r){r==null&&(r=We(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function yoe(t){var e=We(24);return e.write_shift(4,4),e.write_shift(4,1),Hd(t,e),e}function woe(t,e){return e==null&&(e=We(16*4+2)),e.write_shift(2,t.password?ME(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function boe(){}function Eoe(){}function Aoe(t,e,r,n,a,i,s){if(!t)return t;var o=e||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},h=!1,d=!1,f,p,m,_,x,T,b,I,j,O=[];o.biff=12,o["!row"]=0;var N=0,A=!1,y=[],R={},S=o.supbooks||a.supbooks||[[]];if(S.sharedf=R,S.arrayf=y,S.SheetNames=a.SheetNames||a.Sheets.map(function(re){return re.name}),!o.supbooks&&(o.supbooks=S,a.Names))for(var k=0;k<a.Names.length;++k)S[0][k+1]=a.Names[k];var C=[],H=[],X=!1;Zp[16]={n:"BrtShortReal",f:RO};var V;if(Uc(t,function(W,me,Ee){if(!d)switch(Ee){case 148:c=W;break;case 0:f=W,o.sheetRows&&o.sheetRows<=f.r&&(d=!0),I=va(_=f.r),o["!row"]=f.r,(W.hidden||W.hpt||W.level!=null)&&(W.hpt&&(W.hpx=wd(W.hpt)),H[W.r]=W);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(p={t:W[2]},W[2]){case"n":p.v=W[1];break;case"s":b=up[W[1]],p.v=b.t,p.r=b.r;break;case"b":p.v=!!W[1];break;case"e":p.v=W[1],o.cellText!==!1&&(p.w=jc[p.v]);break;case"str":p.t="s",p.v=W[1];break;case"is":p.t="s",p.v=W[1].t;break}if((m=s.CellXf[W[0].iStyleRef])&&kO(p,m.numFmtId,null,o,i,s),x=W[0].c==-1?x+1:W[0].c,o.dense?(l[_]||(l[_]=[]),l[_][x]=p):l[qn(x)+I]=p,o.cellFormula){for(A=!1,N=0;N<y.length;++N){var D=y[N];f.r>=D[0].s.r&&f.r<=D[0].e.r&&x>=D[0].s.c&&x<=D[0].e.c&&(p.F=pr(D[0]),A=!0)}!A&&W.length>3&&(p.f=W[3])}if(u.s.r>f.r&&(u.s.r=f.r),u.s.c>x&&(u.s.c=x),u.e.r<f.r&&(u.e.r=f.r),u.e.c<x&&(u.e.c=x),o.cellDates&&m&&p.t=="n"&&Vd(er[m.numFmtId])){var F=zf(p.v);F&&(p.t="d",p.v=new Date(F.y,F.m-1,F.d,F.H,F.M,F.S,F.u))}V&&(V.type=="XLDAPR"&&(p.D=!0),V=void 0);break;case 1:case 12:if(!o.sheetStubs||h)break;p={t:"z",v:void 0},x=W[0].c==-1?x+1:W[0].c,o.dense?(l[_]||(l[_]=[]),l[_][x]=p):l[qn(x)+I]=p,u.s.r>f.r&&(u.s.r=f.r),u.s.c>x&&(u.s.c=x),u.e.r<f.r&&(u.e.r=f.r),u.e.c<x&&(u.e.c=x),V&&(V.type=="XLDAPR"&&(p.D=!0),V=void 0);break;case 176:O.push(W);break;case 49:V=((o.xlmeta||{}).Cell||[])[W-1];break;case 494:var U=n["!id"][W.relId];for(U?(W.Target=U.Target,W.loc&&(W.Target+="#"+W.loc),W.Rel=U):W.relId==""&&(W.Target="#"+W.loc),_=W.rfx.s.r;_<=W.rfx.e.r;++_)for(x=W.rfx.s.c;x<=W.rfx.e.c;++x)o.dense?(l[_]||(l[_]=[]),l[_][x]||(l[_][x]={t:"z",v:void 0}),l[_][x].l=W):(T=nr({c:x,r:_}),l[T]||(l[T]={t:"z",v:void 0}),l[T].l=W);break;case 426:if(!o.cellFormula)break;y.push(W),j=o.dense?l[_][x]:l[qn(x)+I],j.f=Si(W[1],u,{r:f.r,c:x},S,o),j.F=pr(W[0]);break;case 427:if(!o.cellFormula)break;R[nr(W[0].s)]=W[1],j=o.dense?l[_][x]:l[qn(x)+I],j.f=Si(W[1],u,{r:f.r,c:x},S,o);break;case 60:if(!o.cellStyles)break;for(;W.e>=W.s;)C[W.e--]={width:W.w/256,hidden:!!(W.flags&1),level:W.level},X||(X=!0,BE(W.w/256)),cf(C[W.e+1]);break;case 161:l["!autofilter"]={ref:pr(W)};break;case 476:l["!margins"]=W;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),W.name&&(a.Sheets[r].CodeName=W.name),(W.above||W.left)&&(l["!outline"]={above:W.above,left:W.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),W.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:h=!0;break;case 36:h=!1;break;case 37:h=!0;break;case 38:h=!1;break;default:if(!me.T){if(!h||o.WTF)throw new Error("Unexpected record 0x"+Ee.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=pr(c||u)),o.sheetRows&&l["!ref"]){var q=zr(l["!ref"]);o.sheetRows<=+q.e.r&&(q.e.r=o.sheetRows-1,q.e.r>u.e.r&&(q.e.r=u.e.r),q.e.r<q.s.r&&(q.s.r=q.e.r),q.e.c>u.e.c&&(q.e.c=u.e.c),q.e.c<q.s.c&&(q.s.c=q.e.c),l["!fullref"]=l["!ref"],l["!ref"]=pr(q))}return O.length>0&&(l["!merges"]=O),C.length>0&&(l["!cols"]=C),H.length>0&&(l["!rows"]=H),l}function Soe(t,e,r,n,a,i,s){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=Mn(e),e.z=e.z||er[14],e.v=Ua(Fn(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r,c:n};switch(l.s=wf(a.cellXfs,e,a),e.l&&i["!links"].push([nr(l),e.l]),e.c&&i["!comments"].push([nr(l),e.c]),e.t){case"s":case"str":return a.bookSST?(o=qE(a.Strings,e.v,a.revStrings),l.t="s",l.v=o,s?it(t,18,Hse(e,l)):it(t,7,zse(e,l))):(l.t="str",s?it(t,17,roe(e,l)):it(t,6,eoe(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?s?it(t,13,Qse(e,l)):it(t,2,Kse(e,l)):s?it(t,16,$se(e,l)):it(t,5,Wse(e,l)),!0;case"b":return l.t="b",s?it(t,15,Fse(e,l)):it(t,4,Pse(e,l)),!0;case"e":return l.t="e",s?it(t,14,jse(e,l)):it(t,3,Bse(e,l)),!0}return s?it(t,12,Lse(e,l)):it(t,1,Ise(e,l)),!0}function Toe(t,e,r,n){var a=zr(e["!ref"]||"A1"),i,s="",o=[];it(t,145);var l=Array.isArray(e),c=a.e.r;e["!rows"]&&(c=Math.max(a.e.r,e["!rows"].length-1));for(var u=a.s.r;u<=c;++u){s=va(u),Ese(t,e,a,u);var h=!1;if(u<=a.e.r)for(var d=a.s.c;d<=a.e.c;++d){u===a.s.r&&(o[d]=qn(d)),i=o[d]+s;var f=l?(e[u]||[])[d]:e[i];if(!f){h=!1;continue}h=Soe(t,f,u,d,n,e,h)}}it(t,146)}function Coe(t,e){!e||!e["!merges"]||(it(t,177,coe(e["!merges"].length)),e["!merges"].forEach(function(r){it(t,176,loe(r))}),it(t,178))}function koe(t,e){!e||!e["!cols"]||(it(t,390),e["!cols"].forEach(function(r,n){r&&it(t,60,moe(n,r))}),it(t,391))}function Noe(t,e){!e||!e["!ref"]||(it(t,648),it(t,649,yoe(zr(e["!ref"]))),it(t,650))}function Ioe(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var a=tn(r,-1,n[1].Target.replace(/#.*$/,""),wr.HLINK);it(t,494,foe(n,a))}}),delete e["!links"]}function Roe(t,e,r,n){if(e["!comments"].length>0){var a=tn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",wr.VML);it(t,551,IE("rId"+a)),e["!legacy"]=a}}function Loe(t,e,r,n){if(e["!autofilter"]){var a=e["!autofilter"],i=typeof a.ref=="string"?a.ref:pr(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=gs(i);o.s.r==o.e.r&&(o.e.r=gs(e["!ref"]).e.r,i=pr(o));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+i;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),it(t,161,Hd(zr(i))),it(t,162)}}function Doe(t,e,r){it(t,133),it(t,137,_oe(e,r)),it(t,138),it(t,134)}function Poe(t,e){e["!protect"]&&it(t,535,woe(e["!protect"]))}function Ooe(t,e,r,n){var a=ps(),i=r.SheetNames[t],s=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[t].CodeName||o)}catch{}var l=zr(s["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],it(a,129),(r.vbaraw||s["!outline"])&&it(a,147,kse(o,s["!outline"])),it(a,148,Sse(l)),Doe(a,s,r.Workbook),koe(a,s),Toe(a,s,t,e),Poe(a,s),Loe(a,s,r,t),Coe(a,s),Ioe(a,s,n),s["!margins"]&&it(a,476,voe(s["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&Noe(a,s),Roe(a,s,t,n),it(a,130),a.end()}function Foe(t){var e=[],r=t.match(/^<c:numCache>/),n;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(e[+s[1]]=r?+s[2]:s[2])});var a=Vr((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[e,a,n]}function Moe(t,e,r,n,a,i){var s=i||{"!type":"chart"};if(!t)return i;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(h){var d=Foe(h);u.s.r=u.s.c=0,u.e.c=o,c=qn(o),d[0].forEach(function(f,p){s[c+va(p)]={t:"n",v:f,z:d[1]},l=p}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(s["!ref"]=pr(u)),s}function Boe(t,e,r,n,a){if(!t)return t;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=t.match(NO);return o&&HE(o[0],i,a,r),(s=t.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function Uoe(t,e){t.l+=10;var r=ki(t);return{name:r}}function joe(t,e,r,n,a){if(!t)return t;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return Uc(t,function(l,c,u){switch(u){case 550:i["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!s||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},e),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var GE=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Voe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],zoe=[],qoe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function dk(t,e){for(var r=0;r!=t.length;++r)for(var n=t[r],a=0;a!=e.length;++a){var i=e[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Ln(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function pk(t,e){for(var r=0;r!=e.length;++r){var n=e[r];if(t[n[0]]==null)t[n[0]]=n[1];else switch(n[2]){case"bool":typeof t[n[0]]=="string"&&(t[n[0]]=Ln(t[n[0]]));break;case"int":typeof t[n[0]]=="string"&&(t[n[0]]=parseInt(t[n[0]],10));break}}}function DO(t){pk(t.WBProps,GE),pk(t.CalcPr,qoe),dk(t.WBView,Voe),dk(t.Sheets,zoe),rd.date1904=Ln(t.WBProps.date1904)}function Hoe(t){return!t.Workbook||!t.Workbook.WBProps?"false":Ln(t.Workbook.WBProps.date1904)?"true":"false"}var Goe="][*?/\\".split("");function PO(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Goe.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Woe(t,e,r){t.forEach(function(n,a){PO(n);for(var i=0;i<a;++i)if(n==t[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=e&&e[a]&&e[a].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function $oe(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];Woe(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)Hie(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}var Xoe=/<\w+:workbook/;function Koe(t,e){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(t.replace(Ri,function(l,c){var u=ar(l);switch(jl(u[0])){case"<?xml":break;case"<workbook":l.match(Xoe)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":GE.forEach(function(h){if(u[h[0]]!=null)switch(h[2]){case"bool":r.WBProps[h[0]]=Ln(u[h[0]]);break;case"int":r.WBProps[h[0]]=parseInt(u[h[0]],10);break;default:r.WBProps[h[0]]=u[h[0]]}}),u.codeName&&(r.WBProps.CodeName=un(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Vr(un(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=un(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),Ln(u.hidden||"0")&&(i.Hidden=!0),s=c+l.length;break;case"</definedName>":i.Ref=Vr(un(t.slice(s,c))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),Fh.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return DO(r),r}function OO(t){var e=[xa];e[e.length]=gt("workbook",null,{xmlns:Fh[0],"xmlns:r":Fa.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(GE.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=gt("workbookPr",null,n);var a=t.Workbook&&t.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(e[e.length]="<bookViews>",i=0;i!=t.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==t.SheetNames.length&&(i=0),e[e.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",i=0;i!=t.SheetNames.length;++i){var s={name:an(t.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}e[e.length]=gt("sheet",null,s)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=gt("definedName",an(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function Yoe(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=zw(t),r.name=ki(t),r}function Qoe(t,e){return e||(e=We(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),IE(t.strRelID,e),Ka(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function Joe(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var a=e>8?ki(t):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Zoe(t,e){e||(e=We(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),TP(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function ele(t,e){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=e-8,r}function tle(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var a=t.read_shift(4),i=RZ(t),s=Bie(t,0,r),o=NE(t);t.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function rle(t,e){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;e||(e={}),e.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],Zp[16]={n:"BrtFRTArchID$",f:ele},Uc(t,function(l,c,u){switch(u){case 156:s.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=Si(l.Ptg,null,null,s,e),delete e.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([u,l]):s[0]=[u,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(u),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!c.T){if(!a||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},e),DO(r),r.Names=i,r.supbooks=s,r}function nle(t,e){it(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};it(t,156,Qoe(a))}it(t,144)}function ale(t,e){e||(e=We(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Ka("SheetJS",e),Ka(Uv.version,e),Ka(Uv.version,e),Ka("7262",e),e.length>e.l?e.slice(0,e.l):e}function ile(t,e){e||(e=We(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function sle(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(it(t,135),it(t,158,ile(a)),it(t,136))}}function ole(t,e){var r=ps();return it(r,131),it(r,128,ale()),it(r,153,Zoe(t.Workbook&&t.Workbook.WBProps||null)),sle(r,t),nle(r,t),it(r,132),r.end()}function lle(t,e,r){return e.slice(-4)===".bin"?rle(t,r):Koe(t,r)}function cle(t,e,r,n,a,i,s,o){return e.slice(-4)===".bin"?Aoe(t,n,r,a,i,s,o):tse(t,n,r,a,i,s,o)}function ule(t,e,r,n,a,i,s,o){return e.slice(-4)===".bin"?joe(t,n,r,a,i):Boe(t,n,r,a,i)}function fle(t,e,r,n,a,i,s,o){return e.slice(-4)===".bin"?dae():pae()}function hle(t,e,r,n,a,i,s,o){return e.slice(-4)===".bin"?fae():hae()}function dle(t,e,r,n){return e.slice(-4)===".bin"?lne(t,r,n):Yre(t,r,n)}function ple(t,e,r){return mO(t,r)}function mle(t,e,r){return e.slice(-4)===".bin"?mre(t,r):hre(t,r)}function gle(t,e,r){return e.slice(-4)===".bin"?sae(t,r):Qne(t,r)}function vle(t,e,r){return e.slice(-4)===".bin"?Xne(t):Wne(t)}function xle(t,e,r,n){return r.slice(-4)===".bin"?Kne(t,e,r,n):void 0}function _le(t,e,r){return e.slice(-4)===".bin"?qne(t,e,r):Gne(t,e,r)}function yle(t,e,r){return(e.slice(-4)===".bin"?ole:OO)(t)}function wle(t,e,r,n,a){return(e.slice(-4)===".bin"?Ooe:IO)(t,r,n,a)}function ble(t,e,r){return(e.slice(-4)===".bin"?xne:dO)(t,r)}function Ele(t,e,r){return(e.slice(-4)===".bin"?xre:iO)(t,r)}function Ale(t,e,r){return(e.slice(-4)===".bin"?oae:xO)(t)}function Sle(t){return(t.slice(-4)===".bin"?Hne:gO)()}var FO=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,MO=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function zo(t,e){var r=t.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=t.match(FO),i,s,o,l;if(a)for(l=0;l!=a.length;++l)i=a[l].match(MO),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}function Tle(t){var e=t.split(/\s+/),r={};if(e.length===1)return r;var n=t.match(FO),a,i,s,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(MO),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var hp;function Cle(t,e){var r=hp[t]||Vr(t);return r==="General"?_h(e):Io(r,e)}function kle(t,e,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Ln(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Fn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[Vr(e)]=a}function Nle(t,e,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||jc[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Hp(t.v):t.w=_h(t.v):t.w=Cle(e||"General",t.v)}catch(i){if(r.WTF)throw i}try{var n=hp[e]||e||"General";if(r.cellNF&&(t.z=n),r.cellDates&&t.t=="n"&&Vd(n)){var a=zf(t.v);a&&(t.t="d",t.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function Ile(t,e,r){if(r.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=zre[n.Pattern]||n.Pattern)}t[e.ID]=e}function Rle(t,e,r,n,a,i,s,o,l,c){var u="General",h=n.StyleID,d={};c=c||{};var f=[],p=0;for(h===void 0&&o&&(h=o.StyleID),h===void 0&&s&&(h=s.StyleID);i[h]!==void 0&&(i[h].nf&&(u=i[h].nf),i[h].Interior&&f.push(i[h].Interior),!!i[h].Parent);)h=i[h].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Ln(t);break;case"String":n.t="s",n.r=RC(Vr(t)),n.v=t.indexOf("<")>-1?Vr(e||t).replace(/<.*?>/g,""):n.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),n.v=(Fn(t)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Vr(t):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+t),n.t||(n.t="n");break;case"Error":n.t="e",n.v=RP[t],c.cellText!==!1&&(n.w=t);break;default:t==""&&e==""?n.t="z":(n.t="s",n.v=RC(e||t));break}if(Nle(n,u,c),c.cellFormula!==!1)if(n.Formula){var m=Vr(n.Formula);m.charCodeAt(0)==61&&(m=m.slice(1)),n.f=td(m,a),delete n.Formula,n.ArrayRange=="RC"?n.F=td("RC:RC",a):n.ArrayRange&&(n.F=td(n.ArrayRange,a),l.push([zr(n.F),n.F]))}else for(p=0;p<l.length;++p)a.r>=l[p][0].s.r&&a.r<=l[p][0].e.r&&a.c>=l[p][0].s.c&&a.c<=l[p][0].e.c&&(n.F=l[p][1]);c.cellStyles&&(f.forEach(function(_){!d.patternType&&_.patternType&&(d.patternType=_.patternType)}),n.s=d),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function Lle(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function Yy(t,e){var r=e||{};zd();var n=D1(EE(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=un(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=Mn(r);return s.type="string",yd.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(De){a.indexOf("<"+De)>=0&&(i=!0)}),i)return vce(n,r);hp={"General Number":"General","General Date":er[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":er[15],"Short Date":er[14],"Long Time":er[19],"Medium Time":er[18],"Short Time":er[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:er[2],Standard:er[4],Percent:er[10],Scientific:er[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},h=[],d=r.dense?[]:{},f="",p={},m={},_=zo('<Data ss:Type="String">'),x=0,T=0,b=0,I={s:{r:2e6,c:2e6},e:{r:0,c:0}},j={},O={},N="",A=0,y=[],R={},S={},k=0,C=[],H=[],X={},V=[],q,re=!1,W=[],me=[],Ee={},D=0,F=0,U={Sheets:[],WBProps:{date1904:!1}},M={};$p.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var Y="";o=$p.exec(n);)switch(o[3]=(Y=o[3]).toLowerCase()){case"data":if(Y=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?Rle(n.slice(x,o.index),N,_,l[l.length-1][0]=="comment"?X:p,{c:T,r:b},j,V[T],m,W,r):(N="",_=zo(o[0]),x=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(H.length>0&&(p.c=H),(!r.sheetRows||r.sheetRows>b)&&p.v!==void 0&&(r.dense?(d[b]||(d[b]=[]),d[b][T]=p):d[qn(T)+va(b)]=p),p.HRef&&(p.l={Target:Vr(p.HRef)},p.HRefScreenTip&&(p.l.Tooltip=p.HRefScreenTip),delete p.HRef,delete p.HRefScreenTip),(p.MergeAcross||p.MergeDown)&&(D=T+(parseInt(p.MergeAcross,10)|0),F=b+(parseInt(p.MergeDown,10)|0),y.push({s:{c:T,r:b},e:{c:D,r:F}})),!r.sheetStubs)p.MergeAcross?T=D+1:++T;else if(p.MergeAcross||p.MergeDown){for(var se=T;se<=D;++se)for(var he=b;he<=F;++he)(se>T||he>b)&&(r.dense?(d[he]||(d[he]=[]),d[he][se]={t:"z"}):d[qn(se)+va(he)]={t:"z"});T=D+1}else++T;else p=Tle(o[0]),p.Index&&(T=+p.Index-1),T<I.s.c&&(I.s.c=T),T>I.e.c&&(I.e.c=T),o[0].slice(-2)==="/>"&&++T,H=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(b<I.s.r&&(I.s.r=b),b>I.e.r&&(I.e.r=b),o[0].slice(-2)==="/>"&&(m=zo(o[0]),m.Index&&(b=+m.Index-1)),T=0,++b):(m=zo(o[0]),m.Index&&(b=+m.Index-1),Ee={},(m.AutoFitHeight=="0"||m.Height)&&(Ee.hpx=parseInt(m.Height,10),Ee.hpt=Jp(Ee.hpx),me[b]=Ee),m.Hidden=="1"&&(Ee.hidden=!0,me[b]=Ee));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));h.push(f),I.s.r<=I.e.r&&I.s.c<=I.e.c&&(d["!ref"]=pr(I),r.sheetRows&&r.sheetRows<=I.e.r&&(d["!fullref"]=d["!ref"],I.e.r=r.sheetRows-1,d["!ref"]=pr(I))),y.length&&(d["!merges"]=y),V.length>0&&(d["!cols"]=V),me.length>0&&(d["!rows"]=me),u[f]=d}else I={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=T=0,l.push([o[3],!1]),c=zo(o[0]),f=Vr(c.Name),d=r.dense?[]:{},y=[],W=[],me=[],M={name:f,Hidden:0},U.Sheets.push(M);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),V=[],re=!1}break;case"style":o[1]==="/"?Ile(j,O,r):O=zo(o[0]);break;case"numberformat":O.nf=Vr(zo(o[0]).Format||"General"),hp[O.nf]&&(O.nf=hp[O.nf]);for(var fe=0;fe!=392&&er[fe]!=O.nf;++fe);if(fe==392){for(fe=57;fe!=392;++fe)if(er[fe]==null){bc(O.nf,fe);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(q=zo(o[0]),q.Hidden&&(q.hidden=!0,delete q.Hidden),q.Width&&(q.wpx=parseInt(q.Width,10)),!re&&q.wpx>10){re=!0,Ti=fO;for(var ve=0;ve<V.length;++ve)V[ve]&&cf(V[ve])}re&&cf(q),V[q.Index-1||V.length]=q;for(var ke=0;ke<+q.Span;++ke)V[V.length]=Mn(q);break;case"namedrange":if(o[1]==="/")break;U.Names||(U.Names=[]);var ne=ar(o[0]),be={Name:ne.Name,Ref:td(ne.RefersTo.slice(1),{r:0,c:0})};U.Sheets.length>0&&(be.Sheet=U.Sheets.length-1),U.Names.push(be);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?N+=n.slice(A,o.index):A=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;O.Interior=zo(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?ree(R,Y,n.slice(k,o.index)):k=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));Lle(X),H.push(X)}else l.push([o[3],!1]),c=zo(o[0]),X={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Me=zo(o[0]);d["!autofilter"]={ref:td(Me.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return _k(n,r);var J=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:J=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:J=!1}break;case"excelworkbook":switch(o[3]){case"date1904":U.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:J=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:J=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(k,o.index)){case"SheetHidden":M.Hidden=1;break;case"SheetVeryHidden":M.Hidden=2;break}else k=o.index+o[0].length;break;case"header":d["!margins"]||th(d["!margins"]={},"xlml"),isNaN(+ar(o[0]).Margin)||(d["!margins"].header=+ar(o[0]).Margin);break;case"footer":d["!margins"]||th(d["!margins"]={},"xlml"),isNaN(+ar(o[0]).Margin)||(d["!margins"].footer=+ar(o[0]).Margin);break;case"pagemargins":var Ie=ar(o[0]);d["!margins"]||th(d["!margins"]={},"xlml"),isNaN(+Ie.Top)||(d["!margins"].top=+Ie.Top),isNaN(+Ie.Left)||(d["!margins"].left=+Ie.Left),isNaN(+Ie.Right)||(d["!margins"].right=+Ie.Right),isNaN(+Ie.Bottom)||(d["!margins"].bottom=+Ie.Bottom);break;case"displayrighttoleft":U.Views||(U.Views=[]),U.Views[0]||(U.Views[0]={}),U.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:J=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:J=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:J=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:J=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:J=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:J=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:J=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:J=!1}break;case"smarttags":break;default:J=!1;break}if(J||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?kle(S,Y,C,n.slice(k,o.index)):(C=o,k=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var Re={};return!r.bookSheets&&!r.bookProps&&(Re.Sheets=u),Re.SheetNames=h,Re.Workbook=U,Re.SSF=Mn(er),Re.Props=R,Re.Custprops=S,Re}function Kw(t,e){switch($E(e=e||{}),e.type||"base64"){case"base64":return Yy(Qs(t),e);case"binary":case"buffer":case"file":return Yy(t,e);case"array":return Yy(_f(t),e)}}function Dle(t,e){var r=[];return t.Props&&r.push(nee(t.Props,e)),t.Custprops&&r.push(aee(t.Props,t.Custprops)),r.join("")}function Ple(){return""}function Ole(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,a){var i=[];i.push(gt("NumberFormat",null,{"ss:Format":an(er[n.numFmtId])}));var s={"ss:ID":"s"+(21+a)};r.push(gt("Style",i.join(""),s))}),gt("Styles",r.join(""))}function BO(t){return gt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+VE(t.Ref,{r:0,c:0})})}function Fle(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var a=e[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(BO(a)))}return gt("Names",r.join(""))}function Mle(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],s=0;s<a.length;++s){var o=a[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(BO(o)))}return i.join("")}function Ble(t,e,r,n){if(!t)return"";var a=[];if(t["!margins"]&&(a.push("<PageSetup>"),t["!margins"].header&&a.push(gt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&a.push(gt("Footer",null,{"x:Margin":t["!margins"].footer})),a.push(gt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(gt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),t["!protect"]&&(a.push(li("ProtectContents","True")),t["!protect"].objects&&a.push(li("ProtectObjects","True")),t["!protect"].scenarios&&a.push(li("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?a.push(li("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&a.push(li("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){t["!protect"][s[0]]&&a.push("<"+s[1]+"/>")})),a.length==0?"":gt("WorksheetOptions",a.join(""),{xmlns:Ds.x})}function Ule(t){return t.map(function(e){var r=sZ(e.t||""),n=gt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return gt("Comment",n,{"ss:Author":e.a})}).join("")}function jle(t,e,r,n,a,i,s){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+an(VE(t.f,s))),t.F&&t.F.slice(0,e.length)==e){var l=Hn(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=an(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=an(t.l.Tooltip))),r["!merges"])for(var c=r["!merges"],u=0;u!=c.length;++u)c[u].s.c!=s.c||c[u].s.r!=s.r||(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var h="",d="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":h="Number",d=String(t.v);break;case"b":h="Boolean",d=t.v?"1":"0";break;case"e":h="Error",d=jc[t.v];break;case"d":h="DateTime",d=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||er[14]);break;case"s":h="String",d=iZ(t.v||"");break}var f=wf(n.cellXfs,t,n);o["ss:StyleID"]="s"+(21+f),o["ss:Index"]=s.c+1;var p=t.v!=null?d:"",m=t.t=="z"?"":'<Data ss:Type="'+h+'">'+p+"</Data>";return(t.c||[]).length>0&&(m+=Ule(t.c)),gt("Cell",m,o)}function Vle(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=wd(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function zle(t,e,r,n){if(!t["!ref"])return"";var a=zr(t["!ref"]),i=t["!merges"]||[],s=0,o=[];t["!cols"]&&t["!cols"].forEach(function(_,x){cf(_);var T=!!_.width,b=r_(x,_),I={"ss:Index":x+1};T&&(I["ss:Width"]=Yp(b.width)),_.hidden&&(I["ss:Hidden"]="1"),o.push(gt("Column",null,I))});for(var l=Array.isArray(t),c=a.s.r;c<=a.e.r;++c){for(var u=[Vle(c,(t["!rows"]||[])[c])],h=a.s.c;h<=a.e.c;++h){var d=!1;for(s=0;s!=i.length;++s)if(!(i[s].s.c>h)&&!(i[s].s.r>c)&&!(i[s].e.c<h)&&!(i[s].e.r<c)){(i[s].s.c!=h||i[s].s.r!=c)&&(d=!0);break}if(!d){var f={r:c,c:h},p=nr(f),m=l?(t[c]||[])[h]:t[p];u.push(jle(m,p,t,e,r,n,f))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function qle(t,e,r){var n=[],a=r.SheetNames[t],i=r.Sheets[a],s=i?Mle(i,e,t,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=i?zle(i,e,t,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(Ble(i,e,t,r)),n.join("")}function Hle(t,e){e||(e={}),t.SSF||(t.SSF=Mn(er)),t.SSF&&(zd(),Kx(t.SSF),e.revssf=Qx(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],wf(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Dle(t,e)),r.push(Ple()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(gt("Worksheet",qle(n,e,t),{"ss:Name":an(t.SheetNames[n])}));return r[2]=Ole(t,e),r[3]=Fle(t),xa+gt("Workbook",r.join(""),{xmlns:Ds.ss,"xmlns:o":Ds.o,"xmlns:x":Ds.x,"xmlns:ss":Ds.ss,"xmlns:dt":Ds.dt,"xmlns:html":Ds.html})}function Gle(t){var e={},r=t.content;if(r.l=28,e.AnsiUserType=r.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=FZ(r),r.length-r.l<=4)return e;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,e.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=MZ(r),n=r.read_shift(4),n==0||n>40))return e;r.l-=4,e.Reserved2=r.read_shift(0,"lpwstr")}var Wle=[60,1084,2066,2165,2175];function $le(t,e,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var l=dc(r,r.l),c=Yw[l],u=0;c!=null&&Wle.indexOf(l)>-1;)i=dc(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+i),s.push(o),r.l+=4+i,c=Yw[l=dc(r,r.l)];var h=Xa(s);ai(h,0);var d=0;h.lens=[];for(var f=0;f<s.length;++f)h.lens.push(d),d+=s[f].length;if(h.length<n)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+h.length+" < "+n;return e.f(h,h.length,a)}function ml(t,e,r){if(t.t!=="z"&&t.XF){var n=0;try{n=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=er[n])}catch(i){if(e.WTF)throw i}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||jc[t.v]:n===0||n=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Hp(t.v):t.w=_h(t.v):t.w=Io(n,t.v,{date1904:!!r,dateNF:e&&e.dateNF})}catch(i){if(e.WTF)throw i}if(e.cellDates&&n&&t.t=="n"&&Vd(er[n]||String(n))){var a=zf(t.v);a&&(t.t="d",t.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Yg(t,e,r){return{v:t,ixfe:e,t:r}}function Xle(t,e){var r={opts:{}},n={},a=e.dense?[]:{},i={},s={},o=null,l=[],c="",u={},h,d="",f,p,m,_,x={},T=[],b,I,j=[],O=[],N={Sheets:[],WBProps:{date1904:!1},Views:[{}]},A={},y=function(lt){return lt<8?Jf[lt]:lt<64&&O[lt-8]||Jf[lt]},R=function(lt,ct,Ft){var bt=ct.XF.data;if(!(!bt||!bt.patternType||!Ft||!Ft.cellStyles)){ct.s={},ct.s.patternType=bt.patternType;var Nt;(Nt=Kp(y(bt.icvFore)))&&(ct.s.fgColor={rgb:Nt}),(Nt=Kp(y(bt.icvBack)))&&(ct.s.bgColor={rgb:Nt})}},S=function(lt,ct,Ft){if(!(Ee>1)&&!(Ft.sheetRows&&lt.r>=Ft.sheetRows)){if(Ft.cellStyles&&ct.XF&&ct.XF.data&&R(lt,ct,Ft),delete ct.ixfe,delete ct.XF,h=lt,d=nr(lt),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),lt.r<s.s.r&&(s.s.r=lt.r),lt.c<s.s.c&&(s.s.c=lt.c),lt.r+1>s.e.r&&(s.e.r=lt.r+1),lt.c+1>s.e.c&&(s.e.c=lt.c+1),Ft.cellFormula&&ct.f){for(var bt=0;bt<T.length;++bt)if(!(T[bt][0].s.c>lt.c||T[bt][0].s.r>lt.r)&&!(T[bt][0].e.c<lt.c||T[bt][0].e.r<lt.r)){ct.F=pr(T[bt][0]),(T[bt][0].s.c!=lt.c||T[bt][0].s.r!=lt.r)&&delete ct.f,ct.f&&(ct.f=""+Si(T[bt][1],s,lt,W,k));break}}Ft.dense?(a[lt.r]||(a[lt.r]=[]),a[lt.r][lt.c]=ct):a[d]=ct}},k={enc:!1,sbcch:0,snames:[],sharedf:x,arrayf:T,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(k.password=e.password);var C,H=[],X=[],V=[],q=[],re=!1,W=[];W.SheetNames=k.snames,W.sharedf=k.sharedf,W.arrayf=k.arrayf,W.names=[],W.XTI=[];var me=0,Ee=0,D=0,F=[],U=[],M;k.codepage=1200,Wo(1200);for(var Y=!1;t.l<t.length-1;){var se=t.l,he=t.read_shift(2);if(he===0&&me===10)break;var fe=t.l===t.length?0:t.read_shift(2),ve=Yw[he];if(ve&&ve.f){if(e.bookSheets&&me===133&&he!==133)break;if(me=he,ve.r===2||ve.r==12){var ke=t.read_shift(2);if(fe-=2,!k.enc&&ke!==he&&((ke&255)<<8|ke>>8)!==he)throw new Error("rt mismatch: "+ke+"!="+he);ve.r==12&&(t.l+=10,fe-=10)}var ne={};if(he===10?ne=ve.f(t,fe,k):ne=$le(he,ve,t,fe,k),Ee==0&&[9,521,1033,2057].indexOf(me)===-1)continue;switch(he){case 34:r.opts.Date1904=N.WBProps.date1904=ne;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(k.enc||(t.l=0),k.enc=ne,!e.password)throw new Error("File is password-protected");if(ne.valid==null)throw new Error("Encryption scheme unsupported");if(!ne.valid)throw new Error("Password is incorrect");break;case 92:k.lastuser=ne;break;case 66:var be=Number(ne);switch(be){case 21010:be=1200;break;case 32768:be=1e4;break;case 32769:be=1252;break}Wo(k.codepage=be),Y=!0;break;case 317:k.rrtabid=ne;break;case 25:k.winlocked=ne;break;case 439:r.opts.RefreshAll=ne;break;case 12:r.opts.CalcCount=ne;break;case 16:r.opts.CalcDelta=ne;break;case 17:r.opts.CalcIter=ne;break;case 13:r.opts.CalcMode=ne;break;case 14:r.opts.CalcPrecision=ne;break;case 95:r.opts.CalcSaveRecalc=ne;break;case 15:k.CalcRefMode=ne;break;case 2211:r.opts.FullCalc=ne;break;case 129:ne.fDialog&&(a["!type"]="dialog"),ne.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),ne.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:j.push(ne);break;case 430:W.push([ne]),W[W.length-1].XTI=[];break;case 35:case 547:W[W.length-1].push(ne);break;case 24:case 536:M={Name:ne.Name,Ref:Si(ne.rgce,s,null,W,k)},ne.itab>0&&(M.Sheet=ne.itab-1),W.names.push(M),W[0]||(W[0]=[],W[0].XTI=[]),W[W.length-1].push(ne),ne.Name=="_xlnm._FilterDatabase"&&ne.itab>0&&ne.rgce&&ne.rgce[0]&&ne.rgce[0][0]&&ne.rgce[0][0][0]=="PtgArea3d"&&(U[ne.itab-1]={ref:pr(ne.rgce[0][0][1][2])});break;case 22:k.ExternCount=ne;break;case 23:W.length==0&&(W[0]=[],W[0].XTI=[]),W[W.length-1].XTI=W[W.length-1].XTI.concat(ne),W.XTI=W.XTI.concat(ne);break;case 2196:if(k.biff<8)break;M!=null&&(M.Comment=ne[1]);break;case 18:a["!protect"]=ne;break;case 19:ne!==0&&k.WTF&&console.error("Password verifier: "+ne);break;case 133:i[ne.pos]=ne,k.snames.push(ne.name);break;case 10:{if(--Ee)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=pr(s),e.sheetRows&&e.sheetRows<=s.e.r){var Me=s.e.r;s.e.r=e.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=pr(s),s.e.r=Me}s.e.r++,s.e.c++}H.length>0&&(a["!merges"]=H),X.length>0&&(a["!objects"]=X),V.length>0&&(a["!cols"]=V),q.length>0&&(a["!rows"]=q),N.Sheets.push(A)}c===""?u=a:n[c]=a,a=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(k.biff===8&&(k.biff={9:2,521:3,1033:4}[he]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ne.BIFFVer]||8),k.biffguess=ne.BIFFVer==0,ne.BIFFVer==0&&ne.dt==4096&&(k.biff=5,Y=!0,Wo(k.codepage=28591)),k.biff==8&&ne.BIFFVer==0&&ne.dt==16&&(k.biff=2),Ee++)break;if(a=e.dense?[]:{},k.biff<8&&!Y&&(Y=!0,Wo(k.codepage=e.codepage||1252)),k.biff<5||ne.BIFFVer==0&&ne.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var J={pos:t.l-fe,name:c};i[J.pos]=J,k.snames.push(c)}else c=(i[se]||{name:""}).name;ne.dt==32&&(a["!type"]="chart"),ne.dt==64&&(a["!type"]="macro"),H=[],X=[],k.arrayf=T=[],V=[],q=[],re=!1,A={Hidden:(i[se]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(e.dense?(a[ne.r]||[])[ne.c]:a[nr({c:ne.c,r:ne.r})])&&++ne.c,b={ixfe:ne.ixfe,XF:j[ne.ixfe]||{},v:ne.val,t:"n"},D>0&&(b.z=F[b.ixfe>>8&63]),ml(b,e,r.opts.Date1904),S({c:ne.c,r:ne.r},b,e);break;case 5:case 517:b={ixfe:ne.ixfe,XF:j[ne.ixfe],v:ne.val,t:ne.t},D>0&&(b.z=F[b.ixfe>>8&63]),ml(b,e,r.opts.Date1904),S({c:ne.c,r:ne.r},b,e);break;case 638:b={ixfe:ne.ixfe,XF:j[ne.ixfe],v:ne.rknum,t:"n"},D>0&&(b.z=F[b.ixfe>>8&63]),ml(b,e,r.opts.Date1904),S({c:ne.c,r:ne.r},b,e);break;case 189:for(var Ie=ne.c;Ie<=ne.C;++Ie){var Re=ne.rkrec[Ie-ne.c][0];b={ixfe:Re,XF:j[Re],v:ne.rkrec[Ie-ne.c][1],t:"n"},D>0&&(b.z=F[b.ixfe>>8&63]),ml(b,e,r.opts.Date1904),S({c:Ie,r:ne.r},b,e)}break;case 6:case 518:case 1030:{if(ne.val=="String"){o=ne;break}if(b=Yg(ne.val,ne.cell.ixfe,ne.tt),b.XF=j[b.ixfe],e.cellFormula){var De=ne.formula;if(De&&De[0]&&De[0][0]&&De[0][0][0]=="PtgExp"){var Te=De[0][0][1][0],Qe=De[0][0][1][1],Ye=nr({r:Te,c:Qe});x[Ye]?b.f=""+Si(ne.formula,s,ne.cell,W,k):b.F=((e.dense?(a[Te]||[])[Qe]:a[Ye])||{}).F}else b.f=""+Si(ne.formula,s,ne.cell,W,k)}D>0&&(b.z=F[b.ixfe>>8&63]),ml(b,e,r.opts.Date1904),S(ne.cell,b,e),o=ne}break;case 7:case 519:if(o)o.val=ne,b=Yg(ne,o.cell.ixfe,"s"),b.XF=j[b.ixfe],e.cellFormula&&(b.f=""+Si(o.formula,s,o.cell,W,k)),D>0&&(b.z=F[b.ixfe>>8&63]),ml(b,e,r.opts.Date1904),S(o.cell,b,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{T.push(ne);var we=nr(ne[0].s);if(f=e.dense?(a[ne[0].s.r]||[])[ne[0].s.c]:a[we],e.cellFormula&&f){if(!o||!we||!f)break;f.f=""+Si(ne[1],s,ne[0],W,k),f.F=pr(ne[0])}}break;case 1212:{if(!e.cellFormula)break;if(d){if(!o)break;x[nr(o.cell)]=ne[0],f=e.dense?(a[o.cell.r]||[])[o.cell.c]:a[nr(o.cell)],(f||{}).f=""+Si(ne[0],s,h,W,k)}}break;case 253:b=Yg(l[ne.isst].t,ne.ixfe,"s"),l[ne.isst].h&&(b.h=l[ne.isst].h),b.XF=j[b.ixfe],D>0&&(b.z=F[b.ixfe>>8&63]),ml(b,e,r.opts.Date1904),S({c:ne.c,r:ne.r},b,e);break;case 513:e.sheetStubs&&(b={ixfe:ne.ixfe,XF:j[ne.ixfe],t:"z"},D>0&&(b.z=F[b.ixfe>>8&63]),ml(b,e,r.opts.Date1904),S({c:ne.c,r:ne.r},b,e));break;case 190:if(e.sheetStubs)for(var qe=ne.c;qe<=ne.C;++qe){var tt=ne.ixfe[qe-ne.c];b={ixfe:tt,XF:j[tt],t:"z"},D>0&&(b.z=F[b.ixfe>>8&63]),ml(b,e,r.opts.Date1904),S({c:qe,r:ne.r},b,e)}break;case 214:case 516:case 4:b=Yg(ne.val,ne.ixfe,"s"),b.XF=j[b.ixfe],D>0&&(b.z=F[b.ixfe>>8&63]),ml(b,e,r.opts.Date1904),S({c:ne.c,r:ne.r},b,e);break;case 0:case 512:Ee===1&&(s=ne);break;case 252:l=ne;break;case 1054:if(k.biff==4){F[D++]=ne[1];for(var at=0;at<D+163&&er[at]!=ne[1];++at);at>=163&&bc(ne[1],D+163)}else bc(ne[1],ne[0]);break;case 30:{F[D++]=ne;for(var Tt=0;Tt<D+163&&er[Tt]!=ne;++Tt);Tt>=163&&bc(ne,D+163)}break;case 229:H=H.concat(ne);break;case 93:X[ne.cmo[0]]=k.lastobj=ne;break;case 438:k.lastobj.TxO=ne;break;case 127:k.lastobj.ImData=ne;break;case 440:for(_=ne[0].s.r;_<=ne[0].e.r;++_)for(m=ne[0].s.c;m<=ne[0].e.c;++m)f=e.dense?(a[_]||[])[m]:a[nr({c:m,r:_})],f&&(f.l=ne[1]);break;case 2048:for(_=ne[0].s.r;_<=ne[0].e.r;++_)for(m=ne[0].s.c;m<=ne[0].e.c;++m)f=e.dense?(a[_]||[])[m]:a[nr({c:m,r:_})],f&&f.l&&(f.l.Tooltip=ne[1]);break;case 28:{if(k.biff<=5&&k.biff>=2)break;f=e.dense?(a[ne[0].r]||[])[ne[0].c]:a[nr(ne[0])];var $t=X[ne[2]];f||(e.dense?(a[ne[0].r]||(a[ne[0].r]=[]),f=a[ne[0].r][ne[0].c]={t:"z"}):f=a[nr(ne[0])]={t:"z"},s.e.r=Math.max(s.e.r,ne[0].r),s.s.r=Math.min(s.s.r,ne[0].r),s.e.c=Math.max(s.e.c,ne[0].c),s.s.c=Math.min(s.s.c,ne[0].c)),f.c||(f.c=[]),p={a:ne[1],t:$t.TxO.t},f.c.push(p)}break;case 2173:One(j[ne.ixfe],ne.ext);break;case 125:{if(!k.cellStyles)break;for(;ne.e>=ne.s;)V[ne.e--]={width:ne.w/256,level:ne.level||0,hidden:!!(ne.flags&1)},re||(re=!0,BE(ne.w/256)),cf(V[ne.e+1])}break;case 520:{var At={};ne.level!=null&&(q[ne.r]=At,At.level=ne.level),ne.hidden&&(q[ne.r]=At,At.hidden=!0),ne.hpt&&(q[ne.r]=At,At.hpt=ne.hpt,At.hpx=wd(ne.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||th(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[he]]=ne;break;case 161:a["!margins"]||th(a["!margins"]={}),a["!margins"].header=ne.header,a["!margins"].footer=ne.footer;break;case 574:ne.RTL&&(N.Views[0].RTL=!0);break;case 146:O=ne;break;case 2198:C=ne;break;case 140:I=ne;break;case 442:c?A.CodeName=ne||A.name:N.WBProps.CodeName=ne||"ThisWorkbook";break}}else ve||console.error("Missing Info for XLS Record 0x"+he.toString(16)),t.l+=fe}return r.SheetNames=aa(i).sort(function(vt,lt){return Number(vt)-Number(lt)}).map(function(vt){return i[vt].name}),e.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&U.forEach(function(vt,lt){r.Sheets[r.SheetNames[lt]]["!autofilter"]=vt}),r.Strings=l,r.SSF=Mn(er),k.enc&&(r.Encryption=k.enc),C&&(r.Themes=C),r.Metadata={},I!==void 0&&(r.Metadata.Country=I),W.names.length>0&&(N.Names=W.names),r.Workbook=N,r}var dp={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Kle(t,e,r){var n=Gt.find(t,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=KC(n,qw,dp.DSI);for(var i in a)e[i]=a[i]}catch(c){if(r.WTF)throw c}var s=Gt.find(t,"/!SummaryInformation");if(s&&s.size>0)try{var o=KC(s,Hw,dp.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(c){if(r.WTF)throw c}e.HeadingPairs&&e.TitlesOfParts&&(MP(e.HeadingPairs,e.TitlesOfParts,e,r),delete e.HeadingPairs,delete e.TitlesOfParts)}function Yle(t,e){var r=[],n=[],a=[],i=0,s,o=SC(qw,"n"),l=SC(Hw,"n");if(t.Props)for(s=aa(t.Props),i=0;i<s.length;++i)(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(l,s[i])?n:a).push([s[i],t.Props[s[i]]]);if(t.Custprops)for(s=aa(t.Custprops),i=0;i<s.length;++i)Object.prototype.hasOwnProperty.call(t.Props||{},s[i])||(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(l,s[i])?n:a).push([s[i],t.Custprops[s[i]]]);var c=[];for(i=0;i<a.length;++i)HP.indexOf(a[i][0])>-1||FP.indexOf(a[i][0])>-1||a[i][1]!=null&&c.push(a[i]);n.length&&Gt.utils.cfb_add(e,"/SummaryInformation",YC(n,dp.SI,l,Hw)),(r.length||c.length)&&Gt.utils.cfb_add(e,"/DocumentSummaryInformation",YC(r,dp.DSI,o,qw,c.length?c:null,dp.UDI))}function UO(t,e){e||(e={}),$E(e),pE(),e.codepage&&dE(e.codepage);var r,n;if(t.FullPaths){if(Gt.find(t,"/encryption"))throw new Error("File is password-protected");r=Gt.find(t,"!CompObj"),n=Gt.find(t,"/Workbook")||Gt.find(t,"/Book")}else{switch(e.type){case"base64":t=Bs(Qs(t));break;case"binary":t=Bs(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}ai(t,0),n={content:t}}var a,i;if(r&&Gle(r),e.bookProps&&!e.bookSheets)a={};else{var s=yr?"buffer":"array";if(n&&n.content)a=Xle(n.content,e);else if((i=Gt.find(t,"PerfectOffice_MAIN"))&&i.content)a=eh.to_workbook(i.content,(e.type=s,e));else if((i=Gt.find(t,"NativeContent_MAIN"))&&i.content)a=eh.to_workbook(i.content,(e.type=s,e));else throw(i=Gt.find(t,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Gt.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=cae(t))}var o={};return t.FullPaths&&Kle(t,o,e),a.Props=a.Custprops=o,e.bookFiles&&(a.cfb=t),a}function Qle(t,e){var r=e||{},n=Gt.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Gt.utils.cfb_add(n,a,jO(t,r)),r.biff==8&&(t.Props||t.Custprops)&&Yle(t,n),r.biff==8&&t.vbaraw&&uae(n,Gt.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var Zp={0:{f:wse},1:{f:Nse},2:{f:Xse},3:{f:Mse},4:{f:Dse},5:{f:Gse},6:{f:Zse},7:{f:Vse},8:{f:soe},9:{f:ioe},10:{f:noe},11:{f:aoe},12:{f:Rse},13:{f:Yse},14:{f:Use},15:{f:Ose},16:{f:RO},17:{f:toe},18:{f:qse},19:{f:kE},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:tle},40:{},42:{},43:{f:Zre},44:{f:Qre},45:{f:rne},46:{f:ane},47:{f:nne},48:{},49:{f:AZ},50:{},51:{f:Bne},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:tO},62:{f:Jse},63:{f:$ne},64:{f:boe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ii,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:xoe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Cse},148:{f:Ase,p:16},151:{f:hoe},152:{},153:{f:Joe},154:{},155:{},156:{f:Yoe},157:{},158:{},159:{T:1,f:pre},160:{T:-1},161:{T:1,f:jh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:ooe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Fne},336:{T:-1},337:{f:Vne,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:zw},357:{},358:{},359:{},360:{T:1},361:{},362:{f:eO},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:doe},427:{f:poe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:goe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Tse},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:uoe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:zw},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:aae},633:{T:1},634:{T:-1},635:{T:1,f:rae},636:{T:-1},637:{f:kZ},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Uoe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Eoe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Yw={6:{f:Xy},10:{f:fu},12:{f:ba},13:{f:ba},14:{f:ua},15:{f:ua},16:{f:Ci},17:{f:ua},18:{f:ua},19:{f:ba},20:{f:rk},21:{f:rk},23:{f:eO},24:{f:ak},25:{f:ua},26:{},27:{},28:{f:Ete},29:{},34:{f:ua},35:{f:nk},38:{f:Ci},39:{f:Ci},40:{f:Ci},41:{f:Ci},42:{f:ua},43:{f:ua},47:{f:Ore},49:{f:Yee},51:{f:ba},60:{},61:{f:Gee},64:{f:ua},65:{f:Kee},66:{f:ba},77:{},80:{},81:{},82:{},85:{f:ba},89:{},90:{},91:{},92:{f:Pee},93:{f:Tte},94:{},95:{f:ua},96:{},97:{},99:{f:ua},125:{f:tO},128:{f:fte},129:{f:Fee},130:{f:ba},131:{f:ua},132:{f:ua},133:{f:Mee},134:{},140:{f:Pte},141:{f:ba},144:{},146:{f:Mte},151:{},152:{},153:{},154:{},155:{},156:{f:ba},157:{},158:{},160:{f:Hte},161:{f:jte},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:ote},190:{f:lte},193:{f:fu},197:{},198:{},199:{},200:{},201:{},202:{f:ua},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ba},220:{},221:{f:ua},222:{},224:{f:ute},225:{f:Dee},226:{f:fu},227:{},229:{f:Ate},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Uee},253:{f:Jee},255:{f:Vee},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:GP},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:ua},353:{f:fu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:gte},431:{f:ua},432:{},433:{},434:{},437:{},438:{f:Nte},439:{f:ua},440:{f:Ite},441:{},442:{f:Bm},443:{},444:{f:ba},445:{},446:{},448:{f:fu},449:{f:Hee,r:2},450:{f:fu},512:{f:ZC},513:{f:qte},515:{f:pte},516:{f:ete},517:{f:tk},519:{f:Gte},520:{f:zee},523:{},545:{f:ik},549:{f:JC},566:{},574:{f:$ee},638:{f:ste},659:{},1048:{},1054:{f:rte},1084:{},1212:{f:yte},2048:{f:Lte},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:$g},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:fu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Bte,r:12},2173:{f:Pne,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:ua,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:_te,r:12},2197:{},2198:{f:kne,r:12},2199:{},2200:{},2201:{},2202:{f:wte,r:12},2203:{f:fu},2204:{},2205:{},2206:{},2207:{},2211:{f:qee},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ba},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Vte},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Fte},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:ZC},1:{},2:{f:Yte},3:{f:Xte},4:{f:$te},5:{f:tk},7:{f:Jte},8:{},9:{f:$g},11:{},22:{f:ba},30:{f:ate},31:{},32:{},33:{f:ik},36:{},37:{f:JC},50:{f:Zte},62:{},52:{},67:{},68:{f:ba},69:{},86:{},126:{},127:{f:Wte},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:ere},223:{},234:{},354:{},421:{},518:{f:Xy},521:{f:$g},536:{f:ak},547:{f:nk},561:{},579:{},1030:{f:Xy},1033:{f:$g},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function xt(t,e,r,n){var a=e;if(!isNaN(a)){var i=n||(r||[]).length||0,s=t.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&SE(r)&&t.push(r)}}function Jle(t,e,r,n){var a=(r||[]).length||0;if(a<=8224)return xt(t,e,r,a);var i=e;if(!isNaN(i)){for(var s=r.parts||[],o=0,l=0,c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;var u=t.next(4);for(u.write_shift(2,i),u.write_shift(2,c),t.push(r.slice(l,l+c)),l+=c;l<a;){for(u=t.next(4),u.write_shift(2,60),c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;u.write_shift(2,c),t.push(r.slice(l,l+c)),l+=c}}}function zm(t,e,r){return t||(t=We(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function Zle(t,e,r,n){var a=We(9);return zm(a,t,e),WP(r,n||"b",a),a}function ece(t,e,r){var n=We(8+2*r.length);return zm(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function tce(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var a=e.t=="d"?Ua(Fn(e.v)):e.v;a==(a|0)&&a>=0&&a<65536?xt(t,2,Qte(r,n,a)):xt(t,3,Kte(r,n,a));return;case"b":case"e":xt(t,5,Zle(r,n,e.v,e.t));return;case"s":case"str":xt(t,4,ece(r,n,(e.v||"").slice(0,255)));return}xt(t,1,zm(null,r,n))}function rce(t,e,r,n){var a=Array.isArray(e),i=zr(e["!ref"]||"A1"),s,o="",l=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),s=pr(i)}for(var c=i.s.r;c<=i.e.r;++c){o=va(c);for(var u=i.s.c;u<=i.e.c;++u){c===i.s.r&&(l[u]=qn(u)),s=l[u]+o;var h=a?(e[c]||[])[u]:e[s];h&&tce(t,h,c,u)}}}function nce(t,e){for(var r=e||{},n=ps(),a=0,i=0;i<t.SheetNames.length;++i)t.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return xt(n,r.biff==4?1033:r.biff==3?521:9,OE(t,16,r)),rce(n,t.Sheets[t.SheetNames[a]],a,r),xt(n,10),n.end()}function ace(t,e,r){xt(t,49,Qee({sz:12,name:"Arial"},r))}function ice(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&xt(t,1054,nte(a,e[a],r))})}function sce(t,e){var r=We(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),xt(t,2151,r),r=We(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),QP(zr(e["!ref"]||"A1"),r),r.write_shift(4,4),xt(t,2152,r)}function oce(t,e){for(var r=0;r<16;++r)xt(t,224,ek({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){xt(t,224,ek(n,0,e))})}function lce(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];xt(t,440,Rte(n)),n[1].Tooltip&&xt(t,2048,Dte(n))}delete e["!links"]}function cce(t,e){if(e){var r=0;e.forEach(function(n,a){++r<=256&&n&&xt(t,125,Ute(r_(a,n),a))})}}function uce(t,e,r,n,a){var i=16+wf(a.cellXfs,e,a);if(e.v==null&&!e.bf){xt(t,513,Eh(r,n,i));return}if(e.bf)xt(t,6,Fie(e,r,n,a,i));else switch(e.t){case"d":case"n":var s=e.t=="d"?Ua(Fn(e.v)):e.v;xt(t,515,mte(r,n,s,i));break;case"b":case"e":xt(t,517,dte(r,n,e.v,i,a,e.t));break;case"s":case"str":if(a.bookSST){var o=qE(a.Strings,e.v,a.revStrings);xt(t,253,Zee(r,n,o,i))}else xt(t,516,tte(r,n,(e.v||"").slice(0,255),i,a));break;default:xt(t,513,Eh(r,n,i))}}function fce(t,e,r){var n=ps(),a=r.SheetNames[t],i=r.Sheets[a]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[t]||{},l=Array.isArray(i),c=e.biff==8,u,h="",d=[],f=zr(i["!ref"]||"A1"),p=c?65536:16384;if(f.e.c>255||f.e.r>=p){if(e.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");f.e.c=Math.min(f.e.c,255),f.e.r=Math.min(f.e.c,p-1)}xt(n,2057,OE(r,16,e)),xt(n,13,vo(1)),xt(n,12,vo(100)),xt(n,15,Gi(!0)),xt(n,17,Gi(!1)),xt(n,16,wh(.001)),xt(n,95,Gi(!0)),xt(n,42,Gi(!1)),xt(n,43,Gi(!1)),xt(n,130,vo(1)),xt(n,128,hte()),xt(n,131,Gi(!1)),xt(n,132,Gi(!1)),c&&cce(n,i["!cols"]),xt(n,512,ite(f,e)),c&&(i["!links"]=[]);for(var m=f.s.r;m<=f.e.r;++m){h=va(m);for(var _=f.s.c;_<=f.e.c;++_){m===f.s.r&&(d[_]=qn(_)),u=d[_]+h;var x=l?(i[m]||[])[_]:i[u];x&&(uce(n,x,m,_,e),c&&x.l&&i["!links"].push([u,x.l]))}}var T=o.CodeName||o.name||a;return c&&xt(n,574,Xee((s.Views||[])[0])),c&&(i["!merges"]||[]).length&&xt(n,229,Ste(i["!merges"])),c&&lce(n,i),xt(n,442,$P(T)),c&&sce(n,i),xt(n,10),n.end()}function hce(t,e,r){var n=ps(),a=(t||{}).Workbook||{},i=a.Sheets||[],s=a.WBProps||{},o=r.biff==8,l=r.biff==5;if(xt(n,2057,OE(t,5,r)),r.bookType=="xla"&&xt(n,135),xt(n,225,o?vo(1200):null),xt(n,193,dee(2)),l&&xt(n,191),l&&xt(n,192),xt(n,226),xt(n,92,Oee("SheetJS",r)),xt(n,66,vo(o?1200:1252)),o&&xt(n,353,vo(0)),o&&xt(n,448),xt(n,317,zte(t.SheetNames.length)),o&&t.vbaraw&&xt(n,211),o&&t.vbaraw){var c=s.CodeName||"ThisWorkbook";xt(n,442,$P(c))}xt(n,156,vo(17)),xt(n,25,Gi(!1)),xt(n,18,Gi(!1)),xt(n,19,vo(0)),o&&xt(n,431,Gi(!1)),o&&xt(n,444,vo(0)),xt(n,61,Wee()),xt(n,64,Gi(!1)),xt(n,141,vo(0)),xt(n,34,Gi(Hoe(t)=="true")),xt(n,14,Gi(!0)),o&&xt(n,439,Gi(!1)),xt(n,218,vo(0)),ace(n,t,r),ice(n,t.SSF,r),oce(n,r),o&&xt(n,352,Gi(!1));var u=n.end(),h=ps();o&&xt(h,140,Ote()),o&&r.Strings&&Jle(h,252,jee(r.Strings)),xt(h,10);var d=h.end(),f=ps(),p=0,m=0;for(m=0;m<t.SheetNames.length;++m)p+=(o?12:11)+(o?2:1)*t.SheetNames[m].length;var _=u.length+p+d.length;for(m=0;m<t.SheetNames.length;++m){var x=i[m]||{};xt(f,133,Bee({pos:_,hs:x.Hidden||0,dt:0,name:t.SheetNames[m]},r)),_+=e[m].length}var T=f.end();if(p!=T.length)throw new Error("BS8 "+p+" != "+T.length);var b=[];return u.length&&b.push(u),T.length&&b.push(T),d.length&&b.push(d),Xa(b)}function dce(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=Mn(er)),t&&t.SSF&&(zd(),Kx(t.SSF),r.revssf=Qx(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,XE(r),r.cellXfs=[],wf(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var a=0;a<t.SheetNames.length;++a)n[n.length]=fce(a,r,t);return n.unshift(hce(t,n,r)),Xa(n)}function jO(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var a=gs(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=e||{};switch(i.biff||2){case 8:case 5:return dce(t,e);case 4:case 3:case 2:return nce(t,e)}throw new Error("invalid type "+i.bookType+" for BIFF")}function mk(t,e){var r=e||{},n=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var a=t.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=t.match(/<\/table/i),s=a.index,o=i&&i.index||t.length,l=QJ(t.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,h=0,d=0,f={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(s=0;s<l.length;++s){var m=l[s].trim(),_=m.slice(0,3).toLowerCase();if(_=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(_!="<td"&&_!="<th")){var x=m.split(/<\/t[dh]>/i);for(o=0;o<x.length;++o){var T=x[o].trim();if(T.match(/<t[dh]/i)){for(var b=T,I=0;b.charAt(0)=="<"&&(I=b.indexOf(">"))>-1;)b=b.slice(I+1);for(var j=0;j<p.length;++j){var O=p[j];O.s.c==u&&O.s.r<c&&c<=O.e.r&&(u=O.e.c+1,j=-1)}var N=ar(T.slice(0,T.indexOf(">")));d=N.colspan?+N.colspan:1,((h=+N.rowspan)>1||d>1)&&p.push({s:{r:c,c:u},e:{r:c+(h||1)-1,c:u+d-1}});var A=N.t||N["data-t"]||"";if(!b.length){u+=d;continue}if(b=uP(b),f.s.r>c&&(f.s.r=c),f.e.r<c&&(f.e.r=c),f.s.c>u&&(f.s.c=u),f.e.c<u&&(f.e.c=u),!b.length){u+=d;continue}var y={t:"s",v:b};r.raw||!b.trim().length||A=="s"||(b==="TRUE"?y={t:"b",v:!0}:b==="FALSE"?y={t:"b",v:!1}:isNaN(Ko(b))?isNaN(_d(b).getDate())||(y={t:"d",v:Fn(b)},r.cellDates||(y={t:"n",v:Ua(y.v)}),y.z=r.dateNF||er[14]):y={t:"n",v:Ko(b)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=y):n[nr({r:c,c:u})]=y,u+=d}}}}return n["!ref"]=pr(f),p.length&&(n["!merges"]=p),n}function pce(t,e,r,n){for(var a=t["!merges"]||[],i=[],s=e.s.c;s<=e.e.c;++s){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>s)&&!(a[c].e.r<r||a[c].e.c<s)){if(a[c].s.r<r||a[c].s.c<s){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var u=nr({r,c:s}),h=n.dense?(t[r]||[])[s]:t[u],d=h&&h.v!=null&&(h.h||bE(h.w||(Pc(h),h.w)||""))||"",f={};o>1&&(f.rowspan=o),l>1&&(f.colspan=l),n.editable?d='<span contenteditable="true">'+d+"</span>":h&&(f["data-t"]=h&&h.t||"z",h.v!=null&&(f["data-v"]=h.v),h.z!=null&&(f["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(d='<a href="'+h.l.Target+'">'+d+"</a>")),f.id=(n.id||"sjs")+"-"+u,i.push(gt("td",d,f))}}var p="<tr>";return p+i.join("")+"</tr>"}var mce='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',gce="</body></html>";function vce(t,e){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return yf(mk(r[0],e),e);var n=QE();return r.forEach(function(a,i){JE(n,mk(a,e),"Sheet"+(i+1))}),n}function xce(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function VO(t,e){var r=e||{},n=r.header!=null?r.header:mce,a=r.footer!=null?r.footer:gce,i=[n],s=gs(t["!ref"]);r.dense=Array.isArray(t),i.push(xce(t,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(pce(t,s,o,r));return i.push("</table>"+a),i.join("")}function zO(t,e,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?Hn(n.origin):n.origin;a=s.r,i=s.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(t["!ref"]){var u=gs(t["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),a==-1&&(c.e.r=a=u.e.r+1)}var h=[],d=0,f=t["!rows"]||(t["!rows"]=[]),p=0,m=0,_=0,x=0,T=0,b=0;for(t["!cols"]||(t["!cols"]=[]);p<o.length&&m<l;++p){var I=o[p];if(gk(I)){if(n.display)continue;f[m]={hidden:!0}}var j=I.children;for(_=x=0;_<j.length;++_){var O=j[_];if(!(n.display&&gk(O))){var N=O.hasAttribute("data-v")?O.getAttribute("data-v"):O.hasAttribute("v")?O.getAttribute("v"):uP(O.innerHTML),A=O.getAttribute("data-z")||O.getAttribute("z");for(d=0;d<h.length;++d){var y=h[d];y.s.c==x+i&&y.s.r<m+a&&m+a<=y.e.r&&(x=y.e.c+1-i,d=-1)}b=+O.getAttribute("colspan")||1,((T=+O.getAttribute("rowspan")||1)>1||b>1)&&h.push({s:{r:m+a,c:x+i},e:{r:m+a+(T||1)-1,c:x+i+(b||1)-1}});var R={t:"s",v:N},S=O.getAttribute("data-t")||O.getAttribute("t")||"";N!=null&&(N.length==0?R.t=S||"z":n.raw||N.trim().length==0||S=="s"||(N==="TRUE"?R={t:"b",v:!0}:N==="FALSE"?R={t:"b",v:!1}:isNaN(Ko(N))?isNaN(_d(N).getDate())||(R={t:"d",v:Fn(N)},n.cellDates||(R={t:"n",v:Ua(R.v)}),R.z=n.dateNF||er[14]):R={t:"n",v:Ko(N)})),R.z===void 0&&A!=null&&(R.z=A);var k="",C=O.getElementsByTagName("A");if(C&&C.length)for(var H=0;H<C.length&&!(C[H].hasAttribute("href")&&(k=C[H].getAttribute("href"),k.charAt(0)!="#"));++H);k&&k.charAt(0)!="#"&&(R.l={Target:k}),n.dense?(t[m+a]||(t[m+a]=[]),t[m+a][x+i]=R):t[nr({c:x+i,r:m+a})]=R,c.e.c<x+i&&(c.e.c=x+i),x+=b}}++m}return h.length&&(t["!merges"]=(t["!merges"]||[]).concat(h)),c.e.r=Math.max(c.e.r,m-1+a),t["!ref"]=pr(c),m>=l&&(t["!fullref"]=pr((c.e.r=o.length-p+m-1+a,c))),t}function qO(t,e){var r=e||{},n=r.dense?[]:{};return zO(n,t,e)}function _ce(t,e){return yf(qO(t,e),e)}function gk(t){var e="",r=yce(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function yce(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function wce(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Vr(e.replace(/<[^>]*>/g,""));return[r]}var vk={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function HO(t,e){var r=e||{},n=EE(t),a=[],i,s,o={name:""},l="",c=0,u,h,d={},f=[],p=r.dense?[]:{},m,_,x={value:""},T="",b=0,I=[],j=-1,O=-1,N={s:{r:1e6,c:1e7},e:{r:0,c:0}},A=0,y={},R=[],S={},k=0,C=0,H=[],X=1,V=1,q=[],re={Names:[]},W={},me=["",""],Ee=[],D={},F="",U=0,M=!1,Y=!1,se=0;for($p.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");m=$p.exec(n);)switch(m[3]=m[3].replace(/_.*$/,"")){case"table":case"":m[1]==="/"?(N.e.c>=N.s.c&&N.e.r>=N.s.r?p["!ref"]=pr(N):p["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=N.e.r&&(p["!fullref"]=p["!ref"],N.e.r=r.sheetRows-1,p["!ref"]=pr(N)),R.length&&(p["!merges"]=R),H.length&&(p["!rows"]=H),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),f.push(u.name),d[u.name]=p,Y=!1):m[0].charAt(m[0].length-2)!=="/"&&(u=ar(m[0],!1),j=O=-1,N.s.r=N.s.c=1e7,N.e.r=N.e.c=0,p=r.dense?[]:{},R=[],H=[],Y=!0);break;case"table-row-group":m[1]==="/"?--A:++A;break;case"table-row":case"":if(m[1]==="/"){j+=X,X=1;break}if(h=ar(m[0],!1),h.?j=h.-1:j==-1&&(j=0),X=+h["number-rows-repeated"]||1,X<10)for(se=0;se<X;++se)A>0&&(H[j+se]={level:A});O=-1;break;case"covered-table-cell":m[1]!=="/"&&++O,r.sheetStubs&&(r.dense?(p[j]||(p[j]=[]),p[j][O]={t:"z"}):p[nr({r:j,c:O})]={t:"z"}),T="",I=[];break;case"table-cell":case"":if(m[0].charAt(m[0].length-2)==="/")++O,x=ar(m[0],!1),V=parseInt(x["number-columns-repeated"]||"1",10),_={t:"z",v:null},x.formula&&r.cellFormula!=!1&&(_.f=hk(Vr(x.formula))),(x.||x["value-type"])=="string"&&(_.t="s",_.v=Vr(x["string-value"]||""),r.dense?(p[j]||(p[j]=[]),p[j][O]=_):p[nr({r:j,c:O})]=_),O+=V-1;else if(m[1]!=="/"){++O,T="",b=0,I=[],V=1;var he=X?j+X-1:j;if(O>N.e.c&&(N.e.c=O),O<N.s.c&&(N.s.c=O),j<N.s.r&&(N.s.r=j),he>N.e.r&&(N.e.r=he),x=ar(m[0],!1),Ee=[],D={},_={t:x.||x["value-type"],v:null},r.cellFormula)if(x.formula&&(x.formula=Vr(x.formula)),x["number-matrix-columns-spanned"]&&x["number-matrix-rows-spanned"]&&(k=parseInt(x["number-matrix-rows-spanned"],10)||0,C=parseInt(x["number-matrix-columns-spanned"],10)||0,S={s:{r:j,c:O},e:{r:j+k-1,c:O+C-1}},_.F=pr(S),q.push([S,_.F])),x.formula)_.f=hk(x.formula);else for(se=0;se<q.length;++se)j>=q[se][0].s.r&&j<=q[se][0].e.r&&O>=q[se][0].s.c&&O<=q[se][0].e.c&&(_.F=q[se][1]);switch((x["number-columns-spanned"]||x["number-rows-spanned"])&&(k=parseInt(x["number-rows-spanned"],10)||0,C=parseInt(x["number-columns-spanned"],10)||0,S={s:{r:j,c:O},e:{r:j+k-1,c:O+C-1}},R.push(S)),x["number-columns-repeated"]&&(V=parseInt(x["number-columns-repeated"],10)),_.t){case"boolean":_.t="b",_.v=Ln(x["boolean-value"]);break;case"float":_.t="n",_.v=parseFloat(x.value);break;case"percentage":_.t="n",_.v=parseFloat(x.value);break;case"currency":_.t="n",_.v=parseFloat(x.value);break;case"date":_.t="d",_.v=Fn(x["date-value"]),r.cellDates||(_.t="n",_.v=Ua(_.v)),_.z="m/d/yy";break;case"time":_.t="n",_.v=XJ(x["time-value"])/86400,r.cellDates&&(_.t="d",_.v=Jx(_.v)),_.z="HH:MM:SS";break;case"number":_.t="n",_.v=parseFloat(x.);break;default:if(_.t==="string"||_.t==="text"||!_.t)_.t="s",x["string-value"]!=null&&(T=Vr(x["string-value"]),I=[]);else throw new Error("Unsupported value type "+_.t)}}else{if(M=!1,_.t==="s"&&(_.v=T||"",I.length&&(_.R=I),M=b==0),W.Target&&(_.l=W),Ee.length>0&&(_.c=Ee,Ee=[]),T&&r.cellText!==!1&&(_.w=T),M&&(_.t="z",delete _.v),(!M||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=j))for(var fe=0;fe<X;++fe){if(V=parseInt(x["number-columns-repeated"]||"1",10),r.dense)for(p[j+fe]||(p[j+fe]=[]),p[j+fe][O]=fe==0?_:Mn(_);--V>0;)p[j+fe][O+V]=Mn(_);else for(p[nr({r:j+fe,c:O})]=_;--V>0;)p[nr({r:j+fe,c:O+V})]=Mn(_);N.e.c<=O&&(N.e.c=O)}V=parseInt(x["number-columns-repeated"]||"1",10),O+=V-1,V=0,_={},T="",I=[]}W={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i;D.t=T,I.length&&(D.R=I),D.a=F,Ee.push(D)}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);F="",U=0,T="",b=0,I=[];break;case"creator":m[1]==="/"?F=n.slice(U,m.index):U=m.index+m[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);T="",b=0,I=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){if(y[o.name]=l,(i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&(l="",o=ar(m[0],!1),a.push([m[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=ar(m[0],!1),l+=vk[m[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=ar(m[0],!1),l+=vk[m[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,m.index);break}else c=m.index+m[0].length;break;case"named-range":s=ar(m[0],!1),me=Ky(s["cell-range-address"]);var ve={Name:s.name,Ref:me[0]+"!"+me[1]};Y&&(ve.Sheet=f.length),re.Names.push(ve);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(m[1]==="/"&&(!x||!x["string-value"])){var ke=wce(n.slice(b,m.index));T=(T.length>0?T+`
`:"")+ke[0]}else ar(m[0],!1),b=m.index+m[0].length;break;case"s":break;case"database-range":if(m[1]==="/")break;try{me=Ky(ar(m[0])["target-range-address"]),d[me[0]]["!autofilter"]={ref:me[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(W=ar(m[0],!1),!W.href)break;W.Target=Vr(W.href),delete W.href,W.Target.charAt(0)=="#"&&W.Target.indexOf(".")>-1?(me=Ky(W.Target.slice(1)),W.Target="#"+me[0]+"!"+me[1]):W.Target.match(/^\.\.[\\\/]/)&&(W.Target=W.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(m)}}var ne={Sheets:d,SheetNames:f,Workbook:re};return r.bookSheets&&delete ne.Sheets,ne}function xk(t,e){e=e||{},mo(t,"META-INF/manifest.xml")&&XZ(wa(t,"META-INF/manifest.xml"),e);var r=Us(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=HO(un(r),e);return mo(t,"meta.xml")&&(n.Props=PP(wa(t,"meta.xml"))),n}function _k(t,e){return HO(t,e)}var bce=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Wp({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return xa+e}}(),yk=function(){var t=function(i){return an(i).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,s,o){var l=[];l.push('      <table:table table:name="'+an(s.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,u=0,h=gs(i["!ref"]||"A1"),d=i["!merges"]||[],f=0,p=Array.isArray(i);if(i["!cols"])for(u=0;u<=h.e.c;++u)l.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var m="",_=i["!rows"]||[];for(c=0;c<h.s.r;++c)m=_[c]?' table:style-name="ro'+_[c].ods+'"':"",l.push("        <table:table-row"+m+`></table:table-row>
`);for(;c<=h.e.r;++c){for(m=_[c]?' table:style-name="ro'+_[c].ods+'"':"",l.push("        <table:table-row"+m+`>
`),u=0;u<h.s.c;++u)l.push(e);for(;u<=h.e.c;++u){var x=!1,T={},b="";for(f=0;f!=d.length;++f)if(!(d[f].s.c>u)&&!(d[f].s.r>c)&&!(d[f].e.c<u)&&!(d[f].e.r<c)){(d[f].s.c!=u||d[f].s.r!=c)&&(x=!0),T["table:number-columns-spanned"]=d[f].e.c-d[f].s.c+1,T["table:number-rows-spanned"]=d[f].e.r-d[f].s.r+1;break}if(x){l.push(r);continue}var I=nr({r:c,c:u}),j=p?(i[c]||[])[u]:i[I];if(j&&j.f&&(T["table:formula"]=an(zie(j.f)),j.F&&j.F.slice(0,I.length)==I)){var O=gs(j.F);T["table:number-matrix-columns-spanned"]=O.e.c-O.s.c+1,T["table:number-matrix-rows-spanned"]=O.e.r-O.s.r+1}if(!j){l.push(e);continue}switch(j.t){case"b":b=j.v?"TRUE":"FALSE",T["office:value-type"]="boolean",T["office:boolean-value"]=j.v?"true":"false";break;case"n":b=j.w||String(j.v||0),T["office:value-type"]="float",T["office:value"]=j.v||0;break;case"s":case"str":b=j.v==null?"":j.v,T["office:value-type"]="string";break;case"d":b=j.w||Fn(j.v).toISOString(),T["office:value-type"]="date",T["office:date-value"]=Fn(j.v).toISOString(),T["table:style-name"]="ce1";break;default:l.push(e);continue}var N=t(b);if(j.l&&j.l.Target){var A=j.l.Target;A=A.charAt(0)=="#"?"#"+qie(A.slice(1)):A,A.charAt(0)!="#"&&!A.match(/^\w+:/)&&(A="../"+A),N=gt("text:a",N,{"xlink:href":A.replace(/&/g,"&amp;")})}l.push("          "+gt("table:table-cell",gt("text:p",N,{}),T)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},a=function(i,s){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var h=c["!cols"][u];if(h.width==null&&h.wpx==null&&h.wch==null)continue;cf(h),h.ods=o;var d=c["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+d+`"/>
`),i.push(`  </style:style>
`),++o}}});var l=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var h=c["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),i.push(`  </style:style>
`),++l}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(s,o){var l=[xa],c=Wp({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=Wp({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(DP().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),a(l,s),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var h=0;h!=s.SheetNames.length;++h)l.push(n(s.Sheets[s.SheetNames[h]],s,h));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function GO(t,e){if(e.bookType=="fods")return yk(t,e);var r=_E(),n="",a=[],i=[];return n="mimetype",vr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",vr(r,n,yk(t,e)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",vr(r,n,bce(t,e)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",vr(r,n,xa+DP()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",vr(r,n,QZ(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",vr(r,n,KZ(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Ah(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Qw(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):un(_f(t))}function Ece(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Bs(Tl(t))}function Ace(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function ff(t){var e=t.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(a){r.set(a,n),n+=a.length}),r}function wk(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function Sce(t,e){for(var r=(t[e+15]&127)<<7|t[e+14]>>1,n=t[e+14]&1,a=e+13;a>=e;--a)n=n*256+t[a];return(t[e+15]&128?-n:n)*Math.pow(10,r-6176)}function Tce(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)t[e+i]=a&255;t[e+15]|=r>=0?0:128}function em(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function Zr(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function ra(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Hr(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],a=em(t,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var l=r[0];t[r[0]++]>=128;);o=t.slice(l,r[0])}break;case 5:s=4,o=t.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=t.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=em(t,r),o=t.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var c={data:o,type:i};e[a]==null?e[a]=[c]:e[a].push(c)}return e}function ti(t){var e=[];return t.forEach(function(r,n){r.forEach(function(a){a.data&&(e.push(Zr(n*8+a.type)),a.type==2&&e.push(Zr(a.data.length)),e.push(a.data))})}),ff(e)}function WE(t,e){return(t==null?void 0:t.map(function(r){return e(r.data)}))||[]}function ho(t){for(var e,r=[],n=[0];n[0]<t.length;){var a=em(t,n),i=Hr(t.slice(n[0],n[0]+a));n[0]+=a;var s={id:ra(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=Hr(o.data),c=ra(l[3][0].data);s.messages.push({meta:l,data:t.slice(n[0],n[0]+c)}),n[0]+=c}),(e=i[3])!=null&&e[0]&&(s.merge=ra(i[3][0].data)>>>0>0),r.push(s)}return r}function s0(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:Zr(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Zr(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(s){a.push(s.data),s.meta[3]=[{type:0,data:Zr(s.data.length)}],n[2].push({data:ti(s.meta),type:2})});var i=ti(n);e.push(Zr(i.length)),e.push(i),a.forEach(function(s){return e.push(s)})}),ff(e)}function Cce(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=em(e,r),a=[];r[0]<e.length;){var i=e[r[0]]&3;if(i==0){var s=e[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=e[r[0]],o>1&&(s|=e[r[0]+1]<<8),o>2&&(s|=e[r[0]+2]<<16),o>3&&(s|=e[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(e.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(i==1?(c=(e[r[0]]>>2&7)+4,l=(e[r[0]++]&224)<<3,l|=e[r[0]++]):(c=(e[r[0]++]>>2)+1,i==2?(l=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(l=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),a=[ff(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var u=ff(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function po(t){for(var e=[],r=0;r<t.length;){var n=t[r++],a=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(Cce(n,t.slice(r,r+a))),r+=a}if(r!==t.length)throw new Error("data is not a valid framed stream!");return ff(e)}function o0(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),a=new Uint8Array(4);e.push(a);var i=Zr(n),s=i.length;e.push(i),n<=60?(s++,e.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),s+=n,a[0]=0,a[1]=s&255,a[2]=s>>8&255,a[3]=s>>16&255,r+=n}return ff(e)}function kce(t,e,r,n){var a=Ah(t),i=a.getUint32(4,!0),s=(n>1?12:8)+wk(i&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);i&512&&(o=a.getUint32(s,!0),s+=4),s+=wk(i&(n>1?12288:4096))*4,i&16&&(l=a.getUint32(s,!0),s+=4),i&32&&(c=a.getFloat64(s,!0),s+=8),i&64&&(u.setTime(u.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var h;switch(t[2]){case 0:break;case 2:h={t:"n",v:c};break;case 3:h={t:"s",v:e[l]};break;case 5:h={t:"d",v:u};break;case 6:h={t:"b",v:c>0};break;case 7:h={t:"n",v:c/86400};break;case 8:h={t:"e",v:0};break;case 9:if(o>-1)h={t:"s",v:r[o]};else if(l>-1)h={t:"s",v:e[l]};else if(!isNaN(c))h={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return h}function Nce(t,e,r){var n=Ah(t),a=n.getUint32(8,!0),i=12,s=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);a&1&&(l=Sce(t,i),i+=16),a&2&&(c=n.getFloat64(i,!0),i+=8),a&4&&(u.setTime(u.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var h;switch(t[1]){case 0:break;case 2:h={t:"n",v:l};break;case 3:h={t:"s",v:e[o]};break;case 5:h={t:"d",v:u};break;case 6:h={t:"b",v:c>0};break;case 7:h={t:"n",v:c/86400};break;case 8:h={t:"e",v:0};break;case 9:if(s>-1)h={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(a&31," : ").concat(t.slice(0,4)));break;case 10:h={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(a&31," : ").concat(t.slice(0,4)))}return h}function Qy(t,e){var r=new Uint8Array(32),n=Ah(r),a=12,i=0;switch(r[0]=5,t.t){case"n":r[1]=2,Tce(r,a,t.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,t.v?1:0,!0),i|=2,a+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(a,e.indexOf(t.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,i,!0),r.slice(0,a)}function Jy(t,e){var r=new Uint8Array(32),n=Ah(r),a=12,i=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(a,t.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,t.v?1:0,!0),i|=32,a+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(a,e.indexOf(t.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,i,!0),r.slice(0,a)}function Ice(t,e,r){switch(t[0]){case 0:case 1:case 2:case 3:return kce(t,e,r,t[0]);case 5:return Nce(t,e,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function Ai(t){var e=Hr(t);return em(e[1][0].data)}function bk(t,e){var r=Hr(e.data),n=ra(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var o=Hr(s.data),l=ra(o[1][0].data)>>>0;switch(n){case 1:i[l]=Qw(o[3][0].data);break;case 8:{var c=t[Ai(o[9][0].data)][0],u=Hr(c.data),h=t[Ai(u[1][0].data)][0],d=ra(h.meta[1][0].data);if(d!=2001)throw new Error("2000 unexpected reference to ".concat(d));var f=Hr(h.data);i[l]=f[3].map(function(p){return Qw(p.data)}).join("")}break}}),i}function Rce(t,e){var r,n,a,i,s,o,l,c,u,h,d,f,p,m,_=Hr(t),x=ra(_[1][0].data)>>>0,T=ra(_[2][0].data)>>>0,b=((n=(r=_[8])==null?void 0:r[0])==null?void 0:n.data)&&ra(_[8][0].data)>0||!1,I,j;if((i=(a=_[7])==null?void 0:a[0])!=null&&i.data&&e!=0)I=(o=(s=_[7])==null?void 0:s[0])==null?void 0:o.data,j=(c=(l=_[6])==null?void 0:l[0])==null?void 0:c.data;else if((h=(u=_[4])==null?void 0:u[0])!=null&&h.data&&e!=1)I=(f=(d=_[4])==null?void 0:d[0])==null?void 0:f.data,j=(m=(p=_[3])==null?void 0:p[0])==null?void 0:m.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var O=b?4:1,N=Ah(I),A=[],y=0;y<I.length/2;++y){var R=N.getUint16(y*2,!0);R<65535&&A.push([y,R])}if(A.length!=T)throw"Expected ".concat(T," cells, found ").concat(A.length);var S=[];for(y=0;y<A.length-1;++y)S[A[y][0]]=j.subarray(A[y][1]*O,A[y+1][1]*O);return A.length>=1&&(S[A[A.length-1][0]]=j.subarray(A[A.length-1][1]*O)),{R:x,cells:S}}function Lce(t,e){var r,n=Hr(e.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?ra(n[7][0].data)>>>0>0?1:0:-1,i=WE(n[5],function(s){return Rce(s,a)});return{nrows:ra(n[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,c){if(s[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));s[o.R][c]=l}),s},[])}}function Dce(t,e,r){var n,a=Hr(e.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(ra(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(ra(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=pr(i);var s=Hr(a[4][0].data),o=bk(t,t[Ai(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?bk(t,t[Ai(s[17][0].data)][0]):[],c=Hr(s[3][0].data),u=0;c[1].forEach(function(h){var d=Hr(h.data),f=t[Ai(d[2][0].data)][0],p=ra(f.meta[1][0].data);if(p!=6002)throw new Error("6001 unexpected reference to ".concat(p));var m=Lce(t,f);m.data.forEach(function(_,x){_.forEach(function(T,b){var I=nr({r:u+x,c:b}),j=Ice(T,o,l);j&&(r[I]=j)})}),u+=m.nrows})}function Pce(t,e){var r=Hr(e.data),n={"!ref":"A1"},a=t[Ai(r[2][0].data)],i=ra(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return Dce(t,a[0],n),n}function Oce(t,e){var r,n=Hr(e.data),a={name:(r=n[1])!=null&&r[0]?Qw(n[1][0].data):"",sheets:[]},i=WE(n[2],Ai);return i.forEach(function(s){t[s].forEach(function(o){var l=ra(o.meta[1][0].data);l==6e3&&a.sheets.push(Pce(t,o))})}),a}function Fce(t,e){var r=QE(),n=Hr(e.data),a=WE(n[1],Ai);if(a.forEach(function(i){t[i].forEach(function(s){var o=ra(s.meta[1][0].data);if(o==2){var l=Oce(t,s);l.sheets.forEach(function(c,u){JE(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function Zy(t){var e,r,n,a,i={},s=[];if(t.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=po(l.content)}catch(h){return console.log("?? "+l.content.length+" "+(h.message||h))}var u;try{u=ho(c)}catch(h){return console.log("## "+(h.message||h))}u.forEach(function(h){i[h.id]=h.messages,s.push(h.id)})}}),!s.length)throw new Error("File has no messages");var o=((a=(n=(r=(e=i==null?void 0:i[1])==null?void 0:e[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&ra(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(l){i[l].forEach(function(c){var u=ra(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Fce(i,o)}function Mce(t,e,r){var n,a,i,s;if(!((n=t[6])!=null&&n[0])||!((a=t[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(i=t[8])==null?void 0:i[0])==null?void 0:s.data)&&ra(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=Ah(t[7][0].data),u=0,h=[],d=Ah(t[4][0].data),f=0,p=[],m=0;m<e.length;++m){if(e[m]==null){c.setUint16(m*2,65535,!0),d.setUint16(m*2,65535);continue}c.setUint16(m*2,u,!0),d.setUint16(m*2,f,!0);var _,x;switch(typeof e[m]){case"string":_=Qy({t:"s",v:e[m]},r),x=Jy({t:"s",v:e[m]},r);break;case"number":_=Qy({t:"n",v:e[m]},r),x=Jy({t:"n",v:e[m]},r);break;case"boolean":_=Qy({t:"b",v:e[m]},r),x=Jy({t:"b",v:e[m]},r);break;default:throw new Error("Unsupported value "+e[m])}h.push(_),u+=_.length,p.push(x),f+=x.length,++l}for(t[2][0].data=Zr(l);m<t[7][0].data.length/2;++m)c.setUint16(m*2,65535,!0),d.setUint16(m*2,65535,!0);return t[6][0].data=ff(h),t[3][0].data=ff(p),l}function Bce(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=gs(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(pr(n)));var i=Qv(r,{range:n,header:1}),s=["~Sh33tJ5~"];i.forEach(function(F){return F.forEach(function(U){typeof U=="string"&&s.push(U)})});var o={},l=[],c=Gt.read(e.numbers,{type:"base64"});c.FileIndex.map(function(F,U){return[F,c.FullPaths[U]]}).forEach(function(F){var U=F[0],M=F[1];if(U.type==2&&U.name.match(/\.iwa/)){var Y=U.content,se=po(Y),he=ho(se);he.forEach(function(fe){l.push(fe.id),o[fe.id]={deps:[],location:M,type:ra(fe.messages[0].meta[1][0].data)}})}}),l.sort(function(F,U){return F-U});var u=l.filter(function(F){return F>1}).map(function(F){return[F,Zr(F)]});c.FileIndex.map(function(F,U){return[F,c.FullPaths[U]]}).forEach(function(F){var U=F[0];if(F[1],!!U.name.match(/\.iwa/)){var M=ho(po(U.content));M.forEach(function(Y){Y.messages.forEach(function(se){u.forEach(function(he){Y.messages.some(function(fe){return ra(fe.meta[1][0].data)!=11006&&Ace(fe.data,he[1])})&&o[he[0]].deps.push(Y.id)})})})}});for(var h=Gt.find(c,o[1].location),d=ho(po(h.content)),f,p=0;p<d.length;++p){var m=d[p];m.id==1&&(f=m)}var _=Ai(Hr(f.messages[0].data)[1][0].data);for(h=Gt.find(c,o[_].location),d=ho(po(h.content)),p=0;p<d.length;++p)m=d[p],m.id==_&&(f=m);for(_=Ai(Hr(f.messages[0].data)[2][0].data),h=Gt.find(c,o[_].location),d=ho(po(h.content)),p=0;p<d.length;++p)m=d[p],m.id==_&&(f=m);for(_=Ai(Hr(f.messages[0].data)[2][0].data),h=Gt.find(c,o[_].location),d=ho(po(h.content)),p=0;p<d.length;++p)m=d[p],m.id==_&&(f=m);var x=Hr(f.messages[0].data);{x[6][0].data=Zr(n.e.r+1),x[7][0].data=Zr(n.e.c+1);var T=Ai(x[46][0].data),b=Gt.find(c,o[T].location),I=ho(po(b.content));{for(var j=0;j<I.length&&I[j].id!=T;++j);if(I[j].id!=T)throw"Bad ColumnRowUIDMapArchive";var O=Hr(I[j].messages[0].data);O[1]=[],O[2]=[],O[3]=[];for(var N=0;N<=n.e.c;++N){var A=[];A[1]=A[2]=[{type:0,data:Zr(N+420690)}],O[1].push({type:2,data:ti(A)}),O[2].push({type:0,data:Zr(N)}),O[3].push({type:0,data:Zr(N)})}O[4]=[],O[5]=[],O[6]=[];for(var y=0;y<=n.e.r;++y)A=[],A[1]=A[2]=[{type:0,data:Zr(y+726270)}],O[4].push({type:2,data:ti(A)}),O[5].push({type:0,data:Zr(y)}),O[6].push({type:0,data:Zr(y)});I[j].messages[0].data=ti(O)}b.content=o0(s0(I)),b.size=b.content.length,delete x[46];var R=Hr(x[4][0].data);{R[7][0].data=Zr(n.e.r+1);var S=Hr(R[1][0].data),k=Ai(S[2][0].data);b=Gt.find(c,o[k].location),I=ho(po(b.content));{if(I[0].id!=k)throw"Bad HeaderStorageBucket";var C=Hr(I[0].messages[0].data);for(y=0;y<i.length;++y){var H=Hr(C[2][0].data);H[1][0].data=Zr(y),H[4][0].data=Zr(i[y].length),C[2][y]={type:C[2][0].type,data:ti(H)}}I[0].messages[0].data=ti(C)}b.content=o0(s0(I)),b.size=b.content.length;var X=Ai(R[2][0].data);b=Gt.find(c,o[X].location),I=ho(po(b.content));{if(I[0].id!=X)throw"Bad HeaderStorageBucket";for(C=Hr(I[0].messages[0].data),N=0;N<=n.e.c;++N)H=Hr(C[2][0].data),H[1][0].data=Zr(N),H[4][0].data=Zr(n.e.r+1),C[2][N]={type:C[2][0].type,data:ti(H)};I[0].messages[0].data=ti(C)}b.content=o0(s0(I)),b.size=b.content.length;var V=Ai(R[4][0].data);(function(){for(var F=Gt.find(c,o[V].location),U=ho(po(F.content)),M,Y=0;Y<U.length;++Y){var se=U[Y];se.id==V&&(M=se)}var he=Hr(M.messages[0].data);{he[3]=[];var fe=[];s.forEach(function(ne,be){fe[1]=[{type:0,data:Zr(be)}],fe[2]=[{type:0,data:Zr(1)}],fe[3]=[{type:2,data:Ece(ne)}],he[3].push({type:2,data:ti(fe)})})}M.messages[0].data=ti(he);var ve=s0(U),ke=o0(ve);F.content=ke,F.size=F.content.length})();var q=Hr(R[3][0].data);{var re=q[1][0];delete q[2];var W=Hr(re.data);{var me=Ai(W[2][0].data);(function(){for(var F=Gt.find(c,o[me].location),U=ho(po(F.content)),M,Y=0;Y<U.length;++Y){var se=U[Y];se.id==me&&(M=se)}var he=Hr(M.messages[0].data);{delete he[6],delete q[7];var fe=new Uint8Array(he[5][0].data);he[5]=[];for(var ve=0,ke=0;ke<=n.e.r;++ke){var ne=Hr(fe);ve+=Mce(ne,i[ke],s),ne[1][0].data=Zr(ke),he[5].push({data:ti(ne),type:2})}he[1]=[{type:0,data:Zr(n.e.c+1)}],he[2]=[{type:0,data:Zr(n.e.r+1)}],he[3]=[{type:0,data:Zr(ve)}],he[4]=[{type:0,data:Zr(n.e.r+1)}]}M.messages[0].data=ti(he);var be=s0(U),Me=o0(be);F.content=Me,F.size=F.content.length})()}re.data=ti(W)}R[3][0].data=ti(q)}x[4][0].data=ti(R)}f.messages[0].data=ti(x);var Ee=s0(d),D=o0(Ee);return h.content=D,h.size=h.content.length,c}function WO(t){return function(r){for(var n=0;n!=t.length;++n){var a=t[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function $E(t){WO([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function XE(t){WO([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function Uce(t){return wr.WS.indexOf(t)>-1?"sheet":t==wr.CS?"chart":t==wr.DS?"dialog":t==wr.MS?"macro":t&&t.length?t:"sheet"}function jce(t,e){if(!t)return 0;try{t=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,t["!id"][n.id].Target,Uce(t["!id"][n.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function Vce(t,e,r,n,a,i,s,o,l,c,u,h){try{i[n]=cp(Us(t,r,!0),e);var d=wa(t,e),f;switch(o){case"sheet":f=cle(d,e,a,l,i[n],c,u,h);break;case"chart":if(f=ule(d,e,a,l,i[n],c,u,h),!f||!f["!drawel"])break;var p=O1(f["!drawel"].Target,e),m=Xp(p),_=Yne(Us(t,p,!0),cp(Us(t,m,!0),p)),x=O1(_,p),T=Xp(x);f=Moe(Us(t,x,!0),x,l,cp(Us(t,T,!0),x),c,f);break;case"macro":f=fle(d,e,a,l,i[n],c,u,h);break;case"dialog":f=hle(d,e,a,l,i[n],c,u,h);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=f;var b=[];i&&i[n]&&aa(i[n]).forEach(function(I){var j="";if(i[n][I].Type==wr.CMNT){j=O1(i[n][I].Target,e);var O=gle(wa(t,j,!0),j,l);if(!O||!O.length)return;ok(f,O,!1)}i[n][I].Type==wr.TCMNT&&(j=O1(i[n][I].Target,e),b=b.concat(Jne(wa(t,j,!0),l)))}),b&&b.length&&ok(f,b,!0,l.people||[])}catch(I){if(l.WTF)throw I}}function uo(t){return t.charAt(0)=="/"?t.slice(1):t}function zce(t,e){if(zd(),e=e||{},$E(e),mo(t,"META-INF/manifest.xml")||mo(t,"objectdata.xml"))return xk(t,e);if(mo(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Zy<"u"){if(t.FileIndex)return Zy(t);var r=Gt.utils.cfb_new();return kC(t).forEach(function(H){vr(r,H,ZJ(t,H))}),Zy(r)}throw new Error("Unsupported NUMBERS file")}if(!mo(t,"[Content_Types].xml"))throw mo(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):mo(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=kC(t),a=WZ(Us(t,"[Content_Types].xml")),i=!1,s,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",wa(t,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!wa(t,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},c={};if(!e.bookSheets&&!e.bookProps){if(up=[],a.sst)try{up=mle(wa(t,uo(a.sst)),a.sst,e)}catch(H){if(e.WTF)throw H}e.cellStyles&&a.themes.length&&(l=ple(Us(t,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],e)),a.style&&(c=dle(wa(t,uo(a.style)),a.style,l,e))}a.links.map(function(H){try{var X=cp(Us(t,Xp(uo(H))),H);return xle(wa(t,uo(H)),X,H,e)}catch{}});var u=lle(wa(t,uo(a.workbooks[0])),a.workbooks[0],e),h={},d="";a.coreprops.length&&(d=wa(t,uo(a.coreprops[0]),!0),d&&(h=PP(d)),a.extprops.length!==0&&(d=wa(t,uo(a.extprops[0]),!0),d&&ZZ(d,h,e)));var f={};(!e.bookSheets||e.bookProps)&&a.custprops.length!==0&&(d=Us(t,uo(a.custprops[0]),!0),d&&(f=tee(d,e)));var p={};if((e.bookSheets||e.bookProps)&&(u.Sheets?s=u.Sheets.map(function(X){return X.name}):h.Worksheets&&h.SheetNames.length>0&&(s=h.SheetNames),e.bookProps&&(p.Props=h,p.Custprops=f),e.bookSheets&&typeof s<"u"&&(p.SheetNames=s),e.bookSheets?p.SheetNames:e.bookProps))return p;s={};var m={};e.bookDeps&&a.calcchain&&(m=vle(wa(t,uo(a.calcchain)),a.calcchain));var _=0,x={},T,b;{var I=u.Sheets;h.Worksheets=I.length,h.SheetNames=[];for(var j=0;j!=I.length;++j)h.SheetNames[j]=I[j].name}var O=i?"bin":"xml",N=a.workbooks[0].lastIndexOf("/"),A=(a.workbooks[0].slice(0,N+1)+"_rels/"+a.workbooks[0].slice(N+1)+".rels").replace(/^\//,"");mo(t,A)||(A="xl/_rels/workbook."+O+".rels");var y=cp(Us(t,A,!0),A.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(e.xlmeta=_le(wa(t,uo(a.metadata[0])),a.metadata[0],e)),(a.people||[]).length>=1&&(e.people=eae(wa(t,uo(a.people[0])),e)),y&&(y=jce(y,u.Sheets));var R=wa(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(_=0;_!=h.Worksheets;++_){var S="sheet";if(y&&y[_]?(T="xl/"+y[_][1].replace(/[\/]?xl\//,""),mo(t,T)||(T=y[_][1]),mo(t,T)||(T=A.replace(/_rels\/.*$/,"")+y[_][1]),S=y[_][2]):(T="xl/worksheets/sheet"+(_+1-R)+"."+O,T=T.replace(/sheet0\./,"sheet.")),b=T.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(_!=e.sheets)continue e;break;case"string":if(h.SheetNames[_].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var k=!1,C=0;C!=e.sheets.length;++C)typeof e.sheets[C]=="number"&&e.sheets[C]==_&&(k=1),typeof e.sheets[C]=="string"&&e.sheets[C].toLowerCase()==h.SheetNames[_].toLowerCase()&&(k=1);if(!k)continue e}}Vce(t,T,b,h.SheetNames[_],_,x,s,S,e,u,l,c)}return p={Directory:a,Workbook:u,Props:h,Custprops:f,Deps:m,Sheets:s,SheetNames:h.SheetNames,Strings:up,Styles:c,Themes:l,SSF:Mn(er)},e&&e.bookFiles&&(t.files?(p.keys=n,p.files=t.files):(p.keys=[],p.files={},t.FullPaths.forEach(function(H,X){H=H.replace(/^Root Entry[\/]/,""),p.keys.push(H),p.files[H]=t.FileIndex[X]}))),e&&e.bookVBA&&(a.vba.length>0?p.vbaraw=wa(t,uo(a.vba[0]),!0):a.defaults&&a.defaults.bin===lae&&(p.vbaraw=wa(t,"xl/vbaProject.bin",!0))),p}function qce(t,e){var r=e||{},n="Workbook",a=Gt.find(t,n);try{if(n="/!DataSpaces/Version",a=Gt.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(_re(a.content),n="/!DataSpaces/DataSpaceMap",a=Gt.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=wre(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Gt.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=bre(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Gt.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);Are(a.content)}catch{}if(n="/EncryptionInfo",a=Gt.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=Sre(a.content);if(n="/EncryptedPackage",a=Gt.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function Hce(t,e){return e.bookType=="ods"?GO(t,e):e.bookType=="numbers"?Bce(t,e):e.bookType=="xlsb"?Gce(t,e):Wce(t,e)}function Gce(t,e){O0=1024,t&&!t.SSF&&(t.SSF=Mn(er)),t&&t.SSF&&(zd(),Kx(t.SSF),e.revssf=Qx(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,fp?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=_O.indexOf(e.bookType)>-1,a=DE();XE(e=e||{});var i=_E(),s="",o=0;if(e.cellXfs=[],wf(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",vr(i,s,OP(t.Props,e)),a.coreprops.push(s),tn(e.rels,2,s,wr.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,vr(i,s,BP(t.Props)),a.extprops.push(s),tn(e.rels,3,s,wr.EXT_PROPS),t.Custprops!==t.Props&&aa(t.Custprops||{}).length>0&&(s="docProps/custom.xml",vr(i,s,UP(t.Custprops)),a.custprops.push(s),tn(e.rels,4,s,wr.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var u={"!id":{}},h=t.Sheets[t.SheetNames[o-1]],d=(h||{})["!type"]||"sheet";switch(d){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,vr(i,s,wle(o-1,s,e,t,u)),a.sheets.push(s),tn(e.wbrels,-1,"worksheets/sheet"+o+"."+r,wr.WS[0])}if(h){var f=h["!comments"],p=!1,m="";f&&f.length>0&&(m="xl/comments"+o+"."+r,vr(i,m,Ale(f,m)),a.comments.push(m),tn(u,-1,"../comments"+o+"."+r,wr.CMNT),p=!0),h["!legacy"]&&p&&vr(i,"xl/drawings/vmlDrawing"+o+".vml",vO(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}u["!id"].rId1&&vr(i,Xp(s),ed(u))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+r,vr(i,s,Ele(e.Strings,s,e)),a.strs.push(s),tn(e.wbrels,-1,"sharedStrings."+r,wr.SST)),s="xl/workbook."+r,vr(i,s,yle(t,s)),a.workbooks.push(s),tn(e.rels,1,s,wr.WB),s="xl/theme/theme1.xml",vr(i,s,UE(t.Themes,e)),a.themes.push(s),tn(e.wbrels,-1,"theme/theme1.xml",wr.THEME),s="xl/styles."+r,vr(i,s,ble(t,s,e)),a.styles.push(s),tn(e.wbrels,-1,"styles."+r,wr.STY),t.vbaraw&&n&&(s="xl/vbaProject.bin",vr(i,s,t.vbaraw),a.vba.push(s),tn(e.wbrels,-1,"vbaProject.bin",wr.VBA)),s="xl/metadata."+r,vr(i,s,Sle(s)),a.metadata.push(s),tn(e.wbrels,-1,"metadata."+r,wr.XLMETA),vr(i,"[Content_Types].xml",LP(a,e)),vr(i,"_rels/.rels",ed(e.rels)),vr(i,"xl/_rels/workbook."+r+".rels",ed(e.wbrels)),delete e.revssf,delete e.ssf,i}function Wce(t,e){O0=1024,t&&!t.SSF&&(t.SSF=Mn(er)),t&&t.SSF&&(zd(),Kx(t.SSF),e.revssf=Qx(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,fp?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=_O.indexOf(e.bookType)>-1,a=DE();XE(e=e||{});var i=_E(),s="",o=0;if(e.cellXfs=[],wf(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",vr(i,s,OP(t.Props,e)),a.coreprops.push(s),tn(e.rels,2,s,wr.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,vr(i,s,BP(t.Props)),a.extprops.push(s),tn(e.rels,3,s,wr.EXT_PROPS),t.Custprops!==t.Props&&aa(t.Custprops||{}).length>0&&(s="docProps/custom.xml",vr(i,s,UP(t.Custprops)),a.custprops.push(s),tn(e.rels,4,s,wr.CUST_PROPS));var u=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var h={"!id":{}},d=t.Sheets[t.SheetNames[o-1]],f=(d||{})["!type"]||"sheet";switch(f){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,vr(i,s,IO(o-1,e,t,h)),a.sheets.push(s),tn(e.wbrels,-1,"worksheets/sheet"+o+"."+r,wr.WS[0])}if(d){var p=d["!comments"],m=!1,_="";if(p&&p.length>0){var x=!1;p.forEach(function(T){T[1].forEach(function(b){b.T==!0&&(x=!0)})}),x&&(_="xl/threadedComments/threadedComment"+o+"."+r,vr(i,_,Zne(p,u,e)),a.threadedcomments.push(_),tn(h,-1,"../threadedComments/threadedComment"+o+"."+r,wr.TCMNT)),_="xl/comments"+o+"."+r,vr(i,_,xO(p)),a.comments.push(_),tn(h,-1,"../comments"+o+"."+r,wr.CMNT),m=!0}d["!legacy"]&&m&&vr(i,"xl/drawings/vmlDrawing"+o+".vml",vO(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}h["!id"].rId1&&vr(i,Xp(s),ed(h))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+r,vr(i,s,iO(e.Strings,e)),a.strs.push(s),tn(e.wbrels,-1,"sharedStrings."+r,wr.SST)),s="xl/workbook."+r,vr(i,s,OO(t)),a.workbooks.push(s),tn(e.rels,1,s,wr.WB),s="xl/theme/theme1.xml",vr(i,s,UE(t.Themes,e)),a.themes.push(s),tn(e.wbrels,-1,"theme/theme1.xml",wr.THEME),s="xl/styles."+r,vr(i,s,dO(t,e)),a.styles.push(s),tn(e.wbrels,-1,"styles."+r,wr.STY),t.vbaraw&&n&&(s="xl/vbaProject.bin",vr(i,s,t.vbaraw),a.vba.push(s),tn(e.wbrels,-1,"vbaProject.bin",wr.VBA)),s="xl/metadata."+r,vr(i,s,gO()),a.metadata.push(s),tn(e.wbrels,-1,"metadata."+r,wr.XLMETA),u.length>1&&(s="xl/persons/person.xml",vr(i,s,tae(u)),a.people.push(s),tn(e.wbrels,-1,"persons/person.xml",wr.PEOPLE)),vr(i,"[Content_Types].xml",LP(a,e)),vr(i,"_rels/.rels",ed(e.rels)),vr(i,"xl/_rels/workbook."+r+".rels",ed(e.wbrels)),delete e.revssf,delete e.ssf,i}function KE(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Qs(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function $ce(t,e){return Gt.find(t,"EncryptedPackage")?qce(t,e):UO(t,e)}function Xce(t,e){var r,n=t,a=e||{};return a.type||(a.type=yr&&Buffer.isBuffer(t)?"buffer":"base64"),r=oP(n,a),zce(r,a)}function $O(t,e){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return Kw(t.slice(r),e);default:break e}return yd.to_workbook(t,e)}function Kce(t,e){var r="",n=KE(t,e);switch(e.type){case"base64":r=Qs(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=yh(t);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=un(r)),e.type="binary",$O(r,e)}function Yce(t,e){var r=t;return e.type=="base64"&&(r=Qs(r)),r=zp.utils.decode(1200,r.slice(2),"str"),e.type="binary",$O(r,e)}function Qce(t){return t.match(/[^\x00-\x7F]/)?Tl(t):t}function e5(t,e,r,n){return n?(r.type="string",yd.to_workbook(t,r)):yd.to_workbook(e,r)}function Jw(t,e){pE();var r=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return Jw(new Uint8Array(t),(r=Mn(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=t,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),rd={},r.dateNF&&(rd.dateNF=r.dateNF),r.type||(r.type=yr&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=yr?"buffer":"binary",n=GJ(t),typeof Uint8Array<"u"&&!yr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=Qce(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=Mn(r),r.type="array",Jw(mE(n),r)}switch((a=KE(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return $ce(Gt.read(n,r),r);break;case 9:if(a[1]<=8)return UO(n,r);break;case 60:return Kw(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return rre(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return nO.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?Xce(n,r):e5(t,n,r,i);case 239:return a[3]===60?Kw(n,r):e5(t,n,r,i);case 255:if(a[1]===254)return Yce(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return eh.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return eh.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return Xw.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return uO.to_workbook(n,r);break;case 10:case 13:case 32:return Kce(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return tre.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?Xw.to_workbook(n,r):e5(t,n,r,i)}function XO(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Om(e.file,Gt.write(t,{type:yr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Gt.write(t,e)}function Jce(t,e){var r=Mn(e||{}),n=Hce(t,r);return Zce(n,r)}function Zce(t,e){var r={},n=yr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var a=t.FullPaths?Gt.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(e.type=="binary"||e.type=="base64")return a;a=new Uint8Array(Xx(a))}return e.password&&typeof encrypt_agile<"u"?XO(encrypt_agile(a,e.password),e):e.type==="file"?Om(e.file,a):e.type=="string"?un(a):a}function eue(t,e){var r=e||{},n=Qle(t,r);return XO(n,r)}function xl(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return qp(Tl(n));case"binary":return Tl(n);case"string":return t;case"file":return Om(e.file,n,"utf8");case"buffer":return yr?Bc(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):xl(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function tue(t,e){switch(e.type){case"base64":return qp(t);case"binary":return t;case"string":return t;case"file":return Om(e.file,t,"binary");case"buffer":return yr?Bc(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Qg(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?qp(r):e.type=="string"?un(r):r;case"file":return Om(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function KO(t,e){pE(),$oe(t);var r=Mn(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=KO(t,r);return r.type="array",Xx(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=t.SheetNames.indexOf(r.sheet),!t.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return xl(Hle(t,r),r);case"slk":case"sylk":return xl(rO.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"htm":case"html":return xl(VO(t.Sheets[t.SheetNames[a]],r),r);case"txt":return tue(QO(t.Sheets[t.SheetNames[a]],r),r);case"csv":return xl(YE(t.Sheets[t.SheetNames[a]],r),r,"\uFEFF");case"dif":return xl(nO.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"dbf":return Qg(Xw.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"prn":return xl(yd.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"rtf":return xl(uO.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"eth":return xl(aO.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"fods":return xl(GO(t,r),r);case"wk1":return Qg(eh.sheet_to_wk1(t.Sheets[t.SheetNames[a]],r),r);case"wk3":return Qg(eh.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Qg(jO(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),eue(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Jce(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function rue(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function YO(t,e,r){var n={};return n.type="file",n.file=e,rue(n),KO(t,n)}function nue(t,e,r,n,a,i,s,o){var l=va(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),h=!0,d=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:r,enumerable:!1})}catch{d.__rowNum__=r}else d.__rowNum__=r;if(!s||t[r])for(var f=e.s.c;f<=e.e.c;++f){var p=s?t[r][f]:t[n[f]+l];if(p===void 0||p.t===void 0){if(c===void 0)continue;i[f]!=null&&(d[i[f]]=c);continue}var m=p.v;switch(p.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(i[f]!=null){if(m==null)if(p.t=="e"&&m===null)d[i[f]]=null;else if(c!==void 0)d[i[f]]=c;else if(u&&m===null)d[i[f]]=null;else continue;else d[i[f]]=u&&(p.t!=="n"||p.t==="n"&&o.rawNumbers!==!1)?m:Pc(p,m,o);m!=null&&(h=!1)}}return{row:d,isempty:h}}function Qv(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},u=c.range!=null?c.range:t["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=zr(u);break;case"number":l=zr(t["!ref"]),l.s.r=u;break;default:l=u}n>0&&(a=0);var h=va(l.s.r),d=[],f=[],p=0,m=0,_=Array.isArray(t),x=l.s.r,T=0,b={};_&&!t[x]&&(t[x]=[]);var I=c.skipHidden&&t["!cols"]||[],j=c.skipHidden&&t["!rows"]||[];for(T=l.s.c;T<=l.e.c;++T)if(!(I[T]||{}).hidden)switch(d[T]=qn(T),r=_?t[x][T]:t[d[T]+h],n){case 1:i[T]=T-l.s.c;break;case 2:i[T]=d[T];break;case 3:i[T]=c.header[T-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=Pc(r,null,c),m=b[s]||0,!m)b[s]=1;else{do o=s+"_"+m++;while(b[o]);b[s]=m,b[o]=1}i[T]=o}for(x=l.s.r+a;x<=l.e.r;++x)if(!(j[x]||{}).hidden){var O=nue(t,l,x,d,n,i,_,c);(O.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(f[p++]=O.row)}return f.length=p,f}var Ek=/"/g;function aue(t,e,r,n,a,i,s,o){for(var l=!0,c=[],u="",h=va(r),d=e.s.c;d<=e.e.c;++d)if(n[d]){var f=o.dense?(t[r]||[])[d]:t[n[d]+h];if(f==null)u="";else if(f.v!=null){l=!1,u=""+(o.rawNumbers&&f.t=="n"?f.v:Pc(f,null,o));for(var p=0,m=0;p!==u.length;++p)if((m=u.charCodeAt(p))===a||m===i||m===34||o.forceQuotes){u='"'+u.replace(Ek,'""')+'"';break}u=="ID"&&(u='"ID"')}else f.f!=null&&!f.F?(l=!1,u="="+f.f,u.indexOf(",")>=0&&(u='"'+u.replace(Ek,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function YE(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var a=zr(t["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),u="",h=[];n.dense=Array.isArray(t);for(var d=n.skipHidden&&t["!cols"]||[],f=n.skipHidden&&t["!rows"]||[],p=a.s.c;p<=a.e.c;++p)(d[p]||{}).hidden||(h[p]=qn(p));for(var m=0,_=a.s.r;_<=a.e.r;++_)(f[_]||{}).hidden||(u=aue(t,a,_,h,s,l,i,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((m++?o:"")+u)));return delete n.dense,r.join("")}function QO(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=YE(t,e);return r}function iue(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var a=zr(t["!ref"]),i="",s=[],o,l=[],c=Array.isArray(t);for(o=a.s.c;o<=a.e.c;++o)s[o]=qn(o);for(var u=a.s.r;u<=a.e.r;++u)for(i=va(u),o=a.s.c;o<=a.e.c;++o)if(e=s[o]+i,r=c?(t[u]||[])[o]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=e+"="+n}return l}function JO(t,e,r){var n=r||{},a=+!n.skipHeader,i=t||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Hn(n.origin):n.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+e.length-1+a}};if(i["!ref"]){var h=zr(i["!ref"]);u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),s==-1&&(s=h.e.r+1,u.e.r=s+e.length-1+a)}else s==-1&&(s=0,u.e.r=e.length-1+a);var d=n.header||[],f=0;e.forEach(function(m,_){aa(m).forEach(function(x){(f=d.indexOf(x))==-1&&(d[f=d.length]=x);var T=m[x],b="z",I="",j=nr({c:o+f,r:s+_+a});c=tm(i,j),T&&typeof T=="object"&&!(T instanceof Date)?i[j]=T:(typeof T=="number"?b="n":typeof T=="boolean"?b="b":typeof T=="string"?b="s":T instanceof Date?(b="d",n.cellDates||(b="n",T=Ua(T)),I=n.dateNF||er[14]):T===null&&n.nullError&&(b="e",T=0),c?(c.t=b,c.v=T,delete c.w,delete c.R,I&&(c.z=I)):i[j]=c={t:b,v:T},I&&(c.z=I))})}),u.e.c=Math.max(u.e.c,o+d.length-1);var p=va(s);if(a)for(f=0;f<d.length;++f)i[qn(f+o)+p]={t:"s",v:d[f]};return i["!ref"]=pr(u),i}function sue(t,e){return JO(null,t,e)}function tm(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Hn(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?tm(t,nr(e)):tm(t,nr({r:e,c:r||0}))}function oue(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function QE(){return{SheetNames:[],Sheets:{}}}function JE(t,e,r,n){var a=1;if(!r)for(;a<=65535&&t.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&t.SheetNames.indexOf(r=s+a)!=-1;++a);}if(PO(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function lue(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=oue(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function cue(t,e){return t.z=e,t}function ZO(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function uue(t,e,r){return ZO(t,"#"+e,r)}function fue(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function hue(t,e,r,n){for(var a=typeof e!="string"?e:zr(e),i=typeof e=="string"?e:pr(e),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=tm(t,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return t}var rh={encode_col:qn,encode_row:va,encode_cell:nr,encode_range:pr,decode_col:CE,decode_row:TE,split_cell:EZ,decode_cell:Hn,decode_range:gs,format_cell:Pc,sheet_add_aoa:SP,sheet_add_json:JO,sheet_add_dom:zO,aoa_to_sheet:qd,json_to_sheet:sue,table_to_sheet:qO,table_to_book:_ce,sheet_to_csv:YE,sheet_to_txt:QO,sheet_to_json:Qv,sheet_to_html:VO,sheet_to_formulae:iue,sheet_to_row_object_array:Qv,sheet_get_cell:tm,book_new:QE,book_append_sheet:JE,book_set_sheet_visibility:lue,cell_set_number_format:cue,cell_set_hyperlink:ZO,cell_set_internal_link:uue,cell_add_comment:fue,sheet_set_array_formula:hue,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function ZE(t){return t?(t!=null&&t.toDate?t.toDate():new Date(t)).toLocaleString("es-AR"):"-"}function hu(t){return Nr(t??0)}function due(t){const e=Math.abs(Number(t)),r=Math.floor(e),n=Math.round((e-r)*100),a=["","UN","DOS","TRES","CUATRO","CINCO","SEIS","SIETE","OCHO","NUEVE"],i=["","DIEZ","VEINTE","TREINTA","CUARENTA","CINCUENTA","SESENTA","SETENTA","OCHENTA","NOVENTA"],s=["DIEZ","ONCE","DOCE","TRECE","CATORCE","QUINCE","DIECISIS","DIECISIETE","DIECIOCHO","DIECINUEVE"],o=["VEINTI","VEINTIUN","VEINTIDS","VEINTITRS","VEINTICUATRO","VEINTICINCO","VEINTISIS","VEINTISIETE","VEINTIOCHO","VEINTINUEVE"],l=["","CIENTO","DOSCIENTOS","TRESCIENTOS","CUATROCIENTOS","QUINIENTOS","SEISCIENTOS","SETECIENTOS","OCHOCIENTOS","NOVECIENTOS"];function c(_){if(_===0)return"";if(_<10)return a[_];if(_<20)return s[_-10];if(_===20)return"VEINTE";if(_<30)return o[_-20]||"VEINTI"+a[_-20];const x=Math.floor(_/10),T=_%10;return T===0?i[x]:i[x]+" Y "+a[T]}function u(_){if(_===0)return"";if(_===100)return"CIEN";const x=Math.floor(_/100),T=_%100;return(l[x]||a[x]+"CIENTOS")+(T?" "+c(T):"")}function h(_,x,T){return _===0?"":(_===1?u(_)+" "+x:u(_)+" "+T).replace(/^UN MIL /,"MIL ")}if(r===0&&n===0)return"CERO CON 00/100";let d="";const f=Math.floor(r/1e6),p=Math.floor(r%1e6/1e3),m=r%1e3;return f>0&&(d+=h(f,"MILLN","MILLONES")+" "),p>0&&(d+=(p===1?"MIL":u(p)+" MIL")+" "),(m>0||d==="")&&(d+=u(m)||"CERO"),d=d.trim(),d+=" CON "+String(n).padStart(2,"0")+"/100",d}function Ak(t){return fetch(t).then(e=>e.blob()).then(e=>new Promise((r,n)=>{const a=new FileReader;a.onloadend=()=>r(a.result),a.onerror=n,a.readAsDataURL(e)}))}function t5(t,e){const{x:r,y:n,w:a,title:i,lines:s,margin:o=5}=e,l=5,c=6,u=s.length*l,h=c+o+u+o;t.setDrawColor(200),t.setFillColor(250,250,252),t.rect(r,n,a,h,"FD");let d=n+o;t.setFont("helvetica","bold"),t.setFontSize(10),t.setTextColor(40,40,48),t.text(i,r+o,d+4),d+=c+2,t.setFont("helvetica","normal"),t.setFontSize(9),t.setTextColor(0,0,0);for(const{label:f,value:p}of s){t.setFont("helvetica","bold"),t.text(f,r+o,d),t.setFont("helvetica","normal");const m=String(p??"-"),_=t.getTextDimensions(m).w;t.text(m,Math.min(r+a-o-_,r+a*.6),d),d+=l}return n+h}async function eF(t){var re,W,me,Ee,D,F,U;const e=new Vt({unit:"mm",format:"a4"}),r=14,n=210,a=(n-r*2-8)/2;let i=18;try{const[M,Y]=await Promise.all([Ak("/logos/luni.png"),Ak("/logos/polesie.png")]),se=11;e.addImage(M,"PNG",r,8,26,se),e.addImage(Y,"PNG",r+30,8,22,se),i=24}catch{i=18}e.setFont("helvetica","bold"),e.setFontSize(14),e.text("Distribuidora MTF - Pedido",r,i),i+=7,e.setFontSize(11),e.setFont("helvetica","normal"),e.text(`Pedido #${t.numeroPedido??((re=t.id)==null?void 0:re.slice(-6))??"-"}`,r,i),i+=6,i=t5(e,{x:r,y:i,w:a,title:"Pedido",lines:[{label:"Fecha:",value:ZE(t.createdAt)},{label:"Estado:",value:t.estado||"pendiente"}]}),i=t5(e,{x:r+a+8,y:24,w:a,title:"Facturacin y entrega",lines:[{label:"Razn social:",value:(((W=t.razonSocial)==null?void 0:W.razonSocial)||"Sin razn").slice(0,35)},{label:"CUIT:",value:((me=t.razonSocial)==null?void 0:me.cuit)||"-"},{label:"Sucursal:",value:t.sucursal?`${t.sucursal.direccion||""}, ${t.sucursal.localidad||""}`.trim().slice(0,38):"-"},{label:"Cond. fiscal:",value:t.condicionFiscal==="A"?"Factura A":t.condicionFiscal==="nota_pedido"?"Nota de pedido":t.condicionFiscal||"-"},{label:"Logstica:",value:((Ee=t.expreso)==null?void 0:Ee.nombre)||t.logistica||"-"}]}),i=Math.max(i,69);const s=t.contactoCompra||t.contacto,o=[];if(s&&(o.push({label:"Compra:",value:`${s.nombre??""} ${s.apellido??""}`.trim()||"-"}),o.push({label:"Tel:",value:s.telefono||"-"}),o.push({label:"Email:",value:(s.email||"-").slice(0,36)})),t.contactoPago&&t.contactoCompra&&(t.contactoPago.email!==((D=t.contactoCompra)==null?void 0:D.email)||t.contactoPago.nombre!==((F=t.contactoCompra)==null?void 0:F.nombre))&&(o.push({label:"Pago:",value:`${t.contactoPago.nombre??""} ${t.contactoPago.apellido??""}`.trim()||"-"}),o.push({label:"Tel pago:",value:t.contactoPago.telefono||"-"})),o.length?i=t5(e,{x:r,y:i,w:n-r*2,title:"Contactos",lines:o}):i+=2,t.observaciones&&String(t.observaciones).trim()){i+=4;const M=e.splitTextToSize(String(t.observaciones).trim(),n-r*2-10);e.setFont("helvetica","bold"),e.setFontSize(9),e.text("Observaciones / Comentarios",r,i),i+=5,e.setFont("helvetica","normal"),e.setFontSize(9),M.forEach(Y=>{i>270&&(e.addPage(),i=20),e.text(Y,r,i),i+=5}),i+=2}i+=4,e.setFont("helvetica","bold"),e.setFontSize(10),e.text("Productos encargados",r,i),i+=6;const l=t.items||[],c=[22,70,18,28,28,38],u=c[1],h=5,d=["SKU","Descripcin","Bultos","P. unit.","P. bulto","Subtotal"];e.setFont("helvetica","bold"),e.setFontSize(8),e.text(d[0],r,i),e.text(d[1],r+c[0],i),e.text(d[2],r+c[0]+c[1],i),e.text(d[3],r+c[0]+c[1]+c[2],i),e.text(d[4],r+c[0]+c[1]+c[2]+c[3],i),e.text(d[5],r+c[0]+c[1]+c[2]+c[3]+c[4],i),i+=8;function f(M,Y){const se=String(M??"-").split(/\s+/),he=[];let fe="";for(const ve of se){const ke=fe?fe+" "+ve:ve,{w:ne}=e.getTextDimensions(ke);ne<=Y?fe=ke:(fe&&he.push(fe),fe=ve)}return fe&&he.push(fe),he}e.setFont("helvetica","normal"),e.setFontSize(8);for(const M of l){i>265&&(e.addPage(),i=20);const Y=M.precioUnitario??(M.precioPorBulto??0)/(M.unidadesPorBulto??1),se=M.precioPorBulto??Y*(M.unidadesPorBulto??1),he=(M.bultos??0)*se,fe=f(M.descripcion??"-",u),ve=Math.max(10,fe.length*h+4),ke=i;e.text(String(M.sku??"-"),r,ke),fe.forEach((ne,be)=>{e.text(ne,r+c[0],ke+be*h)}),e.text(String(M.bultos??0),r+c[0]+c[1],ke),e.text("$"+hu(Y),r+c[0]+c[1]+c[2],ke),e.text("$"+hu(se),r+c[0]+c[1]+c[2]+c[3],ke),e.text("$"+hu(he),r+c[0]+c[1]+c[2]+c[3]+c[4],ke),i=ke+ve}i+=8,i>250&&(e.addPage(),i=20);const p=100,m=195,_=6;e.setFontSize(9),e.setFont("helvetica","normal");const x=t.subtotal??0,T=t.descuentoBase??0,b=x*(1-T/100),I=t.condicionFiscal==="A",j=I?(t.total??0)/1.21:t.total??0,O=I?(t.total??0)-j:0,N=x-b,A=t.aplicaProntoPago?b*.1:0,y=T>0&&t.aplicaProntoPago?`Desc. ${T} + 10 %`:T>0?`Desc. ${T} %`:t.aplicaProntoPago?"Desc. 10 %":null;function R(M,Y){e.setFont("helvetica","normal"),e.text(M,p,i);const se=e.getTextDimensions(Y).w;e.text(Y,m-se,i),i+=_}R("Subtotal","$"+hu(x)),y&&R(y,hu(N+A)),e.setDrawColor(180),e.line(p,i,m,i),i+=4,R("Subtotal","$"+hu(j)),I&&R("I.V.A. 21,00 %","$"+hu(O)),e.line(p,i,m,i),i+=4;const S=due(t.total??0);e.setFont("helvetica","bold");const k="SON PESOS: "+S+" *********************************************",C=m-p;e.splitTextToSize(k,C).forEach(M=>{e.text(M,p,i),i+=_});const X="$"+hu(t.total),V=e.getTextDimensions(X).w;e.setFont("helvetica","bold"),e.text("TOTAL",p,i),e.text(X,m-V,i),i+=_+4;const q=`pedido-${t.numeroPedido??((U=t.id)==null?void 0:U.slice(-6))??"sin-num"}.pdf`;e.save(q)}function pue(t){var h,d,f,p,m,_,x;const e=t.items||[],r=[["Pedido",`#${t.numeroPedido??((h=t.id)==null?void 0:h.slice(-6))??"-"}`],["Fecha",ZE(t.createdAt)],["Estado",t.estado||"pendiente"],["Razn social",((d=t.razonSocial)==null?void 0:d.razonSocial)||"Sin razn social"],["CUIT",((f=t.razonSocial)==null?void 0:f.cuit)||"-"],["Sucursal",t.sucursal?`${t.sucursal.direccion}, ${t.sucursal.localidad}`:"-"],["Condicin fiscal",(t.condicionFiscal==="A"?"Factura A":t.condicionFiscal==="nota_pedido"?"Nota de pedido":t.condicionFiscal)||"-"],["Forma de pago",t.formaPago||"-"],["Expreso/Logstica",((p=t.expreso)==null?void 0:p.nombre)||t.logistica||"-"],[],["Contacto",t.contacto?`${t.contacto.nombre} ${t.contacto.apellido}`:"-"],["Telfono",((m=t.contacto)==null?void 0:m.telefono)||"-"],["Email",((_=t.contacto)==null?void 0:_.email)||"-"],...t.observaciones?[["Observaciones / Comentarios",t.observaciones]]:[],[],["SKU","Descripcin","Bultos","Unid/bulto","Precio unit.","Precio bulto","Subtotal"]];for(const T of e){const b=(T.bultos??0)*(T.precioPorBulto??0);r.push([T.sku??"-",T.descripcion??"-",T.bultos??0,T.unidadesPorBulto??1,T.precioUnitario??0,T.precioPorBulto??0,b])}r.push([]),r.push(["Total a pagar","","","","","",""]);const n=t.subtotal??0,a=t.descuentoBase??0,i=n*(1-a/100),s=t.condicionFiscal==="A",o=s?(t.total??0)/1.21:t.total??0,l=s?(t.total??0)-o:0;r.push(["Subtotal bruto","","","","","",t.subtotal??0]),a>0&&r.push(["Desc. "+a+"%","","","","","",n-i]),t.aplicaProntoPago&&r.push(["Desc. pronto pago 10%","","","","","",i-i*.9]),r.push(["Subtotal con descuento","","","","","",o]),s&&r.push(["I.V.A 21%","","","","","",l]),r.push(["TOTAL","","","","","",t.total??0]);const c=rh.aoa_to_sheet(r),u=rh.book_new();rh.book_append_sheet(u,c,"Pedido"),YO(u,`pedido-${t.numeroPedido??((x=t.id)==null?void 0:x.slice(-6))??"sin-num"}.xlsx`)}function mue(t){var a,i,s;const e=[["N","Fecha","Estado","Razn social","Sucursal","Forma pago","Contacto","Telfono","Total"]];for(const o of t){const l=o.contacto?`${o.contacto.nombre??""} ${o.contacto.apellido??""}`.trim():"-",c=o.sucursal?`${o.sucursal.direccion}, ${o.sucursal.localidad}`:"-";e.push([o.numeroPedido??((a=o.id)==null?void 0:a.slice(-6))??"-",ZE(o.createdAt),o.estado||"pendiente",((i=o.razonSocial)==null?void 0:i.razonSocial)||"Sin razn social",c,o.formaPago||"-",l,((s=o.contacto)==null?void 0:s.telefono)||"-",o.total??0])}const r=rh.aoa_to_sheet(e),n=rh.book_new();rh.book_append_sheet(n,r,"Pedidos"),YO(n,`pedidos-${new Date().toISOString().slice(0,10)}.xlsx`)}const gue=[{value:"A",label:"Factura A"},{value:"nota_pedido",label:"Nota de pedido"}],l0="a_coordinar";function vue(t){if(!(t!=null&&t.direccionFacturacion))return"";const e=t.direccionFacturacion;return[e.calle,e.numero,e.localidad,e.provincia,e.codigoPostal].filter(Boolean).join(", ")}function Sk(t){const e=[t.calle,t.numero,t.localidad,t.provincia,t.codigoPostal].filter(Boolean);return e.length?e.join(", "):t.direccion?`${t.direccion}, ${t.localidad||""}`.trim():"-"}function xue(){const{user:t,profile:e}=eo(),r=Zs();le.useEffect(()=>{window.scrollTo(0,0)},[]);const[n,a]=le.useState([]),[i,s]=le.useState([]),[o,l]=le.useState([]),[c,u]=le.useState([]),[h,d]=le.useState([]),{carrito:f,setCarrito:p}=JL(),[m,_]=le.useState(""),[x,T]=le.useState(""),[b,I]=le.useState(""),[j,O]=le.useState(""),[N,A]=le.useState(!1),[y,R]=le.useState([]),[S,k]=le.useState(!1),[C,H]=le.useState(null),[X,V]=le.useState(!1),[q,re]=le.useState(""),[W,me]=le.useState(!1),[Ee,D]=le.useState(!1),[F,U]=le.useState({nombre:"",apellido:"",telefono:"",email:""}),[M,Y]=le.useState({nombre:"",apellido:"",telefono:"",email:""}),[se,he]=le.useState(!0),[fe,ve]=le.useState(""),[ke,ne]=le.useState([]),be=(e==null?void 0:e.descuentoBase)??0,Me=Object.fromEntries((ke||[]).map(Oe=>[Oe.productId,Oe])),J=(Oe,ut)=>{const dt=Me[Oe.id];return dt!=null&&dt.descuentoPct?ut*(1-(dt.descuentoPct??0)/100):ut},Ie=!1,Re="sin_razon_social",De=m===Re?null:n.find(Oe=>Oe.id===m),Te=b==="A"&&!(De!=null&&De.cuit),Qe=[...o,...i],Ye=x&&x!==l0?Qe.find(Oe=>Oe.id===x):null,we=j&&j!==l0?c.find(Oe=>Oe.id===j):null;le.useEffect(()=>{if(!t)return;const Oe=br(Vn(lr(_t,"razonesSociales"),ea("userId","==",t.uid)),ut=>{a(ut.docs.map(dt=>({id:dt.id,...dt.data()})))});return()=>Oe()},[t]);const qe=n.map(Oe=>Oe.id);le.useEffect(()=>{if(!qe.length){s([]);return}const Oe=Vn(lr(_t,"sucursales"),ea("razonSocialId","in",qe.slice(0,30))),ut=br(Oe,dt=>{s(dt.docs.map(Qt=>({id:Qt.id,...Qt.data()})))});return()=>ut()},[qe.join(",")]),le.useEffect(()=>{if(!t)return;const Oe=Vn(lr(_t,"sucursales"),ea("userId","==",t.uid),ea("razonSocialId","==",null)),ut=br(Oe,dt=>{l(dt.docs.map(Qt=>({id:Qt.id,...Qt.data()})))});return()=>ut()},[t==null?void 0:t.uid]),le.useEffect(()=>{if(!t)return;const Oe=br(Vn(lr(_t,"expresos"),ea("userId","==",t.uid)),ut=>{u(ut.docs.map(dt=>({id:dt.id,...dt.data()})))});return()=>Oe()},[t]),le.useEffect(()=>{const Oe=br(lr(_t,"vendedores"),ut=>{d(ut.docs.map(dt=>({id:dt.id,...dt.data()})))});return()=>Oe()},[]),le.useEffect(()=>{const Oe=br(lr(_t,"ofertas"),ut=>{ne(ut.docs.map(dt=>({id:dt.id,...dt.data()})))});return()=>Oe()},[]),le.useEffect(()=>{m===Re&&I("nota_pedido")},[m]),le.useEffect(()=>{if(e||t){const Oe={nombre:(e==null?void 0:e.nombreCompra)??(e==null?void 0:e.nombreContacto)??"",apellido:(e==null?void 0:e.apellidoCompra)??(e==null?void 0:e.apellidoContacto)??"",telefono:(e==null?void 0:e.telefonoCompra)??(e==null?void 0:e.telefonoContacto)??"",email:(e==null?void 0:e.emailCompra)??(e==null?void 0:e.emailContacto)??(t==null?void 0:t.email)??""},ut={nombre:(e==null?void 0:e.nombrePago)??(e==null?void 0:e.nombreContacto)??"",apellido:(e==null?void 0:e.apellidoPago)??(e==null?void 0:e.apellidoContacto)??"",telefono:(e==null?void 0:e.telefonoPago)??(e==null?void 0:e.telefonoContacto)??"",email:(e==null?void 0:e.emailPago)??(e==null?void 0:e.emailContacto)??(t==null?void 0:t.email)??""};U(Oe),Y(ut),he((e==null?void 0:e.mismoCompraQuePaga)!==!1)}},[e,t==null?void 0:t.email]);const tt=(Oe,ut)=>{const dt=Math.max(1,Math.floor(Number(ut))||1);p(f.map(Qt=>Qt.id===Oe?{...Qt,qty:dt}:Qt))},at=Oe=>{p(f.filter(ut=>ut.id!==Oe))},Tt=()=>{U({nombre:(e==null?void 0:e.nombreCompra)??(e==null?void 0:e.nombreContacto)??"",apellido:(e==null?void 0:e.apellidoCompra)??(e==null?void 0:e.apellidoContacto)??"",telefono:(e==null?void 0:e.telefonoCompra)??(e==null?void 0:e.telefonoContacto)??"",email:(e==null?void 0:e.emailCompra)??(e==null?void 0:e.emailContacto)??(t==null?void 0:t.email)??""}),Y({nombre:(e==null?void 0:e.nombrePago)??(e==null?void 0:e.nombreContacto)??"",apellido:(e==null?void 0:e.apellidoPago)??(e==null?void 0:e.apellidoContacto)??"",telefono:(e==null?void 0:e.telefonoPago)??(e==null?void 0:e.telefonoContacto)??"",email:(e==null?void 0:e.emailPago)??(e==null?void 0:e.emailContacto)??(t==null?void 0:t.email)??""}),he((e==null?void 0:e.mismoCompraQuePaga)!==!1),me(!0)},$t=async Oe=>{var dt;if((dt=Oe==null?void 0:Oe.preventDefault)==null||dt.call(Oe),!t)return;const ut=se?F:M;D(!0);try{await fs(jr(_t,"users",t.uid),{nombreCompra:F.nombre||null,apellidoCompra:F.apellido||null,telefonoCompra:F.telefono||null,emailCompra:F.email||null,nombrePago:ut.nombre||null,apellidoPago:ut.apellido||null,telefonoPago:ut.telefono||null,emailPago:ut.email||null,mismoCompraQuePaga:se,nombreContacto:F.nombre||null,apellidoContacto:F.apellido||null,telefonoContacto:F.telefono||null,emailContacto:F.email||null}),me(!1)}finally{D(!1)}},At=f.reduce((Oe,ut)=>{const dt=ut.precioPorBulto??(ut.precioUnitario??0)*(ut.unidadesPorBulto??1),Qt=J(ut,dt);return Oe+Qt*ut.qty},0),vt=At*(be/100),lt=At-vt,ct=lt,Ft={nombre:(e==null?void 0:e.nombreCompra)??(e==null?void 0:e.nombreContacto)??"",apellido:(e==null?void 0:e.apellidoCompra)??(e==null?void 0:e.apellidoContacto)??"",telefono:(e==null?void 0:e.telefonoCompra)??(e==null?void 0:e.telefonoContacto)??"",email:(e==null?void 0:e.emailCompra)??(e==null?void 0:e.emailContacto)??(t==null?void 0:t.email)??""},bt={nombre:(e==null?void 0:e.nombrePago)??(e==null?void 0:e.nombreContacto)??"",apellido:(e==null?void 0:e.apellidoPago)??(e==null?void 0:e.apellidoContacto)??"",telefono:(e==null?void 0:e.telefonoPago)??(e==null?void 0:e.telefonoContacto)??"",email:(e==null?void 0:e.emailPago)??(e==null?void 0:e.emailContacto)??(t==null?void 0:t.email)??""},Nt=!!(Ft.nombre&&Ft.apellido&&Ft.telefono&&Ft.email&&bt.nombre&&bt.apellido&&bt.telefono&&bt.email);m&&x&&b&&j&&!Te&&Nt&&X&&f.length>0;const zt=()=>{const Oe=[];return m||Oe.push('Seleccion una razn social o "Sin razn social".'),x||Oe.push('Seleccion sucursal de entrega o "A coordinar".'),b||Oe.push("Seleccion la condicin de compra (Factura A o Nota de pedido)."),j||Oe.push("Seleccion la logstica."),Nt||Oe.push("Complet datos de quien compra y quien paga en la seccin Datos."),Nt&&!X&&Oe.push("Confirm que los datos de contacto son correctos."),Te&&Oe.push("Para Factura A necesits una razn social con CUIT."),f.length===0&&Oe.push("Tu carrito est vaco."),Oe},xr=async()=>{var ut,dt;const Oe=zt();if(Oe.length>0){R(Oe),setTimeout(()=>window.scrollTo({top:0,behavior:"smooth"}),50);return}if(R([]),!!t){A(!0);try{const Qt=Ye||null,Ct=we||null,kt=j===l0?l0:(Ct==null?void 0:Ct.nombre)||null;let Kt;try{await Y$(_t,async Jt=>{const gn=jr(_t,"counters","pedidos"),Br=await Jt.get(gn);Kt=(Br.exists()?Br.data().count??0:0)+1,Jt.set(gn,{count:Kt},{merge:!0})})}catch(Jt){if((Jt==null?void 0:Jt.code)==="permission-denied"||(ut=Jt==null?void 0:Jt.message)!=null&&ut.includes("permission"))Kt=Math.floor(Date.now()/1e3);else throw Jt}const Kr={numeroPedido:Kt,userId:t.uid,vendedorId:q||(e==null?void 0:e.vendedorId)||null,vendedorNombre:q?(dt=h.find(Jt=>Jt.id===q))==null?void 0:dt.nombre:null,pedidoEsVendedor:!!q,razonSocial:De,sucursal:Qt,expreso:Ct,logistica:kt,condicionFiscal:b,formaPago:null,items:f.map(Jt=>{const gn=Jt.precioPorBulto??(Jt.precioUnitario??0)*(Jt.unidadesPorBulto??1),Br=J(Jt,gn),Ut=Jt.unidadesPorBulto??1;return{id:Jt.id,descripcion:Jt.descripcion??Jt.nombre,sku:Jt.sku??Jt.codigo,dimensiones:Jt.dimensiones,presentacion:Jt.presentacion,bultos:Jt.qty,unidadesPorBulto:Ut,precioUnitario:Br/Ut,precioPorBulto:Br}}),subtotal:lt,descuentoBase:be,aplicaProntoPago:Ie,total:ct,comprobanteUrl:null,contactoCompra:Ft,contactoPago:bt,contacto:Ft,observaciones:fe.trim()||null,createdAt:new Date,estado:"pendiente"};await yc(lr(_t,"pedidos"),Kr),H({...Kr,id:null}),p([]),_(""),T(""),I(""),O(""),re(""),k(!0)}catch(Qt){alert("Error al enviar el pedido: "+Qt.message)}finally{A(!1)}}},Pt=m===Re?"Remito (sin razn social)":De?[De.razonSocial,De.cuit,vue(De)].filter(Boolean).join("  "):null;return w.jsxs("div",{className:"container page",children:[w.jsx("h1",{className:"page-title",children:"Checkout"}),w.jsx("p",{className:"page-subtitle",children:"Complet los datos para finalizar tu pedido."}),S?w.jsxs("div",{className:"checkout-exito",role:"alert",children:[w.jsx("p",{className:"exito-titulo",children:"Se envi correctamente"}),w.jsx("p",{className:"exito-mensaje",children:"Recibirs una respuesta a la brevedad."}),w.jsxs("div",{className:"checkout-exito-acciones",children:[C&&w.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>eF(C),children:"Descargar PDF del pedido"}),w.jsx("button",{className:"btn btn-primary",onClick:()=>r("/catalogo"),children:"Seguir comprando"})]})]}):f.length===0?w.jsx("p",{className:"empty-state",children:"Tu carrito est vaco. Agreg productos desde el catlogo."}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"checkout-carrito-resumen",children:[w.jsx("h3",{children:"Tu pedido"}),w.jsx("ul",{className:"carrito-items-editable",children:f.map(Oe=>{const ut=Oe.unidadesPorBulto??1,dt=Oe.precioPorBulto??(Oe.precioUnitario??0)*ut,Qt=J(Oe,dt),Ct=!!Me[Oe.id],kt=Qt*Oe.qty,Kt=Qt/ut;return w.jsxs("li",{className:"carrito-item",children:[w.jsxs("div",{className:"carrito-item-info",children:[w.jsx("span",{className:"carrito-item-nombre",children:Oe.descripcion??Oe.nombre}),w.jsxs("span",{className:"carrito-item-detalle",children:[(()=>{const Kr=Oe.qty*ut;return`${Kr} ${Kr===1?"unidad":"unid."}`})(),"  $/u $",Nr(Kt)," ",w.jsx("span",{className:"price-sin-iva",children:"(sin IVA)"}),Ct&&w.jsxs("span",{className:"product-price-base-tachado",children:["$",Nr(dt*Oe.qty)]})," "," $",Nr(kt)]})]}),w.jsxs("div",{className:"carrito-item-acciones",children:[w.jsx("input",{type:"number",min:"1",value:Oe.qty,onChange:Kr=>tt(Oe.id,Kr.target.value),className:"carrito-qty-input"}),w.jsx("button",{type:"button",className:"btn btn-danger btn-sm",onClick:()=>at(Oe.id),title:"Eliminar",children:"Eliminar"})]})]},Oe.id)})})]}),y.length>0&&w.jsx("div",{className:"checkout-alerta-errores",role:"alert",children:w.jsxs("div",{className:"checkout-alerta-inner container",children:[w.jsx("span",{className:"checkout-alerta-icono","aria-hidden":!0,children:""}),w.jsxs("div",{className:"checkout-alerta-texto",children:[w.jsx("strong",{children:"Hay errores que corregir antes de finalizar"}),w.jsx("ul",{children:y.map((Oe,ut)=>w.jsx("li",{children:Oe},ut))})]}),w.jsx("button",{type:"button",className:"checkout-alerta-cerrar",onClick:()=>R([]),"aria-label":"Cerrar",children:""})]})}),w.jsxs("div",{className:"checkout-selectores",children:[w.jsxs("div",{className:"selector-block checkout-datos-facturacion",children:[w.jsx("label",{children:"Datos de facturacin"}),w.jsx("p",{className:"checkout-facturacion-resumen",children:Pt||"Seleccion una razn social"})]}),w.jsxs("div",{className:"selector-block",children:[w.jsx("label",{children:"1. Razn Social"}),w.jsxs("select",{value:m,onChange:Oe=>{_(Oe.target.value),T(""),R([])},children:[w.jsx("option",{value:"",children:"Seleccionar..."}),w.jsx("option",{value:Re,children:"Sin razn social (Remito)"}),n.map(Oe=>w.jsxs("option",{value:Oe.id,children:[Oe.razonSocial," ",Oe.cuit?` CUIT: ${Oe.cuit}`:"(sin CUIT)"]},Oe.id))]})]}),w.jsxs("div",{className:"selector-block",children:[w.jsx("label",{children:"2. Condicin de compra"}),w.jsxs("select",{value:b,onChange:Oe=>{I(Oe.target.value),R([])},children:[w.jsx("option",{value:"",children:"Seleccionar..."}),(m===Re?[{value:"nota_pedido",label:"Nota de pedido"}]:gue).map(Oe=>w.jsx("option",{value:Oe.value,children:Oe.label},Oe.value))]}),m===Re&&w.jsx("p",{className:"hint",children:"Sin razn social = Nota de pedido."}),Te&&w.jsx("p",{className:"hint error",children:"Para Factura A necesits una razn social con CUIT."})]}),w.jsxs("div",{className:"selector-block",children:[w.jsx("label",{children:"3. Sucursal de entrega"}),w.jsxs("select",{value:x,onChange:Oe=>{T(Oe.target.value),R([])},children:[w.jsx("option",{value:"",children:"Seleccionar..."}),w.jsx("option",{value:l0,children:"A coordinar"}),o.map(Oe=>w.jsxs("option",{value:Oe.id,children:["Sin razn  ",Sk(Oe)]},Oe.id)),i.map(Oe=>w.jsxs("option",{value:Oe.id,children:[Oe.razonSocial||"Sucursal","  ",Sk(Oe)]},Oe.id))]})]}),w.jsxs("div",{className:"selector-block",children:[w.jsx("label",{children:"4. Logstica"}),w.jsxs("select",{value:j,onChange:Oe=>{O(Oe.target.value),R([])},children:[w.jsx("option",{value:"",children:"Seleccionar..."}),w.jsx("option",{value:l0,children:"A coordinar"}),c.map(Oe=>w.jsxs("option",{value:Oe.id,children:[Oe.nombre,"  ",Oe.direccionCABA]},Oe.id))]})]}),w.jsxs("div",{className:"selector-block",children:[w.jsx("label",{children:"5. Comentarios u observaciones (opcional)"}),w.jsx("textarea",{value:fe,onChange:Oe=>ve(Oe.target.value),placeholder:"Notas, comentarios o observaciones para el pedido...",rows:3,className:"checkout-observaciones"})]}),w.jsxs("div",{className:"selector-block datos-contacto-block",children:[w.jsxs("div",{className:"datos-contacto-header",children:[w.jsx("label",{children:"Datos de contacto"}),Nt&&!W&&w.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:Tt,children:"Editar"})]}),W?w.jsxs("form",{onSubmit:$t,className:"checkout-contacto-edit",children:[w.jsxs("label",{className:"checkbox-label",style:{marginBottom:"0.75rem"},children:[w.jsx("input",{type:"checkbox",checked:se,onChange:Oe=>he(Oe.target.checked)}),"Es la misma persona quien compra y quien paga?"]}),w.jsxs("div",{className:"checkout-contacto-grid",children:[w.jsxs("div",{children:[w.jsx("strong",{children:"Quien compra"}),w.jsx("input",{placeholder:"Nombre",value:F.nombre,onChange:Oe=>U({...F,nombre:Oe.target.value})}),w.jsx("input",{placeholder:"Apellido",value:F.apellido,onChange:Oe=>U({...F,apellido:Oe.target.value})}),w.jsx("input",{type:"tel",placeholder:"Telfono WhatsApp",value:F.telefono,onChange:Oe=>U({...F,telefono:Oe.target.value})}),w.jsx("input",{type:"email",placeholder:"Email",value:F.email,onChange:Oe=>U({...F,email:Oe.target.value})})]}),w.jsxs("div",{children:[w.jsx("strong",{children:"Quien paga"}),w.jsx("input",{placeholder:"Nombre",value:se?F.nombre:M.nombre,onChange:Oe=>Y({...M,nombre:Oe.target.value}),disabled:se}),w.jsx("input",{placeholder:"Apellido",value:se?F.apellido:M.apellido,onChange:Oe=>Y({...M,apellido:Oe.target.value}),disabled:se}),w.jsx("input",{type:"tel",placeholder:"Telfono WhatsApp",value:se?F.telefono:M.telefono,onChange:Oe=>Y({...M,telefono:Oe.target.value}),disabled:se}),w.jsx("input",{type:"email",placeholder:"Email",value:se?F.email:M.email,onChange:Oe=>Y({...M,email:Oe.target.value}),disabled:se})]})]}),w.jsxs("div",{className:"checkout-contacto-acciones",children:[w.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>me(!1),children:"Cancelar"}),w.jsx("button",{type:"submit",className:"btn btn-primary btn-sm",disabled:Ee,children:Ee?"Guardando...":"Guardar"})]})]}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"datos-contacto-resumen",children:[w.jsxs("p",{children:[w.jsx("strong",{children:"Quien compra:"})," ",Ft.nombre," ",Ft.apellido,"  ",Ft.telefono,"  ",Ft.email]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Quien paga:"})," ",bt.nombre," ",bt.apellido,"  ",bt.telefono,"  ",bt.email]})]}),!Nt&&w.jsxs("p",{className:"hint error",children:["Complet datos de quien compra y quien paga en la seccin ",w.jsx(kr,{to:"/datos",children:"Datos"}),"."]}),Nt&&w.jsxs("label",{className:"checkbox-label",children:[w.jsx("input",{type:"checkbox",checked:X,onChange:Oe=>{V(Oe.target.checked),R([])}}),"Confirmo que los datos son correctos"]})]})]}),w.jsxs("div",{className:"selector-block",children:[w.jsx("label",{children:"Vendedor"}),w.jsxs("select",{value:q,onChange:Oe=>{re(Oe.target.value),R([])},children:[w.jsx("option",{value:"",children:"Sin ningn vendedor"}),h.map(Oe=>w.jsx("option",{value:Oe.id,children:Oe.nombre},Oe.id))]})]})]}),w.jsxs("div",{className:"checkout-totales totales-block",children:[w.jsxs("div",{className:"totales-fila",children:[w.jsx("span",{className:"totales-label",children:"Subtotal"}),w.jsxs("span",{className:"totales-valor",children:["$",Nr(At)]})]}),be>0&&vt>0&&w.jsxs("div",{className:"totales-fila",children:[w.jsxs("span",{className:"totales-label",children:["Descuento (",be," %)"]}),w.jsxs("span",{className:"totales-valor monto-negativo",children:["-$",Nr(vt)]})]}),Ie,w.jsx("div",{className:"totales-sep"}),w.jsxs("div",{className:"totales-fila",children:[w.jsx("span",{className:"totales-label",children:"Subtotal"}),w.jsxs("span",{className:"totales-valor",children:["$",Nr(b==="A"?ct/1.21:ct)]})]}),b==="A"&&w.jsxs("div",{className:"totales-fila",children:[w.jsx("span",{className:"totales-label",children:"I.V.A. 21,00 %"}),w.jsxs("span",{className:"totales-valor",children:["$",Nr(ct-ct/1.21)]})]}),w.jsx("div",{className:"totales-sep"}),w.jsxs("div",{className:"totales-fila totales-total",children:[w.jsx("span",{className:"totales-label",children:"TOTAL"}),w.jsxs("span",{className:"totales-valor",children:["$",Nr(ct)]})]})]}),w.jsxs("div",{className:"checkout-acciones",children:[w.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>{p([]),r("/catalogo")},children:"Cancelar"}),w.jsx("button",{className:"btn btn-primary btn-lg",onClick:xr,disabled:N,children:N?"Enviando...":"Finalizar pedido"})]})]})]})}const c0=[{id:"02",nombre:"Ciudad Autnoma de Buenos Aires"},{id:"06",nombre:"Buenos Aires"},{id:"10",nombre:"Catamarca"},{id:"14",nombre:"Crdoba"},{id:"18",nombre:"Corrientes"},{id:"22",nombre:"Chaco"},{id:"26",nombre:"Chubut"},{id:"30",nombre:"Entre Ros"},{id:"34",nombre:"Formosa"},{id:"38",nombre:"Jujuy"},{id:"42",nombre:"La Pampa"},{id:"46",nombre:"La Rioja"},{id:"50",nombre:"Mendoza"},{id:"54",nombre:"Misiones"},{id:"58",nombre:"Neuqun"},{id:"62",nombre:"Ro Negro"},{id:"66",nombre:"Salta"},{id:"70",nombre:"San Juan"},{id:"74",nombre:"San Luis"},{id:"78",nombre:"Santa Cruz"},{id:"82",nombre:"Santa Fe"},{id:"86",nombre:"Santiago del Estero"},{id:"90",nombre:"Tucumn"},{id:"94",nombre:"Tierra del Fuego, Antrtida e Islas del Atlntico Sur"}],_ue="https://apis.datos.gob.ar/georef/api";async function Tk(t){if(!t)return[];try{const r=await(await fetch(`${_ue}/localidades?provincia=${t}&max=2000&orden=nombre`)).json();return r.localidades?r.localidades.map(n=>({id:n.id,nombre:n.nombre})):[]}catch(e){return console.warn("Error fetching localidades:",e),[]}}const Ck=[{value:"responsable_inscripto",label:"Responsable inscripto"},{value:"autonomo",label:"Autnomo"},{value:"monotributista",label:"Monotributista"},{value:"exento",label:"Exento"},{value:"no_alcanzado",label:"No alcanzado"}];function yue(){var Ye;const{user:t,profile:e}=eo(),r=Zs(),a=((Ye=Ml().state)==null?void 0:Ye.fromRegister)===!0,[i,s]=le.useState([]),[o,l]=le.useState([]),[c,u]=le.useState("razones"),[h,d]=le.useState({razonSocial:"",cuit:"",condicionFiscal:"",calle:"",numero:"",localidad:"",provincia:"",provinciaId:"",codigoPostal:""}),[f,p]=le.useState({razonSocialId:"",razonSocial:"",calle:"",numero:"",localidad:"",provincia:"",provinciaId:"",codigoPostal:""}),[m,_]=le.useState([]),[x,T]=le.useState([]),[b,I]=le.useState(!1),[j,O]=le.useState(!1),[N,A]=le.useState([]),[y,R]=le.useState({nombre:"",direccionCABA:"",telefono:""}),[S,k]=le.useState(!0),[C,H]=le.useState({nombre:"",apellido:"",telefono:"",email:""}),[X,V]=le.useState({nombre:"",apellido:"",telefono:"",email:""}),[q,re]=le.useState(!1),[W,me]=le.useState(!1),[Ee,D]=le.useState(null),[F,U]=le.useState(null),[M,Y]=le.useState(null);le.useEffect(()=>{if(!t)return;const we=Vn(lr(_t,"razonesSociales"),ea("userId","==",t.uid)),qe=br(we,tt=>{s(tt.docs.map(at=>({id:at.id,...at.data()})))});return()=>qe()},[t]),le.useEffect(()=>{if(!t)return;const we=Vn(lr(_t,"expresos"),ea("userId","==",t.uid)),qe=br(we,tt=>{l(tt.docs.map(at=>({id:at.id,...at.data()})))});return()=>qe()},[t]);const[se,he]=le.useState([]),fe=i.map(we=>we.id);le.useEffect(()=>{if(!fe.length){he([]);return}const we=Vn(lr(_t,"sucursales"),ea("razonSocialId","in",fe.slice(0,30))),qe=br(we,tt=>{he(tt.docs.map(at=>({id:at.id,...at.data()})))});return()=>qe()},[fe.join(",")]),le.useEffect(()=>{if(!t)return;const we=Vn(lr(_t,"sucursales"),ea("userId","==",t.uid),ea("razonSocialId","==",null)),qe=br(we,tt=>{A(tt.docs.map(at=>({id:at.id,...at.data()})))});return()=>qe()},[t==null?void 0:t.uid]),le.useEffect(()=>{h.provinciaId?(I(!0),Tk(h.provinciaId).then(we=>{_(we),I(!1)})):_([])},[h.provinciaId]),le.useEffect(()=>{f.provinciaId?(O(!0),Tk(f.provinciaId).then(we=>{T(we),O(!1)})):T([])},[f.provinciaId]),le.useEffect(()=>{if(e){const we={nombre:e.nombreCompra??e.nombreContacto??"",apellido:e.apellidoCompra??e.apellidoContacto??"",telefono:e.telefonoCompra??e.telefonoContacto??"",email:e.emailCompra??e.emailContacto??(t==null?void 0:t.email)??""},qe={nombre:e.nombrePago??e.nombreContacto??"",apellido:e.apellidoPago??e.apellidoContacto??"",telefono:e.telefonoPago??e.telefonoContacto??"",email:e.emailPago??e.emailContacto??(t==null?void 0:t.email)??""};H(we),V(qe),k(e.mismoCompraQuePaga!==!1)}},[e,t==null?void 0:t.email]),le.useEffect(()=>{S&&V({...C})},[S]);const ve=S?C:X,ke=async we=>{we.preventDefault();const qe={calle:h.calle||null,numero:h.numero||null,localidad:h.localidad||null,provincia:h.provincia||null,codigoPostal:h.codigoPostal||null},tt={userId:t.uid,razonSocial:h.razonSocial,cuit:h.cuit||null,condicionFiscal:h.condicionFiscal||null,direccionFacturacion:qe};Ee?(await fs(jr(_t,"razonesSociales",Ee),tt),D(null)):await yc(lr(_t,"razonesSociales"),tt),d({razonSocial:"",cuit:"",condicionFiscal:"",calle:"",numero:"",localidad:"",provincia:"",provinciaId:"",codigoPostal:""})},ne=we=>{var tt;const qe=we.direccionFacturacion||{};d({razonSocial:we.razonSocial||"",cuit:we.cuit||"",condicionFiscal:we.condicionFiscal||"",calle:qe.calle||"",numero:qe.numero||"",localidad:qe.localidad||"",provincia:qe.provincia||"",provinciaId:((tt=c0.find(at=>at.nombre===qe.provincia))==null?void 0:tt.id)||"",codigoPostal:qe.codigoPostal||""}),D(we.id)},be=async we=>{we.preventDefault();const qe={userId:t.uid,razonSocialId:f.razonSocialId||null,razonSocial:f.razonSocial||null,calle:f.calle,numero:f.numero||null,localidad:f.localidad,provincia:f.provincia||null,codigoPostal:f.codigoPostal||null,direccion:`${f.calle||""} ${f.numero||""}`.trim()||f.calle};F?(await fs(jr(_t,"sucursales",F),qe),U(null)):await yc(lr(_t,"sucursales"),qe),p({razonSocialId:"",razonSocial:"",calle:"",numero:"",localidad:"",provincia:"",provinciaId:"",codigoPostal:""})},Me=we=>{var tt;const qe=i.find(at=>at.id===we.razonSocialId);p({razonSocialId:we.razonSocialId||"",razonSocial:(qe==null?void 0:qe.razonSocial)||we.razonSocial||"",calle:we.calle||"",numero:we.numero||"",localidad:we.localidad||"",provincia:we.provincia||"",provinciaId:((tt=c0.find(at=>at.nombre===we.provincia))==null?void 0:tt.id)||"",codigoPostal:we.codigoPostal||""}),U(we.id)},J=async we=>{we.preventDefault();const qe={userId:t.uid,nombre:y.nombre,direccionCABA:y.direccionCABA,telefono:y.telefono||null};M?(await fs(jr(_t,"expresos",M),qe),Y(null)):await yc(lr(_t,"expresos"),qe),R({nombre:"",direccionCABA:"",telefono:""})},Ie=we=>{R({nombre:we.nombre||"",direccionCABA:we.direccionCABA||"",telefono:we.telefono||""}),Y(we.id)},Re=async we=>{if(we.preventDefault(),!!t){re(!0),me(!1);try{const qe=jr(_t,"users",t.uid);await fs(qe,{nombreCompra:C.nombre||null,apellidoCompra:C.apellido||null,telefonoCompra:C.telefono||null,emailCompra:C.email||null,nombrePago:ve.nombre||null,apellidoPago:ve.apellido||null,telefonoPago:ve.telefono||null,emailPago:ve.email||null,mismoCompraQuePaga:S,nombreContacto:C.nombre||null,apellidoContacto:C.apellido||null,telefonoContacto:C.telefono||null,emailContacto:C.email||null}),me(!0),setTimeout(()=>me(!1),3e3),!!(C.nombre&&C.apellido&&C.telefono&&C.email&&ve.nombre&&ve.apellido&&ve.telefono&&ve.email)&&setTimeout(()=>r("/catalogo"),1500)}finally{re(!1)}}},De=!!(C.nombre&&C.apellido&&C.telefono&&C.email&&ve.nombre&&ve.apellido&&ve.telefono&&ve.email),Te=we=>{if(!(we!=null&&we.direccionFacturacion))return"";const qe=we.direccionFacturacion;return[qe.calle,qe.numero,qe.localidad,qe.provincia,qe.codigoPostal].filter(Boolean).join(", ")},Qe=we=>{const qe=[we.calle,we.numero,we.localidad,we.provincia,we.codigoPostal].filter(Boolean);return qe.length?qe.join(", "):we.direccion?`${we.direccion}, ${we.localidad||""}`.trim():"-"};return w.jsxs("div",{className:"container page",children:[w.jsx("h1",{className:"page-title",children:"Datos"}),a&&w.jsx("div",{className:"datos-alerta-registro",role:"alert",children:"Por favor complet todos los datos necesarios para poder hacer pedidos."}),!De&&!a&&w.jsx("p",{className:"datos-prompt",children:"Para poder realizar pedidos complet los siguientes datos."}),w.jsx("p",{className:"page-subtitle",children:"Gestion tus razones sociales, sucursales de entrega, expresos y datos de contacto."}),w.jsxs("div",{className:"tabs",children:[w.jsx("button",{className:c==="razones"?"active":"",onClick:()=>u("razones"),children:"Razones sociales"}),w.jsx("button",{className:c==="sucursales"?"active":"",onClick:()=>u("sucursales"),children:"Sucursales de entrega"}),w.jsx("button",{className:c==="expresos"?"active":"",onClick:()=>u("expresos"),children:"Expresos"}),w.jsx("button",{className:c==="contacto"?"active":"",onClick:()=>u("contacto"),children:"Datos de contacto"})]}),c==="razones"&&w.jsxs("section",{className:"entidades-section",children:[w.jsxs("form",{onSubmit:ke,className:"form-stacked datos-form-razon",children:[w.jsx("h3",{children:"Agregar razn social"}),w.jsx("input",{placeholder:"Razn social *",value:h.razonSocial,onChange:we=>d({...h,razonSocial:we.target.value}),required:!0}),w.jsx("input",{placeholder:"CUIT o CUIL",value:h.cuit,onChange:we=>d({...h,cuit:we.target.value})}),w.jsxs("select",{value:h.condicionFiscal,onChange:we=>d({...h,condicionFiscal:we.target.value}),children:[w.jsx("option",{value:"",children:"Condicin fiscal (opcional)"}),Ck.map(we=>w.jsx("option",{value:we.value,children:we.label},we.value))]}),w.jsx("h4",{children:"Direccin de facturacin"}),w.jsxs("div",{className:"form-row",children:[w.jsx("input",{placeholder:"Calle *",value:h.calle,onChange:we=>d({...h,calle:we.target.value})}),w.jsx("input",{placeholder:"Nmero",value:h.numero,onChange:we=>d({...h,numero:we.target.value}),style:{maxWidth:100}})]}),w.jsxs("div",{className:"form-row",children:[w.jsxs("select",{value:h.provinciaId,onChange:we=>{const qe=we.target.value,tt=c0.find(at=>at.id===qe);d({...h,provinciaId:qe,provincia:(tt==null?void 0:tt.nombre)||"",localidad:""})},children:[w.jsx("option",{value:"",children:"Provincia"}),c0.map(we=>w.jsx("option",{value:we.id,children:we.nombre},we.id))]}),w.jsxs("select",{value:h.localidad,onChange:we=>d({...h,localidad:we.target.value}),disabled:!h.provinciaId||b,required:!0,children:[w.jsx("option",{value:"",children:b?"Cargando...":"Localidad *"}),m.map(we=>w.jsx("option",{value:we.nombre,children:we.nombre},we.id))]}),w.jsx("input",{placeholder:"Cdigo postal",value:h.codigoPostal,onChange:we=>d({...h,codigoPostal:we.target.value}),style:{maxWidth:120}})]}),w.jsx("button",{type:"submit",className:"btn btn-primary",children:Ee?"Guardar cambios":"Agregar razn social"}),Ee&&w.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>{D(null),d({razonSocial:"",cuit:"",condicionFiscal:"",calle:"",numero:"",localidad:"",provincia:"",provinciaId:"",codigoPostal:""})},children:"Cancelar"})]}),w.jsx("ul",{className:"entidades-list",children:i.map(we=>{var qe;return w.jsxs("li",{className:"entidades-list-item",children:[w.jsxs("span",{children:[w.jsx("strong",{children:we.razonSocial}),we.cuit&&`  CUIT: ${we.cuit}`,we.condicionFiscal&&`  ${((qe=Ck.find(tt=>tt.value===we.condicionFiscal))==null?void 0:qe.label)||we.condicionFiscal}`,Te(we)&&`  ${Te(we)}`]}),w.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>ne(we),children:"Editar"})]},we.id)})})]}),c==="sucursales"&&w.jsxs("section",{className:"entidades-section",children:[w.jsxs("form",{onSubmit:be,className:"form-stacked datos-form-sucursal",children:[w.jsx("h3",{children:"Agregar sucursal o domicilio de entrega"}),w.jsxs("select",{value:f.razonSocialId,onChange:we=>{const qe=we.target.value,tt=qe?i.find(at=>at.id===qe):null;p({...f,razonSocialId:qe,razonSocial:(tt==null?void 0:tt.razonSocial)||""})},children:[w.jsx("option",{value:"",children:"Sin razn social"}),i.map(we=>w.jsx("option",{value:we.id,children:we.razonSocial},we.id))]}),w.jsx("input",{placeholder:"Calle *",value:f.calle,onChange:we=>p({...f,calle:we.target.value}),required:!0}),w.jsx("input",{placeholder:"Nmero",value:f.numero,onChange:we=>p({...f,numero:we.target.value}),style:{maxWidth:100}}),w.jsxs("select",{value:f.provinciaId,onChange:we=>{const qe=we.target.value,tt=c0.find(at=>at.id===qe);p({...f,provinciaId:qe,provincia:(tt==null?void 0:tt.nombre)||"",localidad:""})},children:[w.jsx("option",{value:"",children:"Provincia"}),c0.map(we=>w.jsx("option",{value:we.id,children:we.nombre},we.id))]}),w.jsxs("select",{value:f.localidad,onChange:we=>p({...f,localidad:we.target.value}),disabled:!f.provinciaId||j,required:!0,children:[w.jsx("option",{value:"",children:j?"Cargando...":"Localidad *"}),x.map(we=>w.jsx("option",{value:we.nombre,children:we.nombre},we.id))]}),w.jsx("input",{placeholder:"Cdigo postal",value:f.codigoPostal,onChange:we=>p({...f,codigoPostal:we.target.value})}),w.jsx("button",{type:"submit",className:"btn btn-primary",children:F?"Guardar cambios":"Agregar sucursal"}),F&&w.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>{U(null),p({razonSocialId:"",razonSocial:"",calle:"",numero:"",localidad:"",provincia:"",provinciaId:"",codigoPostal:""})},children:"Cancelar"})]}),w.jsxs("ul",{className:"entidades-list",children:[N.map(we=>w.jsxs("li",{className:"entidades-list-item",children:[w.jsxs("span",{children:[w.jsx("em",{children:"Sin razn social"}),"  ",Qe(we)]}),w.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>Me(we),children:"Editar"})]},we.id)),se.map(we=>{const qe=i.find(tt=>tt.id===we.razonSocialId);return w.jsxs("li",{className:"entidades-list-item",children:[w.jsxs("span",{children:[w.jsx("strong",{children:(qe==null?void 0:qe.razonSocial)||we.razonSocial||"Sin razn"}),"  ",Qe(we)]}),w.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>Me(we),children:"Editar"})]},we.id)})]})]}),c==="expresos"&&w.jsxs("section",{className:"entidades-section",children:[w.jsxs("form",{onSubmit:J,className:"form-inline",children:[w.jsx("input",{placeholder:"Nombre del expreso *",value:y.nombre,onChange:we=>R({...y,nombre:we.target.value}),required:!0}),w.jsx("input",{placeholder:"Direccin CABA *",value:y.direccionCABA,onChange:we=>R({...y,direccionCABA:we.target.value}),required:!0}),w.jsx("input",{placeholder:"Telfono",value:y.telefono,onChange:we=>R({...y,telefono:we.target.value})}),w.jsx("button",{type:"submit",className:"btn btn-primary",children:M?"Guardar cambios":"Agregar"}),M&&w.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>{Y(null),R({nombre:"",direccionCABA:"",telefono:""})},children:"Cancelar"})]}),w.jsx("ul",{className:"entidades-list",children:o.map(we=>w.jsxs("li",{className:"entidades-list-item",children:[w.jsxs("span",{children:[w.jsx("strong",{children:we.nombre}),"  ",we.direccionCABA," ",we.telefono?` ${we.telefono}`:""]}),w.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>Ie(we),children:"Editar"})]},we.id))})]}),c==="contacto"&&w.jsx("section",{className:"entidades-section",children:w.jsxs("form",{onSubmit:Re,className:"form-stacked",children:[w.jsxs("label",{className:"checkbox-label datos-checkbox-mismo",children:[w.jsx("input",{type:"checkbox",checked:S,onChange:we=>k(we.target.checked)}),"Es la misma persona quien compra y quien paga?"]}),w.jsxs("div",{className:"datos-contacto-grid",children:[w.jsxs("div",{className:"datos-contacto-block",children:[w.jsx("h4",{children:"Datos de quien compra"}),w.jsx("input",{placeholder:"Nombre *",value:C.nombre,onChange:we=>H({...C,nombre:we.target.value})}),w.jsx("input",{placeholder:"Apellido *",value:C.apellido,onChange:we=>H({...C,apellido:we.target.value})}),w.jsx("input",{type:"tel",placeholder:"Telfono WhatsApp *",value:C.telefono,onChange:we=>H({...C,telefono:we.target.value})}),w.jsx("input",{type:"email",placeholder:"Email *",value:C.email,onChange:we=>H({...C,email:we.target.value})})]}),w.jsxs("div",{className:"datos-contacto-block",children:[w.jsx("h4",{children:"Datos de quien paga"}),w.jsx("input",{placeholder:"Nombre *",value:ve.nombre,onChange:we=>V({...X,nombre:we.target.value}),disabled:S}),w.jsx("input",{placeholder:"Apellido *",value:ve.apellido,onChange:we=>V({...X,apellido:we.target.value}),disabled:S}),w.jsx("input",{type:"tel",placeholder:"Telfono WhatsApp *",value:ve.telefono,onChange:we=>V({...X,telefono:we.target.value}),disabled:S}),w.jsx("input",{type:"email",placeholder:"Email *",value:ve.email,onChange:we=>V({...X,email:we.target.value}),disabled:S})]})]}),w.jsx("button",{type:"submit",className:"btn btn-primary",disabled:q,children:q?"Guardando...":"Guardar datos de contacto"}),W&&w.jsx("p",{className:"hint success",children:"Datos guardados"})]})})]})}function wue(){const{user:t}=eo(),[e,r]=le.useState([]);le.useEffect(()=>{if(!t)return;const i=Vn(lr(_t,"pedidos"),ea("userId","==",t.uid),Dh("createdAt","desc")),s=br(i,o=>{r(o.docs.map(l=>({id:l.id,...l.data()})))});return()=>s()},[t]);const n=i=>i?(i!=null&&i.toDate?i.toDate():new Date(i)).toLocaleString("es-AR"):"-",a={pendiente:"Pendiente",confirmado:"Confirmado",enviado:"Enviado",entregado:"Entregado",cancelado:"Cancelado"};return w.jsxs("div",{className:"container page",children:[w.jsx("h1",{className:"page-title",children:"Mis pedidos"}),w.jsx("p",{className:"page-subtitle",children:"Historial y detalle de tus pedidos."}),e.length===0?w.jsx("p",{className:"empty-state",children:"No tens pedidos an."}):w.jsx("div",{className:"pedidos-list mis-pedidos-list",children:e.map(i=>{var s,o;return w.jsxs("div",{className:"pedido-card pedido-card-expandido",children:[w.jsxs("div",{className:"pedido-header",children:[w.jsxs("span",{children:["#",i.numeroPedido??i.id.slice(-6)]}),w.jsx("span",{children:n(i.createdAt)}),w.jsx("span",{className:`pedido-estado pedido-estado-${(i.estado||"pendiente").toLowerCase()}`,children:a[i.estado]||a.pendiente})]}),w.jsxs("div",{className:"pedido-body",children:[w.jsxs("p",{children:[w.jsx("strong",{children:"Razn social:"})," ",((s=i.razonSocial)==null?void 0:s.razonSocial)||"Sin razn social"]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Sucursal:"})," ",i.sucursal?`${i.sucursal.direccion}, ${i.sucursal.localidad}`:"Sin sucursal"]}),i.condicionFiscal&&w.jsxs("p",{children:[w.jsx("strong",{children:"Condicin fiscal:"})," ",i.condicionFiscal==="A"?"Factura A":i.condicionFiscal==="nota_pedido"?"Nota de pedido":i.condicionFiscal]}),(i.vendedorId||i.vendedorNombre)&&w.jsxs("p",{children:[w.jsx("strong",{children:"Vendedor:"})," ",i.vendedorNombre||"S"]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Total:"})," $",Nr(i.total||0)]}),w.jsxs("div",{className:"pedido-items",children:[w.jsx("strong",{children:"Productos:"}),w.jsx("ul",{children:(o=i.items)==null?void 0:o.map((l,c)=>{const u=l.precioUnitario??(l.precioPorBulto??0)/(l.unidadesPorBulto??1),h=l.precioPorBulto??u*(l.unidadesPorBulto??1);return w.jsxs("li",{children:[l.descripcion,"  ",l.bultos," bulto(s)  $/u $",Nr(u)," = $",Nr((l.bultos||0)*h)]},c)})})]}),i.comprobanteUrl&&w.jsx("a",{href:i.comprobanteUrl,target:"_blank",rel:"noopener noreferrer",className:"btn btn-ghost btn-sm",children:"Ver comprobante"})]})]},i.id)})})]})}function bue(){const[t,e]=le.useState([]),[r,n]=le.useState(!0);return le.useEffect(()=>{const a=Vn(lr(_t,"materialPublico"),Dh("createdAt","desc")),i=br(a,s=>{e(s.docs.map(o=>({id:o.id,...o.data()}))),n(!1)},()=>n(!1));return()=>i()},[]),w.jsxs("div",{className:"container page",children:[w.jsx("h1",{className:"page-title",children:"Fotos y videos"}),w.jsx("p",{className:"page-subtitle",children:"Material audiovisual para descargar."}),r?w.jsx("p",{className:"empty-state",children:"Cargando..."}):t.length===0?w.jsx("p",{className:"empty-state",children:"An no hay fotos ni videos publicados."}):w.jsx("div",{className:"fotos-videos-grid",children:t.map(a=>w.jsxs("div",{className:"fotos-videos-card",children:[a.tipo==="video"&&a.url?w.jsx("div",{className:"fotos-videos-video-wrap",children:w.jsx("video",{src:a.url,controls:!0,className:"fotos-videos-video"})}):a.url?w.jsx("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"fotos-videos-img-link",children:w.jsx("img",{src:a.url,alt:a.titulo||"Imagen",className:"fotos-videos-img"})}):null,(a.titulo||a.descripcion)&&w.jsxs("div",{className:"fotos-videos-info",children:[a.titulo&&w.jsx("h3",{children:a.titulo}),a.descripcion&&w.jsx("p",{children:a.descripcion}),a.url&&w.jsx("a",{href:a.url,download:!0,target:"_blank",rel:"noopener noreferrer",className:"btn btn-primary btn-sm",children:"Descargar"})]})]},a.id))})]})}function Eue(){const{user:t}=eo(),[e,r]=le.useState([]),[n,a]=le.useState(!0);le.useEffect(()=>{if(!(t!=null&&t.uid))return;const s=Vn(lr(_t,"notificaciones"),ea("userId","==",t.uid)),o=br(s,l=>{const c=l.docs.map(u=>({id:u.id,...u.data()}));c.sort((u,h)=>{const d=f=>f?typeof f.toMillis=="function"?f.toMillis():typeof f.toDate=="function"?f.toDate().getTime():new Date(f).getTime():0;return d(h.createdAt)-d(u.createdAt)}),r(c),a(!1)},l=>{console.error("Error cargando novedades:",l),a(!1)});return()=>o()},[t==null?void 0:t.uid]);const i=s=>s?(s!=null&&s.toDate?s.toDate():new Date(s)).toLocaleString("es-AR"):"";return w.jsxs("div",{className:"container page",children:[w.jsx("h1",{className:"page-title",children:"Novedades"}),w.jsx("p",{className:"page-subtitle",children:"Notificaciones y novedades para vos."}),n?w.jsx("p",{className:"empty-state",children:"Cargando..."}):e.length===0?w.jsx("p",{className:"empty-state",children:"No tens notificaciones nuevas."}):w.jsx("ul",{className:"novedades-list",children:e.map(s=>w.jsx("li",{className:`novedades-item ${s.leida?"novedades-item-leida":""}`,children:w.jsxs("div",{className:"novedades-item-content",children:[w.jsx("strong",{children:s.titulo||"Novedad"}),s.mensaje&&w.jsx("p",{children:s.mensaje}),w.jsx("span",{className:"novedades-item-fecha",children:i(s.createdAt)})]})},s.id))})]})}function Aue(){const t=Zs(),e=()=>{vv(Xu),t("/login")};return w.jsxs("div",{className:"layout admin-layout",children:[w.jsx("header",{className:"header header-admin",children:w.jsxs("div",{className:"container header-inner",children:[w.jsxs(kr,{to:"/admin",className:"logo logo-mtf",children:[w.jsx("img",{src:"/logos/luni.png",alt:"LUNI",className:"logo-img logo-luni"}),w.jsx("img",{src:"/logos/polesie.png",alt:"Polesie",className:"logo-img logo-polesie"}),w.jsx("span",{className:"logo-text",children:"Admin MTF"})]}),w.jsxs("nav",{className:"nav",children:[w.jsx(kr,{to:"/admin",children:"Dashboard"}),w.jsx(kr,{to:"/admin/usuarios",children:"Usuarios"}),w.jsx(kr,{to:"/admin/pedidos",children:"Pedidos"}),w.jsx(kr,{to:"/admin/catalogo",children:"Catlogo"}),w.jsx(kr,{to:"/admin/ofertas",children:"Ofertas"}),w.jsx(kr,{to:"/admin/vendedores",children:"Vendedores"}),w.jsx(kr,{to:"/admin/fotos-videos",children:"Fotos y videos"}),w.jsx(kr,{to:"/",children:"Ver sitio"}),w.jsx("button",{onClick:e,className:"btn btn-ghost btn-sm",children:"Salir"})]})]})}),w.jsx("main",{className:"main",children:w.jsx(KI,{})})]})}function Sue(){const{user:t}=eo(),[e,r]=le.useState(0),[n,a]=le.useState(null),[i,s]=le.useState(0),[o,l]=le.useState(0);return le.useEffect(()=>{if(!(t!=null&&t.uid))return;const c=br(jr(_t,"adminConfig",t.uid),u=>{var d;const h=u.exists()?u.data().lastViewedUsuariosAt:null;a(((d=h==null?void 0:h.toDate)==null?void 0:d.call(h))??null)});return()=>c()},[t==null?void 0:t.uid]),le.useEffect(()=>{const c=br(Vn(lr(_t,"users"),ea("role","==","cliente")),u=>{const h=u.docs.map(p=>({...p.data(),id:p.id})).filter(p=>!p.deleted),d=n?new Date(n):null,f=d?h.filter(p=>{var m,_;return(((_=(m=p.createdAt)==null?void 0:m.toDate)==null?void 0:_.call(m))??new Date(0))>d}).length:h.length;r(f)});return()=>c()},[n]),le.useEffect(()=>{const c=new Date;c.setHours(0,0,0,0);const u=br(lr(_t,"pedidos"),h=>{const d=h.docs.filter(f=>{var p,m;return((m=(p=f.data().createdAt)==null?void 0:p.toDate)==null?void 0:m.call(p))>=c}).length;s(d)});return()=>u()},[]),le.useEffect(()=>{const c=br(lr(_t,"vendedores"),u=>l(u.size));return()=>c()},[]),w.jsxs("div",{className:"container page",children:[w.jsx("h1",{className:"page-title",children:"Panel de administracin"}),w.jsxs("div",{className:"dashboard-cards admin-cards",children:[w.jsxs("div",{className:"card",children:[w.jsx("h3",{children:e}),w.jsx("p",{children:"Nuevos clientes"}),w.jsx(kr,{to:"/admin/usuarios",className:"btn btn-primary btn-sm",children:"Ver usuarios"})]}),w.jsxs("div",{className:"card",children:[w.jsx("h3",{children:i}),w.jsx("p",{children:"Pedidos de hoy"}),w.jsx(kr,{to:"/admin/pedidos",className:"btn btn-primary btn-sm",children:"Ver pedidos"})]}),w.jsxs("div",{className:"card",children:[w.jsx("h3",{children:"Catlogo"}),w.jsx("p",{children:"Gestionar productos"}),w.jsx(kr,{to:"/admin/catalogo",className:"btn btn-primary btn-sm",children:"Gestionar catlogo"})]}),w.jsxs("div",{className:"card",children:[w.jsx("h3",{children:o}),w.jsx("p",{children:"Vendedores"}),w.jsx(kr,{to:"/admin/vendedores",className:"btn btn-primary btn-sm",children:"Gestionar vendedores"})]})]})]})}function Tue(){const t=Zs(),{user:e}=eo(),[r,n]=le.useState([]),[a,i]=le.useState([]),[s,o]=le.useState(null),[l,c]=le.useState(0),[u,h]=le.useState(""),[d,f]=le.useState("todos");le.useEffect(()=>{const O=br(lr(_t,"users"),N=>{n(N.docs.map(A=>({id:A.id,...A.data()})))});return()=>O()},[]),le.useEffect(()=>{e!=null&&e.uid&&Lv(jr(_t,"adminConfig",e.uid),{lastViewedUsuariosAt:AL()},{merge:!0})},[e==null?void 0:e.uid]),le.useEffect(()=>{const O=br(lr(_t,"vendedores"),N=>{i(N.docs.map(A=>({id:A.id,...A.data()})))});return()=>O()},[]);const p=r.filter(O=>O.role==="cliente"&&!O.deleted),m=p.filter(O=>!O.approved&&!O.blocked),_=p.filter(O=>O.approved),x=p.filter(O=>O.blocked),T=d==="pendientes"?m:d==="aprobados"?_:d==="bloqueados"?x:p,b=async(O,N)=>{O.stopPropagation(),await fs(jr(_t,"users",N),{approved:!0})},I=(O,N)=>{O.stopPropagation(),o(N.id),c(N.descuentoBase??0),h(N.vendedorId??"")},j=async O=>{O==null||O.stopPropagation(),s&&(await fs(jr(_t,"users",s),{descuentoBase:l,vendedorId:u||null}),o(null))};return w.jsxs("div",{className:"container page",children:[w.jsx("h1",{className:"page-title",children:"Usuarios"}),w.jsx("p",{className:"page-subtitle",children:"Hac clic en un cliente para ver todos sus datos y pedidos."}),w.jsxs("div",{className:"admin-usuarios-filtros",children:[w.jsxs("button",{className:d==="todos"?"active":"",onClick:()=>f("todos"),children:["Todos (",p.length,")"]}),w.jsxs("button",{className:d==="pendientes"?"active":"",onClick:()=>f("pendientes"),children:["Pendientes (",m.length,")"]}),w.jsxs("button",{className:d==="aprobados"?"active":"",onClick:()=>f("aprobados"),children:["Aprobados (",_.length,")"]}),w.jsxs("button",{className:d==="bloqueados"?"active":"",onClick:()=>f("bloqueados"),children:["Bloqueados (",x.length,")"]})]}),w.jsx("div",{className:"table-wrap",children:w.jsxs("table",{className:"admin-table admin-table-usuarios",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{children:"Email"}),w.jsx("th",{children:"Empresa"}),w.jsx("th",{children:"Rubro"}),w.jsx("th",{children:"Estado"}),w.jsx("th",{children:"Descuento %"}),w.jsx("th",{children:"Vendedor"}),w.jsx("th",{children:"Acciones"})]})}),w.jsx("tbody",{children:T.map(O=>{var N;return w.jsxs("tr",{className:"admin-usuario-row",onClick:()=>t(`/admin/usuarios/${O.id}`),children:[w.jsx("td",{children:O.email}),w.jsx("td",{children:O.nombreEmpresa}),w.jsx("td",{children:O.rubro}),w.jsx("td",{children:O.blocked?w.jsx("span",{className:"badge badge-danger",children:"Bloqueado"}):O.approved?w.jsx("span",{className:"badge badge-ok",children:"Aprobado"}):w.jsx("span",{className:"badge badge-pending",children:"Pendiente"})}),w.jsx("td",{children:s===O.id?w.jsx("input",{type:"number",value:l,onChange:A=>c(Number(A.target.value)),onClick:A=>A.stopPropagation(),style:{width:60}}):O.descuentoBase??0}),w.jsx("td",{children:s===O.id?w.jsxs("select",{value:u,onChange:A=>h(A.target.value),onClick:A=>A.stopPropagation(),children:[w.jsx("option",{value:"",children:"Sin asignar"}),a.map(A=>w.jsx("option",{value:A.id,children:A.nombre},A.id))]}):((N=a.find(A=>A.id===O.vendedorId))==null?void 0:N.nombre)||"-"}),w.jsxs("td",{children:[!O.approved&&w.jsx("button",{className:"btn btn-primary btn-sm",onClick:A=>b(A,O.id),children:"Aprobar"}),s===O.id?w.jsx("button",{className:"btn btn-primary btn-sm",onClick:j,children:"Guardar"}):w.jsx("button",{className:"btn btn-ghost btn-sm",onClick:A=>I(A,O),children:"Editar"}),w.jsx("span",{className:"link-ver",children:"Ver detalle "})]})]},O.id)})})]})}),T.length===0&&w.jsx("p",{className:"empty-state",children:"No hay usuarios en esta lista."})]})}function Cue(){const t=Zs(),[e,r]=le.useState([]);le.useEffect(()=>{const a=Vn(lr(_t,"pedidos"),Dh("createdAt","desc")),i=br(a,s=>{r(s.docs.map(o=>({id:o.id,...o.data()})))});return()=>i()},[]);const n=a=>a?(a!=null&&a.toDate?a.toDate():new Date(a)).toLocaleString("es-AR"):"-";return w.jsxs("div",{className:"container page",children:[w.jsx("h1",{className:"page-title",children:"Pedidos"}),w.jsx("p",{className:"page-subtitle",children:"Hac clic en un pedido para ver el detalle."}),e.length>0&&w.jsx("div",{className:"admin-pedidos-exportar",style:{marginBottom:"1rem"},children:w.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>mue(e),children:"Exportar todos a Excel"})}),e.length===0?w.jsx("p",{className:"empty-state",children:"No hay pedidos."}):w.jsx("div",{className:"pedidos-list pedidos-resumen",children:e.map(a=>{var i;return w.jsxs("button",{type:"button",className:"pedido-card pedido-card-resumen",onClick:()=>t(`/admin/pedidos/${a.id}`),children:[w.jsxs("div",{className:"pedido-header",children:[w.jsxs("span",{children:["#",a.numeroPedido??a.id.slice(-6)]}),w.jsx("span",{children:n(a.createdAt)})]}),w.jsxs("div",{className:"pedido-body",children:[w.jsxs("p",{children:[w.jsx("strong",{children:"Razn social:"})," ",((i=a.razonSocial)==null?void 0:i.razonSocial)||"Sin razn social"]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Sucursal:"})," ",a.sucursal?`${a.sucursal.direccion}, ${a.sucursal.localidad}`:"Sin sucursal"]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Forma de pago:"})," ",a.formaPago]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Total:"})," $",Nr(a.total||0)]})]})]},a.id)})})]})}async function e3(t,e,r){!t||!e||await yc(lr(_t,"notificaciones"),{userId:t,titulo:e,mensaje:r||null,leida:!1,createdAt:AL()})}async function t3(t,e){try{const r=Vn(lr(_t,"users"),ea("role","==","cliente")),n=await kL(r);let a=0;for(const i of n.docs)if(!i.data().deleted)try{await e3(i.id,t,e),a++}catch(o){console.error("Error creando notificacin para",i.id,o)}return{ok:!0,count:a}}catch(r){return console.error("notificarTodosLosClientes:",r),{ok:!1,count:0,error:(r==null?void 0:r.message)||String(r)}}}const r5=[{value:"pendiente",label:"Pendiente"},{value:"confirmado",label:"Confirmado"},{value:"enviado",label:"Enviado"},{value:"entregado",label:"Entregado"},{value:"cancelado",label:"Cancelado"}];function kue(){var f,p,m,_,x,T;const{id:t}=GI(),e=Zs(),[r,n]=le.useState(null),[a,i]=le.useState(!1),[s,o]=le.useState("pendiente"),[l,c]=le.useState(!1);le.useEffect(()=>{if(!t)return;const b=br(jr(_t,"pedidos",t),I=>{n(I.exists()?{id:I.id,...I.data()}:null)});return()=>b()},[t]);const u=b=>b?(b!=null&&b.toDate?b.toDate():new Date(b)).toLocaleString("es-AR"):"-",h=b=>{if(!b)return"Sin razn social";const I=[b.razonSocial];b.cuit&&I.push(`CUIT: ${b.cuit}`),b.condicionFiscal&&I.push(b.condicionFiscal);const j=b.direccionFacturacion;if(j&&(j.calle||j.localidad)){const O=[j.calle,j.numero,j.localidad,j.provincia,j.codigoPostal].filter(Boolean);O.length&&I.push(O.join(", "))}return I.join("  ")},d=async()=>{var b;if(!(!t||!r)){c(!0);try{await fs(jr(_t,"pedidos",t),{estado:s}),i(!1);const I=((b=r5.find(j=>j.value===s))==null?void 0:b.label)||s;r.userId&&e3(r.userId,"Estado de tu pedido",`Tu pedido #${r.numeroPedido??t.slice(-6)} est ahora: ${I}.`).catch(()=>{})}finally{c(!1)}}};return r?w.jsxs("div",{className:"container page",children:[w.jsx("button",{className:"btn btn-ghost btn-sm",onClick:()=>e("/admin/pedidos"),style:{marginBottom:"1rem"},children:" Volver al listado"}),w.jsxs("h1",{className:"page-title",children:["Pedido #",r.numeroPedido??r.id.slice(-6)]}),w.jsx("p",{className:"page-subtitle",children:u(r.createdAt)}),w.jsxs("div",{className:"pedido-detalle-resumen",children:[w.jsxs("p",{children:[w.jsx("strong",{children:"Razn social:"})," ",h(r.razonSocial)]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Sucursal:"})," ",r.sucursal?r.sucursal.calle?[r.sucursal.calle,r.sucursal.numero,r.sucursal.localidad,r.sucursal.provincia,r.sucursal.codigoPostal].filter(Boolean).join(", "):`${r.sucursal.direccion||""}, ${r.sucursal.localidad||""}`.trim():"A coordinar"]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Forma de pago:"})," ",r.formaPago||"-"]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Estado:"}),a?w.jsxs("span",{style:{marginLeft:"0.5rem",display:"inline-flex",alignItems:"center",gap:"0.5rem"},children:[w.jsx("select",{value:s,onChange:b=>o(b.target.value),children:r5.map(b=>w.jsx("option",{value:b.value,children:b.label},b.value))}),w.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:d,disabled:l,children:l?"Guardando...":"Guardar"}),w.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>i(!1),children:"Cancelar"})]}):w.jsxs("span",{style:{marginLeft:"0.5rem"},children:[((f=r5.find(b=>b.value===(r.estado||"pendiente")))==null?void 0:f.label)||r.estado||"Pendiente",w.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>{o(r.estado||"pendiente"),i(!0)},style:{marginLeft:"0.5rem"},children:"Editar"})]})]}),(r.contacto||r.contactoCompra)&&w.jsxs("p",{children:[w.jsx("strong",{children:"Contacto compra:"})," ",r.contactoCompra?`${r.contactoCompra.nombre} ${r.contactoCompra.apellido}  ${r.contactoCompra.telefono}  ${r.contactoCompra.email}`:`${(p=r.contacto)==null?void 0:p.nombre} ${(m=r.contacto)==null?void 0:m.apellido}  ${(_=r.contacto)==null?void 0:_.telefono}  ${(x=r.contacto)==null?void 0:x.email}`]}),r.observaciones&&w.jsxs("p",{children:[w.jsx("strong",{children:"Observaciones / Comentarios:"})," ",r.observaciones]}),r.contactoPago&&r.contactoCompra&&(r.contactoPago.nombre!==r.contactoCompra.nombre||r.contactoPago.email!==r.contactoCompra.email)&&w.jsxs("p",{children:[w.jsx("strong",{children:"Contacto pago:"})," ",r.contactoPago.nombre," ",r.contactoPago.apellido,"  ",r.contactoPago.telefono,"  ",r.contactoPago.email]}),w.jsxs("div",{className:"pedido-detalle-totales totales-block",children:[w.jsxs("div",{className:"totales-fila",children:[w.jsx("span",{className:"totales-label",children:"Subtotal"}),w.jsxs("span",{className:"totales-valor",children:["$",Nr(r.subtotal??0)]})]}),((r.descuentoBase??0)>0||r.aplicaProntoPago)&&w.jsxs("div",{className:"totales-fila",children:[w.jsxs("span",{className:"totales-label",children:["Desc. ",(r.descuentoBase??0)>0&&r.aplicaProntoPago?`${r.descuentoBase} + 10 %`:(r.descuentoBase??0)>0?`${r.descuentoBase} %`:"10 %"]}),w.jsxs("span",{className:"totales-valor",children:["$",Nr((r.subtotal??0)-(r.subtotal??0)*(1-(r.descuentoBase??0)/100)+(r.aplicaProntoPago?(r.subtotal??0)*(1-(r.descuentoBase??0)/100)*.1:0))]})]}),w.jsx("div",{className:"totales-sep"}),w.jsxs("div",{className:"totales-fila",children:[w.jsx("span",{className:"totales-label",children:"Subtotal"}),w.jsxs("span",{className:"totales-valor",children:["$",Nr(r.condicionFiscal==="A"?(r.total??0)/1.21:r.total??0)]})]}),r.condicionFiscal==="A"&&w.jsxs("div",{className:"totales-fila",children:[w.jsx("span",{className:"totales-label",children:"I.V.A. 21,00 %"}),w.jsxs("span",{className:"totales-valor",children:["$",Nr((r.total??0)-(r.total??0)/1.21)]})]}),w.jsx("div",{className:"totales-sep"}),w.jsxs("div",{className:"totales-fila totales-total",children:[w.jsx("span",{className:"totales-label",children:"TOTAL"}),w.jsxs("span",{className:"totales-valor",children:["$",Nr(r.total??0)]})]})]})]}),w.jsxs("div",{className:"pedido-detalle-items",children:[w.jsx("h3",{children:"Productos encargados"}),w.jsx("div",{className:"table-wrap",children:w.jsxs("table",{className:"pedido-items-table",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{children:"SKU"}),w.jsx("th",{children:"Descripcin"}),w.jsx("th",{children:"Bultos"}),w.jsx("th",{children:"Precio unit."}),w.jsx("th",{children:"Precio bulto"}),w.jsx("th",{children:"Subtotal"})]})}),w.jsx("tbody",{children:(T=r.items)==null?void 0:T.map((b,I)=>{const j=b.precioUnitario??(b.precioPorBulto??0)/(b.unidadesPorBulto??1),O=b.precioPorBulto??j*(b.unidadesPorBulto??1);return w.jsxs("tr",{children:[w.jsx("td",{className:"sku-cell",children:w.jsx("strong",{children:b.sku||"-"})}),w.jsx("td",{children:b.descripcion}),w.jsx("td",{children:b.bultos}),w.jsxs("td",{children:["$",Nr(j)]}),w.jsxs("td",{children:["$",Nr(O)]}),w.jsxs("td",{children:["$",Nr((b.bultos||0)*O)]})]},I)})})]})})]}),w.jsxs("div",{className:"pedido-detalle-acciones",children:[w.jsxs("div",{className:"pedido-detalle-exportar",children:[w.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>eF(r),children:"Exportar PDF"}),w.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>pue(r),children:"Exportar Excel"}),r.comprobanteUrl&&w.jsx("a",{href:r.comprobanteUrl,target:"_blank",rel:"noopener noreferrer",className:"btn btn-primary",children:"Ver comprobante"})]}),w.jsx("div",{className:"pedido-detalle-admin",children:w.jsx("button",{type:"button",className:"btn btn-danger-outline",onClick:async()=>{confirm("Eliminar este pedido?")&&(await Lm(jr(_t,"pedidos",r.id)),e("/admin/pedidos"))},children:"Eliminar pedido"})})]})]}):w.jsx("div",{className:"container page",children:w.jsx("p",{className:"empty-state",children:"Cargando pedido..."})})}const Jg=[{value:"pendiente",label:"Pendiente",approved:!1,blocked:!1},{value:"aprobado",label:"Aprobado",approved:!0,blocked:!1},{value:"bloqueado",label:"Bloqueado",approved:!1,blocked:!0}];function n5(t){if(!t)return"-";const e=[t.calle,t.numero,t.localidad,t.provincia,t.codigoPostal].filter(Boolean);return e.length?e.join(", "):t.direccion?`${t.direccion}, ${t.localidad||""}`.trim():"-"}function Nue(){const{id:t}=GI(),e=Zs(),[r,n]=le.useState(null),[a,i]=le.useState([]),[s,o]=le.useState([]),[l,c]=le.useState([]),[u,h]=le.useState([]),[d,f]=le.useState([]),[p,m]=le.useState([]),[_,x]=le.useState(0),[T,b]=le.useState(""),[I,j]=le.useState(!1);le.useEffect(()=>{if(!t)return;const C=br(jr(_t,"users",t),H=>{const X=H.exists()?{id:H.id,...H.data()}:null;n(X),X&&(x(X.descuentoBase??0),b(X.vendedorId??""))});return()=>C()},[t]),le.useEffect(()=>{if(!t)return;const C=Vn(lr(_t,"razonesSociales"),ea("userId","==",t)),H=br(C,X=>{c(X.docs.map(V=>({id:V.id,...V.data()})))});return()=>H()},[t]),le.useEffect(()=>{if(!t)return;const C=Vn(lr(_t,"expresos"),ea("userId","==",t)),H=br(C,X=>{m(X.docs.map(V=>({id:V.id,...V.data()})))});return()=>H()},[t]),le.useEffect(()=>{if(!t)return;const C=Vn(lr(_t,"sucursales"),ea("userId","==",t),ea("razonSocialId","==",null)),H=br(C,X=>{h(X.docs.map(V=>({id:V.id,...V.data()})))});return()=>H()},[t]);const O=l.map(C=>C.id);le.useEffect(()=>{if(O.length===0){f([]);return}const C=Vn(lr(_t,"sucursales"),ea("razonSocialId","in",O.slice(0,30))),H=br(C,X=>{f(X.docs.map(V=>({id:V.id,...V.data()})))});return()=>H()},[O.join(",")]),le.useEffect(()=>{if(!t)return;const C=Vn(lr(_t,"pedidos"),ea("userId","==",t),Dh("createdAt","desc")),H=br(C,X=>{i(X.docs.map(V=>({id:V.id,...V.data()})))});return()=>H()},[t]),le.useEffect(()=>{const C=br(lr(_t,"vendedores"),H=>{o(H.docs.map(X=>({id:X.id,...X.data()})))});return()=>C()},[]);const N=C=>C?(C!=null&&C.toDate?C.toDate():new Date(C)).toLocaleString("es-AR"):"-",A=(r==null?void 0:r.role)==="cliente"?Jg.find(C=>C.approved===!!r.approved&&C.blocked===!!r.blocked)||Jg[0]:null,y=async C=>{if(!(!t||(r==null?void 0:r.role)!=="cliente")){j(!0);try{await fs(jr(_t,"users",t),{approved:C.approved,blocked:C.blocked})}finally{j(!1)}}},R=async()=>{if(t){j(!0);try{await fs(jr(_t,"users",t),{approved:!0,blocked:!1})}finally{j(!1)}}},S=async()=>{if(!(!t||!window.confirm("Eliminar este usuario? No podr volver a ingresar. Esta accin no se puede deshacer."))){j(!0);try{await fs(jr(_t,"users",t),{deleted:!0,approved:!1,blocked:!0}),e("/admin/usuarios")}finally{j(!1)}}},k=async()=>{if(t){j(!0);try{await fs(jr(_t,"users",t),{descuentoBase:_,vendedorId:T||null}),T&&e3(t,"Asignacin de vendedor","Se te asign un vendedor.").catch(()=>{})}finally{j(!1)}}};return r?w.jsxs("div",{className:"container page",children:[w.jsx("button",{className:"btn btn-ghost btn-sm",onClick:()=>e("/admin/usuarios"),style:{marginBottom:"1rem"},children:" Volver a usuarios"}),w.jsx("h1",{className:"page-title",children:r.nombreEmpresa||r.email}),w.jsx("p",{className:"page-subtitle",children:r.role==="admin"?"Administrador":r.deleted?"Usuario eliminado":r.blocked?"Bloqueado":r.approved?"Aprobado":"Pendiente de aprobacin"}),r.role==="cliente"&&!r.deleted&&w.jsxs("div",{className:"admin-usuario-estado-block",children:[w.jsx("h3",{children:"Estado"}),w.jsxs("div",{className:"admin-usuario-estado-row",children:[w.jsx("select",{value:(A==null?void 0:A.value)??"pendiente",onChange:C=>{const H=Jg.find(X=>X.value===C.target.value);H&&y(H)},disabled:I,className:"admin-usuario-estado-select",children:Jg.map(C=>w.jsx("option",{value:C.value,children:C.label},C.value))}),!r.approved&&!r.blocked&&w.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:R,disabled:I,children:I?"...":"Aprobar"})]})]}),w.jsxs("div",{className:"admin-usuario-datos",children:[w.jsx("h3",{children:"Datos del cliente (perfil)"}),w.jsxs("div",{className:"admin-usuario-datos-grid",children:[w.jsxs("p",{children:[w.jsx("strong",{children:"Email:"})," ",r.email]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Empresa:"})," ",r.nombreEmpresa||"-"]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Rubro:"})," ",r.rubro||"-"]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Telfono:"})," ",r.telefono||"-"]})]}),w.jsx("h3",{className:"admin-usuario-seccion-datos",children:"Datos cargados en Datos"}),w.jsxs("div",{className:"admin-usuario-datos-modulos",children:[w.jsxs("div",{className:"admin-usuario-modulo",children:[w.jsx("h4",{children:"Razones sociales"}),l.length===0?w.jsx("p",{className:"muted",children:"Sin cargar"}):w.jsx("ul",{className:"admin-usuario-lista",children:l.map(C=>w.jsxs("li",{children:[C.razonSocial||"-",C.cuit&&`  CUIT: ${C.cuit}`,C.condicionFiscal&&`  ${C.condicionFiscal}`,C.direccionFacturacion&&(C.direccionFacturacion.calle||C.direccionFacturacion.localidad)&&w.jsxs("div",{className:"admin-usuario-direccion",children:["Facturacin: ",n5(C.direccionFacturacion)]})]},C.id))})]}),w.jsxs("div",{className:"admin-usuario-modulo",children:[w.jsx("h4",{children:"Sucursales de entrega"}),u.length===0&&d.length===0?w.jsx("p",{className:"muted",children:"Sin cargar"}):w.jsxs("ul",{className:"admin-usuario-lista",children:[u.map(C=>w.jsxs("li",{children:[C.razonSocial||C.direccion||"-","  ",n5(C)]},C.id)),d.map(C=>{var H;return w.jsxs("li",{children:[((H=l.find(X=>X.id===C.razonSocialId))==null?void 0:H.razonSocial)||"Sucursal","  ",n5(C)]},C.id)})]})]}),w.jsxs("div",{className:"admin-usuario-modulo",children:[w.jsx("h4",{children:"Expresos"}),p.length===0?w.jsx("p",{className:"muted",children:"Sin cargar"}):w.jsx("ul",{className:"admin-usuario-lista",children:p.map(C=>w.jsxs("li",{children:[C.nombre||"-",C.telefono?`  ${C.telefono}`:"",C.direccionCABA?`  ${C.direccionCABA}`:""]},C.id))})]}),w.jsxs("div",{className:"admin-usuario-modulo",children:[w.jsx("h4",{children:"Contacto compra"}),w.jsx("p",{children:r.nombreCompra||r.apellidoCompra?`${r.nombreCompra||""} ${r.apellidoCompra||""}`.trim():"-"}),w.jsxs("p",{children:["Tel: ",r.telefonoCompra||"-","  Email: ",r.emailCompra||"-"]})]}),w.jsxs("div",{className:"admin-usuario-modulo",children:[w.jsx("h4",{children:"Contacto pago"}),w.jsx("p",{children:r.nombrePago||r.apellidoPago?`${r.nombrePago||""} ${r.apellidoPago||""}`.trim():"-"}),w.jsxs("p",{children:["Tel: ",r.telefonoPago||"-","  Email: ",r.emailPago||"-"]})]})]}),r.role==="cliente"&&!r.deleted&&w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"admin-usuario-descuento",children:[w.jsx("h3",{children:"Descuento base"}),w.jsxs("div",{className:"admin-usuario-descuento-form",children:[w.jsx("input",{type:"number",min:"0",max:"100",value:_,onChange:C=>x(Number(C.target.value)),style:{width:80}}),w.jsx("span",{children:"%"}),w.jsxs("select",{value:T,onChange:C=>b(C.target.value),children:[w.jsx("option",{value:"",children:"Sin vendedor"}),s.map(C=>w.jsx("option",{value:C.id,children:C.nombre},C.id))]}),w.jsx("button",{className:"btn btn-primary btn-sm",onClick:k,disabled:I,children:I?"Guardando...":"Guardar"})]})]}),w.jsx("div",{className:"admin-usuario-eliminar",children:w.jsx("button",{type:"button",className:"btn btn-danger-outline",onClick:S,disabled:I,children:I?"...":"Eliminar usuario"})})]})]}),r.role==="cliente"&&w.jsxs("div",{className:"admin-usuario-pedidos",children:[w.jsxs("h3",{children:["Pedidos de este cliente (",a.length,")"]}),a.length===0?w.jsx("p",{className:"empty-state",children:"Sin pedidos an."}):w.jsx("div",{className:"pedidos-list pedidos-resumen",children:a.map(C=>{var H,X,V;return w.jsxs(kr,{to:`/admin/pedidos/${C.id}`,className:"pedido-card pedido-card-resumen pedido-card-link",children:[w.jsxs("div",{className:"pedido-header",children:[w.jsxs("span",{children:["#",C.numeroPedido??C.id.slice(-6)]}),w.jsx("span",{children:N(C.createdAt)}),w.jsx("span",{children:C.estado||"pendiente"})]}),w.jsxs("div",{className:"pedido-body",children:[w.jsxs("p",{children:[w.jsx("strong",{children:"Razn social:"})," ",((H=C.razonSocial)==null?void 0:H.razonSocial)||"Sin razn social"]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Sucursal:"})," ",(X=C.sucursal)==null?void 0:X.direccion,", ",(V=C.sucursal)==null?void 0:V.localidad]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Total:"})," $",Nr(C.total||0)]})]})]},C.id)})})]})]}):w.jsx("div",{className:"container page",children:w.jsx("p",{className:"empty-state",children:"Cargando..."})})}function Iue(t,e){return e.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(n){if(n!=="default"&&!(n in t)){var a=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return r[n]}})}})}),Object.freeze(t)}function tF(t,e){return new Promise(function(r,n){let a;return Rue(t).then(function(i){try{return a=i,r(new Blob([e.slice(0,2),a,e.slice(2)],{type:"image/jpeg"}))}catch(s){return n(s)}},n)})}const Rue=t=>new Promise((e,r)=>{const n=new FileReader;n.addEventListener("load",({target:{result:a}})=>{const i=new DataView(a);let s=0;if(i.getUint16(s)!==65496)return r("not a valid JPEG");for(s+=2;;){const o=i.getUint16(s);if(o===65498)break;const l=i.getUint16(s+2);if(o===65505&&i.getUint32(s+4)===1165519206){const c=s+10;let u;switch(i.getUint16(c)){case 18761:u=!0;break;case 19789:u=!1;break;default:return r("TIFF header contains invalid endian")}if(i.getUint16(c+2,u)!==42)return r("TIFF header contains invalid version");const h=i.getUint32(c+4,u),d=c+h+2+12*i.getUint16(c+h,u);for(let f=c+h+2;f<d;f+=12)if(i.getUint16(f,u)==274){if(i.getUint16(f+2,u)!==3)return r("Orientation data type is invalid");if(i.getUint32(f+4,u)!==1)return r("Orientation data count is invalid");i.setUint16(f+8,1,u);break}return e(a.slice(s,s+2+l))}s+=2+l}return e(new Blob)}),n.readAsArrayBuffer(t)});var Jv={},Lue={get exports(){return Jv},set exports(t){Jv=t}};(function(t){var e,r,n={};Lue.exports=n,n.parse=function(a,i){for(var s=n.bin.readUshort,o=n.bin.readUint,l=0,c={},u=new Uint8Array(a),h=u.length-4;o(u,h)!=101010256;)h--;l=h,l+=4;var d=s(u,l+=4);s(u,l+=2);var f=o(u,l+=2),p=o(u,l+=4);l+=4,l=p;for(var m=0;m<d;m++){o(u,l),l+=4,l+=4,l+=4,o(u,l+=4),f=o(u,l+=4);var _=o(u,l+=4),x=s(u,l+=4),T=s(u,l+2),b=s(u,l+4);l+=6;var I=o(u,l+=8);l+=4,l+=x+T+b,n._readLocal(u,I,c,f,_,i)}return c},n._readLocal=function(a,i,s,o,l,c){var u=n.bin.readUshort,h=n.bin.readUint;h(a,i),u(a,i+=4),u(a,i+=2);var d=u(a,i+=2);h(a,i+=2),h(a,i+=4),i+=4;var f=u(a,i+=8),p=u(a,i+=2);i+=2;var m=n.bin.readUTF8(a,i,f);if(i+=f,i+=p,c)s[m]={size:l,csize:o};else{var _=new Uint8Array(a.buffer,i);if(d==0)s[m]=new Uint8Array(_.buffer.slice(i,i+o));else{if(d!=8)throw"unknown compression method: "+d;var x=new Uint8Array(l);n.inflateRaw(_,x),s[m]=x}}},n.inflateRaw=function(a,i){return n.F.inflate(a,i)},n.inflate=function(a,i){return a[0],a[1],n.inflateRaw(new Uint8Array(a.buffer,a.byteOffset+2,a.length-6),i)},n.deflate=function(a,i){i==null&&(i={level:6});var s=0,o=new Uint8Array(50+Math.floor(1.1*a.length));o[s]=120,o[s+1]=156,s+=2,s=n.F.deflateRaw(a,o,s,i.level);var l=n.adler(a,0,a.length);return o[s+0]=l>>>24&255,o[s+1]=l>>>16&255,o[s+2]=l>>>8&255,o[s+3]=l>>>0&255,new Uint8Array(o.buffer,0,s+4)},n.deflateRaw=function(a,i){i==null&&(i={level:6});var s=new Uint8Array(50+Math.floor(1.1*a.length)),o=n.F.deflateRaw(a,s,o,i.level);return new Uint8Array(s.buffer,0,o)},n.encode=function(a,i){i==null&&(i=!1);var s=0,o=n.bin.writeUint,l=n.bin.writeUshort,c={};for(var u in a){var h=!n._noNeed(u)&&!i,d=a[u],f=n.crc.crc(d,0,d.length);c[u]={cpr:h,usize:d.length,crc:f,file:h?n.deflateRaw(d):d}}for(var u in c)s+=c[u].file.length+30+46+2*n.bin.sizeUTF8(u);s+=22;var p=new Uint8Array(s),m=0,_=[];for(var u in c){var x=c[u];_.push(m),m=n._writeHeader(p,m,u,x,0)}var T=0,b=m;for(var u in c)x=c[u],_.push(m),m=n._writeHeader(p,m,u,x,1,_[T++]);var I=m-b;return o(p,m,101010256),m+=4,l(p,m+=4,T),l(p,m+=2,T),o(p,m+=2,I),o(p,m+=4,b),m+=4,m+=2,p.buffer},n._noNeed=function(a){var i=a.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(i)!=-1},n._writeHeader=function(a,i,s,o,l,c){var u=n.bin.writeUint,h=n.bin.writeUshort,d=o.file;return u(a,i,l==0?67324752:33639248),i+=4,l==1&&(i+=2),h(a,i,20),h(a,i+=2,0),h(a,i+=2,o.cpr?8:0),u(a,i+=2,0),u(a,i+=4,o.crc),u(a,i+=4,d.length),u(a,i+=4,o.usize),h(a,i+=4,n.bin.sizeUTF8(s)),h(a,i+=2,0),i+=2,l==1&&(i+=2,i+=2,u(a,i+=6,c),i+=4),i+=n.bin.writeUTF8(a,i,s),l==0&&(a.set(d,i),i+=d.length),i},n.crc={table:function(){for(var a=new Uint32Array(256),i=0;i<256;i++){for(var s=i,o=0;o<8;o++)1&s?s=3988292384^s>>>1:s>>>=1;a[i]=s}return a}(),update:function(a,i,s,o){for(var l=0;l<o;l++)a=n.crc.table[255&(a^i[s+l])]^a>>>8;return a},crc:function(a,i,s){return 4294967295^n.crc.update(4294967295,a,i,s)}},n.adler=function(a,i,s){for(var o=1,l=0,c=i,u=i+s;c<u;){for(var h=Math.min(c+5552,u);c<h;)l+=o+=a[c++];o%=65521,l%=65521}return l<<16|o},n.bin={readUshort:function(a,i){return a[i]|a[i+1]<<8},writeUshort:function(a,i,s){a[i]=255&s,a[i+1]=s>>8&255},readUint:function(a,i){return 16777216*a[i+3]+(a[i+2]<<16|a[i+1]<<8|a[i])},writeUint:function(a,i,s){a[i]=255&s,a[i+1]=s>>8&255,a[i+2]=s>>16&255,a[i+3]=s>>24&255},readASCII:function(a,i,s){for(var o="",l=0;l<s;l++)o+=String.fromCharCode(a[i+l]);return o},writeASCII:function(a,i,s){for(var o=0;o<s.length;o++)a[i+o]=s.charCodeAt(o)},pad:function(a){return a.length<2?"0"+a:a},readUTF8:function(a,i,s){for(var o,l="",c=0;c<s;c++)l+="%"+n.bin.pad(a[i+c].toString(16));try{o=decodeURIComponent(l)}catch{return n.bin.readASCII(a,i,s)}return o},writeUTF8:function(a,i,s){for(var o=s.length,l=0,c=0;c<o;c++){var u=s.charCodeAt(c);if(!(4294967168&u))a[i+l]=u,l++;else if(!(4294965248&u))a[i+l]=192|u>>6,a[i+l+1]=128|u>>0&63,l+=2;else if(!(4294901760&u))a[i+l]=224|u>>12,a[i+l+1]=128|u>>6&63,a[i+l+2]=128|u>>0&63,l+=3;else{if(4292870144&u)throw"e";a[i+l]=240|u>>18,a[i+l+1]=128|u>>12&63,a[i+l+2]=128|u>>6&63,a[i+l+3]=128|u>>0&63,l+=4}}return l},sizeUTF8:function(a){for(var i=a.length,s=0,o=0;o<i;o++){var l=a.charCodeAt(o);if(!(4294967168&l))s++;else if(!(4294965248&l))s+=2;else if(!(4294901760&l))s+=3;else{if(4292870144&l)throw"e";s+=4}}return s}},n.F={},n.F.deflateRaw=function(a,i,s,o){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][o],c=n.F.U,u=n.F._goodIndex;n.F._hash;var h=n.F._putsE,d=0,f=s<<3,p=0,m=a.length;if(o==0){for(;d<m;)h(i,f,d+(S=Math.min(65535,m-d))==m?1:0),f=n.F._copyExact(a,d,S,i,f+8),d+=S;return f>>>3}var _=c.lits,x=c.strt,T=c.prev,b=0,I=0,j=0,O=0,N=0,A=0;for(m>2&&(x[A=n.F._hash(a,0)]=0),d=0;d<m;d++){if(N=A,d+1<m-2){A=n.F._hash(a,d+1);var y=d+1&32767;T[y]=x[A],x[A]=y}if(p<=d){(b>14e3||I>26697)&&m-d>100&&(p<d&&(_[b]=d-p,b+=2,p=d),f=n.F._writeBlock(d==m-1||p==m?1:0,_,b,O,a,j,d-j,i,f),b=I=O=0,j=d);var R=0;d<m-2&&(R=n.F._bestMatch(a,d,T,N,Math.min(l[2],m-d),l[3]));var S=R>>>16,k=65535&R;if(R!=0){k=65535&R;var C=u(S=R>>>16,c.of0);c.lhst[257+C]++;var H=u(k,c.df0);c.dhst[H]++,O+=c.exb[C]+c.dxb[H],_[b]=S<<23|d-p,_[b+1]=k<<16|C<<8|H,b+=2,p=d+S}else c.lhst[a[d]]++;I++}}for(j==d&&a.length!=0||(p<d&&(_[b]=d-p,b+=2,p=d),f=n.F._writeBlock(1,_,b,O,a,j,d-j,i,f),b=0,I=0,b=I=O=0,j=d);7&f;)f++;return f>>>3},n.F._bestMatch=function(a,i,s,o,l,c){var u=32767&i,h=s[u],d=u-h+32768&32767;if(h==u||o!=n.F._hash(a,i-d))return 0;for(var f=0,p=0,m=Math.min(32767,i);d<=m&&--c!=0&&h!=u;){if(f==0||a[i+f]==a[i+f-d]){var _=n.F._howLong(a,i,d);if(_>f){if(p=d,(f=_)>=l)break;d+2<_&&(_=d+2);for(var x=0,T=0;T<_-2;T++){var b=i-d+T+32768&32767,I=b-s[b]+32768&32767;I>x&&(x=I,h=b)}}}d+=(u=h)-(h=s[u])+32768&32767}return f<<16|p},n.F._howLong=function(a,i,s){if(a[i]!=a[i-s]||a[i+1]!=a[i+1-s]||a[i+2]!=a[i+2-s])return 0;var o=i,l=Math.min(a.length,i+258);for(i+=3;i<l&&a[i]==a[i-s];)i++;return i-o},n.F._hash=function(a,i){return(a[i]<<8|a[i+1])+(a[i+2]<<4)&65535},n.saved=0,n.F._writeBlock=function(a,i,s,o,l,c,u,h,d){var f,p,m,_,x,T,b,I,j,O=n.F.U,N=n.F._putsF,A=n.F._putsE;O.lhst[256]++,p=(f=n.F.getTrees())[0],m=f[1],_=f[2],x=f[3],T=f[4],b=f[5],I=f[6],j=f[7];var y=32+(d+3&7?8-(d+3&7):0)+(u<<3),R=o+n.F.contSize(O.fltree,O.lhst)+n.F.contSize(O.fdtree,O.dhst),S=o+n.F.contSize(O.ltree,O.lhst)+n.F.contSize(O.dtree,O.dhst);S+=14+3*b+n.F.contSize(O.itree,O.ihst)+(2*O.ihst[16]+3*O.ihst[17]+7*O.ihst[18]);for(var k=0;k<286;k++)O.lhst[k]=0;for(k=0;k<30;k++)O.dhst[k]=0;for(k=0;k<19;k++)O.ihst[k]=0;var C=y<R&&y<S?0:R<S?1:2;if(N(h,d,a),N(h,d+1,C),d+=3,C==0){for(;7&d;)d++;d=n.F._copyExact(l,c,u,h,d)}else{var H,X;if(C==1&&(H=O.fltree,X=O.fdtree),C==2){n.F.makeCodes(O.ltree,p),n.F.revCodes(O.ltree,p),n.F.makeCodes(O.dtree,m),n.F.revCodes(O.dtree,m),n.F.makeCodes(O.itree,_),n.F.revCodes(O.itree,_),H=O.ltree,X=O.dtree,A(h,d,x-257),A(h,d+=5,T-1),A(h,d+=5,b-4),d+=4;for(var V=0;V<b;V++)A(h,d+3*V,O.itree[1+(O.ordr[V]<<1)]);d+=3*b,d=n.F._codeTiny(I,O.itree,h,d),d=n.F._codeTiny(j,O.itree,h,d)}for(var q=c,re=0;re<s;re+=2){for(var W=i[re],me=W>>>23,Ee=q+(8388607&W);q<Ee;)d=n.F._writeLit(l[q++],H,h,d);if(me!=0){var D=i[re+1],F=D>>16,U=D>>8&255,M=255&D;A(h,d=n.F._writeLit(257+U,H,h,d),me-O.of0[U]),d+=O.exb[U],N(h,d=n.F._writeLit(M,X,h,d),F-O.df0[M]),d+=O.dxb[M],q+=me}}d=n.F._writeLit(256,H,h,d)}return d},n.F._copyExact=function(a,i,s,o,l){var c=l>>>3;return o[c]=s,o[c+1]=s>>>8,o[c+2]=255-o[c],o[c+3]=255-o[c+1],c+=4,o.set(new Uint8Array(a.buffer,i,s),c),l+(s+4<<3)},n.F.getTrees=function(){for(var a=n.F.U,i=n.F._hufTree(a.lhst,a.ltree,15),s=n.F._hufTree(a.dhst,a.dtree,15),o=[],l=n.F._lenCodes(a.ltree,o),c=[],u=n.F._lenCodes(a.dtree,c),h=0;h<o.length;h+=2)a.ihst[o[h]]++;for(h=0;h<c.length;h+=2)a.ihst[c[h]]++;for(var d=n.F._hufTree(a.ihst,a.itree,7),f=19;f>4&&a.itree[1+(a.ordr[f-1]<<1)]==0;)f--;return[i,s,d,l,u,f,o,c]},n.F.getSecond=function(a){for(var i=[],s=0;s<a.length;s+=2)i.push(a[s+1]);return i},n.F.nonZero=function(a){for(var i="",s=0;s<a.length;s+=2)a[s+1]!=0&&(i+=(s>>1)+",");return i},n.F.contSize=function(a,i){for(var s=0,o=0;o<i.length;o++)s+=i[o]*a[1+(o<<1)];return s},n.F._codeTiny=function(a,i,s,o){for(var l=0;l<a.length;l+=2){var c=a[l],u=a[l+1];o=n.F._writeLit(c,i,s,o);var h=c==16?2:c==17?3:7;c>15&&(n.F._putsE(s,o,u,h),o+=h)}return o},n.F._lenCodes=function(a,i){for(var s=a.length;s!=2&&a[s-1]==0;)s-=2;for(var o=0;o<s;o+=2){var l=a[o+1],c=o+3<s?a[o+3]:-1,u=o+5<s?a[o+5]:-1,h=o==0?-1:a[o-1];if(l==0&&c==l&&u==l){for(var d=o+5;d+2<s&&a[d+2]==l;)d+=2;(f=Math.min(d+1-o>>>1,138))<11?i.push(17,f-3):i.push(18,f-11),o+=2*f-2}else if(l==h&&c==l&&u==l){for(d=o+5;d+2<s&&a[d+2]==l;)d+=2;var f=Math.min(d+1-o>>>1,6);i.push(16,f-3),o+=2*f-2}else i.push(l,0)}return s>>>1},n.F._hufTree=function(a,i,s){var o=[],l=a.length,c=i.length,u=0;for(u=0;u<c;u+=2)i[u]=0,i[u+1]=0;for(u=0;u<l;u++)a[u]!=0&&o.push({lit:u,f:a[u]});var h=o.length,d=o.slice(0);if(h==0)return 0;if(h==1){var f=o[0].lit;return d=f==0?1:0,i[1+(f<<1)]=1,i[1+(d<<1)]=1,1}o.sort(function(I,j){return I.f-j.f});var p=o[0],m=o[1],_=0,x=1,T=2;for(o[0]={lit:-1,f:p.f+m.f,l:p,r:m,d:0};x!=h-1;)p=_!=x&&(T==h||o[_].f<o[T].f)?o[_++]:o[T++],m=_!=x&&(T==h||o[_].f<o[T].f)?o[_++]:o[T++],o[x++]={lit:-1,f:p.f+m.f,l:p,r:m};var b=n.F.setDepth(o[x-1],0);for(b>s&&(n.F.restrictDepth(d,s,b),b=s),u=0;u<h;u++)i[1+(d[u].lit<<1)]=d[u].d;return b},n.F.setDepth=function(a,i){return a.lit!=-1?(a.d=i,i):Math.max(n.F.setDepth(a.l,i+1),n.F.setDepth(a.r,i+1))},n.F.restrictDepth=function(a,i,s){var o=0,l=1<<s-i,c=0;for(a.sort(function(h,d){return d.d==h.d?h.f-d.f:d.d-h.d}),o=0;o<a.length&&a[o].d>i;o++){var u=a[o].d;a[o].d=i,c+=l-(1<<s-u)}for(c>>>=s-i;c>0;)(u=a[o].d)<i?(a[o].d++,c-=1<<i-u-1):o++;for(;o>=0;o--)a[o].d==i&&c<0&&(a[o].d--,c++);c!=0&&console.log("debt left")},n.F._goodIndex=function(a,i){var s=0;return i[16|s]<=a&&(s|=16),i[8|s]<=a&&(s|=8),i[4|s]<=a&&(s|=4),i[2|s]<=a&&(s|=2),i[1|s]<=a&&(s|=1),s},n.F._writeLit=function(a,i,s,o){return n.F._putsF(s,o,i[a<<1]),o+i[1+(a<<1)]},n.F.inflate=function(a,i){var s=Uint8Array;if(a[0]==3&&a[1]==0)return i||new s(0);var o=n.F,l=o._bitsF,c=o._bitsE,u=o._decodeTiny,h=o.makeCodes,d=o.codes2map,f=o._get17,p=o.U,m=i==null;m&&(i=new s(a.length>>>2<<3));for(var _,x,T=0,b=0,I=0,j=0,O=0,N=0,A=0,y=0,R=0;T==0;)if(T=l(a,R,1),b=l(a,R+1,2),R+=3,b!=0){if(m&&(i=n.F._check(i,y+(1<<17))),b==1&&(_=p.flmap,x=p.fdmap,N=511,A=31),b==2){I=c(a,R,5)+257,j=c(a,R+5,5)+1,O=c(a,R+10,4)+4,R+=14;for(var S=0;S<38;S+=2)p.itree[S]=0,p.itree[S+1]=0;var k=1;for(S=0;S<O;S++){var C=c(a,R+3*S,3);p.itree[1+(p.ordr[S]<<1)]=C,C>k&&(k=C)}R+=3*O,h(p.itree,k),d(p.itree,k,p.imap),_=p.lmap,x=p.dmap,R=u(p.imap,(1<<k)-1,I+j,a,R,p.ttree);var H=o._copyOut(p.ttree,0,I,p.ltree);N=(1<<H)-1;var X=o._copyOut(p.ttree,I,j,p.dtree);A=(1<<X)-1,h(p.ltree,H),d(p.ltree,H,_),h(p.dtree,X),d(p.dtree,X,x)}for(;;){var V=_[f(a,R)&N];R+=15&V;var q=V>>>4;if(!(q>>>8))i[y++]=q;else{if(q==256)break;var re=y+q-254;if(q>264){var W=p.ldef[q-257];re=y+(W>>>3)+c(a,R,7&W),R+=7&W}var me=x[f(a,R)&A];R+=15&me;var Ee=me>>>4,D=p.ddef[Ee],F=(D>>>4)+l(a,R,15&D);for(R+=15&D,m&&(i=n.F._check(i,y+(1<<17)));y<re;)i[y]=i[y++-F],i[y]=i[y++-F],i[y]=i[y++-F],i[y]=i[y++-F];y=re}}}else{7&R&&(R+=8-(7&R));var U=4+(R>>>3),M=a[U-4]|a[U-3]<<8;m&&(i=n.F._check(i,y+M)),i.set(new s(a.buffer,a.byteOffset+U,M),y),R=U+M<<3,y+=M}return i.length==y?i:i.slice(0,y)},n.F._check=function(a,i){var s=a.length;if(i<=s)return a;var o=new Uint8Array(Math.max(s<<1,i));return o.set(a,0),o},n.F._decodeTiny=function(a,i,s,o,l,c){for(var u=n.F._bitsE,h=n.F._get17,d=0;d<s;){var f=a[h(o,l)&i];l+=15&f;var p=f>>>4;if(p<=15)c[d]=p,d++;else{var m=0,_=0;p==16?(_=3+u(o,l,2),l+=2,m=c[d-1]):p==17?(_=3+u(o,l,3),l+=3):p==18&&(_=11+u(o,l,7),l+=7);for(var x=d+_;d<x;)c[d]=m,d++}}return l},n.F._copyOut=function(a,i,s,o){for(var l=0,c=0,u=o.length>>>1;c<s;){var h=a[c+i];o[c<<1]=0,o[1+(c<<1)]=h,h>l&&(l=h),c++}for(;c<u;)o[c<<1]=0,o[1+(c<<1)]=0,c++;return l},n.F.makeCodes=function(a,i){for(var s,o,l,c,u=n.F.U,h=a.length,d=u.bl_count,f=0;f<=i;f++)d[f]=0;for(f=1;f<h;f+=2)d[a[f]]++;var p=u.next_code;for(s=0,d[0]=0,o=1;o<=i;o++)s=s+d[o-1]<<1,p[o]=s;for(l=0;l<h;l+=2)(c=a[l+1])!=0&&(a[l]=p[c],p[c]++)},n.F.codes2map=function(a,i,s){for(var o=a.length,l=n.F.U.rev15,c=0;c<o;c+=2)if(a[c+1]!=0)for(var u=c>>1,h=a[c+1],d=u<<4|h,f=i-h,p=a[c]<<f,m=p+(1<<f);p!=m;)s[l[p]>>>15-i]=d,p++},n.F.revCodes=function(a,i){for(var s=n.F.U.rev15,o=15-i,l=0;l<a.length;l+=2){var c=a[l]<<i-a[l+1];a[l]=s[c]>>>o}},n.F._putsE=function(a,i,s){s<<=7&i;var o=i>>>3;a[o]|=s,a[o+1]|=s>>>8},n.F._putsF=function(a,i,s){s<<=7&i;var o=i>>>3;a[o]|=s,a[o+1]|=s>>>8,a[o+2]|=s>>>16},n.F._bitsE=function(a,i,s){return(a[i>>>3]|a[1+(i>>>3)]<<8)>>>(7&i)&(1<<s)-1},n.F._bitsF=function(a,i,s){return(a[i>>>3]|a[1+(i>>>3)]<<8|a[2+(i>>>3)]<<16)>>>(7&i)&(1<<s)-1},n.F._get17=function(a,i){return(a[i>>>3]|a[1+(i>>>3)]<<8|a[2+(i>>>3)]<<16)>>>(7&i)},n.F._get25=function(a,i){return(a[i>>>3]|a[1+(i>>>3)]<<8|a[2+(i>>>3)]<<16|a[3+(i>>>3)]<<24)>>>(7&i)},n.F.U=(e=Uint16Array,r=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new r(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new r(286),dhst:new r(30),ihst:new r(19),lits:new r(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var a=n.F.U,i=0;i<32768;i++){var s=i;s=(4278255360&(s=(4042322160&(s=(3435973836&(s=(2863311530&s)>>>1|(1431655765&s)<<1))>>>2|(858993459&s)<<2))>>>4|(252645135&s)<<4))>>>8|(16711935&s)<<8,a.rev15[i]=(s>>>16|s<<16)>>>17}function o(l,c,u){for(;c--!=0;)l.push(0,u)}for(i=0;i<32;i++)a.ldef[i]=a.of0[i]<<3|a.exb[i],a.ddef[i]=a.df0[i]<<4|a.dxb[i];o(a.fltree,144,8),o(a.fltree,112,9),o(a.fltree,24,7),o(a.fltree,8,8),n.F.makeCodes(a.fltree,9),n.F.codes2map(a.fltree,9,a.flmap),n.F.revCodes(a.fltree,9),o(a.fdtree,32,5),n.F.makeCodes(a.fdtree,5),n.F.codes2map(a.fdtree,5,a.fdmap),n.F.revCodes(a.fdtree,5),o(a.itree,19,0),o(a.ltree,286,0),o(a.dtree,30,0),o(a.ttree,320,0)}()})();var Due=Iue({__proto__:null,default:Jv},[Jv]);const qo=function(){var t={nextZero(u,h){for(;u[h]!=0;)h++;return h},readUshort:(u,h)=>u[h]<<8|u[h+1],writeUshort(u,h,d){u[h]=d>>8&255,u[h+1]=255&d},readUint:(u,h)=>16777216*u[h]+(u[h+1]<<16|u[h+2]<<8|u[h+3]),writeUint(u,h,d){u[h]=d>>24&255,u[h+1]=d>>16&255,u[h+2]=d>>8&255,u[h+3]=255&d},readASCII(u,h,d){let f="";for(let p=0;p<d;p++)f+=String.fromCharCode(u[h+p]);return f},writeASCII(u,h,d){for(let f=0;f<d.length;f++)u[h+f]=d.charCodeAt(f)},readBytes(u,h,d){const f=[];for(let p=0;p<d;p++)f.push(u[h+p]);return f},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,h,d){let f,p="";for(let m=0;m<d;m++)p+=`%${t.pad(u[h+m].toString(16))}`;try{f=decodeURIComponent(p)}catch{return t.readASCII(u,h,d)}return f}};function e(u,h,d,f){const p=h*d,m=i(f),_=Math.ceil(h*m/8),x=new Uint8Array(4*p),T=new Uint32Array(x.buffer),{ctype:b}=f,{depth:I}=f,j=t.readUshort;if(b==6){const W=p<<2;if(I==8)for(var O=0;O<W;O+=4)x[O]=u[O],x[O+1]=u[O+1],x[O+2]=u[O+2],x[O+3]=u[O+3];if(I==16)for(O=0;O<W;O++)x[O]=u[O<<1]}else if(b==2){const W=f.tabs.tRNS;if(W==null){if(I==8)for(O=0;O<p;O++){var N=3*O;T[O]=255<<24|u[N+2]<<16|u[N+1]<<8|u[N]}if(I==16)for(O=0;O<p;O++)N=6*O,T[O]=255<<24|u[N+4]<<16|u[N+2]<<8|u[N]}else{var A=W[0];const me=W[1],Ee=W[2];if(I==8)for(O=0;O<p;O++){var y=O<<2;N=3*O,T[O]=255<<24|u[N+2]<<16|u[N+1]<<8|u[N],u[N]==A&&u[N+1]==me&&u[N+2]==Ee&&(x[y+3]=0)}if(I==16)for(O=0;O<p;O++)y=O<<2,N=6*O,T[O]=255<<24|u[N+4]<<16|u[N+2]<<8|u[N],j(u,N)==A&&j(u,N+2)==me&&j(u,N+4)==Ee&&(x[y+3]=0)}}else if(b==3){const W=f.tabs.PLTE,me=f.tabs.tRNS,Ee=me?me.length:0;if(I==1)for(var R=0;R<d;R++){var S=R*_,k=R*h;for(O=0;O<h;O++){y=k+O<<2;var C=3*(H=u[S+(O>>3)]>>7-((7&O)<<0)&1);x[y]=W[C],x[y+1]=W[C+1],x[y+2]=W[C+2],x[y+3]=H<Ee?me[H]:255}}if(I==2)for(R=0;R<d;R++)for(S=R*_,k=R*h,O=0;O<h;O++)y=k+O<<2,C=3*(H=u[S+(O>>2)]>>6-((3&O)<<1)&3),x[y]=W[C],x[y+1]=W[C+1],x[y+2]=W[C+2],x[y+3]=H<Ee?me[H]:255;if(I==4)for(R=0;R<d;R++)for(S=R*_,k=R*h,O=0;O<h;O++)y=k+O<<2,C=3*(H=u[S+(O>>1)]>>4-((1&O)<<2)&15),x[y]=W[C],x[y+1]=W[C+1],x[y+2]=W[C+2],x[y+3]=H<Ee?me[H]:255;if(I==8)for(O=0;O<p;O++){var H;y=O<<2,C=3*(H=u[O]),x[y]=W[C],x[y+1]=W[C+1],x[y+2]=W[C+2],x[y+3]=H<Ee?me[H]:255}}else if(b==4){if(I==8)for(O=0;O<p;O++){y=O<<2;var X=u[V=O<<1];x[y]=X,x[y+1]=X,x[y+2]=X,x[y+3]=u[V+1]}if(I==16)for(O=0;O<p;O++){var V;y=O<<2,X=u[V=O<<2],x[y]=X,x[y+1]=X,x[y+2]=X,x[y+3]=u[V+2]}}else if(b==0)for(A=f.tabs.tRNS?f.tabs.tRNS:-1,R=0;R<d;R++){const W=R*_,me=R*h;if(I==1)for(var q=0;q<h;q++){var re=(X=255*(u[W+(q>>>3)]>>>7-(7&q)&1))==255*A?0:255;T[me+q]=re<<24|X<<16|X<<8|X}else if(I==2)for(q=0;q<h;q++)re=(X=85*(u[W+(q>>>2)]>>>6-((3&q)<<1)&3))==85*A?0:255,T[me+q]=re<<24|X<<16|X<<8|X;else if(I==4)for(q=0;q<h;q++)re=(X=17*(u[W+(q>>>1)]>>>4-((1&q)<<2)&15))==17*A?0:255,T[me+q]=re<<24|X<<16|X<<8|X;else if(I==8)for(q=0;q<h;q++)re=(X=u[W+q])==A?0:255,T[me+q]=re<<24|X<<16|X<<8|X;else if(I==16)for(q=0;q<h;q++)X=u[W+(q<<1)],re=j(u,W+(q<<1))==A?0:255,T[me+q]=re<<24|X<<16|X<<8|X}return x}function r(u,h,d,f){const p=i(u),m=Math.ceil(d*p/8),_=new Uint8Array((m+1+u.interlace)*f);return h=u.tabs.CgBI?a(h,_):n(h,_),u.interlace==0?h=s(h,u,0,d,f):u.interlace==1&&(h=function(T,b){const I=b.width,j=b.height,O=i(b),N=O>>3,A=Math.ceil(I*O/8),y=new Uint8Array(j*A);let R=0;const S=[0,0,4,0,2,0,1],k=[0,4,0,2,0,1,0],C=[8,8,8,4,4,2,2],H=[8,8,4,4,2,2,1];let X=0;for(;X<7;){const q=C[X],re=H[X];let W=0,me=0,Ee=S[X];for(;Ee<j;)Ee+=q,me++;let D=k[X];for(;D<I;)D+=re,W++;const F=Math.ceil(W*O/8);s(T,b,R,W,me);let U=0,M=S[X];for(;M<j;){let Y=k[X],se=R+U*F<<3;for(;Y<I;){var V;if(O==1&&(V=(V=T[se>>3])>>7-(7&se)&1,y[M*A+(Y>>3)]|=V<<7-((7&Y)<<0)),O==2&&(V=(V=T[se>>3])>>6-(7&se)&3,y[M*A+(Y>>2)]|=V<<6-((3&Y)<<1)),O==4&&(V=(V=T[se>>3])>>4-(7&se)&15,y[M*A+(Y>>1)]|=V<<4-((1&Y)<<2)),O>=8){const he=M*A+Y*N;for(let fe=0;fe<N;fe++)y[he+fe]=T[(se>>3)+fe]}se+=O,Y+=re}U++,M+=q}W*me!=0&&(R+=me*(1+F)),X+=1}return y}(h,u)),h}function n(u,h){return a(new Uint8Array(u.buffer,2,u.length-6),h)}var a=function(){const u={H:{}};return u.H.N=function(h,d){const f=Uint8Array;let p,m,_=0,x=0,T=0,b=0,I=0,j=0,O=0,N=0,A=0;if(h[0]==3&&h[1]==0)return d||new f(0);const y=u.H,R=y.b,S=y.e,k=y.R,C=y.n,H=y.A,X=y.Z,V=y.m,q=d==null;for(q&&(d=new f(h.length>>>2<<5));_==0;)if(_=R(h,A,1),x=R(h,A+1,2),A+=3,x!=0){if(q&&(d=u.H.W(d,N+(1<<17))),x==1&&(p=V.J,m=V.h,j=511,O=31),x==2){T=S(h,A,5)+257,b=S(h,A+5,5)+1,I=S(h,A+10,4)+4,A+=14;let W=1;for(var re=0;re<38;re+=2)V.Q[re]=0,V.Q[re+1]=0;for(re=0;re<I;re++){const D=S(h,A+3*re,3);V.Q[1+(V.X[re]<<1)]=D,D>W&&(W=D)}A+=3*I,C(V.Q,W),H(V.Q,W,V.u),p=V.w,m=V.d,A=k(V.u,(1<<W)-1,T+b,h,A,V.v);const me=y.V(V.v,0,T,V.C);j=(1<<me)-1;const Ee=y.V(V.v,T,b,V.D);O=(1<<Ee)-1,C(V.C,me),H(V.C,me,p),C(V.D,Ee),H(V.D,Ee,m)}for(;;){const W=p[X(h,A)&j];A+=15&W;const me=W>>>4;if(!(me>>>8))d[N++]=me;else{if(me==256)break;{let Ee=N+me-254;if(me>264){const Y=V.q[me-257];Ee=N+(Y>>>3)+S(h,A,7&Y),A+=7&Y}const D=m[X(h,A)&O];A+=15&D;const F=D>>>4,U=V.c[F],M=(U>>>4)+R(h,A,15&U);for(A+=15&U;N<Ee;)d[N]=d[N++-M],d[N]=d[N++-M],d[N]=d[N++-M],d[N]=d[N++-M];N=Ee}}}}else{7&A&&(A+=8-(7&A));const W=4+(A>>>3),me=h[W-4]|h[W-3]<<8;q&&(d=u.H.W(d,N+me)),d.set(new f(h.buffer,h.byteOffset+W,me),N),A=W+me<<3,N+=me}return d.length==N?d:d.slice(0,N)},u.H.W=function(h,d){const f=h.length;if(d<=f)return h;const p=new Uint8Array(f<<1);return p.set(h,0),p},u.H.R=function(h,d,f,p,m,_){const x=u.H.e,T=u.H.Z;let b=0;for(;b<f;){const I=h[T(p,m)&d];m+=15&I;const j=I>>>4;if(j<=15)_[b]=j,b++;else{let O=0,N=0;j==16?(N=3+x(p,m,2),m+=2,O=_[b-1]):j==17?(N=3+x(p,m,3),m+=3):j==18&&(N=11+x(p,m,7),m+=7);const A=b+N;for(;b<A;)_[b]=O,b++}}return m},u.H.V=function(h,d,f,p){let m=0,_=0;const x=p.length>>>1;for(;_<f;){const T=h[_+d];p[_<<1]=0,p[1+(_<<1)]=T,T>m&&(m=T),_++}for(;_<x;)p[_<<1]=0,p[1+(_<<1)]=0,_++;return m},u.H.n=function(h,d){const f=u.H.m,p=h.length;let m,_,x,T;const b=f.j;for(var I=0;I<=d;I++)b[I]=0;for(I=1;I<p;I+=2)b[h[I]]++;const j=f.K;for(m=0,b[0]=0,_=1;_<=d;_++)m=m+b[_-1]<<1,j[_]=m;for(x=0;x<p;x+=2)T=h[x+1],T!=0&&(h[x]=j[T],j[T]++)},u.H.A=function(h,d,f){const p=h.length,m=u.H.m.r;for(let _=0;_<p;_+=2)if(h[_+1]!=0){const x=_>>1,T=h[_+1],b=x<<4|T,I=d-T;let j=h[_]<<I;const O=j+(1<<I);for(;j!=O;)f[m[j]>>>15-d]=b,j++}},u.H.l=function(h,d){const f=u.H.m.r,p=15-d;for(let m=0;m<h.length;m+=2){const _=h[m]<<d-h[m+1];h[m]=f[_]>>>p}},u.H.M=function(h,d,f){f<<=7&d;const p=d>>>3;h[p]|=f,h[p+1]|=f>>>8},u.H.I=function(h,d,f){f<<=7&d;const p=d>>>3;h[p]|=f,h[p+1]|=f>>>8,h[p+2]|=f>>>16},u.H.e=function(h,d,f){return(h[d>>>3]|h[1+(d>>>3)]<<8)>>>(7&d)&(1<<f)-1},u.H.b=function(h,d,f){return(h[d>>>3]|h[1+(d>>>3)]<<8|h[2+(d>>>3)]<<16)>>>(7&d)&(1<<f)-1},u.H.Z=function(h,d){return(h[d>>>3]|h[1+(d>>>3)]<<8|h[2+(d>>>3)]<<16)>>>(7&d)},u.H.i=function(h,d){return(h[d>>>3]|h[1+(d>>>3)]<<8|h[2+(d>>>3)]<<16|h[3+(d>>>3)]<<24)>>>(7&d)},u.H.m=function(){const h=Uint16Array,d=Uint32Array;return{K:new h(16),j:new h(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new h(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new d(32),J:new h(512),_:[],h:new h(32),$:[],w:new h(32768),C:[],v:[],d:new h(32768),D:[],u:new h(512),Q:[],r:new h(32768),s:new d(286),Y:new d(30),a:new d(19),t:new d(15e3),k:new h(65536),g:new h(32768)}}(),function(){const h=u.H.m;for(var d=0;d<32768;d++){let p=d;p=(2863311530&p)>>>1|(1431655765&p)<<1,p=(3435973836&p)>>>2|(858993459&p)<<2,p=(4042322160&p)>>>4|(252645135&p)<<4,p=(4278255360&p)>>>8|(16711935&p)<<8,h.r[d]=(p>>>16|p<<16)>>>17}function f(p,m,_){for(;m--!=0;)p.push(0,_)}for(d=0;d<32;d++)h.q[d]=h.S[d]<<3|h.T[d],h.c[d]=h.p[d]<<4|h.z[d];f(h._,144,8),f(h._,112,9),f(h._,24,7),f(h._,8,8),u.H.n(h._,9),u.H.A(h._,9,h.J),u.H.l(h._,9),f(h.$,32,5),u.H.n(h.$,5),u.H.A(h.$,5,h.h),u.H.l(h.$,5),f(h.Q,19,0),f(h.C,286,0),f(h.D,30,0),f(h.v,320,0)}(),u.H.N}();function i(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function s(u,h,d,f,p){let m=i(h);const _=Math.ceil(f*m/8);let x,T;m=Math.ceil(m/8);let b=u[d],I=0;if(b>1&&(u[d]=[0,0,1][b-2]),b==3)for(I=m;I<_;I++)u[I+1]=u[I+1]+(u[I+1-m]>>>1)&255;for(let j=0;j<p;j++)if(x=d+j*_,T=x+j+1,b=u[T-1],I=0,b==0)for(;I<_;I++)u[x+I]=u[T+I];else if(b==1){for(;I<m;I++)u[x+I]=u[T+I];for(;I<_;I++)u[x+I]=u[T+I]+u[x+I-m]}else if(b==2)for(;I<_;I++)u[x+I]=u[T+I]+u[x+I-_];else if(b==3){for(;I<m;I++)u[x+I]=u[T+I]+(u[x+I-_]>>>1);for(;I<_;I++)u[x+I]=u[T+I]+(u[x+I-_]+u[x+I-m]>>>1)}else{for(;I<m;I++)u[x+I]=u[T+I]+o(0,u[x+I-_],0);for(;I<_;I++)u[x+I]=u[T+I]+o(u[x+I-m],u[x+I-_],u[x+I-m-_])}return u}function o(u,h,d){const f=u+h-d,p=f-u,m=f-h,_=f-d;return p*p<=m*m&&p*p<=_*_?u:m*m<=_*_?h:d}function l(u,h,d){d.width=t.readUint(u,h),h+=4,d.height=t.readUint(u,h),h+=4,d.depth=u[h],h++,d.ctype=u[h],h++,d.compress=u[h],h++,d.filter=u[h],h++,d.interlace=u[h],h++}function c(u,h,d,f,p,m,_,x,T){const b=Math.min(h,p),I=Math.min(d,m);let j=0,O=0;for(let X=0;X<I;X++)for(let V=0;V<b;V++)if(_>=0&&x>=0?(j=X*h+V<<2,O=(x+X)*p+_+V<<2):(j=(-x+X)*h-_+V<<2,O=X*p+V<<2),T==0)f[O]=u[j],f[O+1]=u[j+1],f[O+2]=u[j+2],f[O+3]=u[j+3];else if(T==1){var N=u[j+3]*.00392156862745098,A=u[j]*N,y=u[j+1]*N,R=u[j+2]*N,S=f[O+3]*(1/255),k=f[O]*S,C=f[O+1]*S,H=f[O+2]*S;const q=1-N,re=N+S*q,W=re==0?0:1/re;f[O+3]=255*re,f[O+0]=(A+k*q)*W,f[O+1]=(y+C*q)*W,f[O+2]=(R+H*q)*W}else if(T==2)N=u[j+3],A=u[j],y=u[j+1],R=u[j+2],S=f[O+3],k=f[O],C=f[O+1],H=f[O+2],N==S&&A==k&&y==C&&R==H?(f[O]=0,f[O+1]=0,f[O+2]=0,f[O+3]=0):(f[O]=A,f[O+1]=y,f[O+2]=R,f[O+3]=N);else if(T==3){if(N=u[j+3],A=u[j],y=u[j+1],R=u[j+2],S=f[O+3],k=f[O],C=f[O+1],H=f[O+2],N==S&&A==k&&y==C&&R==H)continue;if(N<220&&S>20)return!1}return!0}return{decode:function(h){const d=new Uint8Array(h);let f=8;const p=t,m=p.readUshort,_=p.readUint,x={tabs:{},frames:[]},T=new Uint8Array(d.length);let b,I=0,j=0;const O=[137,80,78,71,13,10,26,10];for(var N=0;N<8;N++)if(d[N]!=O[N])throw"The input is not a PNG file!";for(;f<d.length;){const X=p.readUint(d,f);f+=4;const V=p.readASCII(d,f,4);if(f+=4,V=="IHDR")l(d,f,x);else if(V=="iCCP"){for(var A=f;d[A]!=0;)A++;p.readASCII(d,f,A-f),d[A+1];const q=d.slice(A+2,f+X);let re=null;try{re=n(q)}catch{re=a(q)}x.tabs[V]=re}else if(V=="CgBI")x.tabs[V]=d.slice(f,f+4);else if(V=="IDAT"){for(N=0;N<X;N++)T[I+N]=d[f+N];I+=X}else if(V=="acTL")x.tabs[V]={num_frames:_(d,f),num_plays:_(d,f+4)},b=new Uint8Array(d.length);else if(V=="fcTL"){j!=0&&((H=x.frames[x.frames.length-1]).data=r(x,b.slice(0,j),H.rect.width,H.rect.height),j=0);const q={x:_(d,f+12),y:_(d,f+16),width:_(d,f+4),height:_(d,f+8)};let re=m(d,f+22);re=m(d,f+20)/(re==0?100:re);const W={rect:q,delay:Math.round(1e3*re),dispose:d[f+24],blend:d[f+25]};x.frames.push(W)}else if(V=="fdAT"){for(N=0;N<X-4;N++)b[j+N]=d[f+N+4];j+=X-4}else if(V=="pHYs")x.tabs[V]=[p.readUint(d,f),p.readUint(d,f+4),d[f+8]];else if(V=="cHRM")for(x.tabs[V]=[],N=0;N<8;N++)x.tabs[V].push(p.readUint(d,f+4*N));else if(V=="tEXt"||V=="zTXt"){x.tabs[V]==null&&(x.tabs[V]={});var y=p.nextZero(d,f),R=p.readASCII(d,f,y-f),S=f+X-y-1;if(V=="tEXt")C=p.readASCII(d,y+1,S);else{var k=n(d.slice(y+2,y+2+S));C=p.readUTF8(k,0,k.length)}x.tabs[V][R]=C}else if(V=="iTXt"){x.tabs[V]==null&&(x.tabs[V]={}),y=0,A=f,y=p.nextZero(d,A),R=p.readASCII(d,A,y-A);const q=d[A=y+1];var C;d[A+1],A+=2,y=p.nextZero(d,A),p.readASCII(d,A,y-A),A=y+1,y=p.nextZero(d,A),p.readUTF8(d,A,y-A),S=X-((A=y+1)-f),q==0?C=p.readUTF8(d,A,S):(k=n(d.slice(A,A+S)),C=p.readUTF8(k,0,k.length)),x.tabs[V][R]=C}else if(V=="PLTE")x.tabs[V]=p.readBytes(d,f,X);else if(V=="hIST"){const q=x.tabs.PLTE.length/3;for(x.tabs[V]=[],N=0;N<q;N++)x.tabs[V].push(m(d,f+2*N))}else if(V=="tRNS")x.ctype==3?x.tabs[V]=p.readBytes(d,f,X):x.ctype==0?x.tabs[V]=m(d,f):x.ctype==2&&(x.tabs[V]=[m(d,f),m(d,f+2),m(d,f+4)]);else if(V=="gAMA")x.tabs[V]=p.readUint(d,f)/1e5;else if(V=="sRGB")x.tabs[V]=d[f];else if(V=="bKGD")x.ctype==0||x.ctype==4?x.tabs[V]=[m(d,f)]:x.ctype==2||x.ctype==6?x.tabs[V]=[m(d,f),m(d,f+2),m(d,f+4)]:x.ctype==3&&(x.tabs[V]=d[f]);else if(V=="IEND")break;f+=X,p.readUint(d,f),f+=4}var H;return j!=0&&((H=x.frames[x.frames.length-1]).data=r(x,b.slice(0,j),H.rect.width,H.rect.height)),x.data=r(x,T,x.width,x.height),delete x.compress,delete x.interlace,delete x.filter,x},toRGBA8:function(h){const d=h.width,f=h.height;if(h.tabs.acTL==null)return[e(h.data,d,f,h).buffer];const p=[];h.frames[0].data==null&&(h.frames[0].data=h.data);const m=d*f*4,_=new Uint8Array(m),x=new Uint8Array(m),T=new Uint8Array(m);for(let I=0;I<h.frames.length;I++){const j=h.frames[I],O=j.rect.x,N=j.rect.y,A=j.rect.width,y=j.rect.height,R=e(j.data,A,y,h);if(I!=0)for(var b=0;b<m;b++)T[b]=_[b];if(j.blend==0?c(R,A,y,_,d,f,O,N,0):j.blend==1&&c(R,A,y,_,d,f,O,N,1),p.push(_.buffer.slice(0)),j.dispose!=0){if(j.dispose==1)c(x,A,y,_,d,f,O,N,0);else if(j.dispose==2)for(b=0;b<m;b++)_[b]=T[b]}}return p},_paeth:o,_copyTile:c,_bin:t}}();(function(){const{_copyTile:t}=qo,{_bin:e}=qo,r=qo._paeth;var n={table:function(){const A=new Uint32Array(256);for(let y=0;y<256;y++){let R=y;for(let S=0;S<8;S++)1&R?R=3988292384^R>>>1:R>>>=1;A[y]=R}return A}(),update(A,y,R,S){for(let k=0;k<S;k++)A=n.table[255&(A^y[R+k])]^A>>>8;return A},crc:(A,y,R)=>4294967295^n.update(4294967295,A,y,R)};function a(A,y,R,S){y[R]+=A[0]*S>>4,y[R+1]+=A[1]*S>>4,y[R+2]+=A[2]*S>>4,y[R+3]+=A[3]*S>>4}function i(A){return Math.max(0,Math.min(255,A))}function s(A,y){const R=A[0]-y[0],S=A[1]-y[1],k=A[2]-y[2],C=A[3]-y[3];return R*R+S*S+k*k+C*C}function o(A,y,R,S,k,C,H){H==null&&(H=1);const X=S.length,V=[];for(var q=0;q<X;q++){const M=S[q];V.push([M>>>0&255,M>>>8&255,M>>>16&255,M>>>24&255])}for(q=0;q<X;q++){let M=4294967295;for(var re=0,W=0;W<X;W++){var me=s(V[q],V[W]);W!=q&&me<M&&(M=me,re=W)}}const Ee=new Uint32Array(k.buffer),D=new Int16Array(y*R*4),F=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(q=0;q<F.length;q++)F[q]=255*((F[q]+.5)/16-.5);for(let M=0;M<R;M++)for(let Y=0;Y<y;Y++){var U;q=4*(M*y+Y),H!=2?U=[i(A[q]+D[q]),i(A[q+1]+D[q+1]),i(A[q+2]+D[q+2]),i(A[q+3]+D[q+3])]:(me=F[4*(3&M)+(3&Y)],U=[i(A[q]+me),i(A[q+1]+me),i(A[q+2]+me),i(A[q+3]+me)]),re=0;let se=16777215;for(W=0;W<X;W++){const ve=s(U,V[W]);ve<se&&(se=ve,re=W)}const he=V[re],fe=[U[0]-he[0],U[1]-he[1],U[2]-he[2],U[3]-he[3]];H==1&&(Y!=y-1&&a(fe,D,q+4,7),M!=R-1&&(Y!=0&&a(fe,D,q+4*y-4,3),a(fe,D,q+4*y,5),Y!=y-1&&a(fe,D,q+4*y+4,1))),C[q>>2]=re,Ee[q>>2]=S[re]}}function l(A,y,R,S,k){k==null&&(k={});const{crc:C}=n,H=e.writeUint,X=e.writeUshort,V=e.writeASCII;let q=8;const re=A.frames.length>1;let W,me=!1,Ee=33+(re?20:0);if(k.sRGB!=null&&(Ee+=13),k.pHYs!=null&&(Ee+=21),k.iCCP!=null&&(W=pako.deflate(k.iCCP),Ee+=21+W.length+4),A.ctype==3){for(var D=A.plte.length,F=0;F<D;F++)A.plte[F]>>>24!=255&&(me=!0);Ee+=8+3*D+4+(me?8+1*D+4:0)}for(var U=0;U<A.frames.length;U++)re&&(Ee+=38),Ee+=(he=A.frames[U]).cimg.length+12,U!=0&&(Ee+=4);Ee+=12;const M=new Uint8Array(Ee),Y=[137,80,78,71,13,10,26,10];for(F=0;F<8;F++)M[F]=Y[F];if(H(M,q,13),q+=4,V(M,q,"IHDR"),q+=4,H(M,q,y),q+=4,H(M,q,R),q+=4,M[q]=A.depth,q++,M[q]=A.ctype,q++,M[q]=0,q++,M[q]=0,q++,M[q]=0,q++,H(M,q,C(M,q-17,17)),q+=4,k.sRGB!=null&&(H(M,q,1),q+=4,V(M,q,"sRGB"),q+=4,M[q]=k.sRGB,q++,H(M,q,C(M,q-5,5)),q+=4),k.iCCP!=null){const fe=13+W.length;H(M,q,fe),q+=4,V(M,q,"iCCP"),q+=4,V(M,q,"ICC profile"),q+=11,q+=2,M.set(W,q),q+=W.length,H(M,q,C(M,q-(fe+4),fe+4)),q+=4}if(k.pHYs!=null&&(H(M,q,9),q+=4,V(M,q,"pHYs"),q+=4,H(M,q,k.pHYs[0]),q+=4,H(M,q,k.pHYs[1]),q+=4,M[q]=k.pHYs[2],q++,H(M,q,C(M,q-13,13)),q+=4),re&&(H(M,q,8),q+=4,V(M,q,"acTL"),q+=4,H(M,q,A.frames.length),q+=4,H(M,q,k.loop!=null?k.loop:0),q+=4,H(M,q,C(M,q-12,12)),q+=4),A.ctype==3){for(H(M,q,3*(D=A.plte.length)),q+=4,V(M,q,"PLTE"),q+=4,F=0;F<D;F++){const fe=3*F,ve=A.plte[F],ke=255&ve,ne=ve>>>8&255,be=ve>>>16&255;M[q+fe+0]=ke,M[q+fe+1]=ne,M[q+fe+2]=be}if(q+=3*D,H(M,q,C(M,q-3*D-4,3*D+4)),q+=4,me){for(H(M,q,D),q+=4,V(M,q,"tRNS"),q+=4,F=0;F<D;F++)M[q+F]=A.plte[F]>>>24&255;q+=D,H(M,q,C(M,q-D-4,D+4)),q+=4}}let se=0;for(U=0;U<A.frames.length;U++){var he=A.frames[U];re&&(H(M,q,26),q+=4,V(M,q,"fcTL"),q+=4,H(M,q,se++),q+=4,H(M,q,he.rect.width),q+=4,H(M,q,he.rect.height),q+=4,H(M,q,he.rect.x),q+=4,H(M,q,he.rect.y),q+=4,X(M,q,S[U]),q+=2,X(M,q,1e3),q+=2,M[q]=he.dispose,q++,M[q]=he.blend,q++,H(M,q,C(M,q-30,30)),q+=4);const fe=he.cimg;H(M,q,(D=fe.length)+(U==0?0:4)),q+=4;const ve=q;V(M,q,U==0?"IDAT":"fdAT"),q+=4,U!=0&&(H(M,q,se++),q+=4),M.set(fe,q),q+=D,H(M,q,C(M,ve,q-ve)),q+=4}return H(M,q,0),q+=4,V(M,q,"IEND"),q+=4,H(M,q,C(M,q-4,4)),q+=4,M.buffer}function c(A,y,R){for(let S=0;S<A.frames.length;S++){const k=A.frames[S];k.rect.width;const C=k.rect.height,H=new Uint8Array(C*k.bpl+C);k.cimg=f(k.img,C,k.bpp,k.bpl,H,y,R)}}function u(A,y,R,S,k){const C=k[0],H=k[1],X=k[2],V=k[3],q=k[4],re=k[5];let W=6,me=8,Ee=255;for(var D=0;D<A.length;D++){const Ie=new Uint8Array(A[D]);for(var F=Ie.length,U=0;U<F;U+=4)Ee&=Ie[U+3]}const M=Ee!=255,Y=function(Re,De,Te,Qe,Ye,we){const qe=[];for(var tt=0;tt<Re.length;tt++){const lt=new Uint8Array(Re[tt]),ct=new Uint32Array(lt.buffer);var at;let Ft=0,bt=0,Nt=De,zt=Te,xr=Qe?1:0;if(tt!=0){const Pt=we||Qe||tt==1||qe[tt-2].dispose!=0?1:2;let Oe=0,ut=1e9;for(let dt=0;dt<Pt;dt++){var Tt=new Uint8Array(Re[tt-1-dt]);const Qt=new Uint32Array(Re[tt-1-dt]);let Ct=De,kt=Te,Kt=-1,Kr=-1;for(let gn=0;gn<Te;gn++)for(let Br=0;Br<De;Br++)ct[At=gn*De+Br]!=Qt[At]&&(Br<Ct&&(Ct=Br),Br>Kt&&(Kt=Br),gn<kt&&(kt=gn),gn>Kr&&(Kr=gn));Kt==-1&&(Ct=kt=Kt=Kr=0),Ye&&((1&Ct)==1&&Ct--,(1&kt)==1&&kt--);const Jt=(Kt-Ct+1)*(Kr-kt+1);Jt<ut&&(ut=Jt,Oe=dt,Ft=Ct,bt=kt,Nt=Kt-Ct+1,zt=Kr-kt+1)}Tt=new Uint8Array(Re[tt-1-Oe]),Oe==1&&(qe[tt-1].dispose=2),at=new Uint8Array(Nt*zt*4),t(Tt,De,Te,at,Nt,zt,-Ft,-bt,0),xr=t(lt,De,Te,at,Nt,zt,-Ft,-bt,3)?1:0,xr==1?d(lt,De,Te,at,{x:Ft,y:bt,width:Nt,height:zt}):t(lt,De,Te,at,Nt,zt,-Ft,-bt,0)}else at=lt.slice(0);qe.push({rect:{x:Ft,y:bt,width:Nt,height:zt},img:at,blend:xr,dispose:0})}if(Qe)for(tt=0;tt<qe.length;tt++){if((vt=qe[tt]).blend==1)continue;const lt=vt.rect,ct=qe[tt-1].rect,Ft=Math.min(lt.x,ct.x),bt=Math.min(lt.y,ct.y),Nt={x:Ft,y:bt,width:Math.max(lt.x+lt.width,ct.x+ct.width)-Ft,height:Math.max(lt.y+lt.height,ct.y+ct.height)-bt};qe[tt-1].dispose=1,tt-1!=0&&h(Re,De,Te,qe,tt-1,Nt,Ye),h(Re,De,Te,qe,tt,Nt,Ye)}let $t=0;if(Re.length!=1)for(var At=0;At<qe.length;At++){var vt;$t+=(vt=qe[At]).rect.width*vt.rect.height}return qe}(A,y,R,C,H,X),se={},he=[],fe=[];if(S!=0){const Ie=[];for(U=0;U<Y.length;U++)Ie.push(Y[U].img.buffer);const Re=function(Ye){let we=0;for(var qe=0;qe<Ye.length;qe++)we+=Ye[qe].byteLength;const tt=new Uint8Array(we);let at=0;for(qe=0;qe<Ye.length;qe++){const Tt=new Uint8Array(Ye[qe]),$t=Tt.length;for(let At=0;At<$t;At+=4){let vt=Tt[At],lt=Tt[At+1],ct=Tt[At+2];const Ft=Tt[At+3];Ft==0&&(vt=lt=ct=0),tt[at+At]=vt,tt[at+At+1]=lt,tt[at+At+2]=ct,tt[at+At+3]=Ft}at+=$t}return tt.buffer}(Ie),De=m(Re,S);for(U=0;U<De.plte.length;U++)he.push(De.plte[U].est.rgba);let Te=0;for(U=0;U<Y.length;U++){const Qe=(ke=Y[U]).img.length;var ve=new Uint8Array(De.inds.buffer,Te>>2,Qe>>2);fe.push(ve);const Ye=new Uint8Array(De.abuf,Te,Qe);re&&o(ke.img,ke.rect.width,ke.rect.height,he,Ye,ve),ke.img.set(Ye),Te+=Qe}}else for(D=0;D<Y.length;D++){var ke=Y[D];const Ie=new Uint32Array(ke.img.buffer);var ne=ke.rect.width;for(F=Ie.length,ve=new Uint8Array(F),fe.push(ve),U=0;U<F;U++){const Re=Ie[U];if(U!=0&&Re==Ie[U-1])ve[U]=ve[U-1];else if(U>ne&&Re==Ie[U-ne])ve[U]=ve[U-ne];else{let De=se[Re];if(De==null&&(se[Re]=De=he.length,he.push(Re),he.length>=300))break;ve[U]=De}}}const be=he.length;for(be<=256&&q==0&&(me=be<=2?1:be<=4?2:be<=16?4:8,me=Math.max(me,V)),D=0;D<Y.length;D++){(ke=Y[D]).rect.x,ke.rect.y,ne=ke.rect.width;const Ie=ke.rect.height;let Re=ke.img;new Uint32Array(Re.buffer);let De=4*ne,Te=4;if(be<=256&&q==0){De=Math.ceil(me*ne/8);var Me=new Uint8Array(De*Ie);const Qe=fe[D];for(let Ye=0;Ye<Ie;Ye++){U=Ye*De;const we=Ye*ne;if(me==8)for(var J=0;J<ne;J++)Me[U+J]=Qe[we+J];else if(me==4)for(J=0;J<ne;J++)Me[U+(J>>1)]|=Qe[we+J]<<4-4*(1&J);else if(me==2)for(J=0;J<ne;J++)Me[U+(J>>2)]|=Qe[we+J]<<6-2*(3&J);else if(me==1)for(J=0;J<ne;J++)Me[U+(J>>3)]|=Qe[we+J]<<7-1*(7&J)}Re=Me,W=3,Te=1}else if(M==0&&Y.length==1){Me=new Uint8Array(ne*Ie*3);const Qe=ne*Ie;for(U=0;U<Qe;U++){const Ye=3*U,we=4*U;Me[Ye]=Re[we],Me[Ye+1]=Re[we+1],Me[Ye+2]=Re[we+2]}Re=Me,W=2,Te=3,De=3*ne}ke.img=Re,ke.bpl=De,ke.bpp=Te}return{ctype:W,depth:me,plte:he,frames:Y}}function h(A,y,R,S,k,C,H){const X=Uint8Array,V=Uint32Array,q=new X(A[k-1]),re=new V(A[k-1]),W=k+1<A.length?new X(A[k+1]):null,me=new X(A[k]),Ee=new V(me.buffer);let D=y,F=R,U=-1,M=-1;for(let se=0;se<C.height;se++)for(let he=0;he<C.width;he++){const fe=C.x+he,ve=C.y+se,ke=ve*y+fe,ne=Ee[ke];ne==0||S[k-1].dispose==0&&re[ke]==ne&&(W==null||W[4*ke+3]!=0)||(fe<D&&(D=fe),fe>U&&(U=fe),ve<F&&(F=ve),ve>M&&(M=ve))}U==-1&&(D=F=U=M=0),H&&((1&D)==1&&D--,(1&F)==1&&F--),C={x:D,y:F,width:U-D+1,height:M-F+1};const Y=S[k];Y.rect=C,Y.blend=1,Y.img=new Uint8Array(C.width*C.height*4),S[k-1].dispose==0?(t(q,y,R,Y.img,C.width,C.height,-C.x,-C.y,0),d(me,y,R,Y.img,C)):t(me,y,R,Y.img,C.width,C.height,-C.x,-C.y,0)}function d(A,y,R,S,k){t(A,y,R,S,k.width,k.height,-k.x,-k.y,2)}function f(A,y,R,S,k,C,H){const X=[];let V,q=[0,1,2,3,4];C!=-1?q=[C]:(y*S>5e5||R==1)&&(q=[0]),H&&(V={level:0});const re=Due;for(var W=0;W<q.length;W++){for(let D=0;D<y;D++)p(k,A,D,S,R,q[W]);X.push(re.deflate(k,V))}let me,Ee=1e9;for(W=0;W<X.length;W++)X[W].length<Ee&&(me=W,Ee=X[W].length);return X[me]}function p(A,y,R,S,k,C){const H=R*S;let X=H+R;if(A[X]=C,X++,C==0)if(S<500)for(var V=0;V<S;V++)A[X+V]=y[H+V];else A.set(new Uint8Array(y.buffer,H,S),X);else if(C==1){for(V=0;V<k;V++)A[X+V]=y[H+V];for(V=k;V<S;V++)A[X+V]=y[H+V]-y[H+V-k]+256&255}else if(R==0){for(V=0;V<k;V++)A[X+V]=y[H+V];if(C==2)for(V=k;V<S;V++)A[X+V]=y[H+V];if(C==3)for(V=k;V<S;V++)A[X+V]=y[H+V]-(y[H+V-k]>>1)+256&255;if(C==4)for(V=k;V<S;V++)A[X+V]=y[H+V]-r(y[H+V-k],0,0)+256&255}else{if(C==2)for(V=0;V<S;V++)A[X+V]=y[H+V]+256-y[H+V-S]&255;if(C==3){for(V=0;V<k;V++)A[X+V]=y[H+V]+256-(y[H+V-S]>>1)&255;for(V=k;V<S;V++)A[X+V]=y[H+V]+256-(y[H+V-S]+y[H+V-k]>>1)&255}if(C==4){for(V=0;V<k;V++)A[X+V]=y[H+V]+256-r(0,y[H+V-S],0)&255;for(V=k;V<S;V++)A[X+V]=y[H+V]+256-r(y[H+V-k],y[H+V-S],y[H+V-k-S])&255}}}function m(A,y){const R=new Uint8Array(A),S=R.slice(0),k=new Uint32Array(S.buffer),C=_(S,y),H=C[0],X=C[1],V=R.length,q=new Uint8Array(V>>2);let re;if(R.length<2e7)for(var W=0;W<V;W+=4)re=x(H,me=R[W]*(1/255),Ee=R[W+1]*(1/255),D=R[W+2]*(1/255),F=R[W+3]*(1/255)),q[W>>2]=re.ind,k[W>>2]=re.est.rgba;else for(W=0;W<V;W+=4){var me=R[W]*.00392156862745098,Ee=R[W+1]*(1/255),D=R[W+2]*(1/255),F=R[W+3]*(1/255);for(re=H;re.left;)re=T(re.est,me,Ee,D,F)<=0?re.left:re.right;q[W>>2]=re.ind,k[W>>2]=re.est.rgba}return{abuf:S.buffer,inds:q,plte:X}}function _(A,y,R){R==null&&(R=1e-4);const S=new Uint32Array(A.buffer),k={i0:0,i1:A.length,bst:null,est:null,tdst:0,left:null,right:null};k.bst=j(A,k.i0,k.i1),k.est=O(k.bst);const C=[k];for(;C.length<y;){let X=0,V=0;for(var H=0;H<C.length;H++)C[H].est.L>X&&(X=C[H].est.L,V=H);if(X<R)break;const q=C[V],re=b(A,S,q.i0,q.i1,q.est.e,q.est.eMq255);if(q.i0>=re||q.i1<=re){q.est.L=0;continue}const W={i0:q.i0,i1:re,bst:null,est:null,tdst:0,left:null,right:null};W.bst=j(A,W.i0,W.i1),W.est=O(W.bst);const me={i0:re,i1:q.i1,bst:null,est:null,tdst:0,left:null,right:null};for(me.bst={R:[],m:[],N:q.bst.N-W.bst.N},H=0;H<16;H++)me.bst.R[H]=q.bst.R[H]-W.bst.R[H];for(H=0;H<4;H++)me.bst.m[H]=q.bst.m[H]-W.bst.m[H];me.est=O(me.bst),q.left=W,q.right=me,C[V]=W,C.push(me)}for(C.sort((X,V)=>V.bst.N-X.bst.N),H=0;H<C.length;H++)C[H].ind=H;return[k,C]}function x(A,y,R,S,k){if(A.left==null)return A.tdst=function(W,me,Ee,D,F){const U=me-W[0],M=Ee-W[1],Y=D-W[2],se=F-W[3];return U*U+M*M+Y*Y+se*se}(A.est.q,y,R,S,k),A;const C=T(A.est,y,R,S,k);let H=A.left,X=A.right;C>0&&(H=A.right,X=A.left);const V=x(H,y,R,S,k);if(V.tdst<=C*C)return V;const q=x(X,y,R,S,k);return q.tdst<V.tdst?q:V}function T(A,y,R,S,k){const{e:C}=A;return C[0]*y+C[1]*R+C[2]*S+C[3]*k-A.eMq}function b(A,y,R,S,k,C){for(S-=4;R<S;){for(;I(A,R,k)<=C;)R+=4;for(;I(A,S,k)>C;)S-=4;if(R>=S)break;const H=y[R>>2];y[R>>2]=y[S>>2],y[S>>2]=H,R+=4,S-=4}for(;I(A,R,k)>C;)R-=4;return R+4}function I(A,y,R){return A[y]*R[0]+A[y+1]*R[1]+A[y+2]*R[2]+A[y+3]*R[3]}function j(A,y,R){const S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],k=[0,0,0,0],C=R-y>>2;for(let H=y;H<R;H+=4){const X=A[H]*.00392156862745098,V=A[H+1]*(1/255),q=A[H+2]*(1/255),re=A[H+3]*(1/255);k[0]+=X,k[1]+=V,k[2]+=q,k[3]+=re,S[0]+=X*X,S[1]+=X*V,S[2]+=X*q,S[3]+=X*re,S[5]+=V*V,S[6]+=V*q,S[7]+=V*re,S[10]+=q*q,S[11]+=q*re,S[15]+=re*re}return S[4]=S[1],S[8]=S[2],S[9]=S[6],S[12]=S[3],S[13]=S[7],S[14]=S[11],{R:S,m:k,N:C}}function O(A){const{R:y}=A,{m:R}=A,{N:S}=A,k=R[0],C=R[1],H=R[2],X=R[3],V=S==0?0:1/S,q=[y[0]-k*k*V,y[1]-k*C*V,y[2]-k*H*V,y[3]-k*X*V,y[4]-C*k*V,y[5]-C*C*V,y[6]-C*H*V,y[7]-C*X*V,y[8]-H*k*V,y[9]-H*C*V,y[10]-H*H*V,y[11]-H*X*V,y[12]-X*k*V,y[13]-X*C*V,y[14]-X*H*V,y[15]-X*X*V],re=q,W=N;let me=[Math.random(),Math.random(),Math.random(),Math.random()],Ee=0,D=0;if(S!=0)for(let U=0;U<16&&(me=W.multVec(re,me),D=Math.sqrt(W.dot(me,me)),me=W.sml(1/D,me),!(U!=0&&Math.abs(D-Ee)<1e-9));U++)Ee=D;const F=[k*V,C*V,H*V,X*V];return{Cov:q,q:F,e:me,L:Ee,eMq255:W.dot(W.sml(255,F),me),eMq:W.dot(me,F),rgba:(Math.round(255*F[3])<<24|Math.round(255*F[2])<<16|Math.round(255*F[1])<<8|Math.round(255*F[0])<<0)>>>0}}var N={multVec:(A,y)=>[A[0]*y[0]+A[1]*y[1]+A[2]*y[2]+A[3]*y[3],A[4]*y[0]+A[5]*y[1]+A[6]*y[2]+A[7]*y[3],A[8]*y[0]+A[9]*y[1]+A[10]*y[2]+A[11]*y[3],A[12]*y[0]+A[13]*y[1]+A[14]*y[2]+A[15]*y[3]],dot:(A,y)=>A[0]*y[0]+A[1]*y[1]+A[2]*y[2]+A[3]*y[3],sml:(A,y)=>[A*y[0],A*y[1],A*y[2],A*y[3]]};qo.encode=function(y,R,S,k,C,H,X){k==null&&(k=0),X==null&&(X=!1);const V=u(y,R,S,k,[!1,!1,!1,0,X,!1]);return c(V,-1),l(V,R,S,C,H)},qo.encodeLL=function(y,R,S,k,C,H,X,V){const q={ctype:0+(k==1?0:2)+(C==0?0:4),depth:H,frames:[]},re=(k+C)*H,W=re*R;for(let me=0;me<y.length;me++)q.frames.push({rect:{x:0,y:0,width:R,height:S},img:new Uint8Array(y[me]),blend:0,dispose:1,bpp:Math.ceil(re/8),bpl:Math.ceil(W/8)});return c(q,0,!0),l(q,R,S,X,V)},qo.encode.compress=u,qo.encode.dither=o,qo.quantize=m,qo.quantize.getKDtree=_,qo.quantize.getNearest=x})();const rF={toArrayBuffer(t,e){const r=t.width,n=t.height,a=r<<2,i=t.getContext("2d").getImageData(0,0,r,n),s=new Uint32Array(i.data.buffer),o=(32*r+31)/32<<2,l=o*n,c=122+l,u=new ArrayBuffer(c),h=new DataView(u),d=1<<20;let f,p,m,_,x=d,T=0,b=0,I=0;function j(A){h.setUint16(b,A,!0),b+=2}function O(A){h.setUint32(b,A,!0),b+=4}function N(A){b+=A}j(19778),O(c),N(4),O(122),O(108),O(r),O(-n>>>0),j(1),j(32),O(3),O(l),O(2835),O(2835),N(8),O(16711680),O(65280),O(255),O(4278190080),O(1466527264),function A(){for(;T<n&&x>0;){for(_=122+T*o,f=0;f<a;)x--,p=s[I++],m=p>>>24,h.setUint32(_+f,p<<8|m),f+=4;T++}I<s.length?(x=d,setTimeout(A,rF._dly)):e(u)}()},toBlob(t,e){this.toArrayBuffer(t,r=>{e(new Blob([r],{type:"image/bmp"}))})},_dly:9};var us={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Pue={[us.CHROME]:16384,[us.FIREFOX]:11180,[us.DESKTOP_SAFARI]:16384,[us.IE]:8192,[us.IOS]:4096,[us.ETC]:8192};const r3=typeof window<"u",nF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Zv=r3&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Oue=(r3||nF)&&(Zv&&Zv.getOriginalSymbol(window,"File")||typeof File<"u"&&File),aF=(r3||nF)&&(Zv&&Zv.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function n3(t,e,r=Date.now()){return new Promise(n=>{const a=t.split(","),i=a[0].match(/:(.*?);/)[1],s=globalThis.atob(a[1]);let o=s.length;const l=new Uint8Array(o);for(;o--;)l[o]=s.charCodeAt(o);const c=new Blob([l],{type:i});c.name=e,c.lastModified=r,n(c)})}function iF(t){return new Promise((e,r)=>{const n=new aF;n.onload=()=>e(n.result),n.onerror=a=>r(a),n.readAsDataURL(t)})}function sF(t){return new Promise((e,r)=>{const n=new Image;n.onload=()=>e(n),n.onerror=a=>r(a),n.src=t})}function qf(){if(qf.cachedResult!==void 0)return qf.cachedResult;let t=us.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=us.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=us.IOS:/Safari/i.test(e)?t=us.DESKTOP_SAFARI:/Firefox/i.test(e)?t=us.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=us.IE),qf.cachedResult=t,qf.cachedResult}function oF(t,e){const r=qf(),n=Pue[r];let a=t,i=e,s=a*i;const o=a>i?i/a:a/i;for(;s>n*n;){const l=(n+a)/2,c=(n+i)/2;l<c?(i=c,a=c*o):(i=l*o,a=l),s=a*i}return{width:a,height:i}}function n_(t,e){let r,n;try{if(r=new OffscreenCanvas(t,e),n=r.getContext("2d"),n===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{r=document.createElement("canvas"),n=r.getContext("2d")}return r.width=t,r.height=e,[r,n]}function lF(t,e){const{width:r,height:n}=oF(t.width,t.height),[a,i]=n_(r,n);return e&&/jpe?g/.test(e)&&(i.fillStyle="white",i.fillRect(0,0,a.width,a.height)),i.drawImage(t,0,0,a.width,a.height),a}function D2(){return D2.cachedResult!==void 0||(D2.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),D2.cachedResult}function ex(t,e={}){return new Promise(function(r,n){let a,i;var s=function(){try{return i=lF(a,e.fileType||t.type),r([a,i])}catch(l){return n(l)}},o=function(l){try{var c=function(u){try{throw u}catch(h){return n(h)}};try{let u;return iF(t).then(function(h){try{return u=h,sF(u).then(function(d){try{return a=d,function(){try{return s()}catch(f){return n(f)}}()}catch(f){return c(f)}},c)}catch(d){return c(d)}},c)}catch(u){c(u)}}catch(u){return n(u)}};try{if(D2()||[us.DESKTOP_SAFARI,us.MOBILE_SAFARI].includes(qf()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return a=l,s()}catch{return o()}},o)}catch{o()}})}function tx(t,e,r,n,a=1){return new Promise(function(i,s){let o;if(e==="image/png"){let c,u,h;return c=t.getContext("2d"),{data:u}=c.getImageData(0,0,t.width,t.height),h=qo.encode([u.buffer],t.width,t.height,4096*a),o=new Blob([h],{type:e}),o.name=r,o.lastModified=n,l.call(this)}{let c=function(){return l.call(this)};if(e==="image/bmp")return new Promise(u=>rF.toBlob(t,u)).then((function(u){try{return o=u,o.name=r,o.lastModified=n,c.call(this)}catch(h){return s(h)}}).bind(this),s);{let u=function(){return c.call(this)};if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:a}).then((function(h){try{return o=h,o.name=r,o.lastModified=n,u.call(this)}catch(d){return s(d)}}).bind(this),s);{let h;return h=t.toDataURL(e,a),n3(h,r,n).then((function(d){try{return o=d,u.call(this)}catch(f){return s(f)}}).bind(this),s)}}}function l(){return i(o)}})}function yl(t){t.width=0,t.height=0}function F0(){return new Promise(function(t,e){let r,n,a,i;return F0.cachedResult!==void 0?t(F0.cachedResult):n3("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(s){try{return r=s,ex(r).then(function(o){try{return n=o[1],tx(n,r.type,r.name,r.lastModified).then(function(l){try{return a=l,yl(n),ex(a).then(function(c){try{return i=c[0],F0.cachedResult=i.width===1&&i.height===2,t(F0.cachedResult)}catch(u){return e(u)}},e)}catch(c){return e(c)}},e)}catch(l){return e(l)}},e)}catch(o){return e(o)}},e)})}function cF(t){return new Promise((e,r)=>{const n=new aF;n.onload=a=>{const i=new DataView(a.target.result);if(i.getUint16(0,!1)!=65496)return e(-2);const s=i.byteLength;let o=2;for(;o<s;){if(i.getUint16(o+2,!1)<=8)return e(-1);const l=i.getUint16(o,!1);if(o+=2,l==65505){if(i.getUint32(o+=2,!1)!=1165519206)return e(-1);const c=i.getUint16(o+=6,!1)==18761;o+=i.getUint32(o+4,c);const u=i.getUint16(o,c);o+=2;for(let h=0;h<u;h++)if(i.getUint16(o+12*h,c)==274)return e(i.getUint16(o+12*h+8,c))}else{if((65280&l)!=65280)break;o+=i.getUint16(o,!1)}}return e(-1)},n.onerror=a=>r(a),n.readAsArrayBuffer(t)})}function uF(t,e){const{width:r}=t,{height:n}=t,{maxWidthOrHeight:a}=e;let i,s=t;return isFinite(a)&&(r>a||n>a)&&([s,i]=n_(r,n),r>n?(s.width=a,s.height=n/r*a):(s.width=r/n*a,s.height=a),i.drawImage(t,0,0,s.width,s.height),yl(t)),s}function fF(t,e){const{width:r}=t,{height:n}=t,[a,i]=n_(r,n);switch(e>4&&e<9?(a.width=n,a.height=r):(a.width=r,a.height=n),e){case 2:i.transform(-1,0,0,1,r,0);break;case 3:i.transform(-1,0,0,-1,r,n);break;case 4:i.transform(1,0,0,-1,0,n);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,n,0);break;case 7:i.transform(0,-1,-1,0,n,r);break;case 8:i.transform(0,-1,1,0,0,r)}return i.drawImage(t,0,0,r,n),yl(t),a}function kk(t,e,r=0){return new Promise(function(n,a){let i,s,o,l,c,u,h,d,f,p,m,_,x,T,b,I,j,O,N,A;function y(S=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;i+=S,e.onProgress(Math.min(i,100))}function R(S){if(e.signal&&e.signal.aborted)throw e.signal.reason;i=Math.min(Math.max(S,i),100),e.onProgress(i)}return i=r,s=e.maxIteration||10,o=1024*e.maxSizeMB*1024,y(),ex(t,e).then((function(S){try{return[,l]=S,y(),c=uF(l,e),y(),new Promise(function(k,C){var H;if(!(H=e.exifOrientation))return cF(t).then((function(V){try{return H=V,X.call(this)}catch(q){return C(q)}}).bind(this),C);function X(){return k(H)}return X.call(this)}).then((function(k){try{return u=k,y(),F0().then((function(C){try{return h=C?c:fF(c,u),y(),d=e.initialQuality||1,f=e.fileType||t.type,tx(h,f,t.name,t.lastModified,d).then((function(H){try{{let V=function(){if(s--&&(b>o||b>x)){let re,W;return re=A?.95*N.width:N.width,W=A?.95*N.height:N.height,[j,O]=n_(re,W),O.drawImage(N,0,0,re,W),d*=f==="image/png"?.85:.95,tx(j,f,t.name,t.lastModified,d).then(function(me){try{return I=me,yl(N),N=j,b=I.size,R(Math.min(99,Math.floor((T-b)/(T-o)*100))),V}catch(Ee){return a(Ee)}},a)}return[1]},q=function(){return yl(N),yl(j),yl(c),yl(h),yl(l),R(100),n(I)};if(p=H,y(),m=p.size>o,_=p.size>t.size,!m&&!_)return R(100),n(p);var X;return x=t.size,T=p.size,b=T,N=h,A=!e.alwaysKeepResolution&&m,(X=(function(re){for(;re;){if(re.then)return void re.then(X,a);try{if(re.pop){if(re.length)return re.pop()?q.call(this):re;re=V}else re=re.call(this)}catch(W){return a(W)}}}).bind(this))(V)}}catch(V){return a(V)}}).bind(this),a)}catch(H){return a(H)}}).bind(this),a)}catch(C){return a(C)}}).bind(this),a)}catch(k){return a(k)}}).bind(this),a)})}const Fue=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let a5;function Mue(t,e){return new Promise((r,n)=>{a5||(a5=function(s){const o=[];return o.push(s),URL.createObjectURL(new Blob(o))}(Fue));const a=new Worker(a5);a.addEventListener("message",function(s){if(e.signal&&e.signal.aborted)a.terminate();else if(s.data.progress===void 0){if(s.data.error)return n(new Error(s.data.error)),void a.terminate();r(s.data.file),a.terminate()}else e.onProgress(s.data.progress)}),a.addEventListener("error",n),e.signal&&e.signal.addEventListener("abort",()=>{n(e.signal.reason),a.terminate()}),a.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function bi(t,e){return new Promise(function(r,n){let a,i,s,o,l,c;if(a={...e},s=0,{onProgress:o}=a,a.maxSizeMB=a.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof a.useWebWorker!="boolean"||a.useWebWorker,delete a.useWebWorker,a.onProgress=f=>{s=f,typeof o=="function"&&o(s)},!(t instanceof Blob||t instanceof Oue))return n(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return n(new Error("The file given is not an image"));if(c=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||c)return kk(t,a).then((function(f){try{return i=f,d.call(this)}catch(p){return n(p)}}).bind(this),n);var u=(function(){try{return d.call(this)}catch(f){return n(f)}}).bind(this),h=function(f){try{return kk(t,a).then(function(p){try{return i=p,u()}catch(m){return n(m)}},n)}catch(p){return n(p)}};try{return a.libURL=a.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Mue(t,a).then(function(f){try{return i=f,u()}catch{return h()}},h)}catch{h()}function d(){try{i.name=t.name,i.lastModified=t.lastModified}catch{}try{a.preserveExif&&t.type==="image/jpeg"&&(!a.fileType||a.fileType&&a.fileType===t.type)&&(i=tF(t,i))}catch{}return r(i)}})}bi.getDataUrlFromFile=iF,bi.getFilefromDataUrl=n3,bi.loadImage=sF,bi.drawImageInCanvas=lF,bi.drawFileInCanvas=ex,bi.canvasToFile=tx,bi.getExifOrientation=cF,bi.handleMaxWidthOrHeight=uF,bi.followExifOrientation=fF,bi.cleanupCanvasMemory=yl,bi.isAutoOrientationInBrowser=F0,bi.approximateBelowMaximumCanvasSizeOfBrowser=oF,bi.copyExifWithoutOrientation=tF,bi.getBrowserName=qf,bi.version="2.0.2";const Bue=1,Nk=3,Ik=4,Rk=5,Uue=7,jue=8;function Vue(t){if(t==null||t==="")return 0;if(typeof t=="number")return t;const e=String(t).replace(",",".").trim();return parseFloat(e)||0}function zue(t){return t==null||t===""?null:String(t)}function que({onImportado:t,catalogo:e="polesie"}){const[r,n]=le.useState(!1),[a,i]=le.useState(!1),[s,o]=le.useState(""),l=le.useRef(null),c=async h=>{var f;const d=(f=h.target.files)==null?void 0:f[0];if(d){o(""),n(!0);try{const p=await d.arrayBuffer(),m=new Uint8Array(p),_=Jw(m,{type:"array"}),x=_.SheetNames[0],T=_.Sheets[x],b=rh.sheet_to_json(T,{header:1,defval:"",raw:!0});if(!b.length){o("El archivo est vaco."),n(!1);return}const j=b.slice(1).filter(A=>{const y=A[Ik];return y!==""&&y!=null&&String(y).trim()!==""}).map(A=>{const y=String(A[Ik]??"").trim(),R=zue(A[Bue]),S=A[Nk]!=null?String(A[Nk]).trim():null,k=A[Rk]!=null?String(A[Rk]).trim():null,C=Math.max(1,parseInt(String(A[Uue]??"1"),10)||1),H=Vue(A[jue]),X=H*C;return{descripcion:y,sku:R||null,imagen:null,imagenes:[],dimensiones:S||null,presentacion:k||null,unidadesPorBulto:C,precioUnitario:H,precioPorBulto:X,activo:!0,catalogo:e}}),O=lr(_t,"productos"),N=500;for(let A=0;A<j.length;A+=N){const y=j.slice(A,A+N),R=Dv(_t);for(const S of y){const k=jr(O);R.set(k,S)}await R.commit()}t==null||t(),alert(`Se importaron ${j.length} productos correctamente. Pods subir las imgenes manualmente en Editar.`)}catch(p){o("Error al importar: "+(p.message||p))}finally{n(!1)}h.target.value=""}},u=async()=>{if(confirm(`Eliminar todos los productos del catlogo ${e==="luni"?"LUNI":"Polesie"}? Esta accin no se puede deshacer.`)){i(!0),o("");try{const f=(await kL(lr(_t,"productos"))).docs.filter(_=>(_.data().catalogo||"polesie")===e),p=500;let m=0;for(let _=0;_<f.length;_+=p){const x=Dv(_t);f.slice(_,_+p).forEach(T=>{x.delete(T.ref),m++}),await x.commit()}t==null||t(),alert(`Se eliminaron ${m} productos.`)}catch(d){o("Error al eliminar: "+(d.message||d))}finally{i(!1)}}};return w.jsxs("div",{className:"importar-excel",children:[w.jsx("input",{ref:l,type:"file",accept:".xlsx,.xls",onChange:c,style:{display:"none"},disabled:r}),w.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{var h;return(h=l.current)==null?void 0:h.click()},disabled:r,children:r?"Importando...":"Importar Excel"}),w.jsx("button",{type:"button",className:"btn btn-danger-outline",onClick:u,disabled:a,children:a?"Eliminando...":`Eliminar catlogo ${e==="luni"?"LUNI":"Polesie"}`}),s&&w.jsx("p",{className:"hint error",style:{marginTop:"0.5rem"},children:s})]})}const Hue={maxSizeMB:.3,maxWidthOrHeight:1200};function Gue(){var ke,ne;const{user:t}=eo(),[e,r]=le.useState([]),[n,a]=le.useState([]),[i,s]=le.useState(""),[o,l]=le.useState(!1),[c,u]=le.useState(""),[h,d]=le.useState("polesie"),f=[{id:"polesie",label:"Polesie"},{id:"luni",label:"LUNI"}],[p,m]=le.useState({descripcion:"",sku:"",imagenFiles:[],dimensiones:"",presentacion:"",precioUnitario:"",unidadesPorBulto:"",categoriaId:""}),[_,x]=le.useState(null),[T,b]=le.useState(!1),[I,j]=le.useState(null),[O,N]=le.useState(!1),[A,y]=le.useState(null),[R,S]=le.useState({descripcion:"",sku:"",imagenes:[],nuevosArchivos:[],dimensiones:"",presentacion:"",precioUnitario:"",unidadesPorBulto:"",categoriaId:""});le.useEffect(()=>{const be=br(lr(_t,"productos"),Me=>{r(Me.docs.map(J=>({id:J.id,...J.data()})))});return()=>be()},[]),le.useEffect(()=>{const be=Vn(lr(_t,"categorias"),Dh("orden","asc")),Me=br(be,J=>{a(J.docs.map(Ie=>({id:Ie.id,...Ie.data()})))});return()=>Me()},[]);const k=async be=>{var J;(J=be==null?void 0:be.preventDefault)==null||J.call(be);const Me=(i||"").trim();if(Me){l(!0);try{const Ie=n.length>0?Math.max(...n.map(Re=>Re.orden??0)):0;await yc(lr(_t,"categorias"),{nombre:Me,orden:Ie+1}),s("")}finally{l(!1)}}},C=async be=>{if(!confirm("Eliminar esta categora? Los productos quedarn sin categora."))return;const Me=Dv(_t),J=e.filter(Ie=>Ie.categoriaId===be);for(const Ie of J)Me.update(jr(_t,"productos",Ie.id),{categoriaId:null});Me.delete(jr(_t,"categorias",be)),await Me.commit()},H=async(be,Me=0)=>{var Te;if(!be||!t)return null;let J=be;if((Te=be.type)!=null&&Te.startsWith("image/"))try{J=await bi(be,Hue)}catch{}const Ie=`${Date.now()}_${Me}_${Math.random().toString(36).slice(2,9)}`,Re=`productos/${t.uid}/${Ie}_${J.name}`,De=XL(KL,Re);return await WL(De,J),$L(De)},X=async be=>{be.preventDefault(),b(!0);try{const Me=Number(p.precioUnitario)||0,J=Number(p.unidadesPorBulto)||1,Ie=Me*J,Re=p.imagenFiles||[],De=(await Promise.all(Re.map((Ye,we)=>H(Ye,we)))).filter(Boolean),Te=e.filter(Ye=>(Ye.catalogo||"polesie")===h),Qe=Te.length>0?Math.max(...Te.map(Ye=>Ye.orden??0),0):0;await yc(lr(_t,"productos"),{descripcion:p.descripcion,sku:p.sku||null,imagenes:De,imagen:De[0]||null,dimensiones:p.dimensiones||null,presentacion:p.presentacion||null,precioUnitario:Me,unidadesPorBulto:J,precioPorBulto:Ie,activo:!0,catalogo:h,categoriaId:p.categoriaId||null,orden:Qe+1}),m({descripcion:"",sku:"",imagenFiles:[],dimensiones:"",presentacion:"",precioUnitario:"",unidadesPorBulto:"",categoriaId:""}),t3("Nuevo producto","Hay un nuevo producto en el catlogo.").catch(()=>{})}finally{b(!1)}},V=be=>{var J;const Me=(J=be.imagenes)!=null&&J.length?be.imagenes:be.imagen?[be.imagen]:[];x(be.id),S({descripcion:String(be.descripcion??""),sku:String(be.sku??""),imagenes:[...Me],nuevosArchivos:[],dimensiones:String(be.dimensiones??""),presentacion:String(be.presentacion??""),precioUnitario:String(be.precioUnitario??""),unidadesPorBulto:String(be.unidadesPorBulto??"1"),categoriaId:be.categoriaId||""})},q=async()=>{if(_){b(!0);try{const be=Number(R.precioUnitario)||0,Me=Number(R.unidadesPorBulto)||1,J=be*Me,Ie=[...R.imagenes||[]],Re=R.nuevosArchivos||[],De=(await Promise.all(Re.map((Te,Qe)=>H(Te,Qe)))).filter(Boolean);Ie.push(...De),await fs(jr(_t,"productos",_),{descripcion:R.descripcion,sku:R.sku||null,imagenes:Ie,imagen:Ie[0]||null,dimensiones:R.dimensiones||null,presentacion:R.presentacion||null,precioUnitario:be,unidadesPorBulto:Me,precioPorBulto:J,catalogo:h,categoriaId:R.categoriaId||null}),x(null)}finally{b(!1)}}},re=be=>{S(Me=>({...Me,nuevosArchivos:(Me.nuevosArchivos||[]).filter((J,Ie)=>Ie!==be)}))},W=be=>{S(Me=>({...Me,imagenes:Me.imagenes.filter((J,Ie)=>Ie!==be)}))},me=(be,Me)=>{if(Me<0||Me>=R.imagenes.length)return;const J=[...R.imagenes],[Ie]=J.splice(be,1);J.splice(Me,0,Ie),S(Re=>({...Re,imagenes:J}))},Ee=e.filter(be=>(be.catalogo||"polesie")===h),D=()=>{const be=c.toLowerCase().trim();if(!be)return Ee;const Me=be.split(/\s+/);return Ee.filter(J=>{const Ie=(J.descripcion??J.nombre??"").toLowerCase(),Re=(J.sku??J.codigo??"").toLowerCase(),De=(J.presentacion??"").toLowerCase(),Te=(J.dimensiones??"").toLowerCase(),Qe=`${Ie} ${Re} ${De} ${Te}`;return Me.every(Ye=>Qe.includes(Ye))})},F=be=>{const Me=Object.fromEntries(n.map((J,Ie)=>[J.id,Ie]));return[...be].sort((J,Ie)=>{const Re=J.orden??999999,De=Ie.orden??999999;if(Re!==De)return Re-De;const Te=J.categoriaId!=null?Me[J.categoriaId]??9999:9999,Qe=Ie.categoriaId!=null?Me[Ie.categoriaId]??9999:9999;return Te!==Qe?Te-Qe:(J.descripcion??"").localeCompare(Ie.descripcion??"")})},U=F(Ee),M=c.trim()?F(D()):U,Y=(be,Me)=>{be.preventDefault(),be.stopPropagation(),be.dataTransfer.dropEffect="move",typeof Me=="number"&&y(Me)},se=be=>{be.currentTarget.contains(be.relatedTarget)||y(null)},he=()=>{j(null)},fe=be=>{m(Me=>({...Me,imagenFiles:(Me.imagenFiles||[]).filter((J,Ie)=>Ie!==be)}))},ve=async be=>{confirm("Eliminar este producto?")&&(await Lm(jr(_t,"productos",be)),_===be&&x(null))};return w.jsxs("div",{className:"container page",children:[w.jsx("h1",{className:"page-title",children:"Catlogo"}),w.jsx("div",{className:"catalogo-tabs",style:{marginBottom:"1.5rem"},children:f.map(be=>w.jsx("button",{type:"button",className:`catalogo-tab ${h===be.id?"active":""}`,onClick:()=>d(be.id),children:be.label},be.id))}),w.jsxs("section",{className:"admin-section",children:[w.jsx("div",{className:"admin-section-header",children:w.jsx("h2",{children:"Categoras"})}),w.jsxs("form",{onSubmit:k,className:"form-inline flex-wrap",style:{marginBottom:"1rem"},children:[w.jsx("input",{placeholder:"Nueva categora",value:i,onChange:be=>s(be.target.value),style:{width:200}}),w.jsx("button",{type:"submit",className:"btn btn-primary",disabled:o||!i.trim(),children:o?"...":"Agregar categora"})]}),n.length>0&&w.jsx("div",{className:"categorias-lista",children:n.map(be=>w.jsxs("span",{className:"badge-categoria",children:[be.nombre,w.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>C(be.id),title:"Eliminar",children:""})]},be.id))})]}),w.jsxs("section",{className:"admin-section",children:[w.jsxs("div",{className:"admin-section-header",children:[w.jsx("h2",{children:"Agregar producto"}),w.jsx(que,{catalogo:h,onImportado:()=>{}})]}),w.jsxs("form",{onSubmit:X,className:"form-inline flex-wrap",children:[w.jsx("input",{placeholder:"Descripcin *",value:p.descripcion,onChange:be=>m({...p,descripcion:be.target.value}),required:!0}),w.jsx("input",{placeholder:"SKU",value:p.sku,onChange:be=>m({...p,sku:be.target.value})}),w.jsxs("label",{className:"input-file-label",children:["Fotos (varias)",w.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:be=>{const Me=be.target.files?Array.from(be.target.files):[];Me.length&&m(J=>({...J,imagenFiles:[...J.imagenFiles||[],...Me]})),be.target.value=""},style:{display:"none"}}),w.jsx("span",{className:"input-file-text",children:(ke=p.imagenFiles)!=null&&ke.length?`${p.imagenFiles.length} archivo(s)`:"Seleccionar"})]}),((ne=p.imagenFiles)==null?void 0:ne.length)>0&&w.jsx("div",{className:"admin-fotos-pendientes",children:p.imagenFiles.map((be,Me)=>w.jsxs("span",{className:"admin-foto-pendiente",children:[be.name,w.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>fe(Me),title:"Quitar",children:""})]},Me))}),w.jsx("input",{placeholder:"Dimensiones",value:p.dimensiones,onChange:be=>m({...p,dimensiones:be.target.value})}),w.jsx("input",{placeholder:"Presentacin",value:p.presentacion,onChange:be=>m({...p,presentacion:be.target.value})}),w.jsx("input",{type:"number",placeholder:"Precio unitario *",value:p.precioUnitario,onChange:be=>m({...p,precioUnitario:be.target.value}),required:!0}),w.jsx("input",{type:"number",placeholder:"Unidades por bulto",value:p.unidadesPorBulto,onChange:be=>m({...p,unidadesPorBulto:be.target.value}),min:"1"}),w.jsxs("select",{value:p.categoriaId,onChange:be=>m({...p,categoriaId:be.target.value}),style:{minWidth:140},children:[w.jsx("option",{value:"",children:"Sin categora"}),n.map(be=>w.jsx("option",{value:be.id,children:be.nombre},be.id))]}),w.jsx("button",{type:"submit",className:"btn btn-primary",disabled:T,children:T?"Subiendo fotos...":"Agregar"})]})]}),w.jsxs("section",{className:"admin-section",children:[w.jsxs("div",{className:"admin-section-header",children:[w.jsxs("h2",{children:["Productos (",M.length,c?` de ${Ee.length}`:"",")"]}),w.jsx("span",{className:"hint",style:{marginLeft:"0.5rem",fontWeight:"normal"},children:"Arrastr las filas para cambiar el orden"}),w.jsx("input",{type:"search",placeholder:"Buscar por descripcin, SKU o palabras clave...",value:c,onChange:be=>u(be.target.value),className:"busqueda-input",style:{maxWidth:320}})]}),w.jsx("div",{className:"table-wrap",children:w.jsxs("table",{className:"admin-table",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{style:{width:32}}),w.jsx("th",{children:"Descripcin"}),w.jsx("th",{children:"SKU"}),w.jsx("th",{children:"Categora"}),w.jsx("th",{children:"Imagen"}),w.jsx("th",{children:"Dimensiones"}),w.jsx("th",{children:"Presentacin"}),w.jsx("th",{children:"Precio unit."}),w.jsx("th",{children:"Unid/bulto"}),w.jsx("th",{children:"Precio/bulto"}),w.jsx("th",{children:"Acciones"})]})}),w.jsx("tbody",{onDragOver:be=>{be.preventDefault(),be.dataTransfer.dropEffect="move"},children:M.map((be,Me)=>{var Re;const J=be.precioPorBulto??(be.precioUnitario??0)*(be.unidadesPorBulto??1),Ie=I===be.id;return w.jsxs("tr",{"data-row-index":Me,draggable:!_&&!O,onDragStart:De=>{!_&&!O&&(De.dataTransfer.effectAllowed="move",De.dataTransfer.setData("text/plain",be.id),j(be.id))},onDragOver:De=>Y(De,Me),onDragLeave:se,onDrop:De=>{De.preventDefault(),De.stopPropagation();const Te=De.dataTransfer.getData("text/plain");if(!Te||O)return;const Qe=M[Me];if(!Qe||Qe.id===Te)return;j(null),y(null),N(!0);const Ye=[...U],we=Ye.findIndex(Tt=>Tt.id===Te);if(we===-1){N(!1);return}const qe=Ye.findIndex(Tt=>Tt.id===Qe.id);if(qe===-1){N(!1);return}const[tt]=Ye.splice(we,1);Ye.splice(qe,0,tt);const at=Dv(_t);Ye.forEach((Tt,$t)=>{at.update(jr(_t,"productos",Tt.id),{orden:$t})}),at.commit().catch(Tt=>{console.error("Error al reordenar:",Tt),alert("Error al guardar el nuevo orden.")}).finally(()=>N(!1))},onDragEnd:he,className:`admin-producto-row ${Ie?"admin-row-dragging":""} ${A===Me?"admin-row-drop-target":""}`,children:[w.jsx("td",{className:"admin-drag-handle",title:"Arrastrar para reordenar",children:!_&&w.jsx("span",{className:"drag-handle-icon",children:""})}),w.jsx("td",{children:_===be.id?w.jsx("input",{value:R.descripcion,onChange:De=>S({...R,descripcion:De.target.value}),style:{width:140}}):be.descripcion}),w.jsx("td",{children:_===be.id?w.jsx("input",{value:R.sku,onChange:De=>S({...R,sku:De.target.value}),style:{width:80}}):be.sku??"-"}),w.jsx("td",{children:_===be.id?w.jsxs("select",{value:R.categoriaId,onChange:De=>S({...R,categoriaId:De.target.value}),style:{minWidth:120},children:[w.jsx("option",{value:"",children:"Sin categora"}),n.map(De=>w.jsx("option",{value:De.id,children:De.nombre},De.id))]}):((Re=n.find(De=>De.id===be.categoriaId))==null?void 0:Re.nombre)??"-"}),w.jsx("td",{children:_===be.id?w.jsxs("div",{className:"admin-imagenes-edit",children:[w.jsxs("div",{className:"admin-imagenes-thumbs",children:[(R.imagenes||[]).map((De,Te)=>w.jsxs("div",{className:"admin-imagen-thumb",children:[w.jsx("img",{src:De,alt:""}),w.jsxs("div",{className:"admin-imagen-acciones",children:[Te>0&&w.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>me(Te,Te-1),title:"Principal",children:""}),w.jsx("button",{type:"button",className:"btn btn-danger btn-sm",onClick:()=>W(Te),children:""})]})]},`img-${Te}`)),(R.nuevosArchivos||[]).map((De,Te)=>w.jsxs("div",{className:"admin-imagen-thumb",children:[w.jsx("img",{src:URL.createObjectURL(De),alt:""}),w.jsx("div",{className:"admin-imagen-acciones",children:w.jsx("button",{type:"button",className:"btn btn-danger btn-sm",onClick:()=>re(Te),title:"Quitar",children:""})})]},`new-${Te}`))]}),w.jsxs("label",{className:"input-file-label",children:[w.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:De=>{const Te=De.target.files?Array.from(De.target.files):[];Te.length&&S(Qe=>({...Qe,nuevosArchivos:[...Qe.nuevosArchivos||[],...Te]})),De.target.value=""},style:{display:"none"}}),w.jsx("span",{className:"input-file-text",children:"+ Agregar fotos"})]})]}):(()=>{var Te;const De=((Te=be.imagenes)==null?void 0:Te[0])||be.imagen;return De?w.jsx("img",{src:De,alt:"",style:{maxWidth:40,maxHeight:40,objectFit:"contain"},onError:Qe=>{Qe.target.style.display="none"}}):"-"})()}),w.jsx("td",{children:_===be.id?w.jsx("input",{value:R.dimensiones,onChange:De=>S({...R,dimensiones:De.target.value}),style:{width:90}}):be.dimensiones??"-"}),w.jsx("td",{children:_===be.id?w.jsx("input",{value:R.presentacion,onChange:De=>S({...R,presentacion:De.target.value}),style:{width:90}}):be.presentacion??"-"}),w.jsx("td",{children:_===be.id?w.jsx("input",{type:"number",value:R.precioUnitario,onChange:De=>S({...R,precioUnitario:De.target.value}),style:{width:80}}):`$${Nr(be.precioUnitario??0)}`}),w.jsx("td",{children:_===be.id?w.jsx("input",{type:"number",value:R.unidadesPorBulto,onChange:De=>S({...R,unidadesPorBulto:De.target.value}),style:{width:70},min:"1"}):be.unidadesPorBulto??1}),w.jsxs("td",{children:["$",Nr(J)]}),w.jsx("td",{children:_===be.id?w.jsxs("div",{className:"acciones-cell",children:[w.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:q,disabled:T,children:T?"Guardando...":"Guardar"}),w.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>x(null),children:"Cancelar"})]}):w.jsxs("div",{className:"acciones-cell",children:[w.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>V(be),children:"Editar"}),w.jsx("button",{type:"button",className:"btn btn-danger btn-sm",onClick:()=>ve(be.id),children:"Eliminar"})]})})]},be.id)})})]})})]})]})}function Wue(){const[t,e]=le.useState([]),[r,n]=le.useState(""),[a,i]=le.useState(null),[s,o]=le.useState("");le.useEffect(()=>{const d=br(lr(_t,"vendedores"),f=>{e(f.docs.map(p=>({id:p.id,...p.data()})))});return()=>d()},[]);const l=async d=>{d.preventDefault();const f=r.trim();f&&(await yc(lr(_t,"vendedores"),{nombre:f}),n(""))},c=d=>{i(d.id),o(d.nombre||"")},u=async()=>{if(!a)return;const d=s.trim();d&&(await fs(jr(_t,"vendedores",a),{nombre:d}),i(null))},h=async d=>{confirm("Eliminar este vendedor?")&&(await Lm(jr(_t,"vendedores",d)),a===d&&i(null))};return w.jsxs("div",{className:"container page",children:[w.jsx("h1",{className:"page-title",children:"Vendedores"}),w.jsx("p",{className:"page-subtitle",children:"Gestion la lista de vendedores. Esta lista se usa en el checkout y al asignar clientes."}),w.jsxs("section",{className:"admin-section",children:[w.jsx("h2",{children:"Agregar vendedor"}),w.jsxs("form",{onSubmit:l,className:"form-inline",children:[w.jsx("input",{placeholder:"Nombre del vendedor",value:r,onChange:d=>n(d.target.value)}),w.jsx("button",{type:"submit",className:"btn btn-primary",children:"Agregar"})]})]}),w.jsxs("section",{className:"admin-section",children:[w.jsxs("h2",{children:["Lista de vendedores (",t.length,")"]}),t.length===0?w.jsx("p",{className:"empty-state",children:"No hay vendedores cargados. Agreg uno arriba."}):w.jsx("ul",{className:"entidades-list admin-vendedores-list",children:t.map(d=>w.jsx("li",{className:"admin-vendedor-item",children:a===d.id?w.jsxs(w.Fragment,{children:[w.jsx("input",{value:s,onChange:f=>o(f.target.value),className:"admin-vendedor-input"}),w.jsxs("div",{className:"acciones-cell",children:[w.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:u,children:"Guardar"}),w.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>i(null),children:"Cancelar"})]})]}):w.jsxs(w.Fragment,{children:[w.jsx("strong",{children:d.nombre}),w.jsxs("div",{className:"acciones-cell",children:[w.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>c(d),children:"Editar"}),w.jsx("button",{type:"button",className:"btn btn-danger btn-sm",onClick:()=>h(d.id),children:"Eliminar"})]})]})},d.id))})]})]})}function $ue(){const[t,e]=le.useState([]),[r,n]=le.useState([]),[a,i]=le.useState(""),[s,o]=le.useState({});le.useEffect(()=>{const f=br(Vn(lr(_t,"productos"),ea("activo","==",!0)),p=>e(p.docs.map(m=>({id:m.id,...m.data()}))));return()=>f()},[]),le.useEffect(()=>{const f=br(lr(_t,"ofertas"),p=>{n(p.docs.map(m=>({id:m.id,...m.data()})))});return()=>f()},[]);const l=a.toLowerCase().trim(),c=l?t.filter(f=>`${f.descripcion??""} ${f.nombre??""} ${f.sku??""} ${f.codigo??""}`.toLowerCase().includes(l)):[],u=async(f,p)=>{const m=Number(p);if(p===""||p===null||p===void 0){alert("Ingres un porcentaje de descuento (0-100) antes de agregar la oferta.");return}if(isNaN(m)){alert("El porcentaje debe ser un nmero.");return}const _=Math.max(0,Math.min(100,m));try{await Lv(jr(_t,"ofertas",f.id),{productId:f.id,descuentoPct:_,descripcion:f.descripcion??f.nombre,sku:f.sku??f.codigo}),o(T=>({...T,[f.id]:""}));const x=await t3("Nueva oferta","Se agreg una nueva oferta al catlogo.");x.ok?x.count===0&&console.warn("Oferta guardada. No hay clientes en la base para notificar."):alert(`Oferta guardada. No se pudieron enviar notificaciones: ${x.error||'Revis que tu usuario tenga role "admin" en la coleccin users.'}`)}catch(x){console.error("Error al agregar oferta:",x),alert("No se pudo agregar la oferta. Revis la consola o permisos de Firestore.")}},h=async f=>{confirm("Quitar esta oferta?")&&await Lm(jr(_t,"ofertas",f))},d=async(f,p)=>{const m=Math.max(0,Math.min(100,Number(p)));if(isNaN(m))return;const _=r.find(x=>x.productId===f);_&&(await Lv(jr(_t,"ofertas",f),{..._,descuentoPct:m}),o(x=>({...x,[f]:""})))};return w.jsxs("div",{className:"container page",children:[w.jsx("h1",{className:"page-title",children:"Ofertas"}),w.jsx("p",{className:"page-subtitle",children:"Busc productos del catlogo y asign un descuento puntual. Esos productos se vern en la seccin OFERTAS del cliente."}),w.jsx("div",{className:"admin-ofertas-busqueda",children:w.jsx("input",{type:"search",placeholder:"Buscar por descripcin, SKU...",value:a,onChange:f=>i(f.target.value),className:"busqueda-input"})}),a&&w.jsxs("div",{className:"admin-ofertas-resultados",children:[w.jsxs("h3",{children:["Resultados (",c.length,")"]}),c.length===0?w.jsx("p",{className:"empty-state",children:"No hay productos que coincidan."}):w.jsx("ul",{className:"admin-ofertas-lista",children:c.map(f=>{const p=r.find(x=>x.productId===f.id),m=f.precioPorBulto??(f.precioUnitario??0)*(f.unidadesPorBulto??1),_=s[f.id]??(p==null?void 0:p.descuentoPct)??"";return w.jsxs("li",{className:"admin-oferta-item",children:[w.jsxs("span",{className:"admin-oferta-nombre",children:[f.descripcion??f.nombre,"  ",f.sku??f.codigo]}),w.jsxs("span",{className:"admin-oferta-precio",children:["$",Nr(m),"/bulto"]}),w.jsxs("div",{className:"admin-oferta-acciones",children:[w.jsx("input",{type:"number",min:"0",max:"100",placeholder:"% desc",value:_,onChange:x=>o(T=>({...T,[f.id]:x.target.value})),style:{width:70}}),p?w.jsxs(w.Fragment,{children:[w.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>d(f.id,_),children:"Actualizar %"}),w.jsx("button",{type:"button",className:"btn btn-danger-outline btn-sm",onClick:()=>h(f.id),children:"Quitar oferta"})]}):w.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>u(f,_),children:"Agregar oferta"})]})]},f.id)})})]}),w.jsxs("div",{className:"admin-ofertas-activas",children:[w.jsxs("h3",{children:["Ofertas activas (",r.length,")"]}),r.length===0?w.jsx("p",{className:"empty-state",children:"An no hay ofertas. Busc un producto y asignale un descuento."}):w.jsx("ul",{className:"admin-ofertas-lista",children:r.map(f=>{const p=t.find(x=>x.id===f.productId),m=p?p.precioPorBulto??(p.precioUnitario??0)*(p.unidadesPorBulto??1):0,_=m*(1-(f.descuentoPct??0)/100);return w.jsxs("li",{className:"admin-oferta-item",children:[w.jsxs("span",{className:"admin-oferta-nombre",children:[f.descripcion??(p==null?void 0:p.descripcion),"  ",f.sku??(p==null?void 0:p.sku)]}),w.jsxs("span",{className:"admin-oferta-precio",children:["$",Nr(m),"  $",Nr(_)," (",f.descuentoPct,"% off)"]}),w.jsx("button",{type:"button",className:"btn btn-danger-outline btn-sm",onClick:()=>h(f.productId),children:"Quitar"})]},f.id)})})]})]})}function Xue(){const{user:t}=eo(),[e,r]=le.useState([]),[n,a]=le.useState(!1),[i,s]=le.useState({tipo:"foto",titulo:"",descripcion:"",file:null});le.useEffect(()=>{const c=Vn(lr(_t,"materialPublico"),Dh("createdAt","desc")),u=br(c,h=>{r(h.docs.map(d=>({id:d.id,...d.data()})))});return()=>u()},[]);const o=async c=>{if(c.preventDefault(),!(!i.file||!t)){a(!0);try{const u=`materialPublico/${t.uid}/${Date.now()}_${i.file.name}`,h=XL(KL,u);await WL(h,i.file);const d=await $L(h);await yc(lr(_t,"materialPublico"),{tipo:i.tipo,titulo:i.titulo.trim()||null,descripcion:i.descripcion.trim()||null,url:d,createdAt:new Date}),s({tipo:"foto",titulo:"",descripcion:"",file:null}),t3("Nuevo material","Se subi nuevo material en Fotos y videos.").catch(()=>{})}catch(u){console.error(u),alert("Error al subir. Revis la consola.")}finally{a(!1)}}},l=async c=>{confirm("Eliminar este elemento?")&&await Lm(jr(_t,"materialPublico",c))};return w.jsxs("div",{className:"container page",children:[w.jsx("h1",{className:"page-title",children:"Fotos y videos"}),w.jsx("p",{className:"page-subtitle",children:'Sub material para que los clientes lo descarguen desde "Fotos y videos".'}),w.jsxs("form",{onSubmit:o,className:"admin-fotos-videos-form",children:[w.jsxs("select",{value:i.tipo,onChange:c=>s({...i,tipo:c.target.value}),children:[w.jsx("option",{value:"foto",children:"Foto / imagen"}),w.jsx("option",{value:"video",children:"Video"})]}),w.jsx("input",{type:"text",placeholder:"Ttulo (opcional)",value:i.titulo,onChange:c=>s({...i,titulo:c.target.value})}),w.jsx("input",{type:"text",placeholder:"Descripcin (opcional)",value:i.descripcion,onChange:c=>s({...i,descripcion:c.target.value})}),w.jsxs("label",{className:"input-file-label",children:["Archivo",w.jsx("input",{type:"file",accept:i.tipo==="video"?"video/*":"image/*",required:!0,onChange:c=>{var u;return s({...i,file:((u=c.target.files)==null?void 0:u[0])||null})},style:{display:"none"}}),w.jsx("span",{className:"input-file-text",children:i.file?i.file.name:"Seleccionar"})]}),w.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:n?"Subiendo...":"Subir"})]}),w.jsxs("div",{className:"admin-fotos-videos-list",children:[w.jsxs("h3",{children:["Publicados (",e.length,")"]}),e.length===0?w.jsx("p",{className:"empty-state",children:"An no hay elementos."}):w.jsx("ul",{className:"admin-fotos-videos-ul",children:e.map(c=>w.jsxs("li",{className:"admin-fotos-videos-li",children:[c.tipo==="video"?w.jsx("video",{src:c.url,controls:!0,style:{maxWidth:200,maxHeight:120}}):w.jsx("img",{src:c.url,alt:"",style:{maxWidth:120,maxHeight:80,objectFit:"cover"}}),w.jsx("span",{children:c.titulo||c.descripcion||"(sin ttulo)"}),w.jsx("button",{type:"button",className:"btn btn-danger-outline btn-sm",onClick:()=>l(c.id),children:"Eliminar"})]},c.id))})]})]})}function Lk({children:t,requireAdmin:e}){const{user:r,profile:n,loading:a}=eo();return a?w.jsxs("div",{className:"loading-screen",children:[w.jsx("div",{className:"loading-spinner"}),w.jsx("p",{children:"Cargando..."})]}):r?n!=null&&n.deleted?w.jsx(p2,{to:"/login?reason=deleted",replace:!0}):e&&(n==null?void 0:n.role)!=="admin"?w.jsx(p2,{to:"/",replace:!0}):t:w.jsx(p2,{to:"/login",replace:!0})}function Kue(){return w.jsxs(WU,{children:[w.jsx(Yn,{path:"/login",element:w.jsx(gK,{})}),w.jsx(Yn,{path:"/registro",element:w.jsx(vK,{})}),w.jsxs(Yn,{path:"/",element:w.jsx(Lk,{children:w.jsx(hK,{children:w.jsx(mK,{})})}),children:[w.jsx(Yn,{index:!0,element:w.jsx(xK,{})}),w.jsx(Yn,{path:"catalogo",element:w.jsx(yK,{})}),w.jsx(Yn,{path:"checkout",element:w.jsx(xue,{})}),w.jsx(Yn,{path:"datos",element:w.jsx(yue,{})}),w.jsx(Yn,{path:"mis-pedidos",element:w.jsx(wue,{})}),w.jsx(Yn,{path:"fotos-videos",element:w.jsx(bue,{})}),w.jsx(Yn,{path:"novedades",element:w.jsx(Eue,{})})]}),w.jsxs(Yn,{path:"/admin",element:w.jsx(Lk,{requireAdmin:!0,children:w.jsx(Aue,{})}),children:[w.jsx(Yn,{index:!0,element:w.jsx(Sue,{})}),w.jsx(Yn,{path:"usuarios",element:w.jsx(Tue,{})}),w.jsx(Yn,{path:"usuarios/:id",element:w.jsx(Nue,{})}),w.jsx(Yn,{path:"pedidos",element:w.jsx(Cue,{})}),w.jsx(Yn,{path:"pedidos/:id",element:w.jsx(kue,{})}),w.jsx(Yn,{path:"catalogo",element:w.jsx(Gue,{})}),w.jsx(Yn,{path:"ofertas",element:w.jsx($ue,{})}),w.jsx(Yn,{path:"vendedores",element:w.jsx(Wue,{})}),w.jsx(Yn,{path:"fotos-videos",element:w.jsx(Xue,{})})]}),w.jsx(Yn,{path:"*",element:w.jsx(p2,{to:"/",replace:!0})})]})}$B.createRoot(document.getElementById("root")).render(w.jsx(le.StrictMode,{children:w.jsx(vj,{children:w.jsx(fK,{children:w.jsx(Kue,{})})})}));export{rn as _};
