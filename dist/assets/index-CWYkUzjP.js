var VF=Object.defineProperty;var zF=(t,e,r)=>e in t?VF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Qr=(t,e,r)=>zF(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var RC={exports:{}},tx={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HF=Symbol.for("react.transitional.element"),qF=Symbol.for("react.fragment");function LC(t,e,r){var n=null;if(r!==void 0&&(n=""+r),e.key!==void 0&&(n=""+e.key),"key"in e){r={};for(var a in e)a!=="key"&&(r[a]=e[a])}else r=e;return e=r.ref,{$$typeof:HF,type:t,key:n,ref:e!==void 0?e:null,props:r}}tx.Fragment=qF;tx.jsx=LC;tx.jsxs=LC;RC.exports=tx;var S=RC.exports,DC={exports:{}},fr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jw=Symbol.for("react.transitional.element"),GF=Symbol.for("react.portal"),WF=Symbol.for("react.fragment"),$F=Symbol.for("react.strict_mode"),XF=Symbol.for("react.profiler"),KF=Symbol.for("react.consumer"),YF=Symbol.for("react.context"),QF=Symbol.for("react.forward_ref"),JF=Symbol.for("react.suspense"),ZF=Symbol.for("react.memo"),OC=Symbol.for("react.lazy"),e9=Symbol.for("react.activity"),B3=Symbol.iterator;function t9(t){return t===null||typeof t!="object"?null:(t=B3&&t[B3]||t["@@iterator"],typeof t=="function"?t:null)}var PC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},FC=Object.assign,MC={};function yd(t,e,r){this.props=t,this.context=e,this.refs=MC,this.updater=r||PC}yd.prototype.isReactComponent={};yd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function BC(){}BC.prototype=yd.prototype;function Zw(t,e,r){this.props=t,this.context=e,this.refs=MC,this.updater=r||PC}var eb=Zw.prototype=new BC;eb.constructor=Zw;FC(eb,yd.prototype);eb.isPureReactComponent=!0;var U3=Array.isArray;function a5(){}var Pn={H:null,A:null,T:null,S:null},UC=Object.prototype.hasOwnProperty;function tb(t,e,r){var n=r.ref;return{$$typeof:Jw,type:t,key:e,ref:n!==void 0?n:null,props:r}}function r9(t,e){return tb(t.type,e,t.props)}function rb(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jw}function n9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var j3=/\/+/g;function y_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?n9(""+t.key):e.toString(36)}function a9(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(a5,a5):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function l0(t,e,r,n,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Jw:case GF:s=!0;break;case OC:return s=t._init,l0(s(t._payload),e,r,n,a)}}if(s)return a=a(t),s=n===""?"."+y_(t,0):n,U3(a)?(r="",s!=null&&(r=s.replace(j3,"$&/")+"/"),l0(a,e,r,"",function(c){return c})):a!=null&&(rb(a)&&(a=r9(a,r+(a.key==null||t&&t.key===a.key?"":(""+a.key).replace(j3,"$&/")+"/")+s)),e.push(a)),1;s=0;var o=n===""?".":n+":";if(U3(t))for(var l=0;l<t.length;l++)n=t[l],i=o+y_(n,l),s+=l0(n,e,r,i,a);else if(l=t9(t),typeof l=="function")for(t=l.call(t),l=0;!(n=t.next()).done;)n=n.value,i=o+y_(n,l++),s+=l0(n,e,r,i,a);else if(i==="object"){if(typeof t.then=="function")return l0(a9(t),e,r,n,a);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function sg(t,e,r){if(t==null)return t;var n=[],a=0;return l0(t,n,"","",function(i){return e.call(r,i,a++)}),n}function i9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var V3=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},s9={map:sg,forEach:function(t,e,r){sg(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return sg(t,function(){e++}),e},toArray:function(t){return sg(t,function(e){return e})||[]},only:function(t){if(!rb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fr.Activity=e9;fr.Children=s9;fr.Component=yd;fr.Fragment=WF;fr.Profiler=XF;fr.PureComponent=Zw;fr.StrictMode=$F;fr.Suspense=JF;fr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Pn;fr.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Pn.H.useMemoCache(t)}};fr.cache=function(t){return function(){return t.apply(null,arguments)}};fr.cacheSignal=function(){return null};fr.cloneElement=function(t,e,r){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var n=FC({},t.props),a=t.key;if(e!=null)for(i in e.key!==void 0&&(a=""+e.key),e)!UC.call(e,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&e.ref===void 0||(n[i]=e[i]);var i=arguments.length-2;if(i===1)n.children=r;else if(1<i){for(var s=Array(i),o=0;o<i;o++)s[o]=arguments[o+2];n.children=s}return tb(t.type,a,n)};fr.createContext=function(t){return t={$$typeof:YF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:KF,_context:t},t};fr.createElement=function(t,e,r){var n,a={},i=null;if(e!=null)for(n in e.key!==void 0&&(i=""+e.key),e)UC.call(e,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(a[n]=e[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];a.children=o}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return tb(t,i,a)};fr.createRef=function(){return{current:null}};fr.forwardRef=function(t){return{$$typeof:QF,render:t}};fr.isValidElement=rb;fr.lazy=function(t){return{$$typeof:OC,_payload:{_status:-1,_result:t},_init:i9}};fr.memo=function(t,e){return{$$typeof:ZF,type:t,compare:e===void 0?null:e}};fr.startTransition=function(t){var e=Pn.T,r={};Pn.T=r;try{var n=t(),a=Pn.S;a!==null&&a(r,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(a5,V3)}catch(i){V3(i)}finally{e!==null&&r.types!==null&&(e.types=r.types),Pn.T=e}};fr.unstable_useCacheRefresh=function(){return Pn.H.useCacheRefresh()};fr.use=function(t){return Pn.H.use(t)};fr.useActionState=function(t,e,r){return Pn.H.useActionState(t,e,r)};fr.useCallback=function(t,e){return Pn.H.useCallback(t,e)};fr.useContext=function(t){return Pn.H.useContext(t)};fr.useDebugValue=function(){};fr.useDeferredValue=function(t,e){return Pn.H.useDeferredValue(t,e)};fr.useEffect=function(t,e){return Pn.H.useEffect(t,e)};fr.useEffectEvent=function(t){return Pn.H.useEffectEvent(t)};fr.useId=function(){return Pn.H.useId()};fr.useImperativeHandle=function(t,e,r){return Pn.H.useImperativeHandle(t,e,r)};fr.useInsertionEffect=function(t,e){return Pn.H.useInsertionEffect(t,e)};fr.useLayoutEffect=function(t,e){return Pn.H.useLayoutEffect(t,e)};fr.useMemo=function(t,e){return Pn.H.useMemo(t,e)};fr.useOptimistic=function(t,e){return Pn.H.useOptimistic(t,e)};fr.useReducer=function(t,e,r){return Pn.H.useReducer(t,e,r)};fr.useRef=function(t){return Pn.H.useRef(t)};fr.useState=function(t){return Pn.H.useState(t)};fr.useSyncExternalStore=function(t,e,r){return Pn.H.useSyncExternalStore(t,e,r)};fr.useTransition=function(){return Pn.H.useTransition()};fr.version="19.2.4";DC.exports=fr;var fe=DC.exports,jC={exports:{}},rx={},VC={exports:{}},zC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,H){var ae=V.length;V.push(H);e:for(;0<ae;){var W=ae-1>>>1,ge=V[W];if(0<a(ge,H))V[W]=H,V[ae]=ge,ae=W;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var H=V[0],ae=V.pop();if(ae!==H){V[0]=ae;e:for(var W=0,ge=V.length,be=ge>>>1;W<be;){var D=2*(W+1)-1,F=V[D],U=D+1,M=V[U];if(0>a(F,ae))U<ge&&0>a(M,F)?(V[W]=M,V[U]=ae,W=U):(V[W]=F,V[D]=ae,W=D);else if(U<ge&&0>a(M,ae))V[W]=M,V[U]=ae,W=U;else break e}}return H}function a(V,H){var ae=V.sortIndex-H.sortIndex;return ae!==0?ae:V.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,h=null,d=3,f=!1,p=!1,m=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function I(V){for(var H=r(c);H!==null;){if(H.callback===null)n(c);else if(H.startTime<=V)n(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=r(c)}}function j(V){if(m=!1,I(V),!p)if(r(l)!==null)p=!0,P||(P=!0,C());else{var H=r(c);H!==null&&X(j,H.startTime-V)}}var P=!1,N=-1,E=5,y=-1;function R(){return _?!0:!(t.unstable_now()-y<E)}function A(){if(_=!1,P){var V=t.unstable_now();y=V;var H=!0;try{e:{p=!1,m&&(m=!1,T(N),N=-1),f=!0;var ae=d;try{t:{for(I(V),h=r(l);h!==null&&!(h.expirationTime>V&&R());){var W=h.callback;if(typeof W=="function"){h.callback=null,d=h.priorityLevel;var ge=W(h.expirationTime<=V);if(V=t.unstable_now(),typeof ge=="function"){h.callback=ge,I(V),H=!0;break t}h===r(l)&&n(l),I(V)}else n(l);h=r(l)}if(h!==null)H=!0;else{var be=r(c);be!==null&&X(j,be.startTime-V),H=!1}}break e}finally{h=null,d=ae,f=!1}H=void 0}}finally{H?C():P=!1}}}var C;if(typeof w=="function")C=function(){w(A)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,q=k.port2;k.port1.onmessage=A,C=function(){q.postMessage(null)}}else C=function(){x(A,0)};function X(V,H){N=x(function(){V(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_next=function(V){switch(d){case 1:case 2:case 3:var H=3;break;default:H=d}var ae=d;d=H;try{return V()}finally{d=ae}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(V,H){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ae=d;d=V;try{return H()}finally{d=ae}},t.unstable_scheduleCallback=function(V,H,ae){var W=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?W+ae:W):ae=W,V){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=ae+ge,V={id:u++,callback:H,priorityLevel:V,startTime:ae,expirationTime:ge,sortIndex:-1},ae>W?(V.sortIndex=ae,e(c,V),r(l)===null&&V===r(c)&&(m?(T(N),N=-1):m=!0,X(j,ae-W))):(V.sortIndex=ge,e(l,V),p||f||(p=!0,P||(P=!0,C()))),V},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(V){var H=d;return function(){var ae=d;d=H;try{return V.apply(this,arguments)}finally{d=ae}}}})(zC);VC.exports=zC;var o9=VC.exports,HC={exports:{}},Ki={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l9=fe;function qC(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function su(){}var $i={d:{f:su,r:function(){throw Error(qC(522))},D:su,C:su,L:su,m:su,X:su,S:su,M:su},p:0,findDOMNode:null},c9=Symbol.for("react.portal");function u9(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c9,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}var O1=l9.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function nx(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ki.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$i;Ki.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(qC(299));return u9(t,e,null,r)};Ki.flushSync=function(t){var e=O1.T,r=$i.p;try{if(O1.T=null,$i.p=2,t)return t()}finally{O1.T=e,$i.p=r,$i.d.f()}};Ki.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,$i.d.C(t,e))};Ki.prefetchDNS=function(t){typeof t=="string"&&$i.d.D(t)};Ki.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var r=e.as,n=nx(r,e.crossOrigin),a=typeof e.integrity=="string"?e.integrity:void 0,i=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;r==="style"?$i.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:n,integrity:a,fetchPriority:i}):r==="script"&&$i.d.X(t,{crossOrigin:n,integrity:a,fetchPriority:i,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ki.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var r=nx(e.as,e.crossOrigin);$i.d.M(t,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&$i.d.M(t)};Ki.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var r=e.as,n=nx(r,e.crossOrigin);$i.d.L(t,r,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ki.preloadModule=function(t,e){if(typeof t=="string")if(e){var r=nx(e.as,e.crossOrigin);$i.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else $i.d.m(t)};Ki.requestFormReset=function(t){$i.d.r(t)};Ki.unstable_batchedUpdates=function(t,e){return t(e)};Ki.useFormState=function(t,e,r){return O1.H.useFormState(t,e,r)};Ki.useFormStatus=function(){return O1.H.useHostTransitionStatus()};Ki.version="19.2.4";function GC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GC)}catch(t){console.error(t)}}GC(),HC.exports=Ki;var f9=HC.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ba=o9,WC=fe,h9=f9;function Je(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function $C(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function em(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function XC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function KC(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function z3(t){if(em(t)!==t)throw Error(Je(188))}function d9(t){var e=t.alternate;if(!e){if(e=em(t),e===null)throw Error(Je(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return z3(a),t;if(i===n)return z3(a),e;i=i.sibling}throw Error(Je(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(Je(189))}}if(r.alternate!==n)throw Error(Je(190))}if(r.tag!==3)throw Error(Je(188));return r.stateNode.current===r?t:e}function YC(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=YC(t),e!==null)return e;t=t.sibling}return null}var Bn=Object.assign,p9=Symbol.for("react.element"),og=Symbol.for("react.transitional.element"),w1=Symbol.for("react.portal"),x0=Symbol.for("react.fragment"),QC=Symbol.for("react.strict_mode"),i5=Symbol.for("react.profiler"),JC=Symbol.for("react.consumer"),lc=Symbol.for("react.context"),nb=Symbol.for("react.forward_ref"),s5=Symbol.for("react.suspense"),o5=Symbol.for("react.suspense_list"),ab=Symbol.for("react.memo"),hu=Symbol.for("react.lazy"),l5=Symbol.for("react.activity"),m9=Symbol.for("react.memo_cache_sentinel"),H3=Symbol.iterator;function l1(t){return t===null||typeof t!="object"?null:(t=H3&&t[H3]||t["@@iterator"],typeof t=="function"?t:null)}var g9=Symbol.for("react.client.reference");function c5(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===g9?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x0:return"Fragment";case i5:return"Profiler";case QC:return"StrictMode";case s5:return"Suspense";case o5:return"SuspenseList";case l5:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case w1:return"Portal";case lc:return t.displayName||"Context";case JC:return(t._context.displayName||"Context")+".Consumer";case nb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ab:return e=t.displayName||null,e!==null?e:c5(t.type)||"Memo";case hu:e=t._payload,t=t._init;try{return c5(t(e))}catch{}}return null}var b1=Array.isArray,ir=WC.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Wr=h9.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Hf={pending:!1,data:null,method:null,action:null},u5=[],_0=-1;function Pl(t){return{current:t}}function Ya(t){0>_0||(t.current=u5[_0],u5[_0]=null,_0--)}function Sn(t,e){_0++,u5[_0]=t.current,t.current=e}var kl=Pl(null),hp=Pl(null),Du=Pl(null),D2=Pl(null);function O2(t,e){switch(Sn(Du,e),Sn(hp,t),Sn(kl,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?KA(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=KA(e),t=xI(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ya(kl),Sn(kl,t)}function td(){Ya(kl),Ya(hp),Ya(Du)}function f5(t){t.memoizedState!==null&&Sn(D2,t);var e=kl.current,r=xI(e,t.type);e!==r&&(Sn(hp,t),Sn(kl,r))}function P2(t){hp.current===t&&(Ya(kl),Ya(hp)),D2.current===t&&(Ya(D2),Ep._currentValue=Hf)}var w_,q3;function Lf(t){if(w_===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);w_=e&&e[1]||"",q3=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+w_+t+q3}var b_=!1;function E_(t,e){if(!t||b_)return"";b_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(e){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(f){var d=f}Reflect.construct(t,[],h)}else{try{h.call()}catch(f){d=f}t.call(h.prototype)}}else{try{throw Error()}catch(f){d=f}(h=t())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(f){if(f&&d&&typeof f.stack=="string")return[f.stack,d.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),s=i[0],o=i[1];if(s&&o){var l=s.split(`
`),c=o.split(`
`);for(a=n=0;n<l.length&&!l[n].includes("DetermineComponentFrameRoot");)n++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(n===l.length||a===c.length)for(n=l.length-1,a=c.length-1;1<=n&&0<=a&&l[n]!==c[a];)a--;for(;1<=n&&0<=a;n--,a--)if(l[n]!==c[a]){if(n!==1||a!==1)do if(n--,a--,0>a||l[n]!==c[a]){var u=`
`+l[n].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=n&&0<=a);break}}}finally{b_=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Lf(r):""}function v9(t,e){switch(t.tag){case 26:case 27:case 5:return Lf(t.type);case 16:return Lf("Lazy");case 13:return t.child!==e&&e!==null?Lf("Suspense Fallback"):Lf("Suspense");case 19:return Lf("SuspenseList");case 0:case 15:return E_(t.type,!1);case 11:return E_(t.type.render,!1);case 1:return E_(t.type,!0);case 31:return Lf("Activity");default:return""}}function G3(t){try{var e="",r=null;do e+=v9(t,r),r=t,t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var h5=Object.prototype.hasOwnProperty,ib=Ba.unstable_scheduleCallback,A_=Ba.unstable_cancelCallback,x9=Ba.unstable_shouldYield,_9=Ba.unstable_requestPaint,Hs=Ba.unstable_now,y9=Ba.unstable_getCurrentPriorityLevel,ZC=Ba.unstable_ImmediatePriority,e8=Ba.unstable_UserBlockingPriority,F2=Ba.unstable_NormalPriority,w9=Ba.unstable_LowPriority,t8=Ba.unstable_IdlePriority,b9=Ba.log,E9=Ba.unstable_setDisableYieldValue,tm=null,qs=null;function Eu(t){if(typeof b9=="function"&&E9(t),qs&&typeof qs.setStrictMode=="function")try{qs.setStrictMode(tm,t)}catch{}}var Gs=Math.clz32?Math.clz32:T9,A9=Math.log,S9=Math.LN2;function T9(t){return t>>>=0,t===0?32:31-(A9(t)/S9|0)|0}var lg=256,cg=262144,ug=4194304;function Df(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ax(t,e,r){var n=t.pendingLanes;if(n===0)return 0;var a=0,i=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var o=n&134217727;return o!==0?(n=o&~i,n!==0?a=Df(n):(s&=o,s!==0?a=Df(s):r||(r=o&~t,r!==0&&(a=Df(r))))):(o=n&~i,o!==0?a=Df(o):s!==0?a=Df(s):r||(r=n&~t,r!==0&&(a=Df(r)))),a===0?0:e!==0&&e!==a&&!(e&i)&&(i=a&-a,r=e&-e,i>=r||i===32&&(r&4194048)!==0)?e:a}function rm(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function k9(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r8(){var t=ug;return ug<<=1,!(ug&62914560)&&(ug=4194304),t}function S_(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function nm(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function C9(t,e,r,n,a,i){var s=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(r=s&~r;0<r;){var u=31-Gs(r),h=1<<u;o[u]=0,l[u]=-1;var d=c[u];if(d!==null)for(c[u]=null,u=0;u<d.length;u++){var f=d[u];f!==null&&(f.lane&=-536870913)}r&=~h}n!==0&&n8(t,n,0),i!==0&&a===0&&t.tag!==0&&(t.suspendedLanes|=i&~(s&~e))}function n8(t,e,r){t.pendingLanes|=e,t.suspendedLanes&=~e;var n=31-Gs(e);t.entangledLanes|=e,t.entanglements[n]=t.entanglements[n]|1073741824|r&261930}function a8(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Gs(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}function i8(t,e){var r=e&-e;return r=r&42?1:sb(r),r&(t.suspendedLanes|e)?0:r}function sb(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ob(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function s8(){var t=Wr.p;return t!==0?t:(t=window.event,t===void 0?32:NI(t.type))}function W3(t,e){var r=Wr.p;try{return Wr.p=t,e()}finally{Wr.p=r}}var ff=Math.random().toString(36).slice(2),ii="__reactFiber$"+ff,ps="__reactProps$"+ff,wd="__reactContainer$"+ff,d5="__reactEvents$"+ff,N9="__reactListeners$"+ff,I9="__reactHandles$"+ff,$3="__reactResources$"+ff,am="__reactMarker$"+ff;function lb(t){delete t[ii],delete t[ps],delete t[d5],delete t[N9],delete t[I9]}function y0(t){var e=t[ii];if(e)return e;for(var r=t.parentNode;r;){if(e=r[wd]||r[ii]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=eS(t);t!==null;){if(r=t[ii])return r;t=eS(t)}return e}t=r,r=t.parentNode}return null}function bd(t){if(t=t[ii]||t[wd]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function E1(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(Je(33))}function P0(t){var e=t[$3];return e||(e=t[$3]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Wa(t){t[am]=!0}var o8=new Set,l8={};function Sh(t,e){rd(t,e),rd(t+"Capture",e)}function rd(t,e){for(l8[t]=e,t=0;t<e.length;t++)o8.add(e[t])}var R9=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),X3={},K3={};function L9(t){return h5.call(K3,t)?!0:h5.call(X3,t)?!1:R9.test(t)?K3[t]=!0:(X3[t]=!0,!1)}function Jg(t,e,r){if(L9(e))if(r===null)t.removeAttribute(e);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var n=e.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+r)}}function fg(t,e,r){if(r===null)t.removeAttribute(e);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+r)}}function Jl(t,e,r,n){if(n===null)t.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(e,r,""+n)}}function go(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function c8(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function D9(t,e,r){var n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function p5(t){if(!t._valueTracker){var e=c8(t)?"checked":"value";t._valueTracker=D9(t,e,""+t[e])}}function u8(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=c8(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function M2(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var O9=/[\n"\\]/g;function _o(t){return t.replace(O9,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function m5(t,e,r,n,a,i,s,o){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+go(e)):t.value!==""+go(e)&&(t.value=""+go(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?g5(t,s,go(e)):r!=null?g5(t,s,go(r)):n!=null&&t.removeAttribute("value"),a==null&&i!=null&&(t.defaultChecked=!!i),a!=null&&(t.checked=a&&typeof a!="function"&&typeof a!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+go(o):t.removeAttribute("name")}function f8(t,e,r,n,a,i,s,o){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||r!=null){if(!(i!=="submit"&&i!=="reset"||e!=null)){p5(t);return}r=r!=null?""+go(r):"",e=e!=null?""+go(e):r,o||e===t.value||(t.value=e),t.defaultValue=e}n=n??a,n=typeof n!="function"&&typeof n!="symbol"&&!!n,t.checked=o?t.checked:!!n,t.defaultChecked=!!n,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s),p5(t)}function g5(t,e,r){e==="number"&&M2(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function F0(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+go(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function h8(t,e,r){if(e!=null&&(e=""+go(e),e!==t.value&&(t.value=e),r==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=r!=null?""+go(r):""}function d8(t,e,r,n){if(e==null){if(n!=null){if(r!=null)throw Error(Je(92));if(b1(n)){if(1<n.length)throw Error(Je(93));n=n[0]}r=n}r==null&&(r=""),e=r}r=go(e),t.defaultValue=r,n=t.textContent,n===r&&n!==""&&n!==null&&(t.value=n),p5(t)}function nd(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var P9=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Y3(t,e,r){var n=e.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":n?t.setProperty(e,r):typeof r!="number"||r===0||P9.has(e)?e==="float"?t.cssFloat=r:t[e]=(""+r).trim():t[e]=r+"px"}function p8(t,e,r){if(e!=null&&typeof e!="object")throw Error(Je(62));if(t=t.style,r!=null){for(var n in r)!r.hasOwnProperty(n)||e!=null&&e.hasOwnProperty(n)||(n.indexOf("--")===0?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="");for(var a in e)n=e[a],e.hasOwnProperty(a)&&r[a]!==n&&Y3(t,a,n)}else for(var i in e)e.hasOwnProperty(i)&&Y3(t,i,e[i])}function cb(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var F9=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),M9=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zg(t){return M9.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function cc(){}var v5=null;function ub(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var w0=null,M0=null;function Q3(t){var e=bd(t);if(e&&(t=e.stateNode)){var r=t[ps]||null;e:switch(t=e.stateNode,e.type){case"input":if(m5(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+_o(""+e)+'"][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=n[ps]||null;if(!a)throw Error(Je(90));m5(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(e=0;e<r.length;e++)n=r[e],n.form===t.form&&u8(n)}break e;case"textarea":h8(t,r.value,r.defaultValue);break e;case"select":e=r.value,e!=null&&F0(t,!!r.multiple,e,!1)}}}var T_=!1;function m8(t,e,r){if(T_)return t(e,r);T_=!0;try{var n=t(e);return n}finally{if(T_=!1,(w0!==null||M0!==null)&&(gx(),w0&&(e=w0,t=M0,M0=w0=null,Q3(e),t)))for(e=0;e<t.length;e++)Q3(t[e])}}function dp(t,e){var r=t.stateNode;if(r===null)return null;var n=r[ps]||null;if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Je(231,e,typeof r));return r}var Ec=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x5=!1;if(Ec)try{var c1={};Object.defineProperty(c1,"passive",{get:function(){x5=!0}}),window.addEventListener("test",c1,c1),window.removeEventListener("test",c1,c1)}catch{x5=!1}var Au=null,fb=null,e2=null;function g8(){if(e2)return e2;var t,e=fb,r=e.length,n,a="value"in Au?Au.value:Au.textContent,i=a.length;for(t=0;t<r&&e[t]===a[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===a[i-n];n++);return e2=a.slice(t,1<n?1-n:void 0)}function t2(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hg(){return!0}function J3(){return!1}function gs(t){function e(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?hg:J3,this.isPropagationStopped=J3,this}return Bn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=hg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=hg)},persist:function(){},isPersistent:hg}),e}var Th={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ix=gs(Th),im=Bn({},Th,{view:0,detail:0}),B9=gs(im),k_,C_,u1,sx=Bn({},im,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==u1&&(u1&&t.type==="mousemove"?(k_=t.screenX-u1.screenX,C_=t.screenY-u1.screenY):C_=k_=0,u1=t),k_)},movementY:function(t){return"movementY"in t?t.movementY:C_}}),Z3=gs(sx),U9=Bn({},sx,{dataTransfer:0}),j9=gs(U9),V9=Bn({},im,{relatedTarget:0}),N_=gs(V9),z9=Bn({},Th,{animationName:0,elapsedTime:0,pseudoElement:0}),H9=gs(z9),q9=Bn({},Th,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),G9=gs(q9),W9=Bn({},Th,{data:0}),eA=gs(W9),$9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y9(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=K9[t])?!!e[t]:!1}function hb(){return Y9}var Q9=Bn({},im,{key:function(t){if(t.key){var e=$9[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=t2(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?X9[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hb,charCode:function(t){return t.type==="keypress"?t2(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?t2(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),J9=gs(Q9),Z9=Bn({},sx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tA=gs(Z9),eM=Bn({},im,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hb}),tM=gs(eM),rM=Bn({},Th,{propertyName:0,elapsedTime:0,pseudoElement:0}),nM=gs(rM),aM=Bn({},sx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iM=gs(aM),sM=Bn({},Th,{newState:0,oldState:0}),oM=gs(sM),lM=[9,13,27,32],db=Ec&&"CompositionEvent"in window,P1=null;Ec&&"documentMode"in document&&(P1=document.documentMode);var cM=Ec&&"TextEvent"in window&&!P1,v8=Ec&&(!db||P1&&8<P1&&11>=P1),rA=" ",nA=!1;function x8(t,e){switch(t){case"keyup":return lM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _8(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var b0=!1;function uM(t,e){switch(t){case"compositionend":return _8(e);case"keypress":return e.which!==32?null:(nA=!0,rA);case"textInput":return t=e.data,t===rA&&nA?null:t;default:return null}}function fM(t,e){if(b0)return t==="compositionend"||!db&&x8(t,e)?(t=g8(),e2=fb=Au=null,b0=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return v8&&e.locale!=="ko"?null:e.data;default:return null}}var hM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hM[t.type]:e==="textarea"}function y8(t,e,r,n){w0?M0?M0.push(n):M0=[n]:w0=n,e=tv(e,"onChange"),0<e.length&&(r=new ix("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var F1=null,pp=null;function dM(t){mI(t,0)}function ox(t){var e=E1(t);if(u8(e))return t}function iA(t,e){if(t==="change")return e}var w8=!1;if(Ec){var I_;if(Ec){var R_="oninput"in document;if(!R_){var sA=document.createElement("div");sA.setAttribute("oninput","return;"),R_=typeof sA.oninput=="function"}I_=R_}else I_=!1;w8=I_&&(!document.documentMode||9<document.documentMode)}function oA(){F1&&(F1.detachEvent("onpropertychange",b8),pp=F1=null)}function b8(t){if(t.propertyName==="value"&&ox(pp)){var e=[];y8(e,pp,t,ub(t)),m8(dM,e)}}function pM(t,e,r){t==="focusin"?(oA(),F1=e,pp=r,F1.attachEvent("onpropertychange",b8)):t==="focusout"&&oA()}function mM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ox(pp)}function gM(t,e){if(t==="click")return ox(e)}function vM(t,e){if(t==="input"||t==="change")return ox(e)}function xM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xs=typeof Object.is=="function"?Object.is:xM;function mp(t,e){if(Xs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!h5.call(e,a)||!Xs(t[a],e[a]))return!1}return!0}function lA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cA(t,e){var r=lA(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lA(r)}}function E8(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?E8(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function A8(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=M2(t.document);e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=M2(t.document)}return e}function pb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var _M=Ec&&"documentMode"in document&&11>=document.documentMode,E0=null,_5=null,M1=null,y5=!1;function uA(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;y5||E0==null||E0!==M2(n)||(n=E0,"selectionStart"in n&&pb(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),M1&&mp(M1,n)||(M1=n,n=tv(_5,"onSelect"),0<n.length&&(e=new ix("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=E0)))}function Rf(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var A0={animationend:Rf("Animation","AnimationEnd"),animationiteration:Rf("Animation","AnimationIteration"),animationstart:Rf("Animation","AnimationStart"),transitionrun:Rf("Transition","TransitionRun"),transitionstart:Rf("Transition","TransitionStart"),transitioncancel:Rf("Transition","TransitionCancel"),transitionend:Rf("Transition","TransitionEnd")},L_={},S8={};Ec&&(S8=document.createElement("div").style,"AnimationEvent"in window||(delete A0.animationend.animation,delete A0.animationiteration.animation,delete A0.animationstart.animation),"TransitionEvent"in window||delete A0.transitionend.transition);function kh(t){if(L_[t])return L_[t];if(!A0[t])return t;var e=A0[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in S8)return L_[t]=e[r];return t}var T8=kh("animationend"),k8=kh("animationiteration"),C8=kh("animationstart"),yM=kh("transitionrun"),wM=kh("transitionstart"),bM=kh("transitioncancel"),N8=kh("transitionend"),I8=new Map,w5="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");w5.push("scrollEnd");function Zo(t,e){I8.set(t,e),Sh(e,[t])}var B2=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},po=[],S0=0,mb=0;function lx(){for(var t=S0,e=mb=S0=0;e<t;){var r=po[e];po[e++]=null;var n=po[e];po[e++]=null;var a=po[e];po[e++]=null;var i=po[e];if(po[e++]=null,n!==null&&a!==null){var s=n.pending;s===null?a.next=a:(a.next=s.next,s.next=a),n.pending=a}i!==0&&R8(r,a,i)}}function cx(t,e,r,n){po[S0++]=t,po[S0++]=e,po[S0++]=r,po[S0++]=n,mb|=n,t.lanes|=n,t=t.alternate,t!==null&&(t.lanes|=n)}function gb(t,e,r,n){return cx(t,e,r,n),U2(t)}function Ch(t,e){return cx(t,null,null,e),U2(t)}function R8(t,e,r){t.lanes|=r;var n=t.alternate;n!==null&&(n.lanes|=r);for(var a=!1,i=t.return;i!==null;)i.childLanes|=r,n=i.alternate,n!==null&&(n.childLanes|=r),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(a=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,a&&e!==null&&(a=31-Gs(r),t=i.hiddenUpdates,n=t[a],n===null?t[a]=[e]:n.push(e),e.lane=r|536870912),i):null}function U2(t){if(50<W1)throw W1=0,z5=null,Error(Je(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var T0={};function EM(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Os(t,e,r,n){return new EM(t,e,r,n)}function vb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pc(t,e){var r=t.alternate;return r===null?(r=Os(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function L8(t,e){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function r2(t,e,r,n,a,i){var s=0;if(n=t,typeof t=="function")vb(t)&&(s=1);else if(typeof t=="string")s=CB(t,r,kl.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case l5:return t=Os(31,r,e,a),t.elementType=l5,t.lanes=i,t;case x0:return qf(r.children,a,i,e);case QC:s=8,a|=24;break;case i5:return t=Os(12,r,e,a|2),t.elementType=i5,t.lanes=i,t;case s5:return t=Os(13,r,e,a),t.elementType=s5,t.lanes=i,t;case o5:return t=Os(19,r,e,a),t.elementType=o5,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lc:s=10;break e;case JC:s=9;break e;case nb:s=11;break e;case ab:s=14;break e;case hu:s=16,n=null;break e}s=29,r=Error(Je(130,t===null?"null":typeof t,"")),n=null}return e=Os(s,r,e,a),e.elementType=t,e.type=n,e.lanes=i,e}function qf(t,e,r,n){return t=Os(7,t,n,e),t.lanes=r,t}function D_(t,e,r){return t=Os(6,t,null,e),t.lanes=r,t}function D8(t){var e=Os(18,null,null,0);return e.stateNode=t,e}function O_(t,e,r){return e=Os(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var fA=new WeakMap;function yo(t,e){if(typeof t=="object"&&t!==null){var r=fA.get(t);return r!==void 0?r:(e={value:t,source:e,stack:G3(e)},fA.set(t,e),e)}return{value:t,source:e,stack:G3(e)}}var k0=[],C0=0,j2=null,gp=0,vo=[],xo=0,Xu=null,wl=1,bl="";function ic(t,e){k0[C0++]=gp,k0[C0++]=j2,j2=t,gp=e}function O8(t,e,r){vo[xo++]=wl,vo[xo++]=bl,vo[xo++]=Xu,Xu=t;var n=wl;t=bl;var a=32-Gs(n)-1;n&=~(1<<a),r+=1;var i=32-Gs(e)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,wl=1<<32-Gs(e)+a|r<<a|n,bl=i+t}else wl=1<<i|r<<a|n,bl=t}function xb(t){t.return!==null&&(ic(t,1),O8(t,1,0))}function _b(t){for(;t===j2;)j2=k0[--C0],k0[C0]=null,gp=k0[--C0],k0[C0]=null;for(;t===Xu;)Xu=vo[--xo],vo[xo]=null,bl=vo[--xo],vo[xo]=null,wl=vo[--xo],vo[xo]=null}function P8(t,e){vo[xo++]=wl,vo[xo++]=bl,vo[xo++]=Xu,wl=e.id,bl=e.overflow,Xu=t}var si=null,Rn=null,Dr=!1,Ou=null,wo=!1,b5=Error(Je(519));function Ku(t){var e=Error(Je(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vp(yo(e,t)),b5}function hA(t){var e=t.stateNode,r=t.type,n=t.memoizedProps;switch(e[ii]=t,e[ps]=n,r){case"dialog":br("cancel",e),br("close",e);break;case"iframe":case"object":case"embed":br("load",e);break;case"video":case"audio":for(r=0;r<wp.length;r++)br(wp[r],e);break;case"source":br("error",e);break;case"img":case"image":case"link":br("error",e),br("load",e);break;case"details":br("toggle",e);break;case"input":br("invalid",e),f8(e,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":br("invalid",e);break;case"textarea":br("invalid",e),d8(e,n.value,n.defaultValue,n.children)}r=n.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||e.textContent===""+r||n.suppressHydrationWarning===!0||vI(e.textContent,r)?(n.popover!=null&&(br("beforetoggle",e),br("toggle",e)),n.onScroll!=null&&br("scroll",e),n.onScrollEnd!=null&&br("scrollend",e),n.onClick!=null&&(e.onclick=cc),e=!0):e=!1,e||Ku(t,!0)}function dA(t){for(si=t.return;si;)switch(si.tag){case 5:case 31:case 13:wo=!1;return;case 27:case 3:wo=!0;return;default:si=si.return}}function Zh(t){if(t!==si)return!1;if(!Dr)return dA(t),Dr=!0,!1;var e=t.tag,r;if((r=e!==3&&e!==27)&&((r=e===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||$5(t.type,t.memoizedProps)),r=!r),r&&Rn&&Ku(t),dA(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Je(317));Rn=ZA(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Je(317));Rn=ZA(t)}else e===27?(e=Rn,hf(t.type)?(t=Q5,Q5=null,Rn=t):Rn=e):Rn=si?Eo(t.stateNode.nextSibling):null;return!0}function nh(){Rn=si=null,Dr=!1}function P_(){var t=Ou;return t!==null&&(os===null?os=t:os.push.apply(os,t),Ou=null),t}function vp(t){Ou===null?Ou=[t]:Ou.push(t)}var E5=Pl(null),Nh=null,uc=null;function pu(t,e,r){Sn(E5,e._currentValue),e._currentValue=r}function mc(t){t._currentValue=E5.current,Ya(E5)}function A5(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function S5(t,e,r,n){var a=t.child;for(a!==null&&(a.return=t);a!==null;){var i=a.dependencies;if(i!==null){var s=a.child;i=i.firstContext;e:for(;i!==null;){var o=i;i=a;for(var l=0;l<e.length;l++)if(o.context===e[l]){i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),A5(i.return,r,t),n||(s=null);break e}i=o.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(Je(341));s.lanes|=r,i=s.alternate,i!==null&&(i.lanes|=r),A5(s,r,t),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function Ed(t,e,r,n){t=null;for(var a=e,i=!1;a!==null;){if(!i){if(a.flags&524288)i=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(Je(387));if(s=s.memoizedProps,s!==null){var o=a.type;Xs(a.pendingProps.value,s.value)||(t!==null?t.push(o):t=[o])}}else if(a===D2.current){if(s=a.alternate,s===null)throw Error(Je(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(t!==null?t.push(Ep):t=[Ep])}a=a.return}t!==null&&S5(e,t,r,n),e.flags|=262144}function V2(t){for(t=t.firstContext;t!==null;){if(!Xs(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ah(t){Nh=t,uc=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ci(t){return F8(Nh,t)}function dg(t,e){return Nh===null&&ah(t),F8(t,e)}function F8(t,e){var r=e._currentValue;if(e={context:e,memoizedValue:r,next:null},uc===null){if(t===null)throw Error(Je(308));uc=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else uc=uc.next=e;return r}var AM=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(r,n){t.push(n)}};this.abort=function(){e.aborted=!0,t.forEach(function(r){return r()})}},SM=Ba.unstable_scheduleCallback,TM=Ba.unstable_NormalPriority,Ea={$$typeof:lc,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yb(){return{controller:new AM,data:new Map,refCount:0}}function sm(t){t.refCount--,t.refCount===0&&SM(TM,function(){t.controller.abort()})}var B1=null,T5=0,ad=0,B0=null;function kM(t,e){if(B1===null){var r=B1=[];T5=0,ad=Gb(),B0={status:"pending",value:void 0,then:function(n){r.push(n)}}}return T5++,e.then(pA,pA),e}function pA(){if(--T5===0&&B1!==null){B0!==null&&(B0.status="fulfilled");var t=B1;B1=null,ad=0,B0=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function CM(t,e){var r=[],n={status:"pending",value:null,reason:null,then:function(a){r.push(a)}};return t.then(function(){n.status="fulfilled",n.value=e;for(var a=0;a<r.length;a++)(0,r[a])(e)},function(a){for(n.status="rejected",n.reason=a,a=0;a<r.length;a++)(0,r[a])(void 0)}),n}var mA=ir.S;ir.S=function(t,e){YN=Hs(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&kM(t,e),mA!==null&&mA(t,e)};var Gf=Pl(null);function wb(){var t=Gf.current;return t!==null?t:mn.pooledCache}function n2(t,e){e===null?Sn(Gf,Gf.current):Sn(Gf,e.pool)}function M8(){var t=wb();return t===null?null:{parent:Ea._currentValue,pool:t}}var Ad=Error(Je(460)),bb=Error(Je(474)),ux=Error(Je(542)),z2={then:function(){}};function gA(t){return t=t.status,t==="fulfilled"||t==="rejected"}function B8(t,e,r){switch(r=t[r],r===void 0?t.push(e):r!==e&&(e.then(cc,cc),e=r),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,xA(t),t;default:if(typeof e.status=="string")e.then(cc,cc);else{if(t=mn,t!==null&&100<t.shellSuspendCounter)throw Error(Je(482));t=e,t.status="pending",t.then(function(n){if(e.status==="pending"){var a=e;a.status="fulfilled",a.value=n}},function(n){if(e.status==="pending"){var a=e;a.status="rejected",a.reason=n}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,xA(t),t}throw Wf=e,Ad}}function Of(t){try{var e=t._init;return e(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Wf=r,Ad):r}}var Wf=null;function vA(){if(Wf===null)throw Error(Je(459));var t=Wf;return Wf=null,t}function xA(t){if(t===Ad||t===ux)throw Error(Je(483))}var U0=null,xp=0;function pg(t){var e=xp;return xp+=1,U0===null&&(U0=[]),B8(U0,t,e)}function f1(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function mg(t,e){throw e.$$typeof===p9?Error(Je(525)):(t=Object.prototype.toString.call(e),Error(Je(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function U8(t){function e(x,T){if(t){var w=x.deletions;w===null?(x.deletions=[T],x.flags|=16):w.push(T)}}function r(x,T){if(!t)return null;for(;T!==null;)e(x,T),T=T.sibling;return null}function n(x){for(var T=new Map;x!==null;)x.key!==null?T.set(x.key,x):T.set(x.index,x),x=x.sibling;return T}function a(x,T){return x=pc(x,T),x.index=0,x.sibling=null,x}function i(x,T,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<T?(x.flags|=67108866,T):w):(x.flags|=67108866,T)):(x.flags|=1048576,T)}function s(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function o(x,T,w,I){return T===null||T.tag!==6?(T=D_(w,x.mode,I),T.return=x,T):(T=a(T,w),T.return=x,T)}function l(x,T,w,I){var j=w.type;return j===x0?u(x,T,w.props.children,I,w.key):T!==null&&(T.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===hu&&Of(j)===T.type)?(T=a(T,w.props),f1(T,w),T.return=x,T):(T=r2(w.type,w.key,w.props,null,x.mode,I),f1(T,w),T.return=x,T)}function c(x,T,w,I){return T===null||T.tag!==4||T.stateNode.containerInfo!==w.containerInfo||T.stateNode.implementation!==w.implementation?(T=O_(w,x.mode,I),T.return=x,T):(T=a(T,w.children||[]),T.return=x,T)}function u(x,T,w,I,j){return T===null||T.tag!==7?(T=qf(w,x.mode,I,j),T.return=x,T):(T=a(T,w),T.return=x,T)}function h(x,T,w){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=D_(""+T,x.mode,w),T.return=x,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case og:return w=r2(T.type,T.key,T.props,null,x.mode,w),f1(w,T),w.return=x,w;case w1:return T=O_(T,x.mode,w),T.return=x,T;case hu:return T=Of(T),h(x,T,w)}if(b1(T)||l1(T))return T=qf(T,x.mode,w,null),T.return=x,T;if(typeof T.then=="function")return h(x,pg(T),w);if(T.$$typeof===lc)return h(x,dg(x,T),w);mg(x,T)}return null}function d(x,T,w,I){var j=T!==null?T.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return j!==null?null:o(x,T,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case og:return w.key===j?l(x,T,w,I):null;case w1:return w.key===j?c(x,T,w,I):null;case hu:return w=Of(w),d(x,T,w,I)}if(b1(w)||l1(w))return j!==null?null:u(x,T,w,I,null);if(typeof w.then=="function")return d(x,T,pg(w),I);if(w.$$typeof===lc)return d(x,T,dg(x,w),I);mg(x,w)}return null}function f(x,T,w,I,j){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return x=x.get(w)||null,o(T,x,""+I,j);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case og:return x=x.get(I.key===null?w:I.key)||null,l(T,x,I,j);case w1:return x=x.get(I.key===null?w:I.key)||null,c(T,x,I,j);case hu:return I=Of(I),f(x,T,w,I,j)}if(b1(I)||l1(I))return x=x.get(w)||null,u(T,x,I,j,null);if(typeof I.then=="function")return f(x,T,w,pg(I),j);if(I.$$typeof===lc)return f(x,T,w,dg(T,I),j);mg(T,I)}return null}function p(x,T,w,I){for(var j=null,P=null,N=T,E=T=0,y=null;N!==null&&E<w.length;E++){N.index>E?(y=N,N=null):y=N.sibling;var R=d(x,N,w[E],I);if(R===null){N===null&&(N=y);break}t&&N&&R.alternate===null&&e(x,N),T=i(R,T,E),P===null?j=R:P.sibling=R,P=R,N=y}if(E===w.length)return r(x,N),Dr&&ic(x,E),j;if(N===null){for(;E<w.length;E++)N=h(x,w[E],I),N!==null&&(T=i(N,T,E),P===null?j=N:P.sibling=N,P=N);return Dr&&ic(x,E),j}for(N=n(N);E<w.length;E++)y=f(N,x,E,w[E],I),y!==null&&(t&&y.alternate!==null&&N.delete(y.key===null?E:y.key),T=i(y,T,E),P===null?j=y:P.sibling=y,P=y);return t&&N.forEach(function(A){return e(x,A)}),Dr&&ic(x,E),j}function m(x,T,w,I){if(w==null)throw Error(Je(151));for(var j=null,P=null,N=T,E=T=0,y=null,R=w.next();N!==null&&!R.done;E++,R=w.next()){N.index>E?(y=N,N=null):y=N.sibling;var A=d(x,N,R.value,I);if(A===null){N===null&&(N=y);break}t&&N&&A.alternate===null&&e(x,N),T=i(A,T,E),P===null?j=A:P.sibling=A,P=A,N=y}if(R.done)return r(x,N),Dr&&ic(x,E),j;if(N===null){for(;!R.done;E++,R=w.next())R=h(x,R.value,I),R!==null&&(T=i(R,T,E),P===null?j=R:P.sibling=R,P=R);return Dr&&ic(x,E),j}for(N=n(N);!R.done;E++,R=w.next())R=f(N,x,E,R.value,I),R!==null&&(t&&R.alternate!==null&&N.delete(R.key===null?E:R.key),T=i(R,T,E),P===null?j=R:P.sibling=R,P=R);return t&&N.forEach(function(C){return e(x,C)}),Dr&&ic(x,E),j}function _(x,T,w,I){if(typeof w=="object"&&w!==null&&w.type===x0&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case og:e:{for(var j=w.key;T!==null;){if(T.key===j){if(j=w.type,j===x0){if(T.tag===7){r(x,T.sibling),I=a(T,w.props.children),I.return=x,x=I;break e}}else if(T.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===hu&&Of(j)===T.type){r(x,T.sibling),I=a(T,w.props),f1(I,w),I.return=x,x=I;break e}r(x,T);break}else e(x,T);T=T.sibling}w.type===x0?(I=qf(w.props.children,x.mode,I,w.key),I.return=x,x=I):(I=r2(w.type,w.key,w.props,null,x.mode,I),f1(I,w),I.return=x,x=I)}return s(x);case w1:e:{for(j=w.key;T!==null;){if(T.key===j)if(T.tag===4&&T.stateNode.containerInfo===w.containerInfo&&T.stateNode.implementation===w.implementation){r(x,T.sibling),I=a(T,w.children||[]),I.return=x,x=I;break e}else{r(x,T);break}else e(x,T);T=T.sibling}I=O_(w,x.mode,I),I.return=x,x=I}return s(x);case hu:return w=Of(w),_(x,T,w,I)}if(b1(w))return p(x,T,w,I);if(l1(w)){if(j=l1(w),typeof j!="function")throw Error(Je(150));return w=j.call(w),m(x,T,w,I)}if(typeof w.then=="function")return _(x,T,pg(w),I);if(w.$$typeof===lc)return _(x,T,dg(x,w),I);mg(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,T!==null&&T.tag===6?(r(x,T.sibling),I=a(T,w),I.return=x,x=I):(r(x,T),I=D_(w,x.mode,I),I.return=x,x=I),s(x)):r(x,T)}return function(x,T,w,I){try{xp=0;var j=_(x,T,w,I);return U0=null,j}catch(N){if(N===Ad||N===ux)throw N;var P=Os(29,N,null,x.mode);return P.lanes=I,P.return=x,P}finally{}}}var ih=U8(!0),j8=U8(!1),du=!1;function Eb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function k5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pu(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fu(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Gr&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,e=U2(t),R8(t,null,r),e}return cx(t,n,e,r),U2(t)}function U1(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194048)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,a8(t,r)}}function F_(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=e:i=i.next=e}else a=i=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}var C5=!1;function j1(){if(C5){var t=B0;if(t!==null)throw t}}function V1(t,e,r,n){C5=!1;var a=t.updateQueue;du=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(i!==null){var h=a.baseState;s=0,u=c=l=null,o=i;do{var d=o.lane&-536870913,f=d!==o.lane;if(f?(Ir&d)===d:(n&d)===d){d!==0&&d===ad&&(C5=!0),u!==null&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var p=t,m=o;d=e;var _=r;switch(m.tag){case 1:if(p=m.payload,typeof p=="function"){h=p.call(_,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(_,h,d):p,d==null)break e;h=Bn({},h,d);break e;case 2:du=!0}}d=o.callback,d!==null&&(t.flags|=64,f&&(t.flags|=8192),f=a.callbacks,f===null?a.callbacks=[d]:f.push(d))}else f={lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,s|=d;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;f=o,o=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);u===null&&(l=h),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,i===null&&(a.shared.lanes=0),Qu|=s,t.lanes=s,t.memoizedState=h}}function V8(t,e){if(typeof t!="function")throw Error(Je(191,t));t.call(e)}function z8(t,e){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)V8(r[t],e)}var id=Pl(null),H2=Pl(0);function _A(t,e){t=kc,Sn(H2,t),Sn(id,e),kc=t|e.baseLanes}function N5(){Sn(H2,kc),Sn(id,id.current)}function Ab(){kc=H2.current,Ya(id),Ya(H2)}var Ks=Pl(null),bo=null;function mu(t){var e=t.alternate;Sn(da,da.current&1),Sn(Ks,t),bo===null&&(e===null||id.current!==null||e.memoizedState!==null)&&(bo=t)}function I5(t){Sn(da,da.current),Sn(Ks,t),bo===null&&(bo=t)}function H8(t){t.tag===22?(Sn(da,da.current),Sn(Ks,t),bo===null&&(bo=t)):gu()}function gu(){Sn(da,da.current),Sn(Ks,Ks.current)}function Rs(t){Ya(Ks),bo===t&&(bo=null),Ya(da)}var da=Pl(0);function q2(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||K5(r)||Y5(r)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ac=0,hr=null,ln=null,wa=null,G2=!1,j0=!1,sh=!1,W2=0,_p=0,V0=null,NM=0;function Xn(){throw Error(Je(321))}function Sb(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Xs(t[r],e[r]))return!1;return!0}function Tb(t,e,r,n,a,i){return Ac=i,hr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ir.H=t===null||t.memoizedState===null?yN:Mb,sh=!1,i=r(n,a),sh=!1,j0&&(i=G8(e,r,n,a)),q8(t),i}function q8(t){ir.H=yp;var e=ln!==null&&ln.next!==null;if(Ac=0,wa=ln=hr=null,G2=!1,_p=0,V0=null,e)throw Error(Je(300));t===null||ka||(t=t.dependencies,t!==null&&V2(t)&&(ka=!0))}function G8(t,e,r,n){hr=t;var a=0;do{if(j0&&(V0=null),_p=0,j0=!1,25<=a)throw Error(Je(301));if(a+=1,wa=ln=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}ir.H=wN,i=e(r,n)}while(j0);return i}function IM(){var t=ir.H,e=t.useState()[0];return e=typeof e.then=="function"?om(e):e,t=t.useState()[0],(ln!==null?ln.memoizedState:null)!==t&&(hr.flags|=1024),e}function kb(){var t=W2!==0;return W2=0,t}function Cb(t,e,r){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r}function Nb(t){if(G2){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}G2=!1}Ac=0,wa=ln=hr=null,j0=!1,_p=W2=0,V0=null}function Hi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wa===null?hr.memoizedState=wa=t:wa=wa.next=t,wa}function pa(){if(ln===null){var t=hr.alternate;t=t!==null?t.memoizedState:null}else t=ln.next;var e=wa===null?hr.memoizedState:wa.next;if(e!==null)wa=e,ln=t;else{if(t===null)throw hr.alternate===null?Error(Je(467)):Error(Je(310));ln=t,t={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},wa===null?hr.memoizedState=wa=t:wa=wa.next=t}return wa}function fx(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function om(t){var e=_p;return _p+=1,V0===null&&(V0=[]),t=B8(V0,t,e),e=hr,(wa===null?e.memoizedState:wa.next)===null&&(e=e.alternate,ir.H=e===null||e.memoizedState===null?yN:Mb),t}function hx(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return om(t);if(t.$$typeof===lc)return ci(t)}throw Error(Je(438,String(t)))}function Ib(t){var e=null,r=hr.updateQueue;if(r!==null&&(e=r.memoCache),e==null){var n=hr.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(e={data:n.data.map(function(a){return a.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),r===null&&(r=fx(),hr.updateQueue=r),r.memoCache=e,r=e.data[e.index],r===void 0)for(r=e.data[e.index]=Array(t),n=0;n<t;n++)r[n]=m9;return e.index++,r}function Sc(t,e){return typeof e=="function"?e(t):e}function a2(t){var e=pa();return Rb(e,ln,t)}function Rb(t,e,r){var n=t.queue;if(n===null)throw Error(Je(311));n.lastRenderedReducer=r;var a=t.baseQueue,i=n.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}e.baseQueue=a=i,n.pending=null}if(i=t.baseState,a===null)t.memoizedState=i;else{e=a.next;var o=s=null,l=null,c=e,u=!1;do{var h=c.lane&-536870913;if(h!==c.lane?(Ir&h)===h:(Ac&h)===h){var d=c.revertLane;if(d===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),h===ad&&(u=!0);else if((Ac&d)===d){c=c.next,d===ad&&(u=!0);continue}else h={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=h,s=i):l=l.next=h,hr.lanes|=d,Qu|=d;h=c.action,sh&&r(i,h),i=c.hasEagerState?c.eagerState:r(i,h)}else d={lane:h,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=d,s=i):l=l.next=d,hr.lanes|=h,Qu|=h;c=c.next}while(c!==null&&c!==e);if(l===null?s=i:l.next=o,!Xs(i,t.memoizedState)&&(ka=!0,u&&(r=B0,r!==null)))throw r;t.memoizedState=i,t.baseState=s,t.baseQueue=l,n.lastRenderedState=i}return a===null&&(n.lanes=0),[t.memoizedState,n.dispatch]}function M_(t){var e=pa(),r=e.queue;if(r===null)throw Error(Je(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,i=e.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=t(i,s.action),s=s.next;while(s!==a);Xs(i,e.memoizedState)||(ka=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function W8(t,e,r){var n=hr,a=pa(),i=Dr;if(i){if(r===void 0)throw Error(Je(407));r=r()}else r=e();var s=!Xs((ln||a).memoizedState,r);if(s&&(a.memoizedState=r,ka=!0),a=a.queue,Lb(K8.bind(null,n,a,t),[t]),a.getSnapshot!==e||s||wa!==null&&wa.memoizedState.tag&1){if(n.flags|=2048,sd(9,{destroy:void 0},X8.bind(null,n,a,r,e),null),mn===null)throw Error(Je(349));i||Ac&127||$8(n,e,r)}return r}function $8(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=hr.updateQueue,e===null?(e=fx(),hr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function X8(t,e,r,n){e.value=r,e.getSnapshot=n,Y8(e)&&Q8(t)}function K8(t,e,r){return r(function(){Y8(e)&&Q8(t)})}function Y8(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Xs(t,r)}catch{return!0}}function Q8(t){var e=Ch(t,2);e!==null&&fs(e,t,2)}function R5(t){var e=Hi();if(typeof t=="function"){var r=t;if(t=r(),sh){Eu(!0);try{r()}finally{Eu(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:t},e}function J8(t,e,r,n){return t.baseState=r,Rb(t,ln,typeof n=="function"?n:Sc)}function RM(t,e,r,n,a){if(px(t))throw Error(Je(485));if(t=e.action,t!==null){var i={payload:a,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){i.listeners.push(s)}};ir.T!==null?r(!0):i.isTransition=!1,n(i),r=e.pending,r===null?(i.next=e.pending=i,Z8(e,i)):(i.next=r.next,e.pending=r.next=i)}}function Z8(t,e){var r=e.action,n=e.payload,a=t.state;if(e.isTransition){var i=ir.T,s={};ir.T=s;try{var o=r(a,n),l=ir.S;l!==null&&l(s,o),yA(t,e,o)}catch(c){L5(t,e,c)}finally{i!==null&&s.types!==null&&(i.types=s.types),ir.T=i}}else try{i=r(a,n),yA(t,e,i)}catch(c){L5(t,e,c)}}function yA(t,e,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(n){wA(t,e,n)},function(n){return L5(t,e,n)}):wA(t,e,r)}function wA(t,e,r){e.status="fulfilled",e.value=r,eN(e),t.state=r,e=t.pending,e!==null&&(r=e.next,r===e?t.pending=null:(r=r.next,e.next=r,Z8(t,r)))}function L5(t,e,r){var n=t.pending;if(t.pending=null,n!==null){n=n.next;do e.status="rejected",e.reason=r,eN(e),e=e.next;while(e!==n)}t.action=null}function eN(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function tN(t,e){return e}function bA(t,e){if(Dr){var r=mn.formState;if(r!==null){e:{var n=hr;if(Dr){if(Rn){t:{for(var a=Rn,i=wo;a.nodeType!==8;){if(!i){a=null;break t}if(a=Eo(a.nextSibling),a===null){a=null;break t}}i=a.data,a=i==="F!"||i==="F"?a:null}if(a){Rn=Eo(a.nextSibling),n=a.data==="F!";break e}}Ku(n)}n=!1}n&&(e=r[0])}}return r=Hi(),r.memoizedState=r.baseState=e,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tN,lastRenderedState:e},r.queue=n,r=vN.bind(null,hr,n),n.dispatch=r,n=R5(!1),i=Fb.bind(null,hr,!1,n.queue),n=Hi(),a={state:e,dispatch:null,action:t,pending:null},n.queue=a,r=RM.bind(null,hr,a,i,r),a.dispatch=r,n.memoizedState=t,[e,r,!1]}function EA(t){var e=pa();return rN(e,ln,t)}function rN(t,e,r){if(e=Rb(t,e,tN)[0],t=a2(Sc)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var n=om(e)}catch(s){throw s===Ad?ux:s}else n=e;e=pa();var a=e.queue,i=a.dispatch;return r!==e.memoizedState&&(hr.flags|=2048,sd(9,{destroy:void 0},LM.bind(null,a,r),null)),[n,i,t]}function LM(t,e){t.action=e}function AA(t){var e=pa(),r=ln;if(r!==null)return rN(e,r,t);pa(),e=e.memoizedState,r=pa();var n=r.queue.dispatch;return r.memoizedState=t,[e,n,!1]}function sd(t,e,r,n){return t={tag:t,create:r,deps:n,inst:e,next:null},e=hr.updateQueue,e===null&&(e=fx(),hr.updateQueue=e),r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t),t}function nN(){return pa().memoizedState}function i2(t,e,r,n){var a=Hi();hr.flags|=t,a.memoizedState=sd(1|e,{destroy:void 0},r,n===void 0?null:n)}function dx(t,e,r,n){var a=pa();n=n===void 0?null:n;var i=a.memoizedState.inst;ln!==null&&n!==null&&Sb(n,ln.memoizedState.deps)?a.memoizedState=sd(e,i,r,n):(hr.flags|=t,a.memoizedState=sd(1|e,i,r,n))}function SA(t,e){i2(8390656,8,t,e)}function Lb(t,e){dx(2048,8,t,e)}function DM(t){hr.flags|=4;var e=hr.updateQueue;if(e===null)e=fx(),hr.updateQueue=e,e.events=[t];else{var r=e.events;r===null?e.events=[t]:r.push(t)}}function aN(t){var e=pa().memoizedState;return DM({ref:e,nextImpl:t}),function(){if(Gr&2)throw Error(Je(440));return e.impl.apply(void 0,arguments)}}function iN(t,e){return dx(4,2,t,e)}function sN(t,e){return dx(4,4,t,e)}function oN(t,e){if(typeof e=="function"){t=t();var r=e(t);return function(){typeof r=="function"?r():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lN(t,e,r){r=r!=null?r.concat([t]):null,dx(4,4,oN.bind(null,e,t),r)}function Db(){}function cN(t,e){var r=pa();e=e===void 0?null:e;var n=r.memoizedState;return e!==null&&Sb(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function uN(t,e){var r=pa();e=e===void 0?null:e;var n=r.memoizedState;if(e!==null&&Sb(e,n[1]))return n[0];if(n=t(),sh){Eu(!0);try{t()}finally{Eu(!1)}}return r.memoizedState=[n,e],n}function Ob(t,e,r){return r===void 0||Ac&1073741824&&!(Ir&261930)?t.memoizedState=e:(t.memoizedState=r,t=JN(),hr.lanes|=t,Qu|=t,r)}function fN(t,e,r,n){return Xs(r,e)?r:id.current!==null?(t=Ob(t,r,n),Xs(t,e)||(ka=!0),t):!(Ac&42)||Ac&1073741824&&!(Ir&261930)?(ka=!0,t.memoizedState=r):(t=JN(),hr.lanes|=t,Qu|=t,e)}function hN(t,e,r,n,a){var i=Wr.p;Wr.p=i!==0&&8>i?i:8;var s=ir.T,o={};ir.T=o,Fb(t,!1,e,r);try{var l=a(),c=ir.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=CM(l,n);z1(t,e,u,Ws(t))}else z1(t,e,n,Ws(t))}catch(h){z1(t,e,{then:function(){},status:"rejected",reason:h},Ws())}finally{Wr.p=i,s!==null&&o.types!==null&&(s.types=o.types),ir.T=s}}function OM(){}function D5(t,e,r,n){if(t.tag!==5)throw Error(Je(476));var a=dN(t).queue;hN(t,a,e,Hf,r===null?OM:function(){return pN(t),r(n)})}function dN(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Hf,baseState:Hf,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:Hf},next:null};var r={};return e.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:r},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function pN(t){var e=dN(t);e.next===null&&(e=t.alternate.memoizedState),z1(t,e.next.queue,{},Ws())}function Pb(){return ci(Ep)}function mN(){return pa().memoizedState}function gN(){return pa().memoizedState}function PM(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var r=Ws();t=Pu(r);var n=Fu(e,t,r);n!==null&&(fs(n,e,r),U1(n,e,r)),e={cache:yb()},t.payload=e;return}e=e.return}}function FM(t,e,r){var n=Ws();r={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},px(t)?xN(e,r):(r=gb(t,e,r,n),r!==null&&(fs(r,t,n),_N(r,e,n)))}function vN(t,e,r){var n=Ws();z1(t,e,r,n)}function z1(t,e,r,n){var a={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(px(t))xN(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,Xs(o,s))return cx(t,e,a,0),mn===null&&lx(),!1}catch{}finally{}if(r=gb(t,e,a,n),r!==null)return fs(r,t,n),_N(r,e,n),!0}return!1}function Fb(t,e,r,n){if(n={lane:2,revertLane:Gb(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},px(t)){if(e)throw Error(Je(479))}else e=gb(t,r,n,2),e!==null&&fs(e,t,2)}function px(t){var e=t.alternate;return t===hr||e!==null&&e===hr}function xN(t,e){j0=G2=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function _N(t,e,r){if(r&4194048){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,a8(t,r)}}var yp={readContext:ci,use:hx,useCallback:Xn,useContext:Xn,useEffect:Xn,useImperativeHandle:Xn,useLayoutEffect:Xn,useInsertionEffect:Xn,useMemo:Xn,useReducer:Xn,useRef:Xn,useState:Xn,useDebugValue:Xn,useDeferredValue:Xn,useTransition:Xn,useSyncExternalStore:Xn,useId:Xn,useHostTransitionStatus:Xn,useFormState:Xn,useActionState:Xn,useOptimistic:Xn,useMemoCache:Xn,useCacheRefresh:Xn};yp.useEffectEvent=Xn;var yN={readContext:ci,use:hx,useCallback:function(t,e){return Hi().memoizedState=[t,e===void 0?null:e],t},useContext:ci,useEffect:SA,useImperativeHandle:function(t,e,r){r=r!=null?r.concat([t]):null,i2(4194308,4,oN.bind(null,e,t),r)},useLayoutEffect:function(t,e){return i2(4194308,4,t,e)},useInsertionEffect:function(t,e){i2(4,2,t,e)},useMemo:function(t,e){var r=Hi();e=e===void 0?null:e;var n=t();if(sh){Eu(!0);try{t()}finally{Eu(!1)}}return r.memoizedState=[n,e],n},useReducer:function(t,e,r){var n=Hi();if(r!==void 0){var a=r(e);if(sh){Eu(!0);try{r(e)}finally{Eu(!1)}}}else a=e;return n.memoizedState=n.baseState=a,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:a},n.queue=t,t=t.dispatch=FM.bind(null,hr,t),[n.memoizedState,t]},useRef:function(t){var e=Hi();return t={current:t},e.memoizedState=t},useState:function(t){t=R5(t);var e=t.queue,r=vN.bind(null,hr,e);return e.dispatch=r,[t.memoizedState,r]},useDebugValue:Db,useDeferredValue:function(t,e){var r=Hi();return Ob(r,t,e)},useTransition:function(){var t=R5(!1);return t=hN.bind(null,hr,t.queue,!0,!1),Hi().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,r){var n=hr,a=Hi();if(Dr){if(r===void 0)throw Error(Je(407));r=r()}else{if(r=e(),mn===null)throw Error(Je(349));Ir&127||$8(n,e,r)}a.memoizedState=r;var i={value:r,getSnapshot:e};return a.queue=i,SA(K8.bind(null,n,i,t),[t]),n.flags|=2048,sd(9,{destroy:void 0},X8.bind(null,n,i,r,e),null),r},useId:function(){var t=Hi(),e=mn.identifierPrefix;if(Dr){var r=bl,n=wl;r=(n&~(1<<32-Gs(n)-1)).toString(32)+r,e="_"+e+"R_"+r,r=W2++,0<r&&(e+="H"+r.toString(32)),e+="_"}else r=NM++,e="_"+e+"r_"+r.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Pb,useFormState:bA,useActionState:bA,useOptimistic:function(t){var e=Hi();e.memoizedState=e.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=r,e=Fb.bind(null,hr,!0,r),r.dispatch=e,[t,e]},useMemoCache:Ib,useCacheRefresh:function(){return Hi().memoizedState=PM.bind(null,hr)},useEffectEvent:function(t){var e=Hi(),r={impl:t};return e.memoizedState=r,function(){if(Gr&2)throw Error(Je(440));return r.impl.apply(void 0,arguments)}}},Mb={readContext:ci,use:hx,useCallback:cN,useContext:ci,useEffect:Lb,useImperativeHandle:lN,useInsertionEffect:iN,useLayoutEffect:sN,useMemo:uN,useReducer:a2,useRef:nN,useState:function(){return a2(Sc)},useDebugValue:Db,useDeferredValue:function(t,e){var r=pa();return fN(r,ln.memoizedState,t,e)},useTransition:function(){var t=a2(Sc)[0],e=pa().memoizedState;return[typeof t=="boolean"?t:om(t),e]},useSyncExternalStore:W8,useId:mN,useHostTransitionStatus:Pb,useFormState:EA,useActionState:EA,useOptimistic:function(t,e){var r=pa();return J8(r,ln,t,e)},useMemoCache:Ib,useCacheRefresh:gN};Mb.useEffectEvent=aN;var wN={readContext:ci,use:hx,useCallback:cN,useContext:ci,useEffect:Lb,useImperativeHandle:lN,useInsertionEffect:iN,useLayoutEffect:sN,useMemo:uN,useReducer:M_,useRef:nN,useState:function(){return M_(Sc)},useDebugValue:Db,useDeferredValue:function(t,e){var r=pa();return ln===null?Ob(r,t,e):fN(r,ln.memoizedState,t,e)},useTransition:function(){var t=M_(Sc)[0],e=pa().memoizedState;return[typeof t=="boolean"?t:om(t),e]},useSyncExternalStore:W8,useId:mN,useHostTransitionStatus:Pb,useFormState:AA,useActionState:AA,useOptimistic:function(t,e){var r=pa();return ln!==null?J8(r,ln,t,e):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Ib,useCacheRefresh:gN};wN.useEffectEvent=aN;function B_(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Bn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var O5={enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ws(),a=Pu(n);a.payload=e,r!=null&&(a.callback=r),e=Fu(t,a,n),e!==null&&(fs(e,t,n),U1(e,t,n))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ws(),a=Pu(n);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Fu(t,a,n),e!==null&&(fs(e,t,n),U1(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ws(),n=Pu(r);n.tag=2,e!=null&&(n.callback=e),e=Fu(t,n,r),e!==null&&(fs(e,t,r),U1(e,t,r))}};function TA(t,e,r,n,a,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,s):e.prototype&&e.prototype.isPureReactComponent?!mp(r,n)||!mp(a,i):!0}function kA(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&O5.enqueueReplaceState(e,e.state,null)}function oh(t,e){var r=e;if("ref"in e){r={};for(var n in e)n!=="ref"&&(r[n]=e[n])}if(t=t.defaultProps){r===e&&(r=Bn({},r));for(var a in t)r[a]===void 0&&(r[a]=t[a])}return r}function bN(t){B2(t)}function EN(t){console.error(t)}function AN(t){B2(t)}function $2(t,e){try{var r=t.onUncaughtError;r(e.value,{componentStack:e.stack})}catch(n){setTimeout(function(){throw n})}}function CA(t,e,r){try{var n=t.onCaughtError;n(r.value,{componentStack:r.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function P5(t,e,r){return r=Pu(r),r.tag=3,r.payload={element:null},r.callback=function(){$2(t,e)},r}function SN(t){return t=Pu(t),t.tag=3,t}function TN(t,e,r,n){var a=r.type.getDerivedStateFromError;if(typeof a=="function"){var i=n.value;t.payload=function(){return a(i)},t.callback=function(){CA(e,r,n)}}var s=r.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){CA(e,r,n),typeof a!="function"&&(Mu===null?Mu=new Set([this]):Mu.add(this));var o=n.stack;this.componentDidCatch(n.value,{componentStack:o!==null?o:""})})}function MM(t,e,r,n,a){if(r.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(e=r.alternate,e!==null&&Ed(e,r,a,!0),r=Ks.current,r!==null){switch(r.tag){case 31:case 13:return bo===null?J2():r.alternate===null&&Qn===0&&(Qn=3),r.flags&=-257,r.flags|=65536,r.lanes=a,n===z2?r.flags|=16384:(e=r.updateQueue,e===null?r.updateQueue=new Set([n]):e.add(n),K_(t,n,a)),!1;case 22:return r.flags|=65536,n===z2?r.flags|=16384:(e=r.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=e):(r=e.retryQueue,r===null?e.retryQueue=new Set([n]):r.add(n)),K_(t,n,a)),!1}throw Error(Je(435,r.tag))}return K_(t,n,a),J2(),!1}if(Dr)return e=Ks.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=a,n!==b5&&(t=Error(Je(422),{cause:n}),vp(yo(t,r)))):(n!==b5&&(e=Error(Je(423),{cause:n}),vp(yo(e,r))),t=t.current.alternate,t.flags|=65536,a&=-a,t.lanes|=a,n=yo(n,r),a=P5(t.stateNode,n,a),F_(t,a),Qn!==4&&(Qn=2)),!1;var i=Error(Je(520),{cause:n});if(i=yo(i,r),G1===null?G1=[i]:G1.push(i),Qn!==4&&(Qn=2),e===null)return!0;n=yo(n,r),r=e;do{switch(r.tag){case 3:return r.flags|=65536,t=a&-a,r.lanes|=t,t=P5(r.stateNode,n,t),F_(r,t),!1;case 1:if(e=r.type,i=r.stateNode,(r.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Mu===null||!Mu.has(i))))return r.flags|=65536,a&=-a,r.lanes|=a,a=SN(a),TN(a,t,r,n),F_(r,a),!1}r=r.return}while(r!==null);return!1}var Bb=Error(Je(461)),ka=!1;function ri(t,e,r,n){e.child=t===null?j8(e,null,r,n):ih(e,t.child,r,n)}function NA(t,e,r,n,a){r=r.render;var i=e.ref;if("ref"in n){var s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}else s=n;return ah(e),n=Tb(t,e,r,s,i,a),o=kb(),t!==null&&!ka?(Cb(t,e,a),Tc(t,e,a)):(Dr&&o&&xb(e),e.flags|=1,ri(t,e,n,a),e.child)}function IA(t,e,r,n,a){if(t===null){var i=r.type;return typeof i=="function"&&!vb(i)&&i.defaultProps===void 0&&r.compare===null?(e.tag=15,e.type=i,kN(t,e,i,n,a)):(t=r2(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!Ub(t,a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:mp,r(s,n)&&t.ref===e.ref)return Tc(t,e,a)}return e.flags|=1,t=pc(i,n),t.ref=e.ref,t.return=e,e.child=t}function kN(t,e,r,n,a){if(t!==null){var i=t.memoizedProps;if(mp(i,n)&&t.ref===e.ref)if(ka=!1,e.pendingProps=n=i,Ub(t,a))t.flags&131072&&(ka=!0);else return e.lanes=t.lanes,Tc(t,e,a)}return F5(t,e,r,n,a)}function CN(t,e,r,n){var a=n.children,i=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(e.flags&128){if(i=i!==null?i.baseLanes|r:r,t!==null){for(n=e.child=t.child,a=0;n!==null;)a=a|n.lanes|n.childLanes,n=n.sibling;n=a&~i}else n=0,e.child=null;return RA(t,e,i,r,n)}if(r&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&n2(e,i!==null?i.cachePool:null),i!==null?_A(e,i):N5(),H8(e);else return n=e.lanes=536870912,RA(t,e,i!==null?i.baseLanes|r:r,r,n)}else i!==null?(n2(e,i.cachePool),_A(e,i),gu(),e.memoizedState=null):(t!==null&&n2(e,null),N5(),gu());return ri(t,e,a,r),e.child}function A1(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function RA(t,e,r,n,a){var i=wb();return i=i===null?null:{parent:Ea._currentValue,pool:i},e.memoizedState={baseLanes:r,cachePool:i},t!==null&&n2(e,null),N5(),H8(e),t!==null&&Ed(t,e,n,!0),e.childLanes=a,null}function s2(t,e){return e=X2({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function LA(t,e,r){return ih(e,t.child,null,r),t=s2(e,e.pendingProps),t.flags|=2,Rs(e),e.memoizedState=null,t}function BM(t,e,r){var n=e.pendingProps,a=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Dr){if(n.mode==="hidden")return t=s2(e,n),e.lanes=536870912,A1(null,t);if(I5(e),(t=Rn)?(t=yI(t,wo),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Xu!==null?{id:wl,overflow:bl}:null,retryLane:536870912,hydrationErrors:null},r=D8(t),r.return=e,e.child=r,si=e,Rn=null)):t=null,t===null)throw Ku(e);return e.lanes=536870912,null}return s2(e,n)}var i=t.memoizedState;if(i!==null){var s=i.dehydrated;if(I5(e),a)if(e.flags&256)e.flags&=-257,e=LA(t,e,r);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(Je(558));else if(ka||Ed(t,e,r,!1),a=(r&t.childLanes)!==0,ka||a){if(n=mn,n!==null&&(s=i8(n,r),s!==0&&s!==i.retryLane))throw i.retryLane=s,Ch(t,s),fs(n,t,s),Bb;J2(),e=LA(t,e,r)}else t=i.treeContext,Rn=Eo(s.nextSibling),si=e,Dr=!0,Ou=null,wo=!1,t!==null&&P8(e,t),e=s2(e,n),e.flags|=4096;return e}return t=pc(t.child,{mode:n.mode,children:n.children}),t.ref=e.ref,e.child=t,t.return=e,t}function o2(t,e){var r=e.ref;if(r===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(Je(284));(t===null||t.ref!==r)&&(e.flags|=4194816)}}function F5(t,e,r,n,a){return ah(e),r=Tb(t,e,r,n,void 0,a),n=kb(),t!==null&&!ka?(Cb(t,e,a),Tc(t,e,a)):(Dr&&n&&xb(e),e.flags|=1,ri(t,e,r,a),e.child)}function DA(t,e,r,n,a,i){return ah(e),e.updateQueue=null,r=G8(e,n,r,a),q8(t),n=kb(),t!==null&&!ka?(Cb(t,e,i),Tc(t,e,i)):(Dr&&n&&xb(e),e.flags|=1,ri(t,e,r,i),e.child)}function OA(t,e,r,n,a){if(ah(e),e.stateNode===null){var i=T0,s=r.contextType;typeof s=="object"&&s!==null&&(i=ci(s)),i=new r(n,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=O5,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=n,i.state=e.memoizedState,i.refs={},Eb(e),s=r.contextType,i.context=typeof s=="object"&&s!==null?ci(s):T0,i.state=e.memoizedState,s=r.getDerivedStateFromProps,typeof s=="function"&&(B_(e,r,s,n),i.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(s=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),s!==i.state&&O5.enqueueReplaceState(i,i.state,null),V1(e,n,i,a),j1(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!0}else if(t===null){i=e.stateNode;var o=e.memoizedProps,l=oh(r,o);i.props=l;var c=i.context,u=r.contextType;s=T0,typeof u=="object"&&u!==null&&(s=ci(u));var h=r.getDerivedStateFromProps;u=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,u||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o||c!==s)&&kA(e,i,n,s),du=!1;var d=e.memoizedState;i.state=d,V1(e,n,i,a),j1(),c=e.memoizedState,o||d!==c||du?(typeof h=="function"&&(B_(e,r,h,n),c=e.memoizedState),(l=du||TA(e,r,l,n,d,c,s))?(u||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),i.props=n,i.state=c,i.context=s,n=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,k5(t,e),s=e.memoizedProps,u=oh(r,s),i.props=u,h=e.pendingProps,d=i.context,c=r.contextType,l=T0,typeof c=="object"&&c!==null&&(l=ci(c)),o=r.getDerivedStateFromProps,(c=typeof o=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==h||d!==l)&&kA(e,i,n,l),du=!1,d=e.memoizedState,i.state=d,V1(e,n,i,a),j1();var f=e.memoizedState;s!==h||d!==f||du||t!==null&&t.dependencies!==null&&V2(t.dependencies)?(typeof o=="function"&&(B_(e,r,o,n),f=e.memoizedState),(u=du||TA(e,r,u,n,d,f,l)||t!==null&&t.dependencies!==null&&V2(t.dependencies))?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,f,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,f,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=f),i.props=n,i.state=f,i.context=l,n=u):(typeof i.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return i=n,o2(t,e),n=(e.flags&128)!==0,i||n?(i=e.stateNode,r=n&&typeof r.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&n?(e.child=ih(e,t.child,null,a),e.child=ih(e,null,r,a)):ri(t,e,r,a),e.memoizedState=i.state,t=e.child):t=Tc(t,e,a),t}function PA(t,e,r,n){return nh(),e.flags|=256,ri(t,e,r,n),e.child}var U_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function j_(t){return{baseLanes:t,cachePool:M8()}}function V_(t,e,r){return t=t!==null?t.childLanes&~r:0,e&&(t|=Us),t}function NN(t,e,r){var n=e.pendingProps,a=!1,i=(e.flags&128)!==0,s;if((s=i)||(s=t!==null&&t.memoizedState===null?!1:(da.current&2)!==0),s&&(a=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(Dr){if(a?mu(e):gu(),(t=Rn)?(t=yI(t,wo),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Xu!==null?{id:wl,overflow:bl}:null,retryLane:536870912,hydrationErrors:null},r=D8(t),r.return=e,e.child=r,si=e,Rn=null)):t=null,t===null)throw Ku(e);return Y5(t)?e.lanes=32:e.lanes=536870912,null}var o=n.children;return n=n.fallback,a?(gu(),a=e.mode,o=X2({mode:"hidden",children:o},a),n=qf(n,a,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n=e.child,n.memoizedState=j_(r),n.childLanes=V_(t,s,r),e.memoizedState=U_,A1(null,n)):(mu(e),M5(e,o))}var l=t.memoizedState;if(l!==null&&(o=l.dehydrated,o!==null)){if(i)e.flags&256?(mu(e),e.flags&=-257,e=z_(t,e,r)):e.memoizedState!==null?(gu(),e.child=t.child,e.flags|=128,e=null):(gu(),o=n.fallback,a=e.mode,n=X2({mode:"visible",children:n.children},a),o=qf(o,a,r,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,ih(e,t.child,null,r),n=e.child,n.memoizedState=j_(r),n.childLanes=V_(t,s,r),e.memoizedState=U_,e=A1(null,n));else if(mu(e),Y5(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var c=s.dgst;s=c,n=Error(Je(419)),n.stack="",n.digest=s,vp({value:n,source:null,stack:null}),e=z_(t,e,r)}else if(ka||Ed(t,e,r,!1),s=(r&t.childLanes)!==0,ka||s){if(s=mn,s!==null&&(n=i8(s,r),n!==0&&n!==l.retryLane))throw l.retryLane=n,Ch(t,n),fs(s,t,n),Bb;K5(o)||J2(),e=z_(t,e,r)}else K5(o)?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,Rn=Eo(o.nextSibling),si=e,Dr=!0,Ou=null,wo=!1,t!==null&&P8(e,t),e=M5(e,n.children),e.flags|=4096);return e}return a?(gu(),o=n.fallback,a=e.mode,l=t.child,c=l.sibling,n=pc(l,{mode:"hidden",children:n.children}),n.subtreeFlags=l.subtreeFlags&65011712,c!==null?o=pc(c,o):(o=qf(o,a,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,A1(null,n),n=e.child,o=t.child.memoizedState,o===null?o=j_(r):(a=o.cachePool,a!==null?(l=Ea._currentValue,a=a.parent!==l?{parent:l,pool:l}:a):a=M8(),o={baseLanes:o.baseLanes|r,cachePool:a}),n.memoizedState=o,n.childLanes=V_(t,s,r),e.memoizedState=U_,A1(t.child,n)):(mu(e),r=t.child,t=r.sibling,r=pc(r,{mode:"visible",children:n.children}),r.return=e,r.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=r,e.memoizedState=null,r)}function M5(t,e){return e=X2({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function X2(t,e){return t=Os(22,t,null,e),t.lanes=0,t}function z_(t,e,r){return ih(e,t.child,null,r),t=M5(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FA(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),A5(t.return,e,r)}function H_(t,e,r,n,a,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a,treeForkCount:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a,s.treeForkCount=i)}function IN(t,e,r){var n=e.pendingProps,a=n.revealOrder,i=n.tail;n=n.children;var s=da.current,o=(s&2)!==0;if(o?(s=s&1|2,e.flags|=128):s&=1,Sn(da,s),ri(t,e,n,r),n=Dr?gp:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&FA(t,r,e);else if(t.tag===19)FA(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&q2(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),H_(e,!1,a,r,i,n);break;case"backwards":case"unstable_legacy-backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&q2(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}H_(e,!0,r,null,i,n);break;case"together":H_(e,!1,null,null,void 0,n);break;default:e.memoizedState=null}return e.child}function Tc(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Qu|=e.lanes,!(r&e.childLanes))if(t!==null){if(Ed(t,e,r,!1),(r&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(Je(153));if(e.child!==null){for(t=e.child,r=pc(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=pc(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Ub(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&V2(t)))}function UM(t,e,r){switch(e.tag){case 3:O2(e,e.stateNode.containerInfo),pu(e,Ea,t.memoizedState.cache),nh();break;case 27:case 5:f5(e);break;case 4:O2(e,e.stateNode.containerInfo);break;case 10:pu(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,I5(e),null;break;case 13:var n=e.memoizedState;if(n!==null)return n.dehydrated!==null?(mu(e),e.flags|=128,null):r&e.child.childLanes?NN(t,e,r):(mu(e),t=Tc(t,e,r),t!==null?t.sibling:null);mu(e);break;case 19:var a=(t.flags&128)!==0;if(n=(r&e.childLanes)!==0,n||(Ed(t,e,r,!1),n=(r&e.childLanes)!==0),a){if(n)return IN(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Sn(da,da.current),n)break;return null;case 22:return e.lanes=0,CN(t,e,r,e.pendingProps);case 24:pu(e,Ea,t.memoizedState.cache)}return Tc(t,e,r)}function RN(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps)ka=!0;else{if(!Ub(t,r)&&!(e.flags&128))return ka=!1,UM(t,e,r);ka=!!(t.flags&131072)}else ka=!1,Dr&&e.flags&1048576&&O8(e,gp,e.index);switch(e.lanes=0,e.tag){case 16:e:{var n=e.pendingProps;if(t=Of(e.elementType),e.type=t,typeof t=="function")vb(t)?(n=oh(t,n),e.tag=1,e=OA(null,e,t,n,r)):(e.tag=0,e=F5(null,e,t,n,r));else{if(t!=null){var a=t.$$typeof;if(a===nb){e.tag=11,e=NA(null,e,t,n,r);break e}else if(a===ab){e.tag=14,e=IA(null,e,t,n,r);break e}}throw e=c5(t)||t,Error(Je(306,e,""))}}return e;case 0:return F5(t,e,e.type,e.pendingProps,r);case 1:return n=e.type,a=oh(n,e.pendingProps),OA(t,e,n,a,r);case 3:e:{if(O2(e,e.stateNode.containerInfo),t===null)throw Error(Je(387));n=e.pendingProps;var i=e.memoizedState;a=i.element,k5(t,e),V1(e,n,null,r);var s=e.memoizedState;if(n=s.cache,pu(e,Ea,n),n!==i.cache&&S5(e,[Ea],r,!0),j1(),n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=PA(t,e,n,r);break e}else if(n!==a){a=yo(Error(Je(424)),e),vp(a),e=PA(t,e,n,r);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Rn=Eo(t.firstChild),si=e,Dr=!0,Ou=null,wo=!0,r=j8(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(nh(),n===a){e=Tc(t,e,r);break e}ri(t,e,n,r)}e=e.child}return e;case 26:return o2(t,e),t===null?(r=rS(e.type,null,e.pendingProps,null))?e.memoizedState=r:Dr||(r=e.type,t=e.pendingProps,n=rv(Du.current).createElement(r),n[ii]=e,n[ps]=t,ui(n,r,t),Wa(n),e.stateNode=n):e.memoizedState=rS(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return f5(e),t===null&&Dr&&(n=e.stateNode=wI(e.type,e.pendingProps,Du.current),si=e,wo=!0,a=Rn,hf(e.type)?(Q5=a,Rn=Eo(n.firstChild)):Rn=a),ri(t,e,e.pendingProps.children,r),o2(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Dr&&((a=n=Rn)&&(n=mB(n,e.type,e.pendingProps,wo),n!==null?(e.stateNode=n,si=e,Rn=Eo(n.firstChild),wo=!1,a=!0):a=!1),a||Ku(e)),f5(e),a=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,n=i.children,$5(a,i)?n=null:s!==null&&$5(a,s)&&(e.flags|=32),e.memoizedState!==null&&(a=Tb(t,e,IM,null,null,r),Ep._currentValue=a),o2(t,e),ri(t,e,n,r),e.child;case 6:return t===null&&Dr&&((t=r=Rn)&&(r=gB(r,e.pendingProps,wo),r!==null?(e.stateNode=r,si=e,Rn=null,t=!0):t=!1),t||Ku(e)),null;case 13:return NN(t,e,r);case 4:return O2(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ih(e,null,n,r):ri(t,e,n,r),e.child;case 11:return NA(t,e,e.type,e.pendingProps,r);case 7:return ri(t,e,e.pendingProps,r),e.child;case 8:return ri(t,e,e.pendingProps.children,r),e.child;case 12:return ri(t,e,e.pendingProps.children,r),e.child;case 10:return n=e.pendingProps,pu(e,e.type,n.value),ri(t,e,n.children,r),e.child;case 9:return a=e.type._context,n=e.pendingProps.children,ah(e),a=ci(a),n=n(a),e.flags|=1,ri(t,e,n,r),e.child;case 14:return IA(t,e,e.type,e.pendingProps,r);case 15:return kN(t,e,e.type,e.pendingProps,r);case 19:return IN(t,e,r);case 31:return BM(t,e,r);case 22:return CN(t,e,r,e.pendingProps);case 24:return ah(e),n=ci(Ea),t===null?(a=wb(),a===null&&(a=mn,i=yb(),a.pooledCache=i,i.refCount++,i!==null&&(a.pooledCacheLanes|=r),a=i),e.memoizedState={parent:n,cache:a},Eb(e),pu(e,Ea,a)):(t.lanes&r&&(k5(t,e),V1(e,null,null,r),j1()),a=t.memoizedState,i=e.memoizedState,a.parent!==n?(a={parent:n,cache:n},e.memoizedState=a,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=a),pu(e,Ea,n)):(n=i.cache,pu(e,Ea,n),n!==a.cache&&S5(e,[Ea],r,!0))),ri(t,e,e.pendingProps.children,r),e.child;case 29:throw e.pendingProps}throw Error(Je(156,e.tag))}function Zl(t){t.flags|=4}function q_(t,e,r,n,a){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(a&335544128)===a)if(t.stateNode.complete)t.flags|=8192;else if(tI())t.flags|=8192;else throw Wf=z2,bb}else t.flags&=-16777217}function MA(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!AI(e))if(tI())t.flags|=8192;else throw Wf=z2,bb}function gg(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?r8():536870912,t.lanes|=e,od|=e)}function h1(t,e){if(!Dr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function In(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&65011712,n|=a.flags&65011712,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function jM(t,e,r){var n=e.pendingProps;switch(_b(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(e),null;case 1:return In(e),null;case 3:return r=e.stateNode,n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),mc(Ea),td(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zh(e)?Zl(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,P_())),In(e),null;case 26:var a=e.type,i=e.memoizedState;return t===null?(Zl(e),i!==null?(In(e),MA(e,i)):(In(e),q_(e,a,null,n,r))):i?i!==t.memoizedState?(Zl(e),In(e),MA(e,i)):(In(e),e.flags&=-16777217):(t=t.memoizedProps,t!==n&&Zl(e),In(e),q_(e,a,t,n,r)),null;case 27:if(P2(e),r=Du.current,a=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==n&&Zl(e);else{if(!n){if(e.stateNode===null)throw Error(Je(166));return In(e),null}t=kl.current,Zh(e)?hA(e):(t=wI(a,n,r),e.stateNode=t,Zl(e))}return In(e),null;case 5:if(P2(e),a=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==n&&Zl(e);else{if(!n){if(e.stateNode===null)throw Error(Je(166));return In(e),null}if(i=kl.current,Zh(e))hA(e);else{var s=rv(Du.current);switch(i){case 1:i=s.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=s.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=s.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?s.createElement("select",{is:n.is}):s.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?s.createElement(a,{is:n.is}):s.createElement(a)}}i[ii]=e,i[ps]=n;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)i.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=i;e:switch(ui(i,a,n),a){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Zl(e)}}return In(e),q_(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,r),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==n&&Zl(e);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Je(166));if(t=Du.current,Zh(e)){if(t=e.stateNode,r=e.memoizedProps,n=null,a=si,a!==null)switch(a.tag){case 27:case 5:n=a.memoizedProps}t[ii]=e,t=!!(t.nodeValue===r||n!==null&&n.suppressHydrationWarning===!0||vI(t.nodeValue,r)),t||Ku(e,!0)}else t=rv(t).createTextNode(n),t[ii]=e,e.stateNode=t}return In(e),null;case 31:if(r=e.memoizedState,t===null||t.memoizedState!==null){if(n=Zh(e),r!==null){if(t===null){if(!n)throw Error(Je(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Je(557));t[ii]=e}else nh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;In(e),t=!1}else r=P_(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return e.flags&256?(Rs(e),e):(Rs(e),null);if(e.flags&128)throw Error(Je(558))}return In(e),null;case 13:if(n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(a=Zh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(Je(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Je(317));a[ii]=e}else nh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;In(e),a=!1}else a=P_(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),a=!0;if(!a)return e.flags&256?(Rs(e),e):(Rs(e),null)}return Rs(e),e.flags&128?(e.lanes=r,e):(r=n!==null,t=t!==null&&t.memoizedState!==null,r&&(n=e.child,a=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(a=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==a&&(n.flags|=2048)),r!==t&&r&&(e.child.flags|=8192),gg(e,e.updateQueue),In(e),null);case 4:return td(),t===null&&Wb(e.stateNode.containerInfo),In(e),null;case 10:return mc(e.type),In(e),null;case 19:if(Ya(da),n=e.memoizedState,n===null)return In(e),null;if(a=(e.flags&128)!==0,i=n.rendering,i===null)if(a)h1(n,!1);else{if(Qn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=q2(t),i!==null){for(e.flags|=128,h1(n,!1),t=i.updateQueue,e.updateQueue=t,gg(e,t),e.subtreeFlags=0,t=r,r=e.child;r!==null;)L8(r,t),r=r.sibling;return Sn(da,da.current&1|2),Dr&&ic(e,n.treeForkCount),e.child}t=t.sibling}n.tail!==null&&Hs()>Y2&&(e.flags|=128,a=!0,h1(n,!1),e.lanes=4194304)}else{if(!a)if(t=q2(i),t!==null){if(e.flags|=128,a=!0,t=t.updateQueue,e.updateQueue=t,gg(e,t),h1(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!Dr)return In(e),null}else 2*Hs()-n.renderingStartTime>Y2&&r!==536870912&&(e.flags|=128,a=!0,h1(n,!1),e.lanes=4194304);n.isBackwards?(i.sibling=e.child,e.child=i):(t=n.last,t!==null?t.sibling=i:e.child=i,n.last=i)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=Hs(),t.sibling=null,r=da.current,Sn(da,a?r&1|2:r&1),Dr&&ic(e,n.treeForkCount),t):(In(e),null);case 22:case 23:return Rs(e),Ab(),n=e.memoizedState!==null,t!==null?t.memoizedState!==null!==n&&(e.flags|=8192):n&&(e.flags|=8192),n?r&536870912&&!(e.flags&128)&&(In(e),e.subtreeFlags&6&&(e.flags|=8192)):In(e),r=e.updateQueue,r!==null&&gg(e,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==r&&(e.flags|=2048),t!==null&&Ya(Gf),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),mc(Ea),In(e),null;case 25:return null;case 30:return null}throw Error(Je(156,e.tag))}function VM(t,e){switch(_b(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mc(Ea),td(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return P2(e),null;case 31:if(e.memoizedState!==null){if(Rs(e),e.alternate===null)throw Error(Je(340));nh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Rs(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Je(340));nh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ya(da),null;case 4:return td(),null;case 10:return mc(e.type),null;case 22:case 23:return Rs(e),Ab(),t!==null&&Ya(Gf),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return mc(Ea),null;case 25:return null;default:return null}}function LN(t,e){switch(_b(e),e.tag){case 3:mc(Ea),td();break;case 26:case 27:case 5:P2(e);break;case 4:td();break;case 31:e.memoizedState!==null&&Rs(e);break;case 13:Rs(e);break;case 19:Ya(da);break;case 10:mc(e.type);break;case 22:case 23:Rs(e),Ab(),t!==null&&Ya(Gf);break;case 24:mc(Ea)}}function lm(t,e){try{var r=e.updateQueue,n=r!==null?r.lastEffect:null;if(n!==null){var a=n.next;r=a;do{if((r.tag&t)===t){n=void 0;var i=r.create,s=r.inst;n=i(),s.destroy=n}r=r.next}while(r!==a)}}catch(o){rn(e,e.return,o)}}function Yu(t,e,r){try{var n=e.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&t)===t){var s=n.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,a=e;var l=r,c=o;try{c()}catch(u){rn(a,l,u)}}}n=n.next}while(n!==i)}}catch(u){rn(e,e.return,u)}}function DN(t){var e=t.updateQueue;if(e!==null){var r=t.stateNode;try{z8(e,r)}catch(n){rn(t,t.return,n)}}}function ON(t,e,r){r.props=oh(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(n){rn(t,e,n)}}function H1(t,e){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var n=t.stateNode;break;case 30:n=t.stateNode;break;default:n=t.stateNode}typeof r=="function"?t.refCleanup=r(n):r.current=n}}catch(a){rn(t,e,a)}}function El(t,e){var r=t.ref,n=t.refCleanup;if(r!==null)if(typeof n=="function")try{n()}catch(a){rn(t,e,a)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(a){rn(t,e,a)}else r.current=null}function PN(t){var e=t.type,r=t.memoizedProps,n=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(a){rn(t,t.return,a)}}function G_(t,e,r){try{var n=t.stateNode;cB(n,t.type,r,e),n[ps]=e}catch(a){rn(t,t.return,a)}}function FN(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&hf(t.type)||t.tag===4}function W_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||FN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&hf(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function B5(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,e):(e=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,e.appendChild(t),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=cc));else if(n!==4&&(n===27&&hf(t.type)&&(r=t.stateNode,e=null),t=t.child,t!==null))for(B5(t,e,r),t=t.sibling;t!==null;)B5(t,e,r),t=t.sibling}function K2(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(n===27&&hf(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(K2(t,e,r),t=t.sibling;t!==null;)K2(t,e,r),t=t.sibling}function MN(t){var e=t.stateNode,r=t.memoizedProps;try{for(var n=t.type,a=e.attributes;a.length;)e.removeAttributeNode(a[0]);ui(e,n,r),e[ii]=t,e[ps]=r}catch(i){rn(t,t.return,i)}}var oc=!1,ba=!1,$_=!1,BA=typeof WeakSet=="function"?WeakSet:Set,qa=null;function zM(t,e){if(t=t.containerInfo,G5=sv,t=A8(t),pb(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,h=t,d=null;t:for(;;){for(var f;h!==r||a!==0&&h.nodeType!==3||(o=s+a),h!==i||n!==0&&h.nodeType!==3||(l=s+n),h.nodeType===3&&(s+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===r&&++c===a&&(o=s),d===i&&++u===n&&(l=s),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(W5={focusedElem:t,selectionRange:r},sv=!1,qa=e;qa!==null;)if(e=qa,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,qa=t;else for(;qa!==null;){switch(e=qa,i=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)a=t[r],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&i!==null){t=void 0,r=e,a=i.memoizedProps,i=i.memoizedState,n=r.stateNode;try{var p=oh(r.type,a);t=n.getSnapshotBeforeUpdate(p,i),n.__reactInternalSnapshotBeforeUpdate=t}catch(m){rn(r,r.return,m)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,r=t.nodeType,r===9)X5(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":X5(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(Je(163))}if(t=e.sibling,t!==null){t.return=e.return,qa=t;break}qa=e.return}}function BN(t,e,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:tc(t,r),n&4&&lm(5,r);break;case 1:if(tc(t,r),n&4)if(t=r.stateNode,e===null)try{t.componentDidMount()}catch(s){rn(r,r.return,s)}else{var a=oh(r.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(a,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){rn(r,r.return,s)}}n&64&&DN(r),n&512&&H1(r,r.return);break;case 3:if(tc(t,r),n&64&&(t=r.updateQueue,t!==null)){if(e=null,r.child!==null)switch(r.child.tag){case 27:case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}try{z8(t,e)}catch(s){rn(r,r.return,s)}}break;case 27:e===null&&n&4&&MN(r);case 26:case 5:tc(t,r),e===null&&n&4&&PN(r),n&512&&H1(r,r.return);break;case 12:tc(t,r);break;case 31:tc(t,r),n&4&&VN(t,r);break;case 13:tc(t,r),n&4&&zN(t,r),n&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=QM.bind(null,r),vB(t,r))));break;case 22:if(n=r.memoizedState!==null||oc,!n){e=e!==null&&e.memoizedState!==null||ba,a=oc;var i=ba;oc=n,(ba=e)&&!i?ac(t,r,(r.subtreeFlags&8772)!==0):tc(t,r),oc=a,ba=i}break;case 30:break;default:tc(t,r)}}function UN(t){var e=t.alternate;e!==null&&(t.alternate=null,UN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&lb(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var jn=null,ss=!1;function ec(t,e,r){for(r=r.child;r!==null;)jN(t,e,r),r=r.sibling}function jN(t,e,r){if(qs&&typeof qs.onCommitFiberUnmount=="function")try{qs.onCommitFiberUnmount(tm,r)}catch{}switch(r.tag){case 26:ba||El(r,e),ec(t,e,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ba||El(r,e);var n=jn,a=ss;hf(r.type)&&(jn=r.stateNode,ss=!1),ec(t,e,r),$1(r.stateNode),jn=n,ss=a;break;case 5:ba||El(r,e);case 6:if(n=jn,a=ss,jn=null,ec(t,e,r),jn=n,ss=a,jn!==null)if(ss)try{(jn.nodeType===9?jn.body:jn.nodeName==="HTML"?jn.ownerDocument.body:jn).removeChild(r.stateNode)}catch(i){rn(r,e,i)}else try{jn.removeChild(r.stateNode)}catch(i){rn(r,e,i)}break;case 18:jn!==null&&(ss?(t=jn,QA(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),fd(t)):QA(jn,r.stateNode));break;case 4:n=jn,a=ss,jn=r.stateNode.containerInfo,ss=!0,ec(t,e,r),jn=n,ss=a;break;case 0:case 11:case 14:case 15:Yu(2,r,e),ba||Yu(4,r,e),ec(t,e,r);break;case 1:ba||(El(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"&&ON(r,e,n)),ec(t,e,r);break;case 21:ec(t,e,r);break;case 22:ba=(n=ba)||r.memoizedState!==null,ec(t,e,r),ba=n;break;default:ec(t,e,r)}}function VN(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{fd(t)}catch(r){rn(e,e.return,r)}}}function zN(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{fd(t)}catch(r){rn(e,e.return,r)}}function HM(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new BA),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new BA),e;default:throw Error(Je(435,t.tag))}}function vg(t,e){var r=HM(t);e.forEach(function(n){if(!r.has(n)){r.add(n);var a=JM.bind(null,t,n);n.then(a,a)}})}function as(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n],i=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 27:if(hf(o.type)){jn=o.stateNode,ss=!1;break e}break;case 5:jn=o.stateNode,ss=!1;break e;case 3:case 4:jn=o.stateNode.containerInfo,ss=!0;break e}o=o.return}if(jn===null)throw Error(Je(160));jN(i,s,a),jn=null,ss=!1,i=a.alternate,i!==null&&(i.return=null),a.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)HN(e,t),e=e.sibling}var zo=null;function HN(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:as(e,t),is(t),n&4&&(Yu(3,t,t.return),lm(3,t),Yu(5,t,t.return));break;case 1:as(e,t),is(t),n&512&&(ba||r===null||El(r,r.return)),n&64&&oc&&(t=t.updateQueue,t!==null&&(n=t.callbacks,n!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?n:r.concat(n))));break;case 26:var a=zo;if(as(e,t),is(t),n&512&&(ba||r===null||El(r,r.return)),n&4){var i=r!==null?r.memoizedState:null;if(n=t.memoizedState,r===null)if(n===null)if(t.stateNode===null){e:{n=t.type,r=t.memoizedProps,a=a.ownerDocument||a;t:switch(n){case"title":i=a.getElementsByTagName("title")[0],(!i||i[am]||i[ii]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=a.createElement(n),a.head.insertBefore(i,a.querySelector("head > title"))),ui(i,n,r),i[ii]=t,Wa(i),n=i;break e;case"link":var s=aS("link","href",a).get(n+(r.href||""));if(s){for(var o=0;o<s.length;o++)if(i=s[o],i.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&i.getAttribute("rel")===(r.rel==null?null:r.rel)&&i.getAttribute("title")===(r.title==null?null:r.title)&&i.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){s.splice(o,1);break t}}i=a.createElement(n),ui(i,n,r),a.head.appendChild(i);break;case"meta":if(s=aS("meta","content",a).get(n+(r.content||""))){for(o=0;o<s.length;o++)if(i=s[o],i.getAttribute("content")===(r.content==null?null:""+r.content)&&i.getAttribute("name")===(r.name==null?null:r.name)&&i.getAttribute("property")===(r.property==null?null:r.property)&&i.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&i.getAttribute("charset")===(r.charSet==null?null:r.charSet)){s.splice(o,1);break t}}i=a.createElement(n),ui(i,n,r),a.head.appendChild(i);break;default:throw Error(Je(468,n))}i[ii]=t,Wa(i),n=i}t.stateNode=n}else iS(a,t.type,t.stateNode);else t.stateNode=nS(a,n,t.memoizedProps);else i!==n?(i===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):i.count--,n===null?iS(a,t.type,t.stateNode):nS(a,n,t.memoizedProps)):n===null&&t.stateNode!==null&&G_(t,t.memoizedProps,r.memoizedProps)}break;case 27:as(e,t),is(t),n&512&&(ba||r===null||El(r,r.return)),r!==null&&n&4&&G_(t,t.memoizedProps,r.memoizedProps);break;case 5:if(as(e,t),is(t),n&512&&(ba||r===null||El(r,r.return)),t.flags&32){a=t.stateNode;try{nd(a,"")}catch(p){rn(t,t.return,p)}}n&4&&t.stateNode!=null&&(a=t.memoizedProps,G_(t,a,r!==null?r.memoizedProps:a)),n&1024&&($_=!0);break;case 6:if(as(e,t),is(t),n&4){if(t.stateNode===null)throw Error(Je(162));n=t.memoizedProps,r=t.stateNode;try{r.nodeValue=n}catch(p){rn(t,t.return,p)}}break;case 3:if(u2=null,a=zo,zo=nv(e.containerInfo),as(e,t),zo=a,is(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{fd(e.containerInfo)}catch(p){rn(t,t.return,p)}$_&&($_=!1,qN(t));break;case 4:n=zo,zo=nv(t.stateNode.containerInfo),as(e,t),is(t),zo=n;break;case 12:as(e,t),is(t);break;case 31:as(e,t),is(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,vg(t,n)));break;case 13:as(e,t),is(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(mx=Hs()),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,vg(t,n)));break;case 22:a=t.memoizedState!==null;var l=r!==null&&r.memoizedState!==null,c=oc,u=ba;if(oc=c||a,ba=u||l,as(e,t),ba=u,oc=c,is(t),n&8192)e:for(e=t.stateNode,e._visibility=a?e._visibility&-2:e._visibility|1,a&&(r===null||l||oc||ba||Pf(t)),r=null,e=t;;){if(e.tag===5||e.tag===26){if(r===null){l=r=e;try{if(i=l.stateNode,a)s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=l.stateNode;var h=l.memoizedProps.style,d=h!=null&&h.hasOwnProperty("display")?h.display:null;o.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(p){rn(l,l.return,p)}}}else if(e.tag===6){if(r===null){l=e;try{l.stateNode.nodeValue=a?"":l.memoizedProps}catch(p){rn(l,l.return,p)}}}else if(e.tag===18){if(r===null){l=e;try{var f=l.stateNode;a?JA(f,!0):JA(l.stateNode,!1)}catch(p){rn(l,l.return,p)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;r===e&&(r=null),e=e.return}r===e&&(r=null),e.sibling.return=e.return,e=e.sibling}n&4&&(n=t.updateQueue,n!==null&&(r=n.retryQueue,r!==null&&(n.retryQueue=null,vg(t,r))));break;case 19:as(e,t),is(t),n&4&&(n=t.updateQueue,n!==null&&(t.updateQueue=null,vg(t,n)));break;case 30:break;case 21:break;default:as(e,t),is(t)}}function is(t){var e=t.flags;if(e&2){try{for(var r,n=t.return;n!==null;){if(FN(n)){r=n;break}n=n.return}if(r==null)throw Error(Je(160));switch(r.tag){case 27:var a=r.stateNode,i=W_(t);K2(t,i,a);break;case 5:var s=r.stateNode;r.flags&32&&(nd(s,""),r.flags&=-33);var o=W_(t);K2(t,o,s);break;case 3:case 4:var l=r.stateNode.containerInfo,c=W_(t);B5(t,c,l);break;default:throw Error(Je(161))}}catch(u){rn(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qN(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;qN(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function tc(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)BN(t,e.alternate,e),e=e.sibling}function Pf(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Yu(4,e,e.return),Pf(e);break;case 1:El(e,e.return);var r=e.stateNode;typeof r.componentWillUnmount=="function"&&ON(e,e.return,r),Pf(e);break;case 27:$1(e.stateNode);case 26:case 5:El(e,e.return),Pf(e);break;case 22:e.memoizedState===null&&Pf(e);break;case 30:Pf(e);break;default:Pf(e)}t=t.sibling}}function ac(t,e,r){for(r=r&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var n=e.alternate,a=t,i=e,s=i.flags;switch(i.tag){case 0:case 11:case 15:ac(a,i,r),lm(4,i);break;case 1:if(ac(a,i,r),n=i,a=n.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(c){rn(n,n.return,c)}if(n=i,a=n.updateQueue,a!==null){var o=n.stateNode;try{var l=a.shared.hiddenCallbacks;if(l!==null)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)V8(l[a],o)}catch(c){rn(n,n.return,c)}}r&&s&64&&DN(i),H1(i,i.return);break;case 27:MN(i);case 26:case 5:ac(a,i,r),r&&n===null&&s&4&&PN(i),H1(i,i.return);break;case 12:ac(a,i,r);break;case 31:ac(a,i,r),r&&s&4&&VN(a,i);break;case 13:ac(a,i,r),r&&s&4&&zN(a,i);break;case 22:i.memoizedState===null&&ac(a,i,r),H1(i,i.return);break;case 30:break;default:ac(a,i,r)}e=e.sibling}}function jb(t,e){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&sm(r))}function Vb(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&sm(t))}function Bo(t,e,r,n){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)GN(t,e,r,n),e=e.sibling}function GN(t,e,r,n){var a=e.flags;switch(e.tag){case 0:case 11:case 15:Bo(t,e,r,n),a&2048&&lm(9,e);break;case 1:Bo(t,e,r,n);break;case 3:Bo(t,e,r,n),a&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&sm(t)));break;case 12:if(a&2048){Bo(t,e,r,n),t=e.stateNode;try{var i=e.memoizedProps,s=i.id,o=i.onPostCommit;typeof o=="function"&&o(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){rn(e,e.return,l)}}else Bo(t,e,r,n);break;case 31:Bo(t,e,r,n);break;case 13:Bo(t,e,r,n);break;case 23:break;case 22:i=e.stateNode,s=e.alternate,e.memoizedState!==null?i._visibility&2?Bo(t,e,r,n):q1(t,e):i._visibility&2?Bo(t,e,r,n):(i._visibility|=2,c0(t,e,r,n,(e.subtreeFlags&10256)!==0||!1)),a&2048&&jb(s,e);break;case 24:Bo(t,e,r,n),a&2048&&Vb(e.alternate,e);break;default:Bo(t,e,r,n)}}function c0(t,e,r,n,a){for(a=a&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var i=t,s=e,o=r,l=n,c=s.flags;switch(s.tag){case 0:case 11:case 15:c0(i,s,o,l,a),lm(8,s);break;case 23:break;case 22:var u=s.stateNode;s.memoizedState!==null?u._visibility&2?c0(i,s,o,l,a):q1(i,s):(u._visibility|=2,c0(i,s,o,l,a)),a&&c&2048&&jb(s.alternate,s);break;case 24:c0(i,s,o,l,a),a&&c&2048&&Vb(s.alternate,s);break;default:c0(i,s,o,l,a)}e=e.sibling}}function q1(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var r=t,n=e,a=n.flags;switch(n.tag){case 22:q1(r,n),a&2048&&jb(n.alternate,n);break;case 24:q1(r,n),a&2048&&Vb(n.alternate,n);break;default:q1(r,n)}e=e.sibling}}var S1=8192;function e0(t,e,r){if(t.subtreeFlags&S1)for(t=t.child;t!==null;)WN(t,e,r),t=t.sibling}function WN(t,e,r){switch(t.tag){case 26:e0(t,e,r),t.flags&S1&&t.memoizedState!==null&&NB(r,zo,t.memoizedState,t.memoizedProps);break;case 5:e0(t,e,r);break;case 3:case 4:var n=zo;zo=nv(t.stateNode.containerInfo),e0(t,e,r),zo=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=S1,S1=16777216,e0(t,e,r),S1=n):e0(t,e,r));break;default:e0(t,e,r)}}function $N(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function d1(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var r=0;r<e.length;r++){var n=e[r];qa=n,KN(n,t)}$N(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)XN(t),t=t.sibling}function XN(t){switch(t.tag){case 0:case 11:case 15:d1(t),t.flags&2048&&Yu(9,t,t.return);break;case 3:d1(t);break;case 12:d1(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,l2(t)):d1(t);break;default:d1(t)}}function l2(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var r=0;r<e.length;r++){var n=e[r];qa=n,KN(n,t)}$N(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Yu(8,e,e.return),l2(e);break;case 22:r=e.stateNode,r._visibility&2&&(r._visibility&=-3,l2(e));break;default:l2(e)}t=t.sibling}}function KN(t,e){for(;qa!==null;){var r=qa;switch(r.tag){case 0:case 11:case 15:Yu(8,r,e);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var n=r.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:sm(r.memoizedState.cache)}if(n=r.child,n!==null)n.return=r,qa=n;else e:for(r=t;qa!==null;){n=qa;var a=n.sibling,i=n.return;if(UN(n),n===r){qa=null;break e}if(a!==null){a.return=i,qa=a;break e}qa=i}}}var qM={getCacheForType:function(t){var e=ci(Ea),r=e.data.get(t);return r===void 0&&(r=t(),e.data.set(t,r)),r},cacheSignal:function(){return ci(Ea).controller.signal}},GM=typeof WeakMap=="function"?WeakMap:Map,Gr=0,mn=null,Er=null,Ir=0,Zr=0,Is=null,Su=!1,Sd=!1,zb=!1,kc=0,Qn=0,Qu=0,$f=0,Hb=0,Us=0,od=0,G1=null,os=null,U5=!1,mx=0,YN=0,Y2=1/0,Q2=null,Mu=null,Pa=0,Bu=null,ld=null,gc=0,j5=0,V5=null,QN=null,W1=0,z5=null;function Ws(){return Gr&2&&Ir!==0?Ir&-Ir:ir.T!==null?Gb():s8()}function JN(){if(Us===0)if(!(Ir&536870912)||Dr){var t=cg;cg<<=1,!(cg&3932160)&&(cg=262144),Us=t}else Us=536870912;return t=Ks.current,t!==null&&(t.flags|=32),Us}function fs(t,e,r){(t===mn&&(Zr===2||Zr===9)||t.cancelPendingCommit!==null)&&(cd(t,0),Tu(t,Ir,Us,!1)),nm(t,r),(!(Gr&2)||t!==mn)&&(t===mn&&(!(Gr&2)&&($f|=r),Qn===4&&Tu(t,Ir,Us,!1)),Fl(t))}function ZN(t,e,r){if(Gr&6)throw Error(Je(327));var n=!r&&(e&127)===0&&(e&t.expiredLanes)===0||rm(t,e),a=n?XM(t,e):X_(t,e,!0),i=n;do{if(a===0){Sd&&!n&&Tu(t,e,0,!1);break}else{if(r=t.current.alternate,i&&!WM(r)){a=X_(t,e,!1),i=!1;continue}if(a===2){if(i=e,t.errorRecoveryDisabledLanes&i)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var o=t;a=G1;var l=o.current.memoizedState.isDehydrated;if(l&&(cd(o,s).flags|=256),s=X_(o,s,!1),s!==2){if(zb&&!l){o.errorRecoveryDisabledLanes|=i,$f|=i,a=4;break e}i=os,os=a,i!==null&&(os===null?os=i:os.push.apply(os,i))}a=s}if(i=!1,a!==2)continue}}if(a===1){cd(t,0),Tu(t,e,0,!0);break}e:{switch(n=t,i=a,i){case 0:case 1:throw Error(Je(345));case 4:if((e&4194048)!==e)break;case 6:Tu(n,e,Us,!Su);break e;case 2:os=null;break;case 3:case 5:break;default:throw Error(Je(329))}if((e&62914560)===e&&(a=mx+300-Hs(),10<a)){if(Tu(n,e,Us,!Su),ax(n,0,!0)!==0)break e;gc=e,n.timeoutHandle=_I(UA.bind(null,n,r,os,Q2,U5,e,Us,$f,od,Su,i,"Throttled",-0,0),a);break e}UA(n,r,os,Q2,U5,e,Us,$f,od,Su,i,null,-0,0)}}break}while(!0);Fl(t)}function UA(t,e,r,n,a,i,s,o,l,c,u,h,d,f){if(t.timeoutHandle=-1,h=e.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:cc},WN(e,i,h);var p=(i&62914560)===i?mx-Hs():(i&4194048)===i?YN-Hs():0;if(p=IB(h,p),p!==null){gc=i,t.cancelPendingCommit=p(VA.bind(null,t,e,i,r,n,a,s,o,l,u,h,null,d,f)),Tu(t,i,s,!c);return}}VA(t,e,i,r,n,a,s,o,l)}function WM(t){for(var e=t;;){var r=e.tag;if((r===0||r===11||r===15)&&e.flags&16384&&(r=e.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Xs(i(),a))return!1}catch{return!1}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tu(t,e,r,n){e&=~Hb,e&=~$f,t.suspendedLanes|=e,t.pingedLanes&=~e,n&&(t.warmLanes|=e),n=t.expirationTimes;for(var a=e;0<a;){var i=31-Gs(a),s=1<<i;n[i]=-1,a&=~s}r!==0&&n8(t,r,e)}function gx(){return Gr&6?!0:(cm(0),!1)}function qb(){if(Er!==null){if(Zr===0)var t=Er.return;else t=Er,uc=Nh=null,Nb(t),U0=null,xp=0,t=Er;for(;t!==null;)LN(t.alternate,t),t=t.return;Er=null}}function cd(t,e){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,hB(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),gc=0,qb(),mn=t,Er=r=pc(t.current,null),Ir=e,Zr=0,Is=null,Su=!1,Sd=rm(t,e),zb=!1,od=Us=Hb=$f=Qu=Qn=0,os=G1=null,U5=!1,e&8&&(e|=e&32);var n=t.entangledLanes;if(n!==0)for(t=t.entanglements,n&=e;0<n;){var a=31-Gs(n),i=1<<a;e|=t[a],n&=~i}return kc=e,lx(),r}function eI(t,e){hr=null,ir.H=yp,e===Ad||e===ux?(e=vA(),Zr=3):e===bb?(e=vA(),Zr=4):Zr=e===Bb?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Is=e,Er===null&&(Qn=1,$2(t,yo(e,t.current)))}function tI(){var t=Ks.current;return t===null?!0:(Ir&4194048)===Ir?bo===null:(Ir&62914560)===Ir||Ir&536870912?t===bo:!1}function rI(){var t=ir.H;return ir.H=yp,t===null?yp:t}function nI(){var t=ir.A;return ir.A=qM,t}function J2(){Qn=4,Su||(Ir&4194048)!==Ir&&Ks.current!==null||(Sd=!0),!(Qu&134217727)&&!($f&134217727)||mn===null||Tu(mn,Ir,Us,!1)}function X_(t,e,r){var n=Gr;Gr|=2;var a=rI(),i=nI();(mn!==t||Ir!==e)&&(Q2=null,cd(t,e)),e=!1;var s=Qn;e:do try{if(Zr!==0&&Er!==null){var o=Er,l=Is;switch(Zr){case 8:qb(),s=6;break e;case 3:case 2:case 9:case 6:Ks.current===null&&(e=!0);var c=Zr;if(Zr=0,Is=null,N0(t,o,l,c),r&&Sd){s=0;break e}break;default:c=Zr,Zr=0,Is=null,N0(t,o,l,c)}}$M(),s=Qn;break}catch(u){eI(t,u)}while(!0);return e&&t.shellSuspendCounter++,uc=Nh=null,Gr=n,ir.H=a,ir.A=i,Er===null&&(mn=null,Ir=0,lx()),s}function $M(){for(;Er!==null;)aI(Er)}function XM(t,e){var r=Gr;Gr|=2;var n=rI(),a=nI();mn!==t||Ir!==e?(Q2=null,Y2=Hs()+500,cd(t,e)):Sd=rm(t,e);e:do try{if(Zr!==0&&Er!==null){e=Er;var i=Is;t:switch(Zr){case 1:Zr=0,Is=null,N0(t,e,i,1);break;case 2:case 9:if(gA(i)){Zr=0,Is=null,jA(e);break}e=function(){Zr!==2&&Zr!==9||mn!==t||(Zr=7),Fl(t)},i.then(e,e);break e;case 3:Zr=7;break e;case 4:Zr=5;break e;case 7:gA(i)?(Zr=0,Is=null,jA(e)):(Zr=0,Is=null,N0(t,e,i,7));break;case 5:var s=null;switch(Er.tag){case 26:s=Er.memoizedState;case 5:case 27:var o=Er;if(s?AI(s):o.stateNode.complete){Zr=0,Is=null;var l=o.sibling;if(l!==null)Er=l;else{var c=o.return;c!==null?(Er=c,vx(c)):Er=null}break t}}Zr=0,Is=null,N0(t,e,i,5);break;case 6:Zr=0,Is=null,N0(t,e,i,6);break;case 8:qb(),Qn=6;break e;default:throw Error(Je(462))}}KM();break}catch(u){eI(t,u)}while(!0);return uc=Nh=null,ir.H=n,ir.A=a,Gr=r,Er!==null?0:(mn=null,Ir=0,lx(),Qn)}function KM(){for(;Er!==null&&!x9();)aI(Er)}function aI(t){var e=RN(t.alternate,t,kc);t.memoizedProps=t.pendingProps,e===null?vx(t):Er=e}function jA(t){var e=t,r=e.alternate;switch(e.tag){case 15:case 0:e=DA(r,e,e.pendingProps,e.type,void 0,Ir);break;case 11:e=DA(r,e,e.pendingProps,e.type.render,e.ref,Ir);break;case 5:Nb(e);default:LN(r,e),e=Er=L8(e,kc),e=RN(r,e,kc)}t.memoizedProps=t.pendingProps,e===null?vx(t):Er=e}function N0(t,e,r,n){uc=Nh=null,Nb(e),U0=null,xp=0;var a=e.return;try{if(MM(t,a,e,r,Ir)){Qn=1,$2(t,yo(r,t.current)),Er=null;return}}catch(i){if(a!==null)throw Er=a,i;Qn=1,$2(t,yo(r,t.current)),Er=null;return}e.flags&32768?(Dr||n===1?t=!0:Sd||Ir&536870912?t=!1:(Su=t=!0,(n===2||n===9||n===3||n===6)&&(n=Ks.current,n!==null&&n.tag===13&&(n.flags|=16384))),iI(e,t)):vx(e)}function vx(t){var e=t;do{if(e.flags&32768){iI(e,Su);return}t=e.return;var r=jM(e.alternate,e,kc);if(r!==null){Er=r;return}if(e=e.sibling,e!==null){Er=e;return}Er=e=t}while(e!==null);Qn===0&&(Qn=5)}function iI(t,e){do{var r=VM(t.alternate,t);if(r!==null){r.flags&=32767,Er=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!e&&(t=t.sibling,t!==null)){Er=t;return}Er=t=r}while(t!==null);Qn=6,Er=null}function VA(t,e,r,n,a,i,s,o,l){t.cancelPendingCommit=null;do xx();while(Pa!==0);if(Gr&6)throw Error(Je(327));if(e!==null){if(e===t.current)throw Error(Je(177));if(i=e.lanes|e.childLanes,i|=mb,C9(t,r,i,s,o,l),t===mn&&(Er=mn=null,Ir=0),ld=e,Bu=t,gc=r,j5=i,V5=a,QN=n,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,ZM(F2,function(){return uI(),null})):(t.callbackNode=null,t.callbackPriority=0),n=(e.flags&13878)!==0,e.subtreeFlags&13878||n){n=ir.T,ir.T=null,a=Wr.p,Wr.p=2,s=Gr,Gr|=4;try{zM(t,e,r)}finally{Gr=s,Wr.p=a,ir.T=n}}Pa=1,sI(),oI(),lI()}}function sI(){if(Pa===1){Pa=0;var t=Bu,e=ld,r=(e.flags&13878)!==0;if(e.subtreeFlags&13878||r){r=ir.T,ir.T=null;var n=Wr.p;Wr.p=2;var a=Gr;Gr|=4;try{HN(e,t);var i=W5,s=A8(t.containerInfo),o=i.focusedElem,l=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&E8(o.ownerDocument.documentElement,o)){if(l!==null&&pb(o)){var c=l.start,u=l.end;if(u===void 0&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var h=o.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),_=l.end===void 0?m:Math.min(l.end,p);!f.extend&&m>_&&(s=_,_=m,m=s);var x=cA(o,m),T=cA(o,_);if(x&&T&&(f.rangeCount!==1||f.anchorNode!==x.node||f.anchorOffset!==x.offset||f.focusNode!==T.node||f.focusOffset!==T.offset)){var w=h.createRange();w.setStart(x.node,x.offset),f.removeAllRanges(),m>_?(f.addRange(w),f.extend(T.node,T.offset)):(w.setEnd(T.node,T.offset),f.addRange(w))}}}}for(h=[],f=o;f=f.parentNode;)f.nodeType===1&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<h.length;o++){var I=h[o];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}sv=!!G5,W5=G5=null}finally{Gr=a,Wr.p=n,ir.T=r}}t.current=e,Pa=2}}function oI(){if(Pa===2){Pa=0;var t=Bu,e=ld,r=(e.flags&8772)!==0;if(e.subtreeFlags&8772||r){r=ir.T,ir.T=null;var n=Wr.p;Wr.p=2;var a=Gr;Gr|=4;try{BN(t,e.alternate,e)}finally{Gr=a,Wr.p=n,ir.T=r}}Pa=3}}function lI(){if(Pa===4||Pa===3){Pa=0,_9();var t=Bu,e=ld,r=gc,n=QN;e.subtreeFlags&10256||e.flags&10256?Pa=5:(Pa=0,ld=Bu=null,cI(t,t.pendingLanes));var a=t.pendingLanes;if(a===0&&(Mu=null),ob(r),e=e.stateNode,qs&&typeof qs.onCommitFiberRoot=="function")try{qs.onCommitFiberRoot(tm,e,void 0,(e.current.flags&128)===128)}catch{}if(n!==null){e=ir.T,a=Wr.p,Wr.p=2,ir.T=null;try{for(var i=t.onRecoverableError,s=0;s<n.length;s++){var o=n[s];i(o.value,{componentStack:o.stack})}}finally{ir.T=e,Wr.p=a}}gc&3&&xx(),Fl(t),a=t.pendingLanes,r&261930&&a&42?t===z5?W1++:(W1=0,z5=t):W1=0,cm(0)}}function cI(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,sm(e)))}function xx(){return sI(),oI(),lI(),uI()}function uI(){if(Pa!==5)return!1;var t=Bu,e=j5;j5=0;var r=ob(gc),n=ir.T,a=Wr.p;try{Wr.p=32>r?32:r,ir.T=null,r=V5,V5=null;var i=Bu,s=gc;if(Pa=0,ld=Bu=null,gc=0,Gr&6)throw Error(Je(331));var o=Gr;if(Gr|=4,XN(i.current),GN(i,i.current,s,r),Gr=o,cm(0,!1),qs&&typeof qs.onPostCommitFiberRoot=="function")try{qs.onPostCommitFiberRoot(tm,i)}catch{}return!0}finally{Wr.p=a,ir.T=n,cI(t,e)}}function zA(t,e,r){e=yo(r,e),e=P5(t.stateNode,e,2),t=Fu(t,e,2),t!==null&&(nm(t,2),Fl(t))}function rn(t,e,r){if(t.tag===3)zA(t,t,r);else for(;e!==null;){if(e.tag===3){zA(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Mu===null||!Mu.has(n))){t=yo(r,t),r=SN(2),n=Fu(e,r,2),n!==null&&(TN(r,n,e,t),nm(n,2),Fl(n));break}}e=e.return}}function K_(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new GM;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(zb=!0,a.add(r),t=YM.bind(null,t,e,r),e.then(t,t))}function YM(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,mn===t&&(Ir&r)===r&&(Qn===4||Qn===3&&(Ir&62914560)===Ir&&300>Hs()-mx?!(Gr&2)&&cd(t,0):Hb|=r,od===Ir&&(od=0)),Fl(t)}function fI(t,e){e===0&&(e=r8()),t=Ch(t,e),t!==null&&(nm(t,e),Fl(t))}function QM(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),fI(t,r)}function JM(t,e){var r=0;switch(t.tag){case 31:case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;case 22:n=t.stateNode._retryCache;break;default:throw Error(Je(314))}n!==null&&n.delete(e),fI(t,r)}function ZM(t,e){return ib(t,e)}var Z2=null,u0=null,H5=!1,ev=!1,Y_=!1,ku=0;function Fl(t){t!==u0&&t.next===null&&(u0===null?Z2=u0=t:u0=u0.next=t),ev=!0,H5||(H5=!0,tB())}function cm(t,e){if(!Y_&&ev){Y_=!0;do for(var r=!1,n=Z2;n!==null;){if(t!==0){var a=n.pendingLanes;if(a===0)var i=0;else{var s=n.suspendedLanes,o=n.pingedLanes;i=(1<<31-Gs(42|t)+1)-1,i&=a&~(s&~o),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(r=!0,HA(n,i))}else i=Ir,i=ax(n,n===mn?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(i&3)||rm(n,i)||(r=!0,HA(n,i));n=n.next}while(r);Y_=!1}}function eB(){hI()}function hI(){ev=H5=!1;var t=0;ku!==0&&fB()&&(t=ku);for(var e=Hs(),r=null,n=Z2;n!==null;){var a=n.next,i=dI(n,e);i===0?(n.next=null,r===null?Z2=a:r.next=a,a===null&&(u0=r)):(r=n,(t!==0||i&3)&&(ev=!0)),n=a}Pa!==0&&Pa!==5||cm(t),ku!==0&&(ku=0)}function dI(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var s=31-Gs(i),o=1<<s,l=a[s];l===-1?(!(o&r)||o&n)&&(a[s]=k9(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}if(e=mn,r=Ir,r=ax(t,t===e?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n=t.callbackNode,r===0||t===e&&(Zr===2||Zr===9)||t.cancelPendingCommit!==null)return n!==null&&n!==null&&A_(n),t.callbackNode=null,t.callbackPriority=0;if(!(r&3)||rm(t,r)){if(e=r&-r,e===t.callbackPriority)return e;switch(n!==null&&A_(n),ob(r)){case 2:case 8:r=e8;break;case 32:r=F2;break;case 268435456:r=t8;break;default:r=F2}return n=pI.bind(null,t),r=ib(r,n),t.callbackPriority=e,t.callbackNode=r,e}return n!==null&&n!==null&&A_(n),t.callbackPriority=2,t.callbackNode=null,2}function pI(t,e){if(Pa!==0&&Pa!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(xx()&&t.callbackNode!==r)return null;var n=Ir;return n=ax(t,t===mn?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),n===0?null:(ZN(t,n,e),dI(t,Hs()),t.callbackNode!=null&&t.callbackNode===r?pI.bind(null,t):null)}function HA(t,e){if(xx())return null;ZN(t,e,!0)}function tB(){dB(function(){Gr&6?ib(ZC,eB):hI()})}function Gb(){if(ku===0){var t=ad;t===0&&(t=lg,lg<<=1,!(lg&261888)&&(lg=256)),ku=t}return ku}function qA(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Zg(""+t)}function GA(t,e){var r=e.ownerDocument.createElement("input");return r.name=e.name,r.value=e.value,t.id&&r.setAttribute("form",t.id),e.parentNode.insertBefore(r,e),t=new FormData(t),r.parentNode.removeChild(r),t}function rB(t,e,r,n,a){if(e==="submit"&&r&&r.stateNode===a){var i=qA((a[ps]||null).action),s=n.submitter;s&&(e=(e=s[ps]||null)?qA(e.formAction):s.getAttribute("formAction"),e!==null&&(i=e,s=null));var o=new ix("action","action",null,n,a);t.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(ku!==0){var l=s?GA(a,s):new FormData(a);D5(r,{pending:!0,data:l,method:a.method,action:i},null,l)}}else typeof i=="function"&&(o.preventDefault(),l=s?GA(a,s):new FormData(a),D5(r,{pending:!0,data:l,method:a.method,action:i},i,l))},currentTarget:a}]})}}for(var Q_=0;Q_<w5.length;Q_++){var J_=w5[Q_],nB=J_.toLowerCase(),aB=J_[0].toUpperCase()+J_.slice(1);Zo(nB,"on"+aB)}Zo(T8,"onAnimationEnd");Zo(k8,"onAnimationIteration");Zo(C8,"onAnimationStart");Zo("dblclick","onDoubleClick");Zo("focusin","onFocus");Zo("focusout","onBlur");Zo(yM,"onTransitionRun");Zo(wM,"onTransitionStart");Zo(bM,"onTransitionCancel");Zo(N8,"onTransitionEnd");rd("onMouseEnter",["mouseout","mouseover"]);rd("onMouseLeave",["mouseout","mouseover"]);rd("onPointerEnter",["pointerout","pointerover"]);rd("onPointerLeave",["pointerout","pointerover"]);Sh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wp));function mI(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=c;try{i(a)}catch(u){B2(u)}a.currentTarget=null,i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=c;try{i(a)}catch(u){B2(u)}a.currentTarget=null,i=l}}}}function br(t,e){var r=e[d5];r===void 0&&(r=e[d5]=new Set);var n=t+"__bubble";r.has(n)||(gI(e,t,2,!1),r.add(n))}function Z_(t,e,r){var n=0;e&&(n|=4),gI(r,t,n,e)}var xg="_reactListening"+Math.random().toString(36).slice(2);function Wb(t){if(!t[xg]){t[xg]=!0,o8.forEach(function(r){r!=="selectionchange"&&(iB.has(r)||Z_(r,!1,t),Z_(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xg]||(e[xg]=!0,Z_("selectionchange",!1,e))}}function gI(t,e,r,n){switch(NI(e)){case 2:var a=DB;break;case 8:a=OB;break;default:a=Yb}r=a.bind(null,e,r,t),a=void 0,!x5||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function ey(t,e,r,n,a){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===a)return;s=s.return}for(;o!==null;){if(s=y0(o),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){n=i=s;continue e}o=o.parentNode}}n=n.return}m8(function(){var c=i,u=ub(r),h=[];e:{var d=I8.get(t);if(d!==void 0){var f=ix,p=t;switch(t){case"keypress":if(t2(r)===0)break e;case"keydown":case"keyup":f=J9;break;case"focusin":p="focus",f=N_;break;case"focusout":p="blur",f=N_;break;case"beforeblur":case"afterblur":f=N_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Z3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=j9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=tM;break;case T8:case k8:case C8:f=H9;break;case N8:f=nM;break;case"scroll":case"scrollend":f=B9;break;case"wheel":f=iM;break;case"copy":case"cut":case"paste":f=G9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=tA;break;case"toggle":case"beforetoggle":f=oM}var m=(e&4)!==0,_=!m&&(t==="scroll"||t==="scrollend"),x=m?d!==null?d+"Capture":null:d;m=[];for(var T=c,w;T!==null;){var I=T;if(w=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||w===null||x===null||(I=dp(T,x),I!=null&&m.push(bp(T,I,w))),_)break;T=T.return}0<m.length&&(d=new f(d,p,null,r,u),h.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&r!==v5&&(p=r.relatedTarget||r.fromElement)&&(y0(p)||p[wd]))break e;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=r.relatedTarget||r.toElement,f=c,p=p?y0(p):null,p!==null&&(_=em(p),m=p.tag,p!==_||m!==5&&m!==27&&m!==6)&&(p=null)):(f=null,p=c),f!==p)){if(m=Z3,I="onMouseLeave",x="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(m=tA,I="onPointerLeave",x="onPointerEnter",T="pointer"),_=f==null?d:E1(f),w=p==null?d:E1(p),d=new m(I,T+"leave",f,r,u),d.target=_,d.relatedTarget=w,I=null,y0(u)===c&&(m=new m(x,T+"enter",p,r,u),m.target=w,m.relatedTarget=_,I=m),_=I,f&&p)t:{for(m=sB,x=f,T=p,w=0,I=x;I;I=m(I))w++;I=0;for(var j=T;j;j=m(j))I++;for(;0<w-I;)x=m(x),w--;for(;0<I-w;)T=m(T),I--;for(;w--;){if(x===T||T!==null&&x===T.alternate){m=x;break t}x=m(x),T=m(T)}m=null}else m=null;f!==null&&WA(h,d,f,m,!1),p!==null&&_!==null&&WA(h,_,p,m,!0)}}e:{if(d=c?E1(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var P=iA;else if(aA(d))if(w8)P=vM;else{P=mM;var N=pM}else f=d.nodeName,!f||f.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?c&&cb(c.elementType)&&(P=iA):P=gM;if(P&&(P=P(t,c))){y8(h,P,r,u);break e}N&&N(t,d,c),t==="focusout"&&c&&d.type==="number"&&c.memoizedProps.value!=null&&g5(d,"number",d.value)}switch(N=c?E1(c):window,t){case"focusin":(aA(N)||N.contentEditable==="true")&&(E0=N,_5=c,M1=null);break;case"focusout":M1=_5=E0=null;break;case"mousedown":y5=!0;break;case"contextmenu":case"mouseup":case"dragend":y5=!1,uA(h,r,u);break;case"selectionchange":if(_M)break;case"keydown":case"keyup":uA(h,r,u)}var E;if(db)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else b0?x8(t,r)&&(y="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(y="onCompositionStart");y&&(v8&&r.locale!=="ko"&&(b0||y!=="onCompositionStart"?y==="onCompositionEnd"&&b0&&(E=g8()):(Au=u,fb="value"in Au?Au.value:Au.textContent,b0=!0)),N=tv(c,y),0<N.length&&(y=new eA(y,t,null,r,u),h.push({event:y,listeners:N}),E?y.data=E:(E=_8(r),E!==null&&(y.data=E)))),(E=cM?uM(t,r):fM(t,r))&&(y=tv(c,"onBeforeInput"),0<y.length&&(N=new eA("onBeforeInput","beforeinput",null,r,u),h.push({event:N,listeners:y}),N.data=E)),rB(h,t,c,r,u)}mI(h,e)})}function bp(t,e,r){return{instance:t,listener:e,currentTarget:r}}function tv(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||i===null||(a=dp(t,r),a!=null&&n.unshift(bp(t,a,i)),a=dp(t,e),a!=null&&n.push(bp(t,a,i))),t.tag===3)return n;t=t.return}return[]}function sB(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function WA(t,e,r,n,a){for(var i=e._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===n)break;o!==5&&o!==26&&o!==27||c===null||(l=c,a?(c=dp(r,i),c!=null&&s.unshift(bp(r,c,l))):a||(c=dp(r,i),c!=null&&s.push(bp(r,c,l)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var oB=/\r\n?/g,lB=/\u0000|\uFFFD/g;function $A(t){return(typeof t=="string"?t:""+t).replace(oB,`
`).replace(lB,"")}function vI(t,e){return e=$A(e),$A(t)===e}function on(t,e,r,n,a,i){switch(r){case"children":typeof n=="string"?e==="body"||e==="textarea"&&n===""||nd(t,n):(typeof n=="number"||typeof n=="bigint")&&e!=="body"&&nd(t,""+n);break;case"className":fg(t,"class",n);break;case"tabIndex":fg(t,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":fg(t,r,n);break;case"style":p8(t,n,i);break;case"data":if(e!=="object"){fg(t,"data",n);break}case"src":case"href":if(n===""&&(e!=="a"||r!=="href")){t.removeAttribute(r);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(r);break}n=Zg(""+n),t.setAttribute(r,n);break;case"action":case"formAction":if(typeof n=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(r==="formAction"?(e!=="input"&&on(t,e,"name",a.name,a,null),on(t,e,"formEncType",a.formEncType,a,null),on(t,e,"formMethod",a.formMethod,a,null),on(t,e,"formTarget",a.formTarget,a,null)):(on(t,e,"encType",a.encType,a,null),on(t,e,"method",a.method,a,null),on(t,e,"target",a.target,a,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){t.removeAttribute(r);break}n=Zg(""+n),t.setAttribute(r,n);break;case"onClick":n!=null&&(t.onclick=cc);break;case"onScroll":n!=null&&br("scroll",t);break;case"onScrollEnd":n!=null&&br("scrollend",t);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(Je(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error(Je(60));t.innerHTML=r}}break;case"multiple":t.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":t.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){t.removeAttribute("xlink:href");break}r=Zg(""+n),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,""+n):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":n===!0?t.setAttribute(r,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?t.setAttribute(r,n):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?t.setAttribute(r,n):t.removeAttribute(r);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?t.removeAttribute(r):t.setAttribute(r,n);break;case"popover":br("beforetoggle",t),br("toggle",t),Jg(t,"popover",n);break;case"xlinkActuate":Jl(t,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Jl(t,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Jl(t,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Jl(t,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Jl(t,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Jl(t,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Jl(t,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Jl(t,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Jl(t,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Jg(t,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=F9.get(r)||r,Jg(t,r,n))}}function q5(t,e,r,n,a,i){switch(r){case"style":p8(t,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(Je(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error(Je(60));t.innerHTML=r}}break;case"children":typeof n=="string"?nd(t,n):(typeof n=="number"||typeof n=="bigint")&&nd(t,""+n);break;case"onScroll":n!=null&&br("scroll",t);break;case"onScrollEnd":n!=null&&br("scrollend",t);break;case"onClick":n!=null&&(t.onclick=cc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!l8.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(a=r.endsWith("Capture"),e=r.slice(2,a?r.length-7:void 0),i=t[ps]||null,i=i!=null?i[r]:null,typeof i=="function"&&t.removeEventListener(e,i,a),typeof n=="function")){typeof i!="function"&&i!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(e,n,a);break e}r in t?t[r]=n:n===!0?t.setAttribute(r,""):Jg(t,r,n)}}}function ui(t,e,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":br("error",t),br("load",t);var n=!1,a=!1,i;for(i in r)if(r.hasOwnProperty(i)){var s=r[i];if(s!=null)switch(i){case"src":n=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Je(137,e));default:on(t,e,i,s,r,null)}}a&&on(t,e,"srcSet",r.srcSet,r,null),n&&on(t,e,"src",r.src,r,null);return;case"input":br("invalid",t);var o=i=s=a=null,l=null,c=null;for(n in r)if(r.hasOwnProperty(n)){var u=r[n];if(u!=null)switch(n){case"name":a=u;break;case"type":s=u;break;case"checked":l=u;break;case"defaultChecked":c=u;break;case"value":i=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(Je(137,e));break;default:on(t,e,n,u,r,null)}}f8(t,i,o,l,c,s,a,!1);return;case"select":br("invalid",t),n=s=i=null;for(a in r)if(r.hasOwnProperty(a)&&(o=r[a],o!=null))switch(a){case"value":i=o;break;case"defaultValue":s=o;break;case"multiple":n=o;default:on(t,e,a,o,r,null)}e=i,r=s,t.multiple=!!n,e!=null?F0(t,!!n,e,!1):r!=null&&F0(t,!!n,r,!0);return;case"textarea":br("invalid",t),i=a=n=null;for(s in r)if(r.hasOwnProperty(s)&&(o=r[s],o!=null))switch(s){case"value":n=o;break;case"defaultValue":a=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(Je(91));break;default:on(t,e,s,o,r,null)}d8(t,n,a,i);return;case"option":for(l in r)if(r.hasOwnProperty(l)&&(n=r[l],n!=null))switch(l){case"selected":t.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:on(t,e,l,n,r,null)}return;case"dialog":br("beforetoggle",t),br("toggle",t),br("cancel",t),br("close",t);break;case"iframe":case"object":br("load",t);break;case"video":case"audio":for(n=0;n<wp.length;n++)br(wp[n],t);break;case"image":br("error",t),br("load",t);break;case"details":br("toggle",t);break;case"embed":case"source":case"link":br("error",t),br("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in r)if(r.hasOwnProperty(c)&&(n=r[c],n!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(Je(137,e));default:on(t,e,c,n,r,null)}return;default:if(cb(e)){for(u in r)r.hasOwnProperty(u)&&(n=r[u],n!==void 0&&q5(t,e,u,n,r,void 0));return}}for(o in r)r.hasOwnProperty(o)&&(n=r[o],n!=null&&on(t,e,o,n,r,null))}function cB(t,e,r,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,s=null,o=null,l=null,c=null,u=null;for(f in r){var h=r[f];if(r.hasOwnProperty(f)&&h!=null)switch(f){case"checked":break;case"value":break;case"defaultValue":l=h;default:n.hasOwnProperty(f)||on(t,e,f,null,n,h)}}for(var d in n){var f=n[d];if(h=r[d],n.hasOwnProperty(d)&&(f!=null||h!=null))switch(d){case"type":i=f;break;case"name":a=f;break;case"checked":c=f;break;case"defaultChecked":u=f;break;case"value":s=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(Je(137,e));break;default:f!==h&&on(t,e,d,f,n,h)}}m5(t,s,o,l,c,u,i,a);return;case"select":f=s=o=d=null;for(i in r)if(l=r[i],r.hasOwnProperty(i)&&l!=null)switch(i){case"value":break;case"multiple":f=l;default:n.hasOwnProperty(i)||on(t,e,i,null,n,l)}for(a in n)if(i=n[a],l=r[a],n.hasOwnProperty(a)&&(i!=null||l!=null))switch(a){case"value":d=i;break;case"defaultValue":o=i;break;case"multiple":s=i;default:i!==l&&on(t,e,a,i,n,l)}e=o,r=s,n=f,d!=null?F0(t,!!r,d,!1):!!n!=!!r&&(e!=null?F0(t,!!r,e,!0):F0(t,!!r,r?[]:"",!1));return;case"textarea":f=d=null;for(o in r)if(a=r[o],r.hasOwnProperty(o)&&a!=null&&!n.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:on(t,e,o,null,n,a)}for(s in n)if(a=n[s],i=r[s],n.hasOwnProperty(s)&&(a!=null||i!=null))switch(s){case"value":d=a;break;case"defaultValue":f=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(Je(91));break;default:a!==i&&on(t,e,s,a,n,i)}h8(t,d,f);return;case"option":for(var p in r)if(d=r[p],r.hasOwnProperty(p)&&d!=null&&!n.hasOwnProperty(p))switch(p){case"selected":t.selected=!1;break;default:on(t,e,p,null,n,d)}for(l in n)if(d=n[l],f=r[l],n.hasOwnProperty(l)&&d!==f&&(d!=null||f!=null))switch(l){case"selected":t.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:on(t,e,l,d,n,f)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in r)d=r[m],r.hasOwnProperty(m)&&d!=null&&!n.hasOwnProperty(m)&&on(t,e,m,null,n,d);for(c in n)if(d=n[c],f=r[c],n.hasOwnProperty(c)&&d!==f&&(d!=null||f!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(Je(137,e));break;default:on(t,e,c,d,n,f)}return;default:if(cb(e)){for(var _ in r)d=r[_],r.hasOwnProperty(_)&&d!==void 0&&!n.hasOwnProperty(_)&&q5(t,e,_,void 0,n,d);for(u in n)d=n[u],f=r[u],!n.hasOwnProperty(u)||d===f||d===void 0&&f===void 0||q5(t,e,u,d,n,f);return}}for(var x in r)d=r[x],r.hasOwnProperty(x)&&d!=null&&!n.hasOwnProperty(x)&&on(t,e,x,null,n,d);for(h in n)d=n[h],f=r[h],!n.hasOwnProperty(h)||d===f||d==null&&f==null||on(t,e,h,d,n,f)}function XA(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uB(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,r=performance.getEntriesByType("resource"),n=0;n<r.length;n++){var a=r[n],i=a.transferSize,s=a.initiatorType,o=a.duration;if(i&&o&&XA(s)){for(s=0,o=a.responseEnd,n+=1;n<r.length;n++){var l=r[n],c=l.startTime;if(c>o)break;var u=l.transferSize,h=l.initiatorType;u&&XA(h)&&(l=l.responseEnd,s+=u*(l<o?1:(o-c)/(l-c)))}if(--n,e+=8*(i+s)/(a.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var G5=null,W5=null;function rv(t){return t.nodeType===9?t:t.ownerDocument}function KA(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xI(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function $5(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ty=null;function fB(){var t=window.event;return t&&t.type==="popstate"?t===ty?!1:(ty=t,!0):(ty=null,!1)}var _I=typeof setTimeout=="function"?setTimeout:void 0,hB=typeof clearTimeout=="function"?clearTimeout:void 0,YA=typeof Promise=="function"?Promise:void 0,dB=typeof queueMicrotask=="function"?queueMicrotask:typeof YA<"u"?function(t){return YA.resolve(null).then(t).catch(pB)}:_I;function pB(t){setTimeout(function(){throw t})}function hf(t){return t==="head"}function QA(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"||r==="/&"){if(n===0){t.removeChild(a),fd(e);return}n--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")n++;else if(r==="html")$1(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,$1(r);for(var i=r.firstChild;i;){var s=i.nextSibling,o=i.nodeName;i[am]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&i.rel.toLowerCase()==="stylesheet"||r.removeChild(i),i=s}}else r==="body"&&$1(t.ownerDocument.body);r=a}while(r);fd(e)}function JA(t,e){var r=t;t=0;do{var n=r.nextSibling;if(r.nodeType===1?e?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(e?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=n}while(r)}function X5(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var r=e;switch(e=e.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":X5(r),lb(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function mB(t,e,r,n){for(;t.nodeType===1;){var a=r;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!n&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(n){if(!t[am])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==a.rel||t.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||t.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||t.getAttribute("title")!==(a.title==null?null:a.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(a.src==null?null:a.src)||t.getAttribute("type")!==(a.type==null?null:a.type)||t.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=a.name==null?null:""+a.name;if(a.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=Eo(t.nextSibling),t===null)break}return null}function gB(t,e,r){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Eo(t.nextSibling),t===null))return null;return t}function yI(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Eo(t.nextSibling),t===null))return null;return t}function K5(t){return t.data==="$?"||t.data==="$~"}function Y5(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function vB(t,e){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||r.readyState!=="loading")e();else{var n=function(){e(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),t._reactRetry=n}}function Eo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Q5=null;function ZA(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(e===0)return Eo(t.nextSibling);e--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||e++}t=t.nextSibling}return null}function eS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(e===0)return t;e--}else r!=="/$"&&r!=="/&"||e++}t=t.previousSibling}return null}function wI(t,e,r){switch(e=rv(r),t){case"html":if(t=e.documentElement,!t)throw Error(Je(452));return t;case"head":if(t=e.head,!t)throw Error(Je(453));return t;case"body":if(t=e.body,!t)throw Error(Je(454));return t;default:throw Error(Je(451))}}function $1(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);lb(t)}var So=new Map,tS=new Set;function nv(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Oc=Wr.d;Wr.d={f:xB,r:_B,D:yB,C:wB,L:bB,m:EB,X:SB,S:AB,M:TB};function xB(){var t=Oc.f(),e=gx();return t||e}function _B(t){var e=bd(t);e!==null&&e.tag===5&&e.type==="form"?pN(e):Oc.r(t)}var Td=typeof document>"u"?null:document;function bI(t,e,r){var n=Td;if(n&&typeof e=="string"&&e){var a=_o(e);a='link[rel="'+t+'"][href="'+a+'"]',typeof r=="string"&&(a+='[crossorigin="'+r+'"]'),tS.has(a)||(tS.add(a),t={rel:t,crossOrigin:r,href:e},n.querySelector(a)===null&&(e=n.createElement("link"),ui(e,"link",t),Wa(e),n.head.appendChild(e)))}}function yB(t){Oc.D(t),bI("dns-prefetch",t,null)}function wB(t,e){Oc.C(t,e),bI("preconnect",t,e)}function bB(t,e,r){Oc.L(t,e,r);var n=Td;if(n&&t&&e){var a='link[rel="preload"][as="'+_o(e)+'"]';e==="image"&&r&&r.imageSrcSet?(a+='[imagesrcset="'+_o(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(a+='[imagesizes="'+_o(r.imageSizes)+'"]')):a+='[href="'+_o(t)+'"]';var i=a;switch(e){case"style":i=ud(t);break;case"script":i=kd(t)}So.has(i)||(t=Bn({rel:"preload",href:e==="image"&&r&&r.imageSrcSet?void 0:t,as:e},r),So.set(i,t),n.querySelector(a)!==null||e==="style"&&n.querySelector(um(i))||e==="script"&&n.querySelector(fm(i))||(e=n.createElement("link"),ui(e,"link",t),Wa(e),n.head.appendChild(e)))}}function EB(t,e){Oc.m(t,e);var r=Td;if(r&&t){var n=e&&typeof e.as=="string"?e.as:"script",a='link[rel="modulepreload"][as="'+_o(n)+'"][href="'+_o(t)+'"]',i=a;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=kd(t)}if(!So.has(i)&&(t=Bn({rel:"modulepreload",href:t},e),So.set(i,t),r.querySelector(a)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(fm(i)))return}n=r.createElement("link"),ui(n,"link",t),Wa(n),r.head.appendChild(n)}}}function AB(t,e,r){Oc.S(t,e,r);var n=Td;if(n&&t){var a=P0(n).hoistableStyles,i=ud(t);e=e||"default";var s=a.get(i);if(!s){var o={loading:0,preload:null};if(s=n.querySelector(um(i)))o.loading=5;else{t=Bn({rel:"stylesheet",href:t,"data-precedence":e},r),(r=So.get(i))&&$b(t,r);var l=s=n.createElement("link");Wa(l),ui(l,"link",t),l._p=new Promise(function(c,u){l.onload=c,l.onerror=u}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,c2(s,e,n)}s={type:"stylesheet",instance:s,count:1,state:o},a.set(i,s)}}}function SB(t,e){Oc.X(t,e);var r=Td;if(r&&t){var n=P0(r).hoistableScripts,a=kd(t),i=n.get(a);i||(i=r.querySelector(fm(a)),i||(t=Bn({src:t,async:!0},e),(e=So.get(a))&&Xb(t,e),i=r.createElement("script"),Wa(i),ui(i,"link",t),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function TB(t,e){Oc.M(t,e);var r=Td;if(r&&t){var n=P0(r).hoistableScripts,a=kd(t),i=n.get(a);i||(i=r.querySelector(fm(a)),i||(t=Bn({src:t,async:!0,type:"module"},e),(e=So.get(a))&&Xb(t,e),i=r.createElement("script"),Wa(i),ui(i,"link",t),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function rS(t,e,r,n){var a=(a=Du.current)?nv(a):null;if(!a)throw Error(Je(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(e=ud(r.href),r=P0(a).hoistableStyles,n=r.get(e),n||(n={type:"style",instance:null,count:0,state:null},r.set(e,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ud(r.href);var i=P0(a).hoistableStyles,s=i.get(t);if(s||(a=a.ownerDocument||a,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,s),(i=a.querySelector(um(t)))&&!i._p&&(s.instance=i,s.state.loading=5),So.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},So.set(t,r),i||kB(a,t,r,s.state))),e&&n===null)throw Error(Je(528,""));return s}if(e&&n!==null)throw Error(Je(529,""));return null;case"script":return e=r.async,r=r.src,typeof r=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=kd(r),r=P0(a).hoistableScripts,n=r.get(e),n||(n={type:"script",instance:null,count:0,state:null},r.set(e,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(Je(444,t))}}function ud(t){return'href="'+_o(t)+'"'}function um(t){return'link[rel="stylesheet"]['+t+"]"}function EI(t){return Bn({},t,{"data-precedence":t.precedence,precedence:null})}function kB(t,e,r,n){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?n.loading=1:(e=t.createElement("link"),n.preload=e,e.addEventListener("load",function(){return n.loading|=1}),e.addEventListener("error",function(){return n.loading|=2}),ui(e,"link",r),Wa(e),t.head.appendChild(e))}function kd(t){return'[src="'+_o(t)+'"]'}function fm(t){return"script[async]"+t}function nS(t,e,r){if(e.count++,e.instance===null)switch(e.type){case"style":var n=t.querySelector('style[data-href~="'+_o(r.href)+'"]');if(n)return e.instance=n,Wa(n),n;var a=Bn({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return n=(t.ownerDocument||t).createElement("style"),Wa(n),ui(n,"style",a),c2(n,r.precedence,t),e.instance=n;case"stylesheet":a=ud(r.href);var i=t.querySelector(um(a));if(i)return e.state.loading|=4,e.instance=i,Wa(i),i;n=EI(r),(a=So.get(a))&&$b(n,a),i=(t.ownerDocument||t).createElement("link"),Wa(i);var s=i;return s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),ui(i,"link",n),e.state.loading|=4,c2(i,r.precedence,t),e.instance=i;case"script":return i=kd(r.src),(a=t.querySelector(fm(i)))?(e.instance=a,Wa(a),a):(n=r,(a=So.get(i))&&(n=Bn({},r),Xb(n,a)),t=t.ownerDocument||t,a=t.createElement("script"),Wa(a),ui(a,"link",n),t.head.appendChild(a),e.instance=a);case"void":return null;default:throw Error(Je(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(n=e.instance,e.state.loading|=4,c2(n,r.precedence,t));return e.instance}function c2(t,e,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=n.length?n[n.length-1]:null,i=a,s=0;s<n.length;s++){var o=n[s];if(o.dataset.precedence===e)i=o;else if(i!==a)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=r.nodeType===9?r.head:r,e.insertBefore(t,e.firstChild))}function $b(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Xb(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var u2=null;function aS(t,e,r){if(u2===null){var n=new Map,a=u2=new Map;a.set(r,n)}else a=u2,n=a.get(r),n||(n=new Map,a.set(r,n));if(n.has(t))return n;for(n.set(t,null),r=r.getElementsByTagName(t),a=0;a<r.length;a++){var i=r[a];if(!(i[am]||i[ii]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var s=i.getAttribute(e)||"";s=t+s;var o=n.get(s);o?o.push(i):n.set(s,[i])}}return n}function iS(t,e,r){t=t.ownerDocument||t,t.head.insertBefore(r,e==="title"?t.querySelector("head > title"):null)}function CB(t,e,r){if(r===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function AI(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function NB(t,e,r,n){if(r.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var a=ud(n.href),i=e.querySelector(um(a));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=av.bind(t),e.then(t,t)),r.state.loading|=4,r.instance=i,Wa(i);return}i=e.ownerDocument||e,n=EI(n),(a=So.get(a))&&$b(n,a),i=i.createElement("link"),Wa(i);var s=i;s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),ui(i,"link",n),r.instance=i}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,e),(e=r.state.preload)&&!(r.state.loading&3)&&(t.count++,r=av.bind(t),e.addEventListener("load",r),e.addEventListener("error",r))}}var ry=0;function IB(t,e){return t.stylesheets&&t.count===0&&f2(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var n=setTimeout(function(){if(t.stylesheets&&f2(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4+e);0<t.imgBytes&&ry===0&&(ry=62500*uB());var a=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&f2(t,t.stylesheets),t.unsuspend)){var i=t.unsuspend;t.unsuspend=null,i()}},(t.imgBytes>ry?50:800)+e);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(n),clearTimeout(a)}}:null}function av(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)f2(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var iv=null;function f2(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,iv=new Map,e.forEach(RB,t),iv=null,av.call(t))}function RB(t,e){if(!(e.state.loading&4)){var r=iv.get(t);if(r)var n=r.get(null);else{r=new Map,iv.set(t,r);for(var a=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var s=a[i];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(r.set(s.dataset.precedence,s),n=s)}n&&r.set(null,n)}a=e.instance,s=a.getAttribute("data-precedence"),i=r.get(s)||n,i===n&&r.set(null,a),r.set(s,a),this.count++,n=av.bind(this),a.addEventListener("load",n),a.addEventListener("error",n),i?i.parentNode.insertBefore(a,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(a,t.firstChild)),e.state.loading|=4}}var Ep={$$typeof:lc,Provider:null,Consumer:null,_currentValue:Hf,_currentValue2:Hf,_threadCount:0};function LB(t,e,r,n,a,i,s,o,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=S_(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=S_(0),this.hiddenUpdates=S_(null),this.identifierPrefix=n,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function SI(t,e,r,n,a,i,s,o,l,c,u,h){return t=new LB(t,e,r,s,l,c,u,h,o),e=1,i===!0&&(e|=24),i=Os(3,null,null,e),t.current=i,i.stateNode=t,e=yb(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:n,isDehydrated:r,cache:e},Eb(i),t}function TI(t){return t?(t=T0,t):T0}function kI(t,e,r,n,a,i){a=TI(a),n.context===null?n.context=a:n.pendingContext=a,n=Pu(e),n.payload={element:r},i=i===void 0?null:i,i!==null&&(n.callback=i),r=Fu(t,n,e),r!==null&&(fs(r,t,e),U1(r,t,e))}function sS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Kb(t,e){sS(t,e),(t=t.alternate)&&sS(t,e)}function CI(t){if(t.tag===13||t.tag===31){var e=Ch(t,67108864);e!==null&&fs(e,t,67108864),Kb(t,67108864)}}function oS(t){if(t.tag===13||t.tag===31){var e=Ws();e=sb(e);var r=Ch(t,e);r!==null&&fs(r,t,e),Kb(t,e)}}var sv=!0;function DB(t,e,r,n){var a=ir.T;ir.T=null;var i=Wr.p;try{Wr.p=2,Yb(t,e,r,n)}finally{Wr.p=i,ir.T=a}}function OB(t,e,r,n){var a=ir.T;ir.T=null;var i=Wr.p;try{Wr.p=8,Yb(t,e,r,n)}finally{Wr.p=i,ir.T=a}}function Yb(t,e,r,n){if(sv){var a=J5(n);if(a===null)ey(t,e,n,ov,r),lS(t,n);else if(FB(a,t,e,r,n))n.stopPropagation();else if(lS(t,n),e&4&&-1<PB.indexOf(t)){for(;a!==null;){var i=bd(a);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var s=Df(i.pendingLanes);if(s!==0){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-Gs(s);o.entanglements[1]|=l,s&=~l}Fl(i),!(Gr&6)&&(Y2=Hs()+500,cm(0))}}break;case 31:case 13:o=Ch(i,2),o!==null&&fs(o,i,2),gx(),Kb(i,2)}if(i=J5(n),i===null&&ey(t,e,n,ov,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else ey(t,e,n,null,r)}}function J5(t){return t=ub(t),Qb(t)}var ov=null;function Qb(t){if(ov=null,t=y0(t),t!==null){var e=em(t);if(e===null)t=null;else{var r=e.tag;if(r===13){if(t=XC(e),t!==null)return t;t=null}else if(r===31){if(t=KC(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return ov=t,null}function NI(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(y9()){case ZC:return 2;case e8:return 8;case F2:case w9:return 32;case t8:return 268435456;default:return 32}default:return 32}}var Z5=!1,Uu=null,ju=null,Vu=null,Ap=new Map,Sp=new Map,vu=[],PB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lS(t,e){switch(t){case"focusin":case"focusout":Uu=null;break;case"dragenter":case"dragleave":ju=null;break;case"mouseover":case"mouseout":Vu=null;break;case"pointerover":case"pointerout":Ap.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sp.delete(e.pointerId)}}function p1(t,e,r,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},e!==null&&(e=bd(e),e!==null&&CI(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function FB(t,e,r,n,a){switch(e){case"focusin":return Uu=p1(Uu,t,e,r,n,a),!0;case"dragenter":return ju=p1(ju,t,e,r,n,a),!0;case"mouseover":return Vu=p1(Vu,t,e,r,n,a),!0;case"pointerover":var i=a.pointerId;return Ap.set(i,p1(Ap.get(i)||null,t,e,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Sp.set(i,p1(Sp.get(i)||null,t,e,r,n,a)),!0}return!1}function II(t){var e=y0(t.target);if(e!==null){var r=em(e);if(r!==null){if(e=r.tag,e===13){if(e=XC(r),e!==null){t.blockedOn=e,W3(t.priority,function(){oS(r)});return}}else if(e===31){if(e=KC(r),e!==null){t.blockedOn=e,W3(t.priority,function(){oS(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function h2(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=J5(t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);v5=n,r.target.dispatchEvent(n),v5=null}else return e=bd(r),e!==null&&CI(e),t.blockedOn=r,!1;e.shift()}return!0}function cS(t,e,r){h2(t)&&r.delete(e)}function MB(){Z5=!1,Uu!==null&&h2(Uu)&&(Uu=null),ju!==null&&h2(ju)&&(ju=null),Vu!==null&&h2(Vu)&&(Vu=null),Ap.forEach(cS),Sp.forEach(cS)}function _g(t,e){t.blockedOn===e&&(t.blockedOn=null,Z5||(Z5=!0,Ba.unstable_scheduleCallback(Ba.unstable_NormalPriority,MB)))}var yg=null;function uS(t){yg!==t&&(yg=t,Ba.unstable_scheduleCallback(Ba.unstable_NormalPriority,function(){yg===t&&(yg=null);for(var e=0;e<t.length;e+=3){var r=t[e],n=t[e+1],a=t[e+2];if(typeof n!="function"){if(Qb(n||r)===null)continue;break}var i=bd(r);i!==null&&(t.splice(e,3),e-=3,D5(i,{pending:!0,data:a,method:r.method,action:n},n,a))}}))}function fd(t){function e(l){return _g(l,t)}Uu!==null&&_g(Uu,t),ju!==null&&_g(ju,t),Vu!==null&&_g(Vu,t),Ap.forEach(e),Sp.forEach(e);for(var r=0;r<vu.length;r++){var n=vu[r];n.blockedOn===t&&(n.blockedOn=null)}for(;0<vu.length&&(r=vu[0],r.blockedOn===null);)II(r),r.blockedOn===null&&vu.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(n=0;n<r.length;n+=3){var a=r[n],i=r[n+1],s=a[ps]||null;if(typeof i=="function")s||uS(r);else if(s){var o=null;if(i&&i.hasAttribute("formAction")){if(a=i,s=i[ps]||null)o=s.formAction;else if(Qb(a)!==null)continue}else o=s.action;typeof o=="function"?r[n+1]=o:(r.splice(n,3),n-=3),uS(r)}}}function RI(){function t(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(s){return a=s})},focusReset:"manual",scroll:"manual"})}function e(){a!==null&&(a(),a=null),n||setTimeout(r,20)}function r(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,a=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(r,100),function(){n=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),a!==null&&(a(),a=null)}}}function Jb(t){this._internalRoot=t}_x.prototype.render=Jb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Je(409));var r=e.current,n=Ws();kI(r,n,t,e,null,null)};_x.prototype.unmount=Jb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;kI(t.current,2,null,t,null,null),gx(),e[wd]=null}};function _x(t){this._internalRoot=t}_x.prototype.unstable_scheduleHydration=function(t){if(t){var e=s8();t={blockedOn:null,target:t,priority:e};for(var r=0;r<vu.length&&e!==0&&e<vu[r].priority;r++);vu.splice(r,0,t),r===0&&II(t)}};var fS=WC.version;if(fS!=="19.2.4")throw Error(Je(527,fS,"19.2.4"));Wr.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Je(188)):(t=Object.keys(t).join(","),Error(Je(268,t)));return t=d9(e),t=t!==null?YC(t):null,t=t===null?null:t.stateNode,t};var BB={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ir,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wg.isDisabled&&wg.supportsFiber)try{tm=wg.inject(BB),qs=wg}catch{}}rx.createRoot=function(t,e){if(!$C(t))throw Error(Je(299));var r=!1,n="",a=bN,i=EN,s=AN;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onUncaughtError!==void 0&&(a=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=SI(t,1,!1,null,null,r,n,null,a,i,s,RI),t[wd]=e.current,Wb(t),new Jb(e)};rx.hydrateRoot=function(t,e,r){if(!$C(t))throw Error(Je(299));var n=!1,a="",i=bN,s=EN,o=AN,l=null;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onUncaughtError!==void 0&&(i=r.onUncaughtError),r.onCaughtError!==void 0&&(s=r.onCaughtError),r.onRecoverableError!==void 0&&(o=r.onRecoverableError),r.formState!==void 0&&(l=r.formState)),e=SI(t,1,!0,e,r??null,n,a,l,i,s,o,RI),e.context=TI(null),r=e.current,n=Ws(),n=sb(n),a=Pu(n),a.callback=null,Fu(r,a,n),r=n,e.current.lanes=r,nm(e,r),Fl(e),t[wd]=e.current,Wb(t),new _x(e)};rx.version="19.2.4";function LI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LI)}catch(t){console.error(t)}}LI(),jC.exports=rx;var UB=jC.exports;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hS="popstate";function jB(t={}){function e(n,a){let{pathname:i,search:s,hash:o}=n.location;return ew("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Tp(a)}return zB(e,r,null,t)}function Vn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function To(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VB(){return Math.random().toString(36).substring(2,10)}function dS(t,e){return{usr:t.state,key:t.key,idx:e}}function ew(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Cd(e):e,state:r,key:e&&e.key||n||VB()}}function Tp({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Cd(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function zB(t,e,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o="POP",l=null,c=u();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function u(){return(s.state||{idx:null}).idx}function h(){o="POP";let _=u(),x=_==null?null:_-c;c=_,l&&l({action:o,location:m.location,delta:x})}function d(_,x){o="PUSH";let T=ew(m.location,_,x);c=u()+1;let w=dS(T,c),I=m.createHref(T);try{s.pushState(w,"",I)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(I)}i&&l&&l({action:o,location:m.location,delta:1})}function f(_,x){o="REPLACE";let T=ew(m.location,_,x);c=u();let w=dS(T,c),I=m.createHref(T);s.replaceState(w,"",I),i&&l&&l({action:o,location:m.location,delta:0})}function p(_){return HB(_)}let m={get action(){return o},get location(){return t(a,s)},listen(_){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(hS,h),l=_,()=>{a.removeEventListener(hS,h),l=null}},createHref(_){return e(a,_)},createURL:p,encodeLocation(_){let x=p(_);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:d,replace:f,go(_){return s.go(_)}};return m}function HB(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Vn(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Tp(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function DI(t,e,r="/"){return qB(t,e,r,!1)}function qB(t,e,r,n){let a=typeof e=="string"?Cd(e):e,i=Cc(a.pathname||"/",r);if(i==null)return null;let s=OI(t);GB(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=rU(i);o=eU(s[l],c,n)}return o}function OI(t,e=[],r=[],n="",a=!1){let i=(s,o,l=a,c)=>{let u={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(n)&&l)return;Vn(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length)}let h=vc([n,u.relativePath]),d=r.concat(u);s.children&&s.children.length>0&&(Vn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),OI(s.children,e,d,h,l)),!(s.path==null&&!s.index)&&e.push({path:h,score:JB(h,s.index),routesMeta:d})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of PI(s.path))i(s,o,!0,c)}),e}function PI(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=PI(n.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function GB(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:ZB(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var WB=/^:[\w-]+$/,$B=3,XB=2,KB=1,YB=10,QB=-2,pS=t=>t==="*";function JB(t,e){let r=t.split("/"),n=r.length;return r.some(pS)&&(n+=QB),e&&(n+=XB),r.filter(a=>!pS(a)).reduce((a,i)=>a+(WB.test(i)?$B:i===""?KB:YB),n)}function ZB(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function eU(t,e,r=!1){let{routesMeta:n}=t,a={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=lv({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),d=l.route;if(!h&&c&&r&&!n[n.length-1].route.index&&(h=lv({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(a,h.params),s.push({params:a,pathname:vc([i,h.pathname]),pathnameBase:sU(vc([i,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(i=vc([i,h.pathnameBase]))}return s}function lv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=tU(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((c,{paramName:u,isOptional:h},d)=>{if(u==="*"){let p=o[d]||"";s=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const f=o[d];return h&&!f?c[u]=void 0:c[u]=(f||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:t}}function tU(t,e=!1,r=!0){To(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function rU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return To(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Cc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}var nU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function aU(t,e="/"){let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?Cd(t):t,i;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?i=mS(r.substring(1),"/"):i=mS(r,e)):i=e,{pathname:i,search:oU(n),hash:lU(a)}}function mS(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function ny(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iU(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Zb(t){let e=iU(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function e4(t,e,r,n=!1){let a;typeof t=="string"?a=Cd(t):(a={...t},Vn(!a.pathname||!a.pathname.includes("?"),ny("?","pathname","search",a)),Vn(!a.pathname||!a.pathname.includes("#"),ny("#","pathname","hash",a)),Vn(!a.search||!a.search.includes("#"),ny("#","search","hash",a)));let i=t===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let h=e.length-1;if(!n&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),h-=1;a.pathname=d.join("/")}o=h>=0?e[h]:"/"}let l=aU(a,o),c=s&&s!=="/"&&s.endsWith("/"),u=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var vc=t=>t.join("/").replace(/\/\/+/g,"/"),sU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),oU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,cU=class{constructor(t,e,r,n=!1){this.status=t,this.statusText=e||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function uU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function fU(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var FI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function MI(t,e){let r=t;if(typeof r!="string"||!nU.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(FI)try{let i=new URL(window.location.href),s=r.startsWith("//")?new URL(i.protocol+r):new URL(r),o=Cc(s.pathname,e);s.origin===i.origin&&o!=null?r=o+s.search+s.hash:a=!0}catch{To(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var BI=["POST","PUT","PATCH","DELETE"];new Set(BI);var hU=["GET",...BI];new Set(hU);var Nd=fe.createContext(null);Nd.displayName="DataRouter";var yx=fe.createContext(null);yx.displayName="DataRouterState";var dU=fe.createContext(!1),UI=fe.createContext({isTransitioning:!1});UI.displayName="ViewTransition";var pU=fe.createContext(new Map);pU.displayName="Fetchers";var mU=fe.createContext(null);mU.displayName="Await";var Qs=fe.createContext(null);Qs.displayName="Navigation";var hm=fe.createContext(null);hm.displayName="Location";var No=fe.createContext({outlet:null,matches:[],isDataRoute:!1});No.displayName="Route";var t4=fe.createContext(null);t4.displayName="RouteError";var jI="REACT_ROUTER_ERROR",gU="REDIRECT",vU="ROUTE_ERROR_RESPONSE";function xU(t){if(t.startsWith(`${jI}:${gU}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function _U(t){if(t.startsWith(`${jI}:${vU}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new cU(e.status,e.statusText,e.data)}catch{}}function yU(t,{relative:e}={}){Vn(Id(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=fe.useContext(Qs),{hash:a,pathname:i,search:s}=dm(t,{relative:e}),o=i;return r!=="/"&&(o=i==="/"?r:vc([r,i])),n.createHref({pathname:o,search:s,hash:a})}function Id(){return fe.useContext(hm)!=null}function Ml(){return Vn(Id(),"useLocation() may be used only in the context of a <Router> component."),fe.useContext(hm).location}var VI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zI(t){fe.useContext(Qs).static||fe.useLayoutEffect(t)}function Js(){let{isDataRoute:t}=fe.useContext(No);return t?PU():wU()}function wU(){Vn(Id(),"useNavigate() may be used only in the context of a <Router> component.");let t=fe.useContext(Nd),{basename:e,navigator:r}=fe.useContext(Qs),{matches:n}=fe.useContext(No),{pathname:a}=Ml(),i=JSON.stringify(Zb(n)),s=fe.useRef(!1);return zI(()=>{s.current=!0}),fe.useCallback((l,c={})=>{if(To(s.current,VI),!s.current)return;if(typeof l=="number"){r.go(l);return}let u=e4(l,JSON.parse(i),a,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:vc([e,u.pathname])),(c.replace?r.replace:r.push)(u,c.state,c)},[e,r,i,a,t])}var bU=fe.createContext(null);function EU(t){let e=fe.useContext(No).outlet;return fe.useMemo(()=>e&&fe.createElement(bU.Provider,{value:t},e),[e,t])}function HI(){let{matches:t}=fe.useContext(No),e=t[t.length-1];return e?e.params:{}}function dm(t,{relative:e}={}){let{matches:r}=fe.useContext(No),{pathname:n}=Ml(),a=JSON.stringify(Zb(r));return fe.useMemo(()=>e4(t,JSON.parse(a),n,e==="path"),[t,a,n,e])}function AU(t,e){return qI(t,e)}function qI(t,e,r,n,a){var T;Vn(Id(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=fe.useContext(Qs),{matches:s}=fe.useContext(No),o=s[s.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",h=o&&o.route;{let w=h&&h.path||"";WI(c,!h||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let d=Ml(),f;if(e){let w=typeof e=="string"?Cd(e):e;Vn(u==="/"||((T=w.pathname)==null?void 0:T.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${w.pathname}" was given in the \`location\` prop.`),f=w}else f=d;let p=f.pathname||"/",m=p;if(u!=="/"){let w=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let _=DI(t,{pathname:m});To(h||_!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),To(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=NU(_&&_.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:vc([u,i.encodeLocation?i.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:vc([u,i.encodeLocation?i.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),s,r,n,a);return e&&x?fe.createElement(hm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},x):x}function SU(){let t=OU(),e=uU(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=fe.createElement(fe.Fragment,null,fe.createElement("p",null," Hey developer "),fe.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",fe.createElement("code",{style:i},"ErrorBoundary")," or"," ",fe.createElement("code",{style:i},"errorElement")," prop on your route.")),fe.createElement(fe.Fragment,null,fe.createElement("h2",null,"Unexpected Application Error!"),fe.createElement("h3",{style:{fontStyle:"italic"}},e),r?fe.createElement("pre",{style:a},r):null,s)}var TU=fe.createElement(SU,null),GI=class extends fe.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const r=_U(t.digest);r&&(t=r)}let e=t!==void 0?fe.createElement(No.Provider,{value:this.props.routeContext},fe.createElement(t4.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?fe.createElement(kU,{error:t},e):e}};GI.contextType=dU;var ay=new WeakMap;function kU({children:t,error:e}){let{basename:r}=fe.useContext(Qs);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=xU(e.digest);if(n){let a=ay.get(e);if(a)throw a;let i=MI(n.location,r);if(FI&&!ay.get(e))if(i.isExternal||n.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:n.replace}));throw ay.set(e,s),s}return fe.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function CU({routeContext:t,match:e,children:r}){let n=fe.useContext(Nd);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),fe.createElement(No.Provider,{value:t},r)}function NU(t,e=[],r=null,n=null,a=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,s=r==null?void 0:r.errors;if(s!=null){let u=i.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);Vn(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,l=-1;if(r)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=u),h.route.id){let{loaderData:d,errors:f}=r,p=h.route.loader&&!d.hasOwnProperty(h.route.id)&&(!f||f[h.route.id]===void 0);if(h.route.lazy||p){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}let c=r&&n?(u,h)=>{var d,f;n(u,{location:r.location,params:((f=(d=r.matches)==null?void 0:d[0])==null?void 0:f.params)??{},unstable_pattern:fU(r.matches),errorInfo:h})}:void 0;return i.reduceRight((u,h,d)=>{let f,p=!1,m=null,_=null;r&&(f=s&&h.route.id?s[h.route.id]:void 0,m=h.route.errorElement||TU,o&&(l<0&&d===0?(WI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,_=null):l===d&&(p=!0,_=h.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,d+1)),T=()=>{let w;return f?w=m:p?w=_:h.route.Component?w=fe.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=u,fe.createElement(CU,{match:h,routeContext:{outlet:u,matches:x,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?fe.createElement(GI,{location:r.location,revalidation:r.revalidation,component:m,error:f,children:T(),routeContext:{outlet:null,matches:x,isDataRoute:!0},onError:c}):T()},null)}function r4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IU(t){let e=fe.useContext(Nd);return Vn(e,r4(t)),e}function RU(t){let e=fe.useContext(yx);return Vn(e,r4(t)),e}function LU(t){let e=fe.useContext(No);return Vn(e,r4(t)),e}function n4(t){let e=LU(t),r=e.matches[e.matches.length-1];return Vn(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function DU(){return n4("useRouteId")}function OU(){var n;let t=fe.useContext(t4),e=RU("useRouteError"),r=n4("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function PU(){let{router:t}=IU("useNavigate"),e=n4("useNavigate"),r=fe.useRef(!1);return zI(()=>{r.current=!0}),fe.useCallback(async(a,i={})=>{To(r.current,VI),r.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...i}))},[t,e])}var gS={};function WI(t,e,r){!e&&!gS[t]&&(gS[t]=!0,To(!1,r))}fe.memo(FU);function FU({routes:t,future:e,state:r,onError:n}){return qI(t,void 0,r,n,e)}function d2({to:t,replace:e,state:r,relative:n}){Vn(Id(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=fe.useContext(Qs);To(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=fe.useContext(No),{pathname:s}=Ml(),o=Js(),l=e4(t,Zb(i),s,n==="path"),c=JSON.stringify(l);return fe.useEffect(()=>{o(JSON.parse(c),{replace:e,state:r,relative:n})},[o,c,n,e,r]),null}function $I(t){return EU(t.context)}function Oa(t){Vn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MU({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:a,static:i=!1,unstable_useTransitions:s}){Vn(!Id(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=fe.useMemo(()=>({basename:o,navigator:a,static:i,unstable_useTransitions:s,future:{}}),[o,a,i,s]);typeof r=="string"&&(r=Cd(r));let{pathname:c="/",search:u="",hash:h="",state:d=null,key:f="default"}=r,p=fe.useMemo(()=>{let m=Cc(c,o);return m==null?null:{location:{pathname:m,search:u,hash:h,state:d,key:f},navigationType:n}},[o,c,u,h,d,f,n]);return To(p!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:fe.createElement(Qs.Provider,{value:l},fe.createElement(hm.Provider,{children:e,value:p}))}function BU({children:t,location:e}){return AU(tw(t),e)}function tw(t,e=[]){let r=[];return fe.Children.forEach(t,(n,a)=>{if(!fe.isValidElement(n))return;let i=[...e,a];if(n.type===fe.Fragment){r.push.apply(r,tw(n.props.children,i));return}Vn(n.type===Oa,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=tw(n.props.children,i)),r.push(s)}),r}var p2="get",m2="application/x-www-form-urlencoded";function wx(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function UU(t){return wx(t)&&t.tagName.toLowerCase()==="button"}function jU(t){return wx(t)&&t.tagName.toLowerCase()==="form"}function VU(t){return wx(t)&&t.tagName.toLowerCase()==="input"}function zU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function HU(t,e){return t.button===0&&(!e||e==="_self")&&!zU(t)}function rw(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function qU(t,e){let r=rw(t);return e&&e.forEach((n,a)=>{r.has(a)||e.getAll(a).forEach(i=>{r.append(a,i)})}),r}var bg=null;function GU(){if(bg===null)try{new FormData(document.createElement("form"),0),bg=!1}catch{bg=!0}return bg}var WU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function iy(t){return t!=null&&!WU.has(t)?(To(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${m2}"`),null):t}function $U(t,e){let r,n,a,i,s;if(jU(t)){let o=t.getAttribute("action");n=o?Cc(o,e):null,r=t.getAttribute("method")||p2,a=iy(t.getAttribute("enctype"))||m2,i=new FormData(t)}else if(UU(t)||VU(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||o.getAttribute("action");if(n=l?Cc(l,e):null,r=t.getAttribute("formmethod")||o.getAttribute("method")||p2,a=iy(t.getAttribute("formenctype"))||iy(o.getAttribute("enctype"))||m2,i=new FormData(o,t),!GU()){let{name:c,type:u,value:h}=t;if(u==="image"){let d=c?`${c}.`:"";i.append(`${d}x`,"0"),i.append(`${d}y`,"0")}else c&&i.append(c,h)}}else{if(wx(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=p2,n=null,a=m2,s=t}return i&&a==="text/plain"&&(s=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function a4(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function XU(t,e,r,n){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:e&&Cc(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function KU(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YU(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function QU(t,e,r){let n=await Promise.all(t.map(async a=>{let i=e.routes[a.route.id];if(i){let s=await KU(i,r);return s.links?s.links():[]}return[]}));return tj(n.flat(1).filter(YU).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function vS(t,e,r,n,a,i){let s=(l,c)=>r[c]?l.route.id!==r[c].route.id:!0,o=(l,c)=>{var u;return r[c].pathname!==l.pathname||((u=r[c].route.path)==null?void 0:u.endsWith("*"))&&r[c].params["*"]!==l.params["*"]};return i==="assets"?e.filter((l,c)=>s(l,c)||o(l,c)):i==="data"?e.filter((l,c)=>{var h;let u=n.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(s(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function JU(t,e,{includeHydrateFallback:r}={}){return ZU(t.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function ZU(t){return[...new Set(t)]}function ej(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function tj(t,e){let r=new Set;return new Set(e),t.reduce((n,a)=>{let i=JSON.stringify(ej(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function XI(){let t=fe.useContext(Nd);return a4(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function rj(){let t=fe.useContext(yx);return a4(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var i4=fe.createContext(void 0);i4.displayName="FrameworkContext";function KI(){let t=fe.useContext(i4);return a4(t,"You must render this element inside a <HydratedRouter> element"),t}function nj(t,e){let r=fe.useContext(i4),[n,a]=fe.useState(!1),[i,s]=fe.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:h}=e,d=fe.useRef(null);fe.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let m=x=>{x.forEach(T=>{s(T.isIntersecting)})},_=new IntersectionObserver(m,{threshold:.5});return d.current&&_.observe(d.current),()=>{_.disconnect()}}},[t]),fe.useEffect(()=>{if(n){let m=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(m)}}},[n]);let f=()=>{a(!0)},p=()=>{a(!1),s(!1)};return r?t!=="intent"?[i,d,{}]:[i,d,{onFocus:m1(o,f),onBlur:m1(l,p),onMouseEnter:m1(c,f),onMouseLeave:m1(u,p),onTouchStart:m1(h,f)}]:[!1,d,{}]}function m1(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function aj({page:t,...e}){let{router:r}=XI(),n=fe.useMemo(()=>DI(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?fe.createElement(sj,{page:t,matches:n,...e}):null}function ij(t){let{manifest:e,routeModules:r}=KI(),[n,a]=fe.useState([]);return fe.useEffect(()=>{let i=!1;return QU(t,e,r).then(s=>{i||a(s)}),()=>{i=!0}},[t,e,r]),n}function sj({page:t,matches:e,...r}){let n=Ml(),{future:a,manifest:i,routeModules:s}=KI(),{basename:o}=XI(),{loaderData:l,matches:c}=rj(),u=fe.useMemo(()=>vS(t,e,c,i,n,"data"),[t,e,c,i,n]),h=fe.useMemo(()=>vS(t,e,c,i,n,"assets"),[t,e,c,i,n]),d=fe.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let m=new Set,_=!1;if(e.forEach(T=>{var I;let w=i.routes[T.route.id];!w||!w.hasLoader||(!u.some(j=>j.route.id===T.route.id)&&T.route.id in l&&((I=s[T.route.id])!=null&&I.shouldRevalidate)||w.hasClientLoader?_=!0:m.add(T.route.id))}),m.size===0)return[];let x=XU(t,o,a.unstable_trailingSlashAwareDataRequests,"data");return _&&m.size>0&&x.searchParams.set("_routes",e.filter(T=>m.has(T.route.id)).map(T=>T.route.id).join(",")),[x.pathname+x.search]},[o,a.unstable_trailingSlashAwareDataRequests,l,n,i,u,e,t,s]),f=fe.useMemo(()=>JU(h,i),[h,i]),p=ij(h);return fe.createElement(fe.Fragment,null,d.map(m=>fe.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...r})),f.map(m=>fe.createElement("link",{key:m,rel:"modulepreload",href:m,...r})),p.map(({key:m,link:_})=>fe.createElement("link",{key:m,nonce:r.nonce,..._,crossOrigin:_.crossOrigin??r.crossOrigin})))}function oj(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var lj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lj&&(window.__reactRouterVersion="7.13.0")}catch{}function cj({basename:t,children:e,unstable_useTransitions:r,window:n}){let a=fe.useRef();a.current==null&&(a.current=jB({window:n,v5Compat:!0}));let i=a.current,[s,o]=fe.useState({action:i.action,location:i.location}),l=fe.useCallback(c=>{r===!1?o(c):fe.startTransition(()=>o(c))},[r]);return fe.useLayoutEffect(()=>i.listen(l),[i,l]),fe.createElement(MU,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i,unstable_useTransitions:r})}var YI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qr=fe.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:h,unstable_defaultShouldRevalidate:d,...f},p){let{basename:m,unstable_useTransitions:_}=fe.useContext(Qs),x=typeof c=="string"&&YI.test(c),T=MI(c,m);c=T.to;let w=yU(c,{relative:a}),[I,j,P]=nj(n,f),N=dj(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:a,viewTransition:h,unstable_defaultShouldRevalidate:d,unstable_useTransitions:_});function E(R){e&&e(R),R.defaultPrevented||N(R)}let y=fe.createElement("a",{...f,...P,href:T.absoluteURL||w,onClick:T.isExternal||i?e:E,ref:oj(p,j),target:l,"data-discover":!x&&r==="render"?"true":void 0});return I&&!x?fe.createElement(fe.Fragment,null,y,fe.createElement(aj,{page:w})):y});qr.displayName="Link";var uj=fe.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:s,viewTransition:o,children:l,...c},u){let h=dm(s,{relative:c.relative}),d=Ml(),f=fe.useContext(yx),{navigator:p,basename:m}=fe.useContext(Qs),_=f!=null&&_j(h)&&o===!0,x=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,T=d.pathname,w=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;r||(T=T.toLowerCase(),w=w?w.toLowerCase():null,x=x.toLowerCase()),w&&m&&(w=Cc(w,m)||w);const I=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let j=T===x||!a&&T.startsWith(x)&&T.charAt(I)==="/",P=w!=null&&(w===x||!a&&w.startsWith(x)&&w.charAt(x.length)==="/"),N={isActive:j,isPending:P,isTransitioning:_},E=j?e:void 0,y;typeof n=="function"?y=n(N):y=[n,j?"active":null,P?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let R=typeof i=="function"?i(N):i;return fe.createElement(qr,{...c,"aria-current":E,className:y,ref:u,style:R,to:s,viewTransition:o},typeof l=="function"?l(N):l)});uj.displayName="NavLink";var fj=fe.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:a,state:i,method:s=p2,action:o,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:h,unstable_defaultShouldRevalidate:d,...f},p)=>{let{unstable_useTransitions:m}=fe.useContext(Qs),_=vj(),x=xj(o,{relative:c}),T=s.toLowerCase()==="get"?"get":"post",w=typeof o=="string"&&YI.test(o),I=j=>{if(l&&l(j),j.defaultPrevented)return;j.preventDefault();let P=j.nativeEvent.submitter,N=(P==null?void 0:P.getAttribute("formmethod"))||s,E=()=>_(P||j.currentTarget,{fetcherKey:e,method:N,navigate:r,replace:a,state:i,relative:c,preventScrollReset:u,viewTransition:h,unstable_defaultShouldRevalidate:d});m&&r!==!1?fe.startTransition(()=>E()):E()};return fe.createElement("form",{ref:p,method:T,action:x,onSubmit:n?l:I,...f,"data-discover":!w&&t==="render"?"true":void 0})});fj.displayName="Form";function hj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QI(t){let e=fe.useContext(Nd);return Vn(e,hj(t)),e}function dj(t,{target:e,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:o,unstable_useTransitions:l}={}){let c=Js(),u=Ml(),h=dm(t,{relative:i});return fe.useCallback(d=>{if(HU(d,e)){d.preventDefault();let f=r!==void 0?r:Tp(u)===Tp(h),p=()=>c(t,{replace:f,state:n,preventScrollReset:a,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:o});l?fe.startTransition(()=>p()):p()}},[u,c,h,r,n,e,t,a,i,s,o,l])}function pj(t){To(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=fe.useRef(rw(t)),r=fe.useRef(!1),n=Ml(),a=fe.useMemo(()=>qU(n.search,r.current?null:e.current),[n.search]),i=Js(),s=fe.useCallback((o,l)=>{const c=rw(typeof o=="function"?o(new URLSearchParams(a)):o);r.current=!0,i("?"+c,l)},[i,a]);return[a,s]}var mj=0,gj=()=>`__${String(++mj)}__`;function vj(){let{router:t}=QI("useSubmit"),{basename:e}=fe.useContext(Qs),r=DU(),n=t.fetch,a=t.navigate;return fe.useCallback(async(i,s={})=>{let{action:o,method:l,encType:c,formData:u,body:h}=$U(i,e);if(s.navigate===!1){let d=s.fetcherKey||gj();await n(d,r,s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:u,body:h,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await a(s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:u,body:h,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,a,e,r])}function xj(t,{relative:e}={}){let{basename:r}=fe.useContext(Qs),n=fe.useContext(No);Vn(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...dm(t||".",{relative:e})},s=Ml();if(t==null){i.search=s.search;let o=new URLSearchParams(i.search),l=o.getAll("index");if(l.some(u=>u==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let u=o.toString();i.search=u?`?${u}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:vc([r,i.pathname])),Tp(i)}function _j(t,{relative:e}={}){let r=fe.useContext(UI);Vn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=QI("useViewTransitionState"),a=dm(t,{relative:e});if(!r.isTransitioning)return!1;let i=Cc(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=Cc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return lv(a.pathname,s)!=null||lv(a.pathname,i)!=null}const yj=()=>{};var xS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let a=t.charCodeAt(n);a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):(a&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},wj=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const a=t[r++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=t[r++];e[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=t[r++],s=t[r++],o=t[r++],l=((a&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const i=t[r++],s=t[r++];e[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return e.join("")},ZI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<t.length;a+=3){const i=t[a],s=a+1<t.length,o=s?t[a+1]:0,l=a+2<t.length,c=l?t[a+2]:0,u=i>>2,h=(i&3)<<4|o>>4;let d=(o&15)<<2|c>>6,f=c&63;l||(f=64,s||(d=64)),n.push(r[u],r[h],r[d],r[f])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<t.length;){const i=r[t.charAt(a++)],o=a<t.length?r[t.charAt(a)]:0;++a;const c=a<t.length?r[t.charAt(a)]:64;++a;const h=a<t.length?r[t.charAt(a)]:64;if(++a,i==null||o==null||c==null||h==null)throw new bj;const d=i<<2|o>>4;if(n.push(d),c!==64){const f=o<<4&240|c>>2;if(n.push(f),h!==64){const p=c<<6&192|h;n.push(p)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ej=function(t){const e=JI(t);return ZI.encodeByteArray(e,!0)},cv=function(t){return Ej(t).replace(/\./g,"")},eR=function(t){try{return ZI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=()=>Aj().__FIREBASE_DEFAULTS__,Tj=()=>{if(typeof process>"u"||typeof xS>"u")return;const t=xS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eR(t[1]);return e&&JSON.parse(e)},bx=()=>{try{return yj()||Sj()||Tj()||kj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tR=t=>{var e,r;return(r=(e=bx())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},rR=t=>{const e=tR(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},nR=()=>{var t;return(t=bx())==null?void 0:t.config},aR=t=>{var e;return(e=bx())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function s4(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",a=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[cv(JSON.stringify(r)),cv(JSON.stringify(s)),""].join(".")}const X1={};function Nj(){const t={prod:[],emulator:[]};for(const e of Object.keys(X1))X1[e]?t.emulator.push(e):t.prod.push(e);return t}function Ij(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let _S=!1;function o4(t,e){if(typeof window>"u"||typeof document>"u"||!df(window.location.host)||X1[t]===e||X1[t]||_S)return;X1[t]=e;function r(d){return`__firebase__banner__${d}`}const n="__firebase__banner",i=Nj().prod.length>0;function s(){const d=document.getElementById(n);d&&d.remove()}function o(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,f){d.setAttribute("width","24"),d.setAttribute("id",f),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{_S=!0,s()},d}function u(d,f){d.setAttribute("id",f),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function h(){const d=Ij(n),f=r("text"),p=document.getElementById(f)||document.createElement("span"),m=r("learnmore"),_=document.getElementById(m)||document.createElement("a"),x=r("preprendIcon"),T=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const w=d.element;o(w),u(_,m);const I=c();l(T,x),w.append(T,p,_,I),document.body.appendChild(w)}i?(p.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ni())}function Lj(){var e;const t=(e=bx())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Dj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Oj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Pj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Fj(){const t=Ni();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Mj(){return!Lj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bj(){try{return typeof indexedDB=="object"}catch{return!1}}function Uj(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var i;e(((i=a.error)==null?void 0:i.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj="FirebaseError";class Bl extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=jj,Object.setPrototypeOf(this,Bl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pm.prototype.create)}}class pm{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},a=`${this.service}/${e}`,i=this.errors[e],s=i?Vj(i,n):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new Bl(a,o,n)}}function Vj(t,e){return t.replace(zj,(r,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const zj=/\{\$([^}]+)}/g;function Hj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lh(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const a of r){if(!n.includes(a))return!1;const i=t[a],s=e[a];if(yS(i)&&yS(s)){if(!lh(i,s))return!1}else if(i!==s)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function yS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(a=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function T1(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,i]=n.split("=");e[decodeURIComponent(a)]=decodeURIComponent(i)}}),e}function k1(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function qj(t,e){const r=new Gj(t,e);return r.subscribe.bind(r)}class Gj{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let a;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Wj(e,["next","error","complete"])?a=e:a={next:e,error:r,complete:n},a.next===void 0&&(a.next=sy),a.error===void 0&&(a.error=sy),a.complete===void 0&&(a.complete=sy);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wj(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function sy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t){return t&&t._delegate?t._delegate:t}class Ju{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Cj;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(n)return null;throw a}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Kj(e))try{this.getOrInitializeService({instanceIdentifier:Ff})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(e=Ff){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ff){return this.instances.has(e)}getOptions(e=Ff){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&s.resolve(a)}return a}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),a=this.onInitCallbacks.get(n)??new Set;a.add(e),this.onInitCallbacks.set(n,a);const i=this.instances.get(n);return i&&e(i,n),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Xj(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ff){return this.component?this.component.multipleInstances?e:Ff:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Xj(t){return t===Ff?void 0:t}function Kj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new $j(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Tr||(Tr={}));const Qj={debug:Tr.DEBUG,verbose:Tr.VERBOSE,info:Tr.INFO,warn:Tr.WARN,error:Tr.ERROR,silent:Tr.SILENT},Jj=Tr.INFO,Zj={[Tr.DEBUG]:"log",[Tr.VERBOSE]:"log",[Tr.INFO]:"info",[Tr.WARN]:"warn",[Tr.ERROR]:"error"},eV=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),a=Zj[e];if(a)console[a](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class l4{constructor(e){this.name=e,this._logLevel=Jj,this._logHandler=eV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Tr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Qj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Tr.DEBUG,...e),this._logHandler(this,Tr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Tr.VERBOSE,...e),this._logHandler(this,Tr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Tr.INFO,...e),this._logHandler(this,Tr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Tr.WARN,...e),this._logHandler(this,Tr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Tr.ERROR,...e),this._logHandler(this,Tr.ERROR,...e)}}const tV=(t,e)=>e.some(r=>t instanceof r);let wS,bS;function rV(){return wS||(wS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nV(){return bS||(bS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sR=new WeakMap,nw=new WeakMap,oR=new WeakMap,oy=new WeakMap,c4=new WeakMap;function aV(t){const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{r(zu(t.result)),a()},s=()=>{n(t.error),a()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&sR.set(r,t)}).catch(()=>{}),c4.set(e,t),e}function iV(t){if(nw.has(t))return;const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{r(),a()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});nw.set(t,e)}let aw={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return nw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oR.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return zu(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sV(t){aw=t(aw)}function oV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(ly(this),e,...r);return oR.set(n,e.sort?e.sort():[e]),zu(n)}:nV().includes(t)?function(...e){return t.apply(ly(this),e),zu(sR.get(this))}:function(...e){return zu(t.apply(ly(this),e))}}function lV(t){return typeof t=="function"?oV(t):(t instanceof IDBTransaction&&iV(t),tV(t,rV())?new Proxy(t,aw):t)}function zu(t){if(t instanceof IDBRequest)return aV(t);if(oy.has(t))return oy.get(t);const e=lV(t);return e!==t&&(oy.set(t,e),c4.set(e,t)),e}const ly=t=>c4.get(t);function cV(t,e,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const s=indexedDB.open(t,e),o=zu(s);return n&&s.addEventListener("upgradeneeded",l=>{n(zu(s.result),l.oldVersion,l.newVersion,zu(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),a&&l.addEventListener("versionchange",c=>a(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const uV=["get","getKey","getAll","getAllKeys","count"],fV=["put","add","delete","clear"],cy=new Map;function ES(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cy.get(e))return cy.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,a=fV.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||uV.includes(r)))return;const i=async function(s,...o){const l=this.transaction(s,a?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),a&&l.done]))[0]};return cy.set(e,i),i}sV(t=>({...t,get:(e,r,n)=>ES(e,r)||t.get(e,r,n),has:(e,r)=>!!ES(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(dV(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function dV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const iw="@firebase/app",AS="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new l4("@firebase/app"),pV="@firebase/app-compat",mV="@firebase/analytics-compat",gV="@firebase/analytics",vV="@firebase/app-check-compat",xV="@firebase/app-check",_V="@firebase/auth",yV="@firebase/auth-compat",wV="@firebase/database",bV="@firebase/data-connect",EV="@firebase/database-compat",AV="@firebase/functions",SV="@firebase/functions-compat",TV="@firebase/installations",kV="@firebase/installations-compat",CV="@firebase/messaging",NV="@firebase/messaging-compat",IV="@firebase/performance",RV="@firebase/performance-compat",LV="@firebase/remote-config",DV="@firebase/remote-config-compat",OV="@firebase/storage",PV="@firebase/storage-compat",FV="@firebase/firestore",MV="@firebase/ai",BV="@firebase/firestore-compat",UV="firebase",jV="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="[DEFAULT]",VV={[iw]:"fire-core",[pV]:"fire-core-compat",[gV]:"fire-analytics",[mV]:"fire-analytics-compat",[xV]:"fire-app-check",[vV]:"fire-app-check-compat",[_V]:"fire-auth",[yV]:"fire-auth-compat",[wV]:"fire-rtdb",[bV]:"fire-data-connect",[EV]:"fire-rtdb-compat",[AV]:"fire-fn",[SV]:"fire-fn-compat",[TV]:"fire-iid",[kV]:"fire-iid-compat",[CV]:"fire-fcm",[NV]:"fire-fcm-compat",[IV]:"fire-perf",[RV]:"fire-perf-compat",[LV]:"fire-rc",[DV]:"fire-rc-compat",[OV]:"fire-gcs",[PV]:"fire-gcs-compat",[FV]:"fire-fst",[BV]:"fire-fst-compat",[MV]:"fire-vertex","fire-js":"fire-js",[UV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=new Map,zV=new Map,ow=new Map;function SS(t,e){try{t.container.addComponent(e)}catch(r){Nc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function ch(t){const e=t.name;if(ow.has(e))return Nc.debug(`There were multiple attempts to register component ${e}.`),!1;ow.set(e,t);for(const r of uv.values())SS(r,t);for(const r of zV.values())SS(r,t);return!0}function Ex(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Ps(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hu=new pm("app","Firebase",HV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ju("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=jV;function lR(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:sw,automaticDataCollectionEnabled:!0,...e},a=n.name;if(typeof a!="string"||!a)throw Hu.create("bad-app-name",{appName:String(a)});if(r||(r=nR()),!r)throw Hu.create("no-options");const i=uv.get(a);if(i){if(lh(r,i.options)&&lh(n,i.config))return i;throw Hu.create("duplicate-app",{appName:a})}const s=new Yj(a);for(const l of ow.values())s.addComponent(l);const o=new qV(r,n,s);return uv.set(a,o),o}function u4(t=sw){const e=uv.get(t);if(!e&&t===sw&&nR())return lR();if(!e)throw Hu.create("no-app",{appName:t});return e}function Cl(t,e,r){let n=VV[t]??t;r&&(n+=`-${r}`);const a=n.match(/\s|\//),i=e.match(/\s|\//);if(a||i){const s=[`Unable to register library "${n}" with version "${e}":`];a&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),a&&i&&s.push("and"),i&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nc.warn(s.join(" "));return}ch(new Ju(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV="firebase-heartbeat-database",WV=1,kp="firebase-heartbeat-store";let uy=null;function cR(){return uy||(uy=cV(GV,WV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kp)}catch(r){console.warn(r)}}}}).catch(t=>{throw Hu.create("idb-open",{originalErrorMessage:t.message})})),uy}async function $V(t){try{const r=(await cR()).transaction(kp),n=await r.objectStore(kp).get(uR(t));return await r.done,n}catch(e){if(e instanceof Bl)Nc.warn(e.message);else{const r=Hu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Nc.warn(r.message)}}}async function TS(t,e){try{const n=(await cR()).transaction(kp,"readwrite");await n.objectStore(kp).put(e,uR(t)),await n.done}catch(r){if(r instanceof Bl)Nc.warn(r.message);else{const n=Hu.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Nc.warn(n.message)}}}function uR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=1024,KV=30;class YV{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new JV(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=kS();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>KV){const s=ZV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Nc.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=kS(),{heartbeatsToSend:n,unsentEntries:a}=QV(this._heartbeatsCache.heartbeats),i=cv(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return Nc.warn(r),""}}}function kS(){return new Date().toISOString().substring(0,10)}function QV(t,e=XV){const r=[];let n=t.slice();for(const a of t){const i=r.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),CS(r)>e){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),CS(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class JV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Bj()?Uj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await $V(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return TS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return TS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function CS(t){return cv(JSON.stringify({version:2,heartbeats:t})).length}function ZV(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ez(t){ch(new Ju("platform-logger",e=>new hV(e),"PRIVATE")),ch(new Ju("heartbeat",e=>new YV(e),"PRIVATE")),Cl(iw,AS,t),Cl(iw,AS,"esm2020"),Cl("fire-js","")}ez("");function fR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tz=fR,hR=new pm("auth","Firebase",fR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=new l4("@firebase/auth");function rz(t,...e){fv.logLevel<=Tr.WARN&&fv.warn(`Auth (${Ih}): ${t}`,...e)}function g2(t,...e){fv.logLevel<=Tr.ERROR&&fv.error(`Auth (${Ih}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(t,...e){throw f4(t,...e)}function Nl(t,...e){return f4(t,...e)}function dR(t,e,r){const n={...tz(),[e]:r};return new pm("auth","Firebase",n).create(e,{appName:t.name})}function xc(t){return dR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function f4(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return hR.create(t,...e)}function Wt(t,e,...r){if(!t)throw f4(e,...r)}function fc(t){const e="INTERNAL ASSERTION FAILED: "+t;throw g2(e),new Error(e)}function Ic(t,e){t||fc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function nz(){return NS()==="http:"||NS()==="https:"}function NS(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function az(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nz()||Oj()||"connection"in navigator)?navigator.onLine:!0}function iz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ic(r>e,"Short delay should be less than long delay!"),this.isMobile=Rj()||Pj()}get(){return az()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(t,e){Ic(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lz=new gm(3e4,6e4);function Pc(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Fc(t,e,r,n,a={}){return mR(t,a,async()=>{let i={},s={};n&&(e==="GET"?s=n:i={body:JSON.stringify(n)});const o=mm({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return Dj()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&df(t.emulatorConfig.host)&&(c.credentials="include"),pR.fetch()(await gR(t,t.config.apiHost,r,o),c)})}async function mR(t,e,r){t._canInitEmulator=!1;const n={...sz,...e};try{const a=new uz(t),i=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Eg(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const o=i.ok?s.errorMessage:s.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eg(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Eg(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Eg(t,"user-disabled",s);const u=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw dR(t,u,c);Yo(t,u)}}catch(a){if(a instanceof Bl)throw a;Yo(t,"network-request-failed",{message:String(a)})}}async function vm(t,e,r,n,a={}){const i=await Fc(t,e,r,n,a);return"mfaPendingCredential"in i&&Yo(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function gR(t,e,r,n){const a=`${e}${r}?${n}`,i=t,s=i.config.emulator?h4(t.config,a):`${t.config.apiScheme}://${a}`;return oz.includes(r)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(s).toString():s}function cz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Nl(this.auth,"network-request-failed")),lz.get())})}}function Eg(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const a=Nl(t,e,n);return a.customData._tokenResponse=r,a}function IS(t){return t!==void 0&&t.enterprise!==void 0}class fz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return cz(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hz(t,e){return Fc(t,"GET","/v2/recaptchaConfig",Pc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dz(t,e){return Fc(t,"POST","/v1/accounts:delete",e)}async function hv(t,e){return Fc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pz(t,e=!1){const r=Tn(t),n=await r.getIdToken(e),a=d4(n);Wt(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const i=typeof a.firebase=="object"?a.firebase:void 0,s=i==null?void 0:i.sign_in_provider;return{claims:a,token:n,authTime:K1(fy(a.auth_time)),issuedAtTime:K1(fy(a.iat)),expirationTime:K1(fy(a.exp)),signInProvider:s||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function fy(t){return Number(t)*1e3}function d4(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return g2("JWT malformed, contained fewer than 3 sections"),null;try{const a=eR(r);return a?JSON.parse(a):(g2("Failed to decode base64 JWT payload"),null)}catch(a){return g2("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function RS(t){const e=d4(t);return Wt(e,"internal-error"),Wt(typeof e.exp<"u","internal-error"),Wt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cp(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Bl&&mz(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function mz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=K1(this.lastLoginAt),this.creationTime=K1(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dv(t){var h;const e=t.auth,r=await t.getIdToken(),n=await Cp(t,hv(e,{idToken:r}));Wt(n==null?void 0:n.users.length,e,"internal-error");const a=n.users[0];t._notifyReloadListener(a);const i=(h=a.providerUserInfo)!=null&&h.length?vR(a.providerUserInfo):[],s=xz(t.providerData,i),o=t.isAnonymous,l=!(t.email&&a.passwordHash)&&!(s!=null&&s.length),c=o?l:!1,u={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new cw(a.createdAt,a.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function vz(t){const e=Tn(t);await dv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xz(t,e){return[...t.filter(n=>!e.some(a=>a.providerId===n.providerId)),...e]}function vR(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _z(t,e){const r=await mR(t,{},async()=>{const n=mm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:i}=t.config,s=await gR(t,a,"/v1/token",`key=${i}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:n};return t.emulatorConfig&&df(t.emulatorConfig.host)&&(l.credentials="include"),pR.fetch()(s,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function yz(t,e){return Fc(t,"POST","/v2/accounts:revokeToken",Pc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Wt(e.idToken,"internal-error"),Wt(typeof e.idToken<"u","internal-error"),Wt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Wt(e.length!==0,"internal-error");const r=RS(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Wt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:a,expiresIn:i}=await _z(e,r);this.updateTokensAndExpiration(n,a,Number(i))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:a,expirationTime:i}=r,s=new z0;return n&&(Wt(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),a&&(Wt(typeof a=="string","internal-error",{appName:e}),s.accessToken=a),i&&(Wt(typeof i=="number","internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new z0,this.toJSON())}_performRefresh(){return fc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(t,e){Wt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ho{constructor({uid:e,auth:r,stsTokenManager:n,...a}){this.providerId="firebase",this.proactiveRefresh=new gz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new cw(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await Cp(this,this.stsTokenManager.getToken(this.auth,e));return Wt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return pz(this,e)}reload(){return vz(this)}_assign(e){this!==e&&(Wt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Ho({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){Wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await dv(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ps(this.auth.app))return Promise.reject(xc(this.auth));const e=await this.getIdToken();return await Cp(this,dz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,a=r.email??void 0,i=r.phoneNumber??void 0,s=r.photoURL??void 0,o=r.tenantId??void 0,l=r._redirectEventId??void 0,c=r.createdAt??void 0,u=r.lastLoginAt??void 0,{uid:h,emailVerified:d,isAnonymous:f,providerData:p,stsTokenManager:m}=r;Wt(h&&m,e,"internal-error");const _=z0.fromJSON(this.name,m);Wt(typeof h=="string",e,"internal-error"),ou(n,e.name),ou(a,e.name),Wt(typeof d=="boolean",e,"internal-error"),Wt(typeof f=="boolean",e,"internal-error"),ou(i,e.name),ou(s,e.name),ou(o,e.name),ou(l,e.name),ou(c,e.name),ou(u,e.name);const x=new Ho({uid:h,auth:e,email:a,emailVerified:d,displayName:n,isAnonymous:f,photoURL:s,phoneNumber:i,tenantId:o,stsTokenManager:_,createdAt:c,lastLoginAt:u});return p&&Array.isArray(p)&&(x.providerData=p.map(T=>({...T}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,r,n=!1){const a=new z0;a.updateFromServerResponse(r);const i=new Ho({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:n});return await dv(i),i}static async _fromGetAccountInfoResponse(e,r,n){const a=r.users[0];Wt(a.localId!==void 0,"internal-error");const i=a.providerUserInfo!==void 0?vR(a.providerUserInfo):[],s=!(a.email&&a.passwordHash)&&!(i!=null&&i.length),o=new z0;o.updateFromIdToken(n);const l=new Ho({uid:a.localId,auth:e,stsTokenManager:o,isAnonymous:s}),c={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new cw(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=new Map;function hc(t){Ic(t instanceof Function,"Expected a class definition");let e=LS.get(t);return e?(Ic(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,LS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}xR.type="NONE";const DS=xR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(t,e,r){return`firebase:${t}:${e}:${r}`}class H0{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:a,name:i}=this.auth;this.fullUserKey=v2(this.userKey,a.apiKey,i),this.fullPersistenceKey=v2("persistence",a.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await hv(this.auth,{idToken:e}).catch(()=>{});return r?Ho._fromGetAccountInfoResponse(this.auth,r,e):null}return Ho._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new H0(hc(DS),e,n);const a=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=a[0]||hc(DS);const s=v2(n,e.config.apiKey,e.name);let o=null;for(const c of r)try{const u=await c._get(s);if(u){let h;if(typeof u=="string"){const d=await hv(e,{idToken:u}).catch(()=>{});if(!d)break;h=await Ho._fromGetAccountInfoResponse(e,d,u)}else h=Ho._fromJSON(e,u);c!==i&&(o=h),i=c;break}}catch{}const l=a.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new H0(i,e,n):(i=l[0],o&&await i._set(s,o.toJSON()),await Promise.all(r.map(async c=>{if(c!==i)try{await c._remove(s)}catch{}})),new H0(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_R(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AR(e))return"Blackberry";if(SR(e))return"Webos";if(yR(e))return"Safari";if((e.includes("chrome/")||wR(e))&&!e.includes("edge/"))return"Chrome";if(ER(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function _R(t=Ni()){return/firefox\//i.test(t)}function yR(t=Ni()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wR(t=Ni()){return/crios\//i.test(t)}function bR(t=Ni()){return/iemobile/i.test(t)}function ER(t=Ni()){return/android/i.test(t)}function AR(t=Ni()){return/blackberry/i.test(t)}function SR(t=Ni()){return/webos/i.test(t)}function p4(t=Ni()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wz(t=Ni()){var e;return p4(t)&&!!((e=window.navigator)!=null&&e.standalone)}function bz(){return Fj()&&document.documentMode===10}function TR(t=Ni()){return p4(t)||ER(t)||SR(t)||AR(t)||/windows phone/i.test(t)||bR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(t,e=[]){let r;switch(t){case"Browser":r=OS(Ni());break;case"Worker":r=`${OS(Ni())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Ih}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=i=>new Promise((s,o)=>{try{const l=e(i);s(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Az(t,e={}){return Fc(t,"GET","/v2/passwordPolicy",Pc(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz=6;class Tz{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??Sz,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),a&&(r.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let a=0;a<e.length;a++)n=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,a,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(e,r,n,a){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new PS(this),this.idTokenSubscription=new PS(this),this.beforeStateQueue=new Ez(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=hc(r)),this._initializationPromise=this.queue(async()=>{var n,a,i;if(!this._deleted&&(this.persistenceManager=await H0.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await hv(this,{idToken:e}),n=await Ho._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Ps(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(i=this.redirectUser)==null?void 0:i._redirectEventId,o=n==null?void 0:n._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&(l!=null&&l.user)&&(n=l.user,a=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await dv(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ps(this.app))return Promise.reject(xc(this));const r=e?Tn(e):null;return r&&Wt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Wt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ps(this.app)?Promise.reject(xc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ps(this.app)?Promise.reject(xc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hc(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Az(this),r=new Tz(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pm("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await yz(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&hc(e)||this._popupRedirectResolver;Wt(r,this,"argument-error"),this.redirectPersistenceManager=await H0.create(this,[hc(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,a){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Wt(o,this,"internal-error"),o.then(()=>{s||i(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,a);return()=>{s=!0,l()}}else{const l=e.addObserver(r);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(Ps(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&rz(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function pf(t){return Tn(t)}class PS{constructor(e){this.auth=e,this.observer=null,this.addObserver=qj(r=>this.observer=r)}get next(){return Wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ax={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Cz(t){Ax=t}function CR(t){return Ax.loadJS(t)}function Nz(){return Ax.recaptchaEnterpriseScript}function Iz(){return Ax.gapiScript}function Rz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Lz{constructor(){this.enterprise=new Dz}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class Dz{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const Oz="recaptcha-enterprise",NR="NO_RECAPTCHA";class Pz{constructor(e){this.type=Oz,this.auth=pf(e)}async verify(e="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(s,o)=>{hz(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new fz(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,s(c.siteKey)}}).catch(l=>{o(l)})})}function a(i,s,o){const l=window.grecaptcha;IS(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{s(c)}).catch(()=>{s(NR)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Lz().execute("siteKey",{action:"verify"}):new Promise((i,s)=>{n(this.auth).then(o=>{if(!r&&IS(window.grecaptcha))a(o,i,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Nz();l.length!==0&&(l+=o),CR(l).then(()=>{a(o,i,s)}).catch(c=>{s(c)})}}).catch(o=>{s(o)})})}}async function FS(t,e,r,n=!1,a=!1){const i=new Pz(t);let s;if(a)s=NR;else try{s=await i.verify(r)}catch{s=await i.verify(r,!0)}const o={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function pv(t,e,r,n,a){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await FS(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await FS(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fz(t,e){const r=Ex(t,"auth");if(r.isInitialized()){const a=r.getImmediate(),i=r.getOptions();if(lh(i,e??{}))return a;Yo(a,"already-initialized")}return r.initialize({options:e})}function Mz(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(hc);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function Bz(t,e,r){const n=pf(t);Wt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const a=!1,i=IR(e),{host:s,port:o}=Uz(e),l=o===null?"":`:${o}`,c={url:`${i}//${s}${l}/`},u=Object.freeze({host:s,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){Wt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Wt(lh(c,n.config.emulator)&&lh(u,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=c,n.emulatorConfig=u,n.settings.appVerificationDisabledForTesting=!0,df(s)?(s4(`${i}//${s}${l}`),o4("Auth",!0)):jz()}function IR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Uz(t){const e=IR(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const i=a[1];return{host:i,port:MS(n.substr(i.length+1))}}else{const[i,s]=n.split(":");return{host:i,port:MS(s)}}}function MS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function jz(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return fc("not implemented")}_getIdTokenResponse(e){return fc("not implemented")}_linkToIdToken(e,r){return fc("not implemented")}_getReauthenticationResolver(e){return fc("not implemented")}}async function Vz(t,e){return Fc(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zz(t,e){return vm(t,"POST","/v1/accounts:signInWithPassword",Pc(t,e))}async function Hz(t,e){return Fc(t,"POST","/v1/accounts:sendOobCode",Pc(t,e))}async function qz(t,e){return Hz(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gz(t,e){return vm(t,"POST","/v1/accounts:signInWithEmailLink",Pc(t,e))}async function Wz(t,e){return vm(t,"POST","/v1/accounts:signInWithEmailLink",Pc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np extends m4{constructor(e,r,n,a=null){super("password",n),this._email=e,this._password=r,this._tenantId=a}static _fromEmailAndPassword(e,r){return new Np(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Np(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pv(e,r,"signInWithPassword",zz);case"emailLink":return Gz(e,{email:this._email,oobCode:this._password});default:Yo(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pv(e,n,"signUpPassword",Vz);case"emailLink":return Wz(e,{idToken:r,email:this._email,oobCode:this._password});default:Yo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q0(t,e){return vm(t,"POST","/v1/accounts:signInWithIdp",Pc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $z="http://localhost";class uh extends m4{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new uh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Yo("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:a,...i}=r;if(!n||!a)return null;const s=new uh(n,a);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return q0(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,q0(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,q0(e,r)}buildRequest(){const e={requestUri:$z,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=mm(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Kz(t){const e=T1(k1(t)).link,r=e?T1(k1(e)).deep_link_id:null,n=T1(k1(t)).deep_link_id;return(n?T1(k1(n)).link:null)||n||r||e||t}class g4{constructor(e){const r=T1(k1(e)),n=r.apiKey??null,a=r.oobCode??null,i=Xz(r.mode??null);Wt(n&&a&&i,"argument-error"),this.apiKey=n,this.operation=i,this.code=a,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=Kz(e);try{return new g4(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(){this.providerId=Rd.PROVIDER_ID}static credential(e,r){return Np._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=g4.parseLink(r);return Wt(n,"argument-error"),Np._fromEmailAndCode(e,n.code,n.tenantId)}}Rd.PROVIDER_ID="password";Rd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Rd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm extends RR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends xm{constructor(){super("facebook.com")}static credential(e){return uh._fromParams({providerId:xu.PROVIDER_ID,signInMethod:xu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xu.credentialFromTaggedObject(e)}static credentialFromError(e){return xu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xu.credential(e.oauthAccessToken)}catch{return null}}}xu.FACEBOOK_SIGN_IN_METHOD="facebook.com";xu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends xm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return uh._fromParams({providerId:_u.PROVIDER_ID,signInMethod:_u.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return _u.credentialFromTaggedObject(e)}static credentialFromError(e){return _u.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return _u.credential(r,n)}catch{return null}}}_u.GOOGLE_SIGN_IN_METHOD="google.com";_u.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends xm{constructor(){super("github.com")}static credential(e){return uh._fromParams({providerId:yu.PROVIDER_ID,signInMethod:yu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yu.credentialFromTaggedObject(e)}static credentialFromError(e){return yu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yu.credential(e.oauthAccessToken)}catch{return null}}}yu.GITHUB_SIGN_IN_METHOD="github.com";yu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends xm{constructor(){super("twitter.com")}static credential(e,r){return uh._fromParams({providerId:wu.PROVIDER_ID,signInMethod:wu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return wu.credentialFromTaggedObject(e)}static credentialFromError(e){return wu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return wu.credential(r,n)}catch{return null}}}wu.TWITTER_SIGN_IN_METHOD="twitter.com";wu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yz(t,e){return vm(t,"POST","/v1/accounts:signUp",Pc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,a=!1){const i=await Ho._fromIdTokenResponse(e,n,a),s=BS(n);return new fh({user:i,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const a=BS(n);return new fh({user:e,providerId:a,_tokenResponse:n,operationType:r})}}function BS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv extends Bl{constructor(e,r,n,a){super(r.code,r.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,mv.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,a){return new mv(e,r,n,a)}}function LR(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?mv._fromErrorAndOperation(t,i,e,n):i})}async function Qz(t,e,r=!1){const n=await Cp(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return fh._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jz(t,e,r=!1){const{auth:n}=t;if(Ps(n.app))return Promise.reject(xc(n));const a="reauthenticate";try{const i=await Cp(t,LR(n,a,e,t),r);Wt(i.idToken,n,"internal-error");const s=d4(i.idToken);Wt(s,n,"internal-error");const{sub:o}=s;return Wt(t.uid===o,n,"user-mismatch"),fh._forOperation(t,a,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Yo(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DR(t,e,r=!1){if(Ps(t.app))return Promise.reject(xc(t));const n="signIn",a=await LR(t,n,e),i=await fh._fromIdTokenResponse(t,n,a);return r||await t._updateCurrentUser(i.user),i}async function Zz(t,e){return DR(pf(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eH(t,e,r){var n;Wt(((n=r.url)==null?void 0:n.length)>0,t,"invalid-continue-uri"),Wt(typeof r.dynamicLinkDomain>"u"||r.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),Wt(typeof r.linkDomain>"u"||r.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=r.url,e.dynamicLinkDomain=r.dynamicLinkDomain,e.linkDomain=r.linkDomain,e.canHandleCodeInApp=r.handleCodeInApp,r.iOS&&(Wt(r.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=r.iOS.bundleId),r.android&&(Wt(r.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=r.android.installApp,e.androidMinimumVersionCode=r.android.minimumVersion,e.androidPackageName=r.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OR(t){const e=pf(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tH(t,e,r){const n=pf(t),a={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};r&&eH(n,a,r),await pv(n,a,"getOobCode",qz)}async function rH(t,e,r){if(Ps(t.app))return Promise.reject(xc(t));const n=pf(t),s=await pv(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Yz).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&OR(t),l}),o=await fh._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}function nH(t,e,r){return Ps(t.app)?Promise.reject(xc(t)):Zz(Tn(t),Rd.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&OR(t),n})}function aH(t,e,r,n){return Tn(t).onIdTokenChanged(e,r,n)}function iH(t,e,r){return Tn(t).beforeAuthStateChanged(e,r)}function sH(t,e,r,n){return Tn(t).onAuthStateChanged(e,r,n)}function gv(t){return Tn(t).signOut()}const vv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(vv,"1"),this.storage.removeItem(vv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oH=1e3,lH=10;class FR extends PR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),a=this.localCache[r];n!==a&&e(r,a,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const a=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},i=this.storage.getItem(n);bz()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,lH):a()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},oH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}FR.type="LOCAL";const cH=FR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR extends PR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}MR.type="SESSION";const BR=MR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(a=>a.isListeningto(e));if(r)return r;const n=new Sx(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:a,data:i}=r.data,s=this.handlersMap[a];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const o=Array.from(s).map(async c=>c(r.origin,i)),l=await uH(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let i,s;return new Promise((o,l)=>{const c=v4("",20);a.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);s={messageChannel:a,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(d.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(s),a.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[a.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(){return window}function hH(t){Il().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(){return typeof Il().WorkerGlobalScope<"u"&&typeof Il().importScripts=="function"}async function dH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function mH(){return UR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="firebaseLocalStorageDb",gH=1,xv="firebaseLocalStorage",VR="fbase_key";class _m{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Tx(t,e){return t.transaction([xv],e?"readwrite":"readonly").objectStore(xv)}function vH(){const t=indexedDB.deleteDatabase(jR);return new _m(t).toPromise()}function uw(){const t=indexedDB.open(jR,gH);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(xv,{keyPath:VR})}catch(a){r(a)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(xv)?e(n):(n.close(),await vH(),e(await uw()))})})}async function US(t,e,r){const n=Tx(t,!0).put({[VR]:e,value:r});return new _m(n).toPromise()}async function xH(t,e){const r=Tx(t,!1).get(e),n=await new _m(r).toPromise();return n===void 0?null:n.value}function jS(t,e){const r=Tx(t,!0).delete(e);return new _m(r).toPromise()}const _H=800,yH=3;class zR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uw(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>yH)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sx._getInstance(mH()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await dH(),!this.activeServiceWorker)return;this.sender=new fH(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await uw();return await US(e,vv,"1"),await jS(e,vv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>US(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>xH(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>jS(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const i=Tx(a,!1).getAll();return new _m(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:a,value:i}of e)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(i)&&(this.notifyListeners(a,i),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_H)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zR.type="LOCAL";const wH=zR;new gm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bH(t,e){return e?hc(e):(Wt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4 extends m4{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return q0(e,this._buildIdpRequest())}_linkToIdToken(e,r){return q0(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return q0(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function EH(t){return DR(t.auth,new x4(t),t.bypassAuthState)}function AH(t){const{auth:e,user:r}=t;return Wt(r,e,"internal-error"),Jz(r,new x4(t),t.bypassAuthState)}async function SH(t){const{auth:e,user:r}=t;return Wt(r,e,"internal-error"),Qz(r,new x4(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,r,n,a,i=!1){this.auth=e,this.resolver=n,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:a,tenantId:i,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EH;case"linkViaPopup":case"linkViaRedirect":return SH;case"reauthViaPopup":case"reauthViaRedirect":return AH;default:Yo(this.auth,"internal-error")}}resolve(e){Ic(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ic(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TH=new gm(2e3,1e4);class I0 extends HR{constructor(e,r,n,a,i){super(e,r,a,i),this.provider=n,this.authWindow=null,this.pollId=null,I0.currentPopupAction&&I0.currentPopupAction.cancel(),I0.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Wt(e,this.auth,"internal-error"),e}async onExecution(){Ic(this.filter.length===1,"Popup operations only handle one event");const e=v4();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Nl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Nl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I0.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TH.get())};e()}}I0.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kH="pendingRedirect",x2=new Map;class CH extends HR{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=x2.get(this.auth._key());if(!e){try{const n=await NH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}x2.set(this.auth._key(),e)}return this.bypassAuthState||x2.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NH(t,e){const r=LH(e),n=RH(t);if(!await n._isAvailable())return!1;const a=await n._get(r)==="true";return await n._remove(r),a}function IH(t,e){x2.set(t._key(),e)}function RH(t){return hc(t._redirectPersistence)}function LH(t){return v2(kH,t.config.apiKey,t.name)}async function DH(t,e,r=!1){if(Ps(t.app))return Promise.reject(xc(t));const n=pf(t),a=bH(n,e),s=await new CH(n,a,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OH=10*60*1e3;class PH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FH(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!qR(e)){const a=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(Nl(this.auth,a))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OH&&this.cachedEventUids.clear(),this.cachedEventUids.has(VS(e))}saveEventToCache(e){this.cachedEventUids.add(VS(e)),this.lastProcessedEventTime=Date.now()}}function VS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function FH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MH(t,e={}){return Fc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UH=/^https?/;async function jH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await MH(t);for(const r of e)try{if(VH(r))return}catch{}Yo(t,"unauthorized-domain")}function VH(t){const e=lw(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!UH.test(r))return!1;if(BH.test(t))return n===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH=new gm(3e4,6e4);function zS(){const t=Il().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function HH(t){return new Promise((e,r)=>{var a,i,s;function n(){zS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zS(),r(Nl(t,"network-request-failed"))},timeout:zH.get()})}if((i=(a=Il().gapi)==null?void 0:a.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((s=Il().gapi)!=null&&s.load)n();else{const o=Rz("iframefcb");return Il()[o]=()=>{gapi.load?n():r(Nl(t,"network-request-failed"))},CR(`${Iz()}?onload=${o}`).catch(l=>r(l))}}).catch(e=>{throw _2=null,e})}let _2=null;function qH(t){return _2=_2||HH(t),_2}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GH=new gm(5e3,15e3),WH="__/auth/iframe",$H="emulator/auth/iframe",XH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YH(t){const e=t.config;Wt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?h4(e,$H):`https://${t.config.authDomain}/${WH}`,n={apiKey:e.apiKey,appName:t.name,v:Ih},a=KH.get(t.config.apiHost);a&&(n.eid=a);const i=t._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${mm(n).slice(1)}`}async function QH(t){const e=await qH(t),r=Il().gapi;return Wt(r,t,"internal-error"),e.open({where:document.body,url:YH(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XH,dontclear:!0},n=>new Promise(async(a,i)=>{await n.restyle({setHideOnLeave:!1});const s=Nl(t,"network-request-failed"),o=Il().setTimeout(()=>{i(s)},GH.get());function l(){Il().clearTimeout(o),a(n)}n.ping(l).then(l,()=>{i(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZH=500,eq=600,tq="_blank",rq="http://localhost";class HS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nq(t,e,r,n=ZH,a=eq){const i=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l={...JH,width:n.toString(),height:a.toString(),top:i,left:s},c=Ni().toLowerCase();r&&(o=wR(c)?tq:r),_R(c)&&(e=e||rq,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[f,p])=>`${d}${f}=${p},`,"");if(wz(c)&&o!=="_self")return aq(e||"",o),new HS(null);const h=window.open(e||"",o,u);Wt(h,t,"popup-blocked");try{h.focus()}catch{}return new HS(h)}function aq(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iq="__/auth/handler",sq="emulator/auth/handler",oq=encodeURIComponent("fac");async function qS(t,e,r,n,a,i){Wt(t.config.authDomain,t,"auth-domain-config-required"),Wt(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Ih,eventId:a};if(e instanceof RR){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Hj(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))s[u]=h}if(e instanceof xm){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${oq}=${encodeURIComponent(l)}`:"";return`${lq(t)}?${mm(o).slice(1)}${c}`}function lq({config:t}){return t.emulator?h4(t,sq):`https://${t.authDomain}/${iq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="webStorageSupport";class cq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BR,this._completeRedirectFn=DH,this._overrideRedirectResult=IH}async _openPopup(e,r,n,a){var s;Ic((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const i=await qS(e,r,n,lw(),a);return nq(e,i,v4())}async _openRedirect(e,r,n,a){await this._originValidation(e);const i=await qS(e,r,n,lw(),a);return hH(i),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:a,promise:i}=this.eventManagers[r];return a?Promise.resolve(a):(Ic(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await QH(e),n=new PH(e);return r.register("authEvent",a=>(Wt(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(hy,{type:hy},a=>{var s;const i=(s=a==null?void 0:a[0])==null?void 0:s[hy];i!==void 0&&r(!!i),Yo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=jH(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return TR()||yR()||p4()}}const uq=cq;var GS="@firebase/auth",WS="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dq(t){ch(new Ju("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;Wt(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kR(t)},c=new kz(n,a,i,l);return Mz(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),ch(new Ju("auth-internal",e=>{const r=pf(e.getProvider("auth").getImmediate());return(n=>new fq(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cl(GS,WS,hq(t)),Cl(GS,WS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pq=5*60,mq=aR("authIdTokenMaxAge")||pq;let $S=null;const gq=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>mq)return;const a=r==null?void 0:r.token;$S!==a&&($S=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function vq(t=u4()){const e=Ex(t,"auth");if(e.isInitialized())return e.getImmediate();const r=Fz(t,{popupRedirectResolver:uq,persistence:[wH,cH,BR]}),n=aR("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const s=gq(i.toString());iH(r,s,()=>s(r.currentUser)),aH(r,o=>s(o))}}const a=tR("auth");return a&&Bz(r,`http://${a}`),r}function xq(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Cz({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=a=>{const i=Nl("internal-error");i.customData=a,r(i)},n.type="text/javascript",n.charset="UTF-8",xq().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dq("Browser");var _q="firebase",yq="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cl(_q,yq,"app");var XS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qu,GR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,E){function y(){}y.prototype=E.prototype,N.F=E.prototype,N.prototype=new y,N.prototype.constructor=N,N.D=function(R,A,C){for(var k=Array(arguments.length-2),q=2;q<arguments.length;q++)k[q-2]=arguments[q];return E.prototype[A].apply(R,k)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,E,y){y||(y=0);const R=Array(16);if(typeof E=="string")for(var A=0;A<16;++A)R[A]=E.charCodeAt(y++)|E.charCodeAt(y++)<<8|E.charCodeAt(y++)<<16|E.charCodeAt(y++)<<24;else for(A=0;A<16;++A)R[A]=E[y++]|E[y++]<<8|E[y++]<<16|E[y++]<<24;E=N.g[0],y=N.g[1],A=N.g[2];let C=N.g[3],k;k=E+(C^y&(A^C))+R[0]+3614090360&4294967295,E=y+(k<<7&4294967295|k>>>25),k=C+(A^E&(y^A))+R[1]+3905402710&4294967295,C=E+(k<<12&4294967295|k>>>20),k=A+(y^C&(E^y))+R[2]+606105819&4294967295,A=C+(k<<17&4294967295|k>>>15),k=y+(E^A&(C^E))+R[3]+3250441966&4294967295,y=A+(k<<22&4294967295|k>>>10),k=E+(C^y&(A^C))+R[4]+4118548399&4294967295,E=y+(k<<7&4294967295|k>>>25),k=C+(A^E&(y^A))+R[5]+1200080426&4294967295,C=E+(k<<12&4294967295|k>>>20),k=A+(y^C&(E^y))+R[6]+2821735955&4294967295,A=C+(k<<17&4294967295|k>>>15),k=y+(E^A&(C^E))+R[7]+4249261313&4294967295,y=A+(k<<22&4294967295|k>>>10),k=E+(C^y&(A^C))+R[8]+1770035416&4294967295,E=y+(k<<7&4294967295|k>>>25),k=C+(A^E&(y^A))+R[9]+2336552879&4294967295,C=E+(k<<12&4294967295|k>>>20),k=A+(y^C&(E^y))+R[10]+4294925233&4294967295,A=C+(k<<17&4294967295|k>>>15),k=y+(E^A&(C^E))+R[11]+2304563134&4294967295,y=A+(k<<22&4294967295|k>>>10),k=E+(C^y&(A^C))+R[12]+1804603682&4294967295,E=y+(k<<7&4294967295|k>>>25),k=C+(A^E&(y^A))+R[13]+4254626195&4294967295,C=E+(k<<12&4294967295|k>>>20),k=A+(y^C&(E^y))+R[14]+2792965006&4294967295,A=C+(k<<17&4294967295|k>>>15),k=y+(E^A&(C^E))+R[15]+1236535329&4294967295,y=A+(k<<22&4294967295|k>>>10),k=E+(A^C&(y^A))+R[1]+4129170786&4294967295,E=y+(k<<5&4294967295|k>>>27),k=C+(y^A&(E^y))+R[6]+3225465664&4294967295,C=E+(k<<9&4294967295|k>>>23),k=A+(E^y&(C^E))+R[11]+643717713&4294967295,A=C+(k<<14&4294967295|k>>>18),k=y+(C^E&(A^C))+R[0]+3921069994&4294967295,y=A+(k<<20&4294967295|k>>>12),k=E+(A^C&(y^A))+R[5]+3593408605&4294967295,E=y+(k<<5&4294967295|k>>>27),k=C+(y^A&(E^y))+R[10]+38016083&4294967295,C=E+(k<<9&4294967295|k>>>23),k=A+(E^y&(C^E))+R[15]+3634488961&4294967295,A=C+(k<<14&4294967295|k>>>18),k=y+(C^E&(A^C))+R[4]+3889429448&4294967295,y=A+(k<<20&4294967295|k>>>12),k=E+(A^C&(y^A))+R[9]+568446438&4294967295,E=y+(k<<5&4294967295|k>>>27),k=C+(y^A&(E^y))+R[14]+3275163606&4294967295,C=E+(k<<9&4294967295|k>>>23),k=A+(E^y&(C^E))+R[3]+4107603335&4294967295,A=C+(k<<14&4294967295|k>>>18),k=y+(C^E&(A^C))+R[8]+1163531501&4294967295,y=A+(k<<20&4294967295|k>>>12),k=E+(A^C&(y^A))+R[13]+2850285829&4294967295,E=y+(k<<5&4294967295|k>>>27),k=C+(y^A&(E^y))+R[2]+4243563512&4294967295,C=E+(k<<9&4294967295|k>>>23),k=A+(E^y&(C^E))+R[7]+1735328473&4294967295,A=C+(k<<14&4294967295|k>>>18),k=y+(C^E&(A^C))+R[12]+2368359562&4294967295,y=A+(k<<20&4294967295|k>>>12),k=E+(y^A^C)+R[5]+4294588738&4294967295,E=y+(k<<4&4294967295|k>>>28),k=C+(E^y^A)+R[8]+2272392833&4294967295,C=E+(k<<11&4294967295|k>>>21),k=A+(C^E^y)+R[11]+1839030562&4294967295,A=C+(k<<16&4294967295|k>>>16),k=y+(A^C^E)+R[14]+4259657740&4294967295,y=A+(k<<23&4294967295|k>>>9),k=E+(y^A^C)+R[1]+2763975236&4294967295,E=y+(k<<4&4294967295|k>>>28),k=C+(E^y^A)+R[4]+1272893353&4294967295,C=E+(k<<11&4294967295|k>>>21),k=A+(C^E^y)+R[7]+4139469664&4294967295,A=C+(k<<16&4294967295|k>>>16),k=y+(A^C^E)+R[10]+3200236656&4294967295,y=A+(k<<23&4294967295|k>>>9),k=E+(y^A^C)+R[13]+681279174&4294967295,E=y+(k<<4&4294967295|k>>>28),k=C+(E^y^A)+R[0]+3936430074&4294967295,C=E+(k<<11&4294967295|k>>>21),k=A+(C^E^y)+R[3]+3572445317&4294967295,A=C+(k<<16&4294967295|k>>>16),k=y+(A^C^E)+R[6]+76029189&4294967295,y=A+(k<<23&4294967295|k>>>9),k=E+(y^A^C)+R[9]+3654602809&4294967295,E=y+(k<<4&4294967295|k>>>28),k=C+(E^y^A)+R[12]+3873151461&4294967295,C=E+(k<<11&4294967295|k>>>21),k=A+(C^E^y)+R[15]+530742520&4294967295,A=C+(k<<16&4294967295|k>>>16),k=y+(A^C^E)+R[2]+3299628645&4294967295,y=A+(k<<23&4294967295|k>>>9),k=E+(A^(y|~C))+R[0]+4096336452&4294967295,E=y+(k<<6&4294967295|k>>>26),k=C+(y^(E|~A))+R[7]+1126891415&4294967295,C=E+(k<<10&4294967295|k>>>22),k=A+(E^(C|~y))+R[14]+2878612391&4294967295,A=C+(k<<15&4294967295|k>>>17),k=y+(C^(A|~E))+R[5]+4237533241&4294967295,y=A+(k<<21&4294967295|k>>>11),k=E+(A^(y|~C))+R[12]+1700485571&4294967295,E=y+(k<<6&4294967295|k>>>26),k=C+(y^(E|~A))+R[3]+2399980690&4294967295,C=E+(k<<10&4294967295|k>>>22),k=A+(E^(C|~y))+R[10]+4293915773&4294967295,A=C+(k<<15&4294967295|k>>>17),k=y+(C^(A|~E))+R[1]+2240044497&4294967295,y=A+(k<<21&4294967295|k>>>11),k=E+(A^(y|~C))+R[8]+1873313359&4294967295,E=y+(k<<6&4294967295|k>>>26),k=C+(y^(E|~A))+R[15]+4264355552&4294967295,C=E+(k<<10&4294967295|k>>>22),k=A+(E^(C|~y))+R[6]+2734768916&4294967295,A=C+(k<<15&4294967295|k>>>17),k=y+(C^(A|~E))+R[13]+1309151649&4294967295,y=A+(k<<21&4294967295|k>>>11),k=E+(A^(y|~C))+R[4]+4149444226&4294967295,E=y+(k<<6&4294967295|k>>>26),k=C+(y^(E|~A))+R[11]+3174756917&4294967295,C=E+(k<<10&4294967295|k>>>22),k=A+(E^(C|~y))+R[2]+718787259&4294967295,A=C+(k<<15&4294967295|k>>>17),k=y+(C^(A|~E))+R[9]+3951481745&4294967295,N.g[0]=N.g[0]+E&4294967295,N.g[1]=N.g[1]+(A+(k<<21&4294967295|k>>>11))&4294967295,N.g[2]=N.g[2]+A&4294967295,N.g[3]=N.g[3]+C&4294967295}n.prototype.v=function(N,E){E===void 0&&(E=N.length);const y=E-this.blockSize,R=this.C;let A=this.h,C=0;for(;C<E;){if(A==0)for(;C<=y;)a(this,N,C),C+=this.blockSize;if(typeof N=="string"){for(;C<E;)if(R[A++]=N.charCodeAt(C++),A==this.blockSize){a(this,R),A=0;break}}else for(;C<E;)if(R[A++]=N[C++],A==this.blockSize){a(this,R),A=0;break}}this.h=A,this.o+=E},n.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var E=1;E<N.length-8;++E)N[E]=0;E=this.o*8;for(var y=N.length-8;y<N.length;++y)N[y]=E&255,E/=256;for(this.v(N),N=Array(16),E=0,y=0;y<4;++y)for(let R=0;R<32;R+=8)N[E++]=this.g[y]>>>R&255;return N};function i(N,E){var y=o;return Object.prototype.hasOwnProperty.call(y,N)?y[N]:y[N]=E(N)}function s(N,E){this.h=E;const y=[];let R=!0;for(let A=N.length-1;A>=0;A--){const C=N[A]|0;R&&C==E||(y[A]=C,R=!1)}this.g=y}var o={};function l(N){return-128<=N&&N<128?i(N,function(E){return new s([E|0],E<0?-1:0)}):new s([N|0],N<0?-1:0)}function c(N){if(isNaN(N)||!isFinite(N))return h;if(N<0)return _(c(-N));const E=[];let y=1;for(let R=0;N>=y;R++)E[R]=N/y|0,y*=4294967296;return new s(E,0)}function u(N,E){if(N.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(N.charAt(0)=="-")return _(u(N.substring(1),E));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const y=c(Math.pow(E,8));let R=h;for(let C=0;C<N.length;C+=8){var A=Math.min(8,N.length-C);const k=parseInt(N.substring(C,C+A),E);A<8?(A=c(Math.pow(E,A)),R=R.j(A).add(c(k))):(R=R.j(y),R=R.add(c(k)))}return R}var h=l(0),d=l(1),f=l(16777216);t=s.prototype,t.m=function(){if(m(this))return-_(this).m();let N=0,E=1;for(let y=0;y<this.g.length;y++){const R=this.i(y);N+=(R>=0?R:4294967296+R)*E,E*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(p(this))return"0";if(m(this))return"-"+_(this).toString(N);const E=c(Math.pow(N,6));var y=this;let R="";for(;;){const A=I(y,E).g;y=x(y,A.j(E));let C=((y.g.length>0?y.g[0]:y.h)>>>0).toString(N);if(y=A,p(y))return C+R;for(;C.length<6;)C="0"+C;R=C+R}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function p(N){if(N.h!=0)return!1;for(let E=0;E<N.g.length;E++)if(N.g[E]!=0)return!1;return!0}function m(N){return N.h==-1}t.l=function(N){return N=x(this,N),m(N)?-1:p(N)?0:1};function _(N){const E=N.g.length,y=[];for(let R=0;R<E;R++)y[R]=~N.g[R];return new s(y,~N.h).add(d)}t.abs=function(){return m(this)?_(this):this},t.add=function(N){const E=Math.max(this.g.length,N.g.length),y=[];let R=0;for(let A=0;A<=E;A++){let C=R+(this.i(A)&65535)+(N.i(A)&65535),k=(C>>>16)+(this.i(A)>>>16)+(N.i(A)>>>16);R=k>>>16,C&=65535,k&=65535,y[A]=k<<16|C}return new s(y,y[y.length-1]&-2147483648?-1:0)};function x(N,E){return N.add(_(E))}t.j=function(N){if(p(this)||p(N))return h;if(m(this))return m(N)?_(this).j(_(N)):_(_(this).j(N));if(m(N))return _(this.j(_(N)));if(this.l(f)<0&&N.l(f)<0)return c(this.m()*N.m());const E=this.g.length+N.g.length,y=[];for(var R=0;R<2*E;R++)y[R]=0;for(R=0;R<this.g.length;R++)for(let A=0;A<N.g.length;A++){const C=this.i(R)>>>16,k=this.i(R)&65535,q=N.i(A)>>>16,X=N.i(A)&65535;y[2*R+2*A]+=k*X,T(y,2*R+2*A),y[2*R+2*A+1]+=C*X,T(y,2*R+2*A+1),y[2*R+2*A+1]+=k*q,T(y,2*R+2*A+1),y[2*R+2*A+2]+=C*q,T(y,2*R+2*A+2)}for(N=0;N<E;N++)y[N]=y[2*N+1]<<16|y[2*N];for(N=E;N<2*E;N++)y[N]=0;return new s(y,0)};function T(N,E){for(;(N[E]&65535)!=N[E];)N[E+1]+=N[E]>>>16,N[E]&=65535,E++}function w(N,E){this.g=N,this.h=E}function I(N,E){if(p(E))throw Error("division by zero");if(p(N))return new w(h,h);if(m(N))return E=I(_(N),E),new w(_(E.g),_(E.h));if(m(E))return E=I(N,_(E)),new w(_(E.g),E.h);if(N.g.length>30){if(m(N)||m(E))throw Error("slowDivide_ only works with positive integers.");for(var y=d,R=E;R.l(N)<=0;)y=j(y),R=j(R);var A=P(y,1),C=P(R,1);for(R=P(R,2),y=P(y,2);!p(R);){var k=C.add(R);k.l(N)<=0&&(A=A.add(y),C=k),R=P(R,1),y=P(y,1)}return E=x(N,A.j(E)),new w(A,E)}for(A=h;N.l(E)>=0;){for(y=Math.max(1,Math.floor(N.m()/E.m())),R=Math.ceil(Math.log(y)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),C=c(y),k=C.j(E);m(k)||k.l(N)>0;)y-=R,C=c(y),k=C.j(E);p(C)&&(C=d),A=A.add(C),N=x(N,k)}return new w(A,N)}t.B=function(N){return I(this,N).h},t.and=function(N){const E=Math.max(this.g.length,N.g.length),y=[];for(let R=0;R<E;R++)y[R]=this.i(R)&N.i(R);return new s(y,this.h&N.h)},t.or=function(N){const E=Math.max(this.g.length,N.g.length),y=[];for(let R=0;R<E;R++)y[R]=this.i(R)|N.i(R);return new s(y,this.h|N.h)},t.xor=function(N){const E=Math.max(this.g.length,N.g.length),y=[];for(let R=0;R<E;R++)y[R]=this.i(R)^N.i(R);return new s(y,this.h^N.h)};function j(N){const E=N.g.length+1,y=[];for(let R=0;R<E;R++)y[R]=N.i(R)<<1|N.i(R-1)>>>31;return new s(y,N.h)}function P(N,E){const y=E>>5;E%=32;const R=N.g.length-y,A=[];for(let C=0;C<R;C++)A[C]=E>0?N.i(C+y)>>>E|N.i(C+y+1)<<32-E:N.i(C+y);return new s(A,N.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,GR=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,qu=s}).apply(typeof XS<"u"?XS:typeof self<"u"?self:typeof window<"u"?window:{});var Ag=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WR,C1,$R,y2,fw,XR,KR,YR;(function(){var t,e=Object.defineProperty;function r(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ag=="object"&&Ag];for(var B=0;B<v.length;++B){var G=v[B];if(G&&G.Math==Math)return G}throw Error("Cannot find global object")}var n=r(this);function a(v,B){if(B)e:{var G=n;v=v.split(".");for(var se=0;se<v.length-1;se++){var Le=v[se];if(!(Le in G))break e;G=G[Le]}v=v[v.length-1],se=G[v],B=B(se),B!=se&&B!=null&&e(G,v,{configurable:!0,writable:!0,value:B})}}a("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(v){return v||function(B){var G=[],se;for(se in B)Object.prototype.hasOwnProperty.call(B,se)&&G.push([se,B[se]]);return G}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},s=this||self;function o(v){var B=typeof v;return B=="object"&&v!=null||B=="function"}function l(v,B,G){return v.call.apply(v.bind,arguments)}function c(v,B,G){return c=l,c.apply(null,arguments)}function u(v,B){var G=Array.prototype.slice.call(arguments,1);return function(){var se=G.slice();return se.push.apply(se,arguments),v.apply(this,se)}}function h(v,B){function G(){}G.prototype=B.prototype,v.Z=B.prototype,v.prototype=new G,v.prototype.constructor=v,v.Ob=function(se,Le,ze){for(var ft=Array(arguments.length-2),or=2;or<arguments.length;or++)ft[or-2]=arguments[or];return B.prototype[Le].apply(se,ft)}}var d=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function f(v){const B=v.length;if(B>0){const G=Array(B);for(let se=0;se<B;se++)G[se]=v[se];return G}return[]}function p(v,B){for(let se=1;se<arguments.length;se++){const Le=arguments[se];var G=typeof Le;if(G=G!="object"?G:Le?Array.isArray(Le)?"array":G:"null",G=="array"||G=="object"&&typeof Le.length=="number"){G=v.length||0;const ze=Le.length||0;v.length=G+ze;for(let ft=0;ft<ze;ft++)v[G+ft]=Le[ft]}else v.push(Le)}}class m{constructor(B,G){this.i=B,this.j=G,this.h=0,this.g=null}get(){let B;return this.h>0?(this.h--,B=this.g,this.g=B.next,B.next=null):B=this.i(),B}}function _(v){s.setTimeout(()=>{throw v},0)}function x(){var v=N;let B=null;return v.g&&(B=v.g,v.g=v.g.next,v.g||(v.h=null),B.next=null),B}class T{constructor(){this.h=this.g=null}add(B,G){const se=w.get();se.set(B,G),this.h?this.h.next=se:this.g=se,this.h=se}}var w=new m(()=>new I,v=>v.reset());class I{constructor(){this.next=this.g=this.h=null}set(B,G){this.h=B,this.g=G,this.next=null}reset(){this.next=this.g=this.h=null}}let j,P=!1,N=new T,E=()=>{const v=Promise.resolve(void 0);j=()=>{v.then(y)}};function y(){for(var v;v=x();){try{v.h.call(v.g)}catch(G){_(G)}var B=w;B.j(v),B.h<100&&(B.h++,v.next=B.g,B.g=v)}P=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(v,B){this.type=v,this.g=this.target=B,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var v=!1,B=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const G=()=>{};s.addEventListener("test",G,B),s.removeEventListener("test",G,B)}catch{}return v}();function k(v){return/^[\s\xa0]*$/.test(v)}function q(v,B){A.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,B)}h(q,A),q.prototype.init=function(v,B){const G=this.type=v.type,se=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=B,B=v.relatedTarget,B||(G=="mouseover"?B=v.fromElement:G=="mouseout"&&(B=v.toElement)),this.relatedTarget=B,se?(this.clientX=se.clientX!==void 0?se.clientX:se.pageX,this.clientY=se.clientY!==void 0?se.clientY:se.pageY,this.screenX=se.screenX||0,this.screenY=se.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&q.Z.h.call(this)},q.prototype.h=function(){q.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var X="closure_listenable_"+(Math.random()*1e6|0),V=0;function H(v,B,G,se,Le){this.listener=v,this.proxy=null,this.src=B,this.type=G,this.capture=!!se,this.ha=Le,this.key=++V,this.da=this.fa=!1}function ae(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function W(v,B,G){for(const se in v)B.call(G,v[se],se,v)}function ge(v,B){for(const G in v)B.call(void 0,v[G],G,v)}function be(v){const B={};for(const G in v)B[G]=v[G];return B}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(v,B){let G,se;for(let Le=1;Le<arguments.length;Le++){se=arguments[Le];for(G in se)v[G]=se[G];for(let ze=0;ze<D.length;ze++)G=D[ze],Object.prototype.hasOwnProperty.call(se,G)&&(v[G]=se[G])}}function U(v){this.src=v,this.g={},this.h=0}U.prototype.add=function(v,B,G,se,Le){const ze=v.toString();v=this.g[ze],v||(v=this.g[ze]=[],this.h++);const ft=Q(v,B,se,Le);return ft>-1?(B=v[ft],G||(B.fa=!1)):(B=new H(B,this.src,ze,!!se,Le),B.fa=G,v.push(B)),B};function M(v,B){const G=B.type;if(G in v.g){var se=v.g[G],Le=Array.prototype.indexOf.call(se,B,void 0),ze;(ze=Le>=0)&&Array.prototype.splice.call(se,Le,1),ze&&(ae(B),v.g[G].length==0&&(delete v.g[G],v.h--))}}function Q(v,B,G,se){for(let Le=0;Le<v.length;++Le){const ze=v[Le];if(!ze.da&&ze.listener==B&&ze.capture==!!G&&ze.ha==se)return Le}return-1}var oe="closure_lm_"+(Math.random()*1e6|0),de={};function he(v,B,G,se,Le){if(Array.isArray(B)){for(let ze=0;ze<B.length;ze++)he(v,B[ze],G,se,Le);return null}return G=Oe(G),v&&v[X]?v.J(B,G,o(se)?!!se.capture:!1,Le):we(v,B,G,!1,se,Le)}function we(v,B,G,se,Le,ze){if(!B)throw Error("Invalid event type");const ft=o(Le)?!!Le.capture:!!Le;let or=Te(v);if(or||(v[oe]=or=new U(v)),G=or.add(B,G,se,ft,ze),G.proxy)return G;if(se=ke(),G.proxy=se,se.src=v,se.listener=G,v.addEventListener)C||(Le=ft),Le===void 0&&(Le=!1),v.addEventListener(B.toString(),se,Le);else if(v.attachEvent)v.attachEvent(Ae(B.toString()),se);else if(v.addListener&&v.removeListener)v.addListener(se);else throw Error("addEventListener and attachEvent are unavailable.");return G}function ke(){function v(G){return B.call(v.src,v.listener,G)}const B=K;return v}function ne(v,B,G,se,Le){if(Array.isArray(B))for(var ze=0;ze<B.length;ze++)ne(v,B[ze],G,se,Le);else se=o(se)?!!se.capture:!!se,G=Oe(G),v&&v[X]?(v=v.i,ze=String(B).toString(),ze in v.g&&(B=v.g[ze],G=Q(B,G,se,Le),G>-1&&(ae(B[G]),Array.prototype.splice.call(B,G,1),B.length==0&&(delete v.g[ze],v.h--)))):v&&(v=Te(v))&&(B=v.g[B.toString()],v=-1,B&&(v=Q(B,G,se,Le)),(G=v>-1?B[v]:null)&&Z(G))}function Z(v){if(typeof v!="number"&&v&&!v.da){var B=v.src;if(B&&B[X])M(B.i,v);else{var G=v.type,se=v.proxy;B.removeEventListener?B.removeEventListener(G,se,v.capture):B.detachEvent?B.detachEvent(Ae(G),se):B.addListener&&B.removeListener&&B.removeListener(se),(G=Te(B))?(M(G,v),G.h==0&&(G.src=null,B[oe]=null)):ae(v)}}}function Ae(v){return v in de?de[v]:de[v]="on"+v}function K(v,B){if(v.da)v=!0;else{B=new q(B,this);const G=v.listener,se=v.ha||v.src;v.fa&&Z(v),v=G.call(se,B)}return v}function Te(v){return v=v[oe],v instanceof U?v:null}var Re="__closure_events_fn_"+(Math.random()*1e9>>>0);function Oe(v){return typeof v=="function"?v:(v[Re]||(v[Re]=function(B){return v.handleEvent(B)}),v[Re])}function Ne(){R.call(this),this.i=new U(this),this.M=this,this.G=null}h(Ne,R),Ne.prototype[X]=!0,Ne.prototype.removeEventListener=function(v,B,G,se){ne(this,v,B,G,se)};function Qe(v,B){var G,se=v.G;if(se)for(G=[];se;se=se.G)G.push(se);if(v=v.M,se=B.type||B,typeof B=="string")B=new A(B,v);else if(B instanceof A)B.target=B.target||v;else{var Le=B;B=new A(se,v),F(B,Le)}Le=!0;let ze,ft;if(G)for(ft=G.length-1;ft>=0;ft--)ze=B.g=G[ft],Le=Ke(ze,se,!0,B)&&Le;if(ze=B.g=v,Le=Ke(ze,se,!0,B)&&Le,Le=Ke(ze,se,!1,B)&&Le,G)for(ft=0;ft<G.length;ft++)ze=B.g=G[ft],Le=Ke(ze,se,!1,B)&&Le}Ne.prototype.N=function(){if(Ne.Z.N.call(this),this.i){var v=this.i;for(const B in v.g){const G=v.g[B];for(let se=0;se<G.length;se++)ae(G[se]);delete v.g[B],v.h--}}this.G=null},Ne.prototype.J=function(v,B,G,se){return this.i.add(String(v),B,!1,G,se)},Ne.prototype.K=function(v,B,G,se){return this.i.add(String(v),B,!0,G,se)};function Ke(v,B,G,se){if(B=v.i.g[String(B)],!B)return!0;B=B.concat();let Le=!0;for(let ze=0;ze<B.length;++ze){const ft=B[ze];if(ft&&!ft.da&&ft.capture==G){const or=ft.listener,wn=ft.ha||ft.src;ft.fa&&M(v.i,ft),Le=or.call(wn,se)!==!1&&Le}}return Le&&!se.defaultPrevented}function ht(v,B){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=c(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(B)>2147483647?-1:s.setTimeout(v,B||0)}function ct(v){v.g=ht(()=>{v.g=null,v.i&&(v.i=!1,ct(v))},v.l);const B=v.h;v.h=null,v.m.apply(null,B)}class yt extends R{constructor(B,G){super(),this.m=B,this.l=G,this.h=null,this.i=!1,this.g=null}j(B){this.h=arguments,this.g?this.i=!0:ct(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mt(v){R.call(this),this.h=v,this.g={}}h(mt,R);var St=[];function $t(v){W(v.g,function(B,G){this.g.hasOwnProperty(G)&&Z(B)},v),v.g={}}mt.prototype.N=function(){mt.Z.N.call(this),$t(this)},mt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Et=s.JSON.stringify,gt=s.JSON.parse,at=class{stringify(v){return s.JSON.stringify(v,void 0)}parse(v){return s.JSON.parse(v,void 0)}};function it(){}function Ft(){}var wt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Nt(){A.call(this,"d")}h(Nt,A);function zt(){A.call(this,"c")}h(zt,A);var vr={},Ot=null;function Pe(){return Ot=Ot||new Ne}vr.Ia="serverreachability";function st(v){A.call(this,vr.Ia,v)}h(st,A);function ut(v){const B=Pe();Qe(B,new st(B))}vr.STAT_EVENT="statevent";function Qt(v,B){A.call(this,vr.STAT_EVENT,v),this.stat=B}h(Qt,A);function Tt(v){const B=Pe();Qe(B,new Qt(B,v))}vr.Ja="timingevent";function Ct(v,B){A.call(this,vr.Ja,v),this.size=B}h(Ct,A);function Kt(v,B){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){v()},B)}function Xr(){this.g=!0}Xr.prototype.ua=function(){this.g=!1};function Jt(v,B,G,se,Le,ze){v.info(function(){if(v.g)if(ze){var ft="",or=ze.split("&");for(let Sr=0;Sr<or.length;Sr++){var wn=or[Sr].split("=");if(wn.length>1){const bn=wn[0];wn=wn[1];const Va=bn.split("_");ft=Va.length>=2&&Va[1]=="type"?ft+(bn+"="+wn+"&"):ft+(bn+"=redacted&")}}}else ft=null;else ft=ze;return"XMLHTTP REQ ("+se+") [attempt "+Le+"]: "+B+`
`+G+`
`+ft})}function gn(v,B,G,se,Le,ze,ft){v.info(function(){return"XMLHTTP RESP ("+se+") [ attempt "+Le+"]: "+B+`
`+G+`
`+ze+" "+ft})}function Mr(v,B,G,se){v.info(function(){return"XMLHTTP TEXT ("+B+"): "+xs(v,G)+(se?" "+se:"")})}function Ut(v,B){v.info(function(){return"TIMEOUT: "+B})}Xr.prototype.info=function(){};function xs(v,B){if(!v.g)return B;if(!B)return null;try{const ze=JSON.parse(B);if(ze){for(v=0;v<ze.length;v++)if(Array.isArray(ze[v])){var G=ze[v];if(!(G.length<2)){var se=G[1];if(Array.isArray(se)&&!(se.length<1)){var Le=se[0];if(Le!="noop"&&Le!="stop"&&Le!="close")for(let ft=1;ft<se.length;ft++)se[ft]=""}}}}return Et(ze)}catch{return B}}var hi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Na={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Qa;function sn(){}h(sn,it),sn.prototype.g=function(){return new XMLHttpRequest},Qa=new sn;function vn(v){return encodeURIComponent(String(v))}function ee(v){var B=1;v=v.split(":");const G=[];for(;B>0&&v.length;)G.push(v.shift()),B--;return v.length&&G.push(v.join(":")),G}function pe(v,B,G,se){this.j=v,this.i=B,this.l=G,this.S=se||1,this.V=new mt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var ue={},me={};function ye(v,B,G){v.M=1,v.A=zl(Qi(B)),v.u=G,v.R=!0,Fe(v,null)}function Fe(v,B){v.F=Date.now(),je(v),v.B=Qi(v.A);var G=v.B,se=v.S;Array.isArray(se)||(se=[String(se)]),qh(G.i,"t",se),v.C=0,G=v.j.L,v.h=new le,v.g=Rt(v.j,G?B:null,!v.u),v.P>0&&(v.O=new yt(c(v.Y,v,v.g),v.P)),B=v.V,G=v.g,se=v.ba;var Le="readystatechange";Array.isArray(Le)||(Le&&(St[0]=Le.toString()),Le=St);for(let ze=0;ze<Le.length;ze++){const ft=he(G,Le[ze],se||B.handleEvent,!1,B.h||B);if(!ft)break;B.g[ft.key]=ft}B=v.J?be(v.J):{},v.u?(v.v||(v.v="POST"),B["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,B)):(v.v="GET",v.g.ea(v.B,v.v,null,B)),ut(),Jt(v.i,v.v,v.B,v.l,v.S,v.u)}pe.prototype.ba=function(v){v=v.target;const B=this.O;B&&ts(v)==3?B.j():this.Y(v)},pe.prototype.Y=function(v){try{if(v==this.g)e:{const or=ts(this.g),wn=this.g.ya(),Sr=this.g.ca();if(!(or<3)&&(or!=3||this.g&&(this.h.h||this.g.la()||qc(this.g)))){this.K||or!=4||wn==7||(wn==8||Sr<=0?ut(3):ut(2)),dt(this);var B=this.g.ca();this.X=B;var G=He(this);if(this.o=B==200,gn(this.i,this.v,this.B,this.l,this.S,or,B),this.o){if(this.U&&!this.L){t:{if(this.g){var se,Le=this.g;if((se=Le.g?Le.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(se)){var ze=se;break t}}ze=null}if(v=ze)Mr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xt(this,v);else{this.o=!1,this.m=3,Tt(12),ot(this),_t(this);break e}}if(this.R){v=!0;let bn;for(;!this.K&&this.C<G.length;)if(bn=Be(this,G),bn==me){or==4&&(this.m=4,Tt(14),v=!1),Mr(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==ue){this.m=4,Tt(15),Mr(this.i,this.l,G,"[Invalid Chunk]"),v=!1;break}else Mr(this.i,this.l,bn,null),xt(this,bn);if(Me(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),or!=4||G.length!=0||this.h.h||(this.m=1,Tt(16),v=!1),this.o=this.o&&v,!v)Mr(this.i,this.l,G,"[Invalid Chunked Response]"),ot(this),_t(this);else if(G.length>0&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.aa&&!ft.P&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Wc(ft),ft.P=!0,Tt(11))}}else Mr(this.i,this.l,G,null),xt(this,G);or==4&&ot(this),this.o&&!this.K&&(or==4?ve(this.j,this):(this.o=!1,je(this)))}else $h(this.g),B==400&&G.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),ot(this),_t(this)}}}catch{}finally{}};function He(v){if(!Me(v))return v.g.la();const B=qc(v.g);if(B==="")return"";let G="";const se=B.length,Le=ts(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return ot(v),_t(v),"";v.h.i=new s.TextDecoder}for(let ze=0;ze<se;ze++)v.h.h=!0,G+=v.h.i.decode(B[ze],{stream:!(Le&&ze==se-1)});return B.length=0,v.h.g+=G,v.C=0,v.h.g}function Me(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function Be(v,B){var G=v.C,se=B.indexOf(`
`,G);return se==-1?me:(G=Number(B.substring(G,se)),isNaN(G)?ue:(se+=1,se+G>B.length?me:(B=B.slice(se,se+G),v.C=se+G,B)))}pe.prototype.cancel=function(){this.K=!0,ot(this)};function je(v){v.T=Date.now()+v.H,nt(v,v.H)}function nt(v,B){if(v.D!=null)throw Error("WatchDog timer not null");v.D=Kt(c(v.aa,v),B)}function dt(v){v.D&&(s.clearTimeout(v.D),v.D=null)}pe.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(Ut(this.i,this.B),this.M!=2&&(ut(),Tt(17)),ot(this),this.m=2,_t(this)):nt(this,this.T-v)};function _t(v){v.j.I==0||v.K||ve(v.j,v)}function ot(v){dt(v);var B=v.O;B&&typeof B.dispose=="function"&&B.dispose(),v.O=null,$t(v.V),v.g&&(B=v.g,v.g=null,B.abort(),B.dispose())}function xt(v,B){try{var G=v.j;if(G.I!=0&&(G.g==v||Yi(G.h,v))){if(!v.L&&Yi(G.h,v)&&G.I==3){try{var se=G.Ba.g.parse(B)}catch{se=null}if(Array.isArray(se)&&se.length==3){var Le=se;if(Le[0]==0){e:if(!G.v){if(G.g)if(G.g.F+3e3<v.F)Y(G),ll(G);else break e;Oo(G),Tt(18)}}else G.xa=Le[1],0<G.xa-G.K&&Le[2]<37500&&G.F&&G.A==0&&!G.C&&(G.C=Kt(c(G.Va,G),6e3));kn(G.h)<=1&&G.ta&&(G.ta=void 0)}else Ie(G,11)}else if((v.L||G.g==v)&&Y(G),!k(B))for(Le=G.Ba.g.parse(B),B=0;B<Le.length;B++){let Sr=Le[B];const bn=Sr[0];if(!(bn<=G.K))if(G.K=bn,Sr=Sr[1],G.I==2)if(Sr[0]=="c"){G.M=Sr[1],G.ba=Sr[2];const Va=Sr[3];Va!=null&&(G.ka=Va,G.j.info("VER="+G.ka));const di=Sr[4];di!=null&&(G.za=di,G.j.info("SVER="+G.za));const En=Sr[5];En!=null&&typeof En=="number"&&En>0&&(se=1.5*En,G.O=se,G.j.info("backChannelRequestTimeoutMs_="+se)),se=G;const pi=v.g;if(pi){const no=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(no){var ze=se.h;ze.g||no.indexOf("spdy")==-1&&no.indexOf("quic")==-1&&no.indexOf("h2")==-1||(ze.j=ze.l,ze.g=new Set,ze.h&&(Li(ze,ze.h),ze.h=null))}if(se.G){const Gl=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;Gl&&(se.wa=Gl,Vr(se.J,se.G,Gl))}}G.I=3,G.l&&G.l.ra(),G.aa&&(G.T=Date.now()-v.F,G.j.info("Handshake RTT: "+G.T+"ms")),se=G;var ft=v;if(se.na=et(se,se.L?se.ba:null,se.W),ft.L){_s(se.h,ft);var or=ft,wn=se.O;wn&&(or.H=wn),or.D&&(dt(or),je(or)),se.g=ft}else Sf(se);G.i.length>0&&ul(G)}else Sr[0]!="stop"&&Sr[0]!="close"||Ie(G,7);else G.I==3&&(Sr[0]=="stop"||Sr[0]=="close"?Sr[0]=="stop"?Ie(G,7):ol(G):Sr[0]!="noop"&&G.l&&G.l.qa(Sr),G.A=0)}}ut(4)}catch{}}var Zt=class{constructor(v,B){this.g=v,this.map=B}};function Hr(v){this.l=v||10,s.PerformanceNavigationTiming?(v=s.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _r(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function kn(v){return v.h?1:v.g?v.g.size:0}function Yi(v,B){return v.h?v.h==B:v.g?v.g.has(B):!1}function Li(v,B){v.g?v.g.add(B):v.h=B}function _s(v,B){v.h&&v.h==B?v.h=null:v.g&&v.g.has(B)&&v.g.delete(B)}Hr.prototype.cancel=function(){if(this.i=Di(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function Di(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let B=v.i;for(const G of v.g.values())B=B.concat(G.G);return B}return f(v.i)}var Ro=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gn(v,B){if(v){v=v.split("&");for(let G=0;G<v.length;G++){const se=v[G].indexOf("=");let Le,ze=null;se>=0?(Le=v[G].substring(0,se),ze=v[G].substring(se+1)):Le=v[G],B(Le,ze?decodeURIComponent(ze.replace(/\+/g," ")):"")}}}function Oi(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let B;v instanceof Oi?(this.l=v.l,xn(this,v.j),this.o=v.o,this.g=v.g,nl(this,v.u),this.h=v.h,Ji(this,jc(v.i)),this.m=v.m):v&&(B=String(v).match(Ro))?(this.l=!1,xn(this,B[1]||"",!0),this.o=ja(B[2]||""),this.g=ja(B[3]||"",!0),nl(this,B[4]),this.h=ja(B[5]||"",!0),Ji(this,B[6]||"",!0),this.m=ja(B[7]||"")):(this.l=!1,this.i=new al(null,this.l))}Oi.prototype.toString=function(){const v=[];var B=this.j;B&&v.push(Cn(B,wf,!0),":");var G=this.g;return(G||B=="file")&&(v.push("//"),(B=this.o)&&v.push(Cn(B,wf,!0),"@"),v.push(vn(G).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),G=this.u,G!=null&&v.push(":",String(G))),(G=this.h)&&(this.g&&G.charAt(0)!="/"&&v.push("/"),v.push(Cn(G,G.charAt(0)=="/"?qd:Hd,!0))),(G=this.i.toString())&&v.push("?",G),(G=this.m)&&v.push("#",Cn(G,Vh)),v.join("")},Oi.prototype.resolve=function(v){const B=Qi(this);let G=!!v.j;G?xn(B,v.j):G=!!v.o,G?B.o=v.o:G=!!v.g,G?B.g=v.g:G=v.u!=null;var se=v.h;if(G)nl(B,v.u);else if(G=!!v.h){if(se.charAt(0)!="/")if(this.g&&!this.h)se="/"+se;else{var Le=B.h.lastIndexOf("/");Le!=-1&&(se=B.h.slice(0,Le+1)+se)}if(Le=se,Le==".."||Le==".")se="";else if(Le.indexOf("./")!=-1||Le.indexOf("/.")!=-1){se=Le.lastIndexOf("/",0)==0,Le=Le.split("/");const ze=[];for(let ft=0;ft<Le.length;){const or=Le[ft++];or=="."?se&&ft==Le.length&&ze.push(""):or==".."?((ze.length>1||ze.length==1&&ze[0]!="")&&ze.pop(),se&&ft==Le.length&&ze.push("")):(ze.push(or),se=!0)}se=ze.join("/")}else se=Le}return G?B.h=se:G=v.i.toString()!=="",G?Ji(B,jc(v.i)):G=!!v.m,G&&(B.m=v.m),B};function Qi(v){return new Oi(v)}function xn(v,B,G){v.j=G?ja(B,!0):B,v.j&&(v.j=v.j.replace(/:$/,""))}function nl(v,B){if(B){if(B=Number(B),isNaN(B)||B<0)throw Error("Bad port number "+B);v.u=B}else v.u=null}function Ji(v,B,G){B instanceof al?(v.i=B,ys(v.i,v.l)):(G||(B=Cn(B,Zs)),v.i=new al(B,v.l))}function Vr(v,B,G){v.i.set(B,G)}function zl(v){return Vr(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function ja(v,B){return v?B?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Cn(v,B,G){return typeof v=="string"?(v=encodeURI(v).replace(B,Lo),G&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Lo(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var wf=/[#\/\?@]/g,Hd=/[#\?:]/g,qd=/[#\?]/g,Zs=/[#\?@]/g,Vh=/#/g;function al(v,B){this.h=this.g=null,this.i=v||null,this.j=!!B}function Zi(v){v.g||(v.g=new Map,v.h=0,v.i&&Gn(v.i,function(B,G){v.add(decodeURIComponent(B.replace(/\+/g," ")),G)}))}t=al.prototype,t.add=function(v,B){Zi(this),this.i=null,v=Do(this,v);let G=this.g.get(v);return G||this.g.set(v,G=[]),G.push(B),this.h+=1,this};function il(v,B){Zi(v),B=Do(v,B),v.g.has(B)&&(v.i=null,v.h-=v.g.get(B).length,v.g.delete(B))}function zh(v,B){return Zi(v),B=Do(v,B),v.g.has(B)}t.forEach=function(v,B){Zi(this),this.g.forEach(function(G,se){G.forEach(function(Le){v.call(B,Le,se,this)},this)},this)};function Hh(v,B){Zi(v);let G=[];if(typeof B=="string")zh(v,B)&&(G=G.concat(v.g.get(Do(v,B))));else for(v=Array.from(v.g.values()),B=0;B<v.length;B++)G=G.concat(v[B]);return G}t.set=function(v,B){return Zi(this),this.i=null,v=Do(this,v),zh(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[B]),this.h+=1,this},t.get=function(v,B){return v?(v=Hh(this,v),v.length>0?String(v[0]):B):B};function qh(v,B,G){il(v,B),G.length>0&&(v.i=null,v.g.set(Do(v,B),f(G)),v.h+=G.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],B=Array.from(this.g.keys());for(let se=0;se<B.length;se++){var G=B[se];const Le=vn(G);G=Hh(this,G);for(let ze=0;ze<G.length;ze++){let ft=Le;G[ze]!==""&&(ft+="="+vn(G[ze])),v.push(ft)}}return this.i=v.join("&")};function jc(v){const B=new al;return B.i=v.i,v.g&&(B.g=new Map(v.g),B.h=v.h),B}function Do(v,B){return B=String(B),v.j&&(B=B.toLowerCase()),B}function ys(v,B){B&&!v.j&&(Zi(v),v.i=null,v.g.forEach(function(G,se){const Le=se.toLowerCase();se!=Le&&(il(this,se),qh(this,Le,G))},v)),v.j=B}function Gd(v,B){const G=new Xr;if(s.Image){const se=new Image;se.onload=u(es,G,"TestLoadImage: loaded",!0,B,se),se.onerror=u(es,G,"TestLoadImage: error",!1,B,se),se.onabort=u(es,G,"TestLoadImage: abort",!1,B,se),se.ontimeout=u(es,G,"TestLoadImage: timeout",!1,B,se),s.setTimeout(function(){se.ontimeout&&se.ontimeout()},1e4),se.src=v}else B(!1)}function Hl(v,B){const G=new Xr,se=new AbortController,Le=setTimeout(()=>{se.abort(),es(G,"TestPingServer: timeout",!1,B)},1e4);fetch(v,{signal:se.signal}).then(ze=>{clearTimeout(Le),ze.ok?es(G,"TestPingServer: ok",!0,B):es(G,"TestPingServer: server error",!1,B)}).catch(()=>{clearTimeout(Le),es(G,"TestPingServer: error",!1,B)})}function es(v,B,G,se,Le){try{Le&&(Le.onload=null,Le.onerror=null,Le.onabort=null,Le.ontimeout=null),se(G)}catch{}}function Wd(){this.g=new at}function tr(v){this.i=v.Sb||null,this.h=v.ab||!1}h(tr,it),tr.prototype.g=function(){return new Vc(this.i,this.h)};function Vc(v,B){Ne.call(this),this.H=v,this.o=B,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Vc,Ne),t=Vc.prototype,t.open=function(v,B){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=B,this.readyState=1,Pi(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const B={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(B.body=v),(this.H||s).fetch(new Request(this.D,B)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ql(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Pi(this)),this.g&&(this.readyState=3,Pi(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Gh(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function Gh(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var B=v.value?v.value:new Uint8Array(0);(B=this.B.decode(B,{stream:!v.done}))&&(this.response=this.responseText+=B)}v.done?ql(this):Pi(this),this.readyState==3&&Gh(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,ql(this))},t.Na=function(v){this.g&&(this.response=v,ql(this))},t.ga=function(){this.g&&ql(this)};function ql(v){v.readyState=4,v.l=null,v.j=null,v.B=null,Pi(v)}t.setRequestHeader=function(v,B){this.A.append(v,B)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],B=this.h.entries();for(var G=B.next();!G.done;)G=G.value,v.push(G[0]+": "+G[1]),G=B.next();return v.join(`\r
`)};function Pi(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(Vc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function eo(v){let B="";return W(v,function(G,se){B+=se,B+=":",B+=G,B+=`\r
`}),B}function bf(v,B,G){e:{for(se in G){var se=!1;break e}se=!0}se||(G=eo(G),typeof v=="string"?G!=null&&vn(G):Vr(v,B,G))}function _n(v){Ne.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(_n,Ne);var zc=/^https?$/i,Ef=["POST","PUT"];t=_n.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,B,G,se){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);B=B?B.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Qa.g(),this.g.onreadystatechange=d(c(this.Ca,this));try{this.B=!0,this.g.open(B,String(v),!0),this.B=!1}catch(ze){sl(this,ze);return}if(v=G||"",G=new Map(this.headers),se)if(Object.getPrototypeOf(se)===Object.prototype)for(var Le in se)G.set(Le,se[Le]);else if(typeof se.keys=="function"&&typeof se.get=="function")for(const ze of se.keys())G.set(ze,se.get(ze));else throw Error("Unknown input type for opt_headers: "+String(se));se=Array.from(G.keys()).find(ze=>ze.toLowerCase()=="content-type"),Le=s.FormData&&v instanceof s.FormData,!(Array.prototype.indexOf.call(Ef,B,void 0)>=0)||se||Le||G.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ze,ft]of G)this.g.setRequestHeader(ze,ft);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(ze){sl(this,ze)}};function sl(v,B){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=B,v.o=5,Wh(v),Hc(v)}function Wh(v){v.A||(v.A=!0,Qe(v,"complete"),Qe(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,Qe(this,"complete"),Qe(this,"abort"),Hc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hc(this,!0)),_n.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?to(this):this.Xa())},t.Xa=function(){to(this)};function to(v){if(v.h&&typeof i<"u"){if(v.v&&ts(v)==4)setTimeout(v.Ca.bind(v),0);else if(Qe(v,"readystatechange"),ts(v)==4){v.h=!1;try{const ze=v.ca();e:switch(ze){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var B=!0;break e;default:B=!1}var G;if(!(G=B)){var se;if(se=ze===0){let ft=String(v.D).match(Ro)[1]||null;!ft&&s.self&&s.self.location&&(ft=s.self.location.protocol.slice(0,-1)),se=!zc.test(ft?ft.toLowerCase():"")}G=se}if(G)Qe(v,"complete"),Qe(v,"success");else{v.o=6;try{var Le=ts(v)>2?v.g.statusText:""}catch{Le=""}v.l=Le+" ["+v.ca()+"]",Wh(v)}}finally{Hc(v)}}}}function Hc(v,B){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const G=v.g;v.g=null,B||Qe(v,"ready");try{G.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ts(v){return v.g?v.g.readyState:0}t.ca=function(){try{return ts(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var B=this.g.responseText;return v&&B.indexOf(v)==0&&(B=B.substring(v.length)),gt(B)}};function qc(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function $h(v){const B={};v=(v.g&&ts(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let se=0;se<v.length;se++){if(k(v[se]))continue;var G=ee(v[se]);const Le=G[0];if(G=G[1],typeof G!="string")continue;G=G.trim();const ze=B[Le]||[];B[Le]=ze,ze.push(G)}ge(B,function(se){return se.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fi(v,B,G){return G&&G.internalChannelParams&&G.internalChannelParams[v]||B}function Gc(v){this.za=0,this.i=[],this.j=new Xr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fi("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fi("baseRetryDelayMs",5e3,v),this.Za=Fi("retryDelaySeedMs",1e4,v),this.Ta=Fi("forwardChannelMaxRetries",2,v),this.va=Fi("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new Hr(v&&v.concurrentRequestLimit),this.Ba=new Wd,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Gc.prototype,t.ka=8,t.I=1,t.connect=function(v,B,G,se){Tt(0),this.W=v,this.H=B||{},G&&se!==void 0&&(this.H.OSID=G,this.H.OAID=se),this.F=this.X,this.J=et(this,null,this.W),ul(this)};function ol(v){if(cl(v),v.I==3){var B=v.V++,G=Qi(v.J);if(Vr(G,"SID",v.M),Vr(G,"RID",B),Vr(G,"TYPE","terminate"),Mi(v,G),B=new pe(v,v.j,B),B.M=2,B.A=zl(Qi(G)),G=!1,s.navigator&&s.navigator.sendBeacon)try{G=s.navigator.sendBeacon(B.A.toString(),"")}catch{}!G&&s.Image&&(new Image().src=B.A,G=!0),G||(B.g=Rt(B.j,null),B.g.ea(B.A)),B.F=Date.now(),je(B)}We(v)}function ll(v){v.g&&(Wc(v),v.g.cancel(),v.g=null)}function cl(v){ll(v),v.v&&(s.clearTimeout(v.v),v.v=null),Y(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&s.clearTimeout(v.m),v.m=null)}function ul(v){if(!_r(v.h)&&!v.m){v.m=!0;var B=v.Ea;j||E(),P||(j(),P=!0),N.add(B,v),v.D=0}}function Xh(v,B){return kn(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=B.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=Kt(c(v.Ea,v,B),Ee(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const Le=new pe(this,this.j,v);let ze=this.o;if(this.U&&(ze?(ze=be(ze),F(ze,this.U)):ze=this.U),this.u!==null||this.R||(Le.J=ze,ze=null),this.S)e:{for(var B=0,G=0;G<this.i.length;G++){t:{var se=this.i[G];if("__data__"in se.map&&(se=se.map.__data__,typeof se=="string")){se=se.length;break t}se=void 0}if(se===void 0)break;if(B+=se,B>4096){B=G;break e}if(B===4096||G===this.i.length-1){B=G+1;break e}}B=1e3}else B=1e3;B=ro(this,Le,B),G=Qi(this.J),Vr(G,"RID",v),Vr(G,"CVER",22),this.G&&Vr(G,"X-HTTP-Session-Id",this.G),Mi(this,G),ze&&(this.R?B="headers="+vn(eo(ze))+"&"+B:this.u&&bf(G,this.u,ze)),Li(this.h,Le),this.Ra&&Vr(G,"TYPE","init"),this.S?(Vr(G,"$req",B),Vr(G,"SID","null"),Le.U=!0,ye(Le,G,null)):ye(Le,G,B),this.I=2}}else this.I==3&&(v?Af(this,v):this.i.length==0||_r(this.h)||Af(this))};function Af(v,B){var G;B?G=B.l:G=v.V++;const se=Qi(v.J);Vr(se,"SID",v.M),Vr(se,"RID",G),Vr(se,"AID",v.K),Mi(v,se),v.u&&v.o&&bf(se,v.u,v.o),G=new pe(v,v.j,G,v.D+1),v.u===null&&(G.J=v.o),B&&(v.i=B.G.concat(v.i)),B=ro(v,G,1e3),G.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),Li(v.h,G),ye(G,se,B)}function Mi(v,B){v.H&&W(v.H,function(G,se){Vr(B,se,G)}),v.l&&W({},function(G,se){Vr(B,se,G)})}function ro(v,B,G){G=Math.min(v.i.length,G);const se=v.l?c(v.l.Ka,v.l,v):null;e:{var Le=v.i;let or=-1;for(;;){const wn=["count="+G];or==-1?G>0?(or=Le[0].g,wn.push("ofs="+or)):or=0:wn.push("ofs="+or);let Sr=!0;for(let bn=0;bn<G;bn++){var ze=Le[bn].g;const Va=Le[bn].map;if(ze-=or,ze<0)or=Math.max(0,Le[bn].g-100),Sr=!1;else try{ze="req"+ze+"_"||"";try{var ft=Va instanceof Map?Va:Object.entries(Va);for(const[di,En]of ft){let pi=En;o(En)&&(pi=Et(En)),wn.push(ze+di+"="+encodeURIComponent(pi))}}catch(di){throw wn.push(ze+"type="+encodeURIComponent("_badmap")),di}}catch{se&&se(Va)}}if(Sr){ft=wn.join("&");break e}}ft=void 0}return v=v.i.splice(0,G),B.G=v,ft}function Sf(v){if(!v.g&&!v.v){v.Y=1;var B=v.Da;j||E(),P||(j(),P=!0),N.add(B,v),v.A=0}}function Oo(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=Kt(c(v.Da,v),Ee(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,L(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=Kt(c(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),ll(this),L(this))};function Wc(v){v.B!=null&&(s.clearTimeout(v.B),v.B=null)}function L(v){v.g=new pe(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var B=Qi(v.na);Vr(B,"RID","rpc"),Vr(B,"SID",v.M),Vr(B,"AID",v.K),Vr(B,"CI",v.F?"0":"1"),!v.F&&v.ia&&Vr(B,"TO",v.ia),Vr(B,"TYPE","xmlhttp"),Mi(v,B),v.u&&v.o&&bf(B,v.u,v.o),v.O&&(v.g.H=v.O);var G=v.g;v=v.ba,G.M=1,G.A=zl(Qi(B)),G.u=null,G.R=!0,Fe(G,v)}t.Va=function(){this.C!=null&&(this.C=null,ll(this),Oo(this),Tt(19))};function Y(v){v.C!=null&&(s.clearTimeout(v.C),v.C=null)}function ve(v,B){var G=null;if(v.g==B){Y(v),Wc(v),v.g=null;var se=2}else if(Yi(v.h,B))G=B.G,_s(v.h,B),se=1;else return;if(v.I!=0){if(B.o)if(se==1){G=B.u?B.u.length:0,B=Date.now()-B.F;var Le=v.D;se=Pe(),Qe(se,new Ct(se,G)),ul(v)}else Sf(v);else if(Le=B.m,Le==3||Le==0&&B.X>0||!(se==1&&Xh(v,B)||se==2&&Oo(v)))switch(G&&G.length>0&&(B=v.h,B.i=B.i.concat(G)),Le){case 1:Ie(v,5);break;case 4:Ie(v,10);break;case 3:Ie(v,6);break;default:Ie(v,2)}}}function Ee(v,B){let G=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(G*=2),G*B}function Ie(v,B){if(v.j.info("Error code "+B),B==2){var G=c(v.bb,v),se=v.Ua;const Le=!se;se=new Oi(se||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||xn(se,"https"),zl(se),Le?Gd(se.toString(),G):Hl(se.toString(),G)}else Tt(2);v.I=0,v.l&&v.l.pa(B),We(v),cl(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function We(v){if(v.I=0,v.ja=[],v.l){const B=Di(v.h);(B.length!=0||v.i.length!=0)&&(p(v.ja,B),p(v.ja,v.i),v.h.i.length=0,f(v.i),v.i.length=0),v.l.oa()}}function et(v,B,G){var se=G instanceof Oi?Qi(G):new Oi(G);if(se.g!="")B&&(se.g=B+"."+se.g),nl(se,se.u);else{var Le=s.location;se=Le.protocol,B=B?B+"."+Le.hostname:Le.hostname,Le=+Le.port;const ze=new Oi(null);se&&xn(ze,se),B&&(ze.g=B),Le&&nl(ze,Le),G&&(ze.h=G),se=ze}return G=v.G,B=v.wa,G&&B&&Vr(se,G,B),Vr(se,"VER",v.ka),Mi(v,se),se}function Rt(v,B,G){if(B&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return B=v.Aa&&!v.ma?new _n(new tr({ab:G})):new _n(v.ma),B.Fa(v.L),B}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pt(){}t=Pt.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Yt(){}Yt.prototype.g=function(v,B){return new Ht(v,B)};function Ht(v,B){Ne.call(this),this.g=new Gc(B),this.l=v,this.h=B&&B.messageUrlParams||null,v=B&&B.messageHeaders||null,B&&B.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=B&&B.initMessageHeaders||null,B&&B.messageContentType&&(v?v["X-WebChannel-Content-Type"]=B.messageContentType:v={"X-WebChannel-Content-Type":B.messageContentType}),B&&B.sa&&(v?v["X-WebChannel-Client-Profile"]=B.sa:v={"X-WebChannel-Client-Profile":B.sa}),this.g.U=v,(v=B&&B.Qb)&&!k(v)&&(this.g.u=v),this.A=B&&B.supportsCrossDomainXhr||!1,this.v=B&&B.sendRawJson||!1,(B=B&&B.httpSessionIdParam)&&!k(B)&&(this.g.G=B,v=this.h,v!==null&&B in v&&(v=this.h,B in v&&delete v[B])),this.j=new fn(this)}h(Ht,Ne),Ht.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){ol(this.g)},Ht.prototype.o=function(v){var B=this.g;if(typeof v=="string"){var G={};G.__data__=v,v=G}else this.v&&(G={},G.__data__=Et(v),v=G);B.i.push(new Zt(B.Ya++,v)),B.I==3&&ul(B)},Ht.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,Ht.Z.N.call(this)};function Ar(v){Nt.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var B=v.__sm__;if(B){e:{for(const G in B){v=G;break e}v=void 0}(this.i=v)&&(v=this.i,B=B!==null&&v in B?B[v]:void 0),this.data=B}else this.data=v}h(Ar,Nt);function yn(){zt.call(this),this.status=1}h(yn,zt);function fn(v){this.g=v}h(fn,Pt),fn.prototype.ra=function(){Qe(this.g,"a")},fn.prototype.qa=function(v){Qe(this.g,new Ar(v))},fn.prototype.pa=function(v){Qe(this.g,new yn)},fn.prototype.oa=function(){Qe(this.g,"b")},Yt.prototype.createWebChannel=Yt.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,YR=function(){return new Yt},KR=function(){return Pe()},XR=vr,fw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hi.NO_ERROR=0,hi.TIMEOUT=8,hi.HTTP_ERROR=6,y2=hi,Na.COMPLETE="complete",$R=Na,Ft.EventType=wt,wt.OPEN="a",wt.CLOSE="b",wt.ERROR="c",wt.MESSAGE="d",Ne.prototype.listen=Ne.prototype.J,C1=Ft,_n.prototype.listenOnce=_n.prototype.K,_n.prototype.getLastError=_n.prototype.Ha,_n.prototype.getLastErrorCode=_n.prototype.ya,_n.prototype.getStatus=_n.prototype.ca,_n.prototype.getResponseJson=_n.prototype.La,_n.prototype.getResponseText=_n.prototype.la,_n.prototype.send=_n.prototype.ea,_n.prototype.setWithCredentials=_n.prototype.Fa,WR=_n}).apply(typeof Ag<"u"?Ag:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ei.UNAUTHENTICATED=new Ei(null),Ei.GOOGLE_CREDENTIALS=new Ei("google-credentials-uid"),Ei.FIRST_PARTY=new Ei("first-party-uid"),Ei.MOCK_USER=new Ei("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ld="12.9.0";function wq(t){Ld=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new l4("@firebase/firestore");function f0(){return hh.logLevel}function It(t,...e){if(hh.logLevel<=Tr.DEBUG){const r=e.map(_4);hh.debug(`Firestore (${Ld}): ${t}`,...r)}}function Rc(t,...e){if(hh.logLevel<=Tr.ERROR){const r=e.map(_4);hh.error(`Firestore (${Ld}): ${t}`,...r)}}function dh(t,...e){if(hh.logLevel<=Tr.WARN){const r=e.map(_4);hh.warn(`Firestore (${Ld}): ${t}`,...r)}}function _4(t){if(typeof t=="string")return t;try{return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,QR(t,n,r)}function QR(t,e,r){let n=`FIRESTORE (${Ld}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Rc(n),new Error(n)}function Fr(t,e,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,t||QR(e,a,n)}function lr(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class At extends Bl{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Ei.UNAUTHENTICATED))}shutdown(){}}class Eq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Aq{constructor(e){this.t=e,this.currentUser=Ei.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Fr(this.o===void 0,42304);let n=this.i;const a=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let i=new _c;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new _c,e.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await a(this.currentUser)})},o=l=>{It("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(It("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new _c)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(It("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Fr(typeof n.accessToken=="string",31837,{l:n}),new JR(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fr(e===null||typeof e=="string",2055,{h:e}),new Ei(e)}}class Sq{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Ei.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Tq{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new Sq(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Ei.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kq{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ps(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Fr(this.o===void 0,3512);const n=i=>{i.error!=null&&It("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.m;return this.m=i.token,It("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const a=i=>{It("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):It("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new KS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Fr(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new KS(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=Cq(40);for(let i=0;i<a.length;++i)n.length<20&&a[i]<r&&(n+=e.charAt(a[i]%62))}return n}}function Cr(t,e){return t<e?-1:t>e?1:0}function hw(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const a=t.charAt(n),i=e.charAt(n);if(a!==i)return dy(a)===dy(i)?Cr(a,i):dy(a)?1:-1}return Cr(t.length,e.length)}const Nq=55296,Iq=57343;function dy(t){const e=t.charCodeAt(0);return e>=Nq&&e<=Iq}function hd(t,e,r){return t.length===e.length&&t.every((n,a)=>r(n,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="__name__";class _l{constructor(e,r,n){r===void 0?r=0:r>e.length&&Xt(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&Xt(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return _l.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof _l?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let a=0;a<n;a++){const i=_l.compareSegments(e.get(a),r.get(a));if(i!==0)return i}return Cr(e.length,r.length)}static compareSegments(e,r){const n=_l.isNumericId(e),a=_l.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?_l.extractNumericId(e).compare(_l.extractNumericId(r)):hw(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qu.fromString(e.substring(4,e.length-2))}}class cn extends _l{construct(e,r,n){return new cn(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new At(Xe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new cn(r)}static emptyPath(){return new cn([])}}const Rq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class oi extends _l{construct(e,r,n){return new oi(e,r,n)}static isValidIdentifier(e){return Rq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),oi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===YS}static keyField(){return new oi([YS])}static fromServerFormat(e){const r=[];let n="",a=0;const i=()=>{if(n.length===0)throw new At(Xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;a<e.length;){const o=e[a];if(o==="\\"){if(a+1===e.length)throw new At(Xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[a+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new At(Xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,a+=2}else o==="`"?(s=!s,a++):o!=="."||s?(n+=o,a++):(i(),a++)}if(i(),s)throw new At(Xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new oi(r)}static emptyPath(){return new oi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.path=e}static fromPath(e){return new qt(cn.fromString(e))}static fromName(e){return new qt(cn.fromString(e).popFirst(5))}static empty(){return new qt(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&cn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return cn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qt(new cn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(t,e,r){if(!r)throw new At(Xe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Lq(t,e,r,n){if(e===!0&&n===!0)throw new At(Xe.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function QS(t){if(!qt.isDocumentKey(t))throw new At(Xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function JS(t){if(qt.isDocumentKey(t))throw new At(Xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function e7(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function kx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Xt(12329,{type:typeof t})}function hs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new At(Xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=kx(t);throw new At(Xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(t,e){const r={typeString:t};return e&&(r.value=e),r}function ym(t,e){if(!e7(t))throw new At(Xe.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const a=e[n].typeString,i="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const s=t[n];if(a&&typeof s!==a){r=`JSON field '${n}' must be a ${a}.`;break}if(i!==void 0&&s!==i.value){r=`Expected '${n}' field to equal '${i.value}'`;break}}if(r)throw new At(Xe.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=-62135596800,eT=1e6;class Dn{static now(){return Dn.fromMillis(Date.now())}static fromDate(e){return Dn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*eT);return new Dn(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new At(Xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new At(Xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<ZS)throw new At(Xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new At(Xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eT}_compareTo(e){return this.seconds===e.seconds?Cr(this.nanoseconds,e.nanoseconds):Cr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Dn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ym(e,Dn._jsonSchema))return new Dn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ZS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Dn._jsonSchemaVersion="firestore/timestamp/1.0",Dn._jsonSchema={type:Ca("string",Dn._jsonSchemaVersion),seconds:Ca("number"),nanoseconds:Ca("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{static fromTimestamp(e){return new rr(e)}static min(){return new rr(new Dn(0,0))}static max(){return new rr(new Dn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=-1;function Dq(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,a=rr.fromTimestamp(n===1e9?new Dn(r+1,0):new Dn(r,n));return new Zu(a,qt.empty(),e)}function Oq(t){return new Zu(t.readTime,t.key,Ip)}class Zu{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Zu(rr.min(),qt.empty(),Ip)}static max(){return new Zu(rr.max(),qt.empty(),Ip)}}function Pq(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=qt.comparator(t.documentKey,e.documentKey),r!==0?r:Cr(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dd(t){if(t.code!==Xe.FAILED_PRECONDITION||t.message!==Fq)throw t;It("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Xt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ze((n,a)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,a)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,a)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Ze?r:Ze.resolve(r)}catch(r){return Ze.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Ze.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Ze.reject(r)}static resolve(e){return new Ze((r,n)=>{r(e)})}static reject(e){return new Ze((r,n)=>{n(e)})}static waitFor(e){return new Ze((r,n)=>{let a=0,i=0,s=!1;e.forEach(o=>{++a,o.next(()=>{++i,s&&i===a&&r()},l=>n(l))}),s=!0,i===a&&r()})}static or(e){let r=Ze.resolve(!1);for(const n of e)r=r.next(a=>a?Ze.resolve(a):n());return r}static forEach(e,r){const n=[];return e.forEach((a,i)=>{n.push(r.call(this,a,i))}),this.waitFor(n)}static mapArray(e,r){return new Ze((n,a)=>{const i=e.length,s=new Array(i);let o=0;for(let l=0;l<i;l++){const c=l;r(e[c]).next(u=>{s[c]=u,++o,o===i&&n(s)},u=>a(u))}})}static doWhile(e,r){return new Ze((n,a)=>{const i=()=>{e()===!0?r().next(()=>{i()},a):n()};i()})}}function Bq(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Od(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Cx.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=-1;function wm(t){return t==null}function _v(t){return t===0&&1/t==-1/0}function Uq(t){return typeof t=="number"&&Number.isInteger(t)&&!_v(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7="";function jq(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=tT(e)),e=Vq(t.get(r),e);return tT(e)}function Vq(t,e){let r=e;const n=t.length;for(let a=0;a<n;a++){const i=t.charAt(a);switch(i){case"\0":r+="";break;case t7:r+="";break;default:r+=i}}return r}function tT(t){return t+t7+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function mf(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function r7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,r){this.comparator=e,this.root=r||ni.EMPTY}insert(e,r){return new qn(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ni.BLACK,null,null))}remove(e){return new qn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ni.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sg(this.root,e,this.comparator,!0)}}class Sg{constructor(e,r,n,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=r?n(e.key,r):1,r&&a&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ni{constructor(e,r,n,a,i){this.key=e,this.value=r,this.color=n??ni.RED,this.left=a??ni.EMPTY,this.right=i??ni.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,a,i){return new ni(e??this.key,r??this.value,n??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let a=this;const i=n(e,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(e,r,n),null):i===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(e,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ni.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,a=this;if(r(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(e,a.key)===0){if(a.right.isEmpty())return ni.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ni.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ni.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Xt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Xt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Xt(27949);return e+(this.isRed()?0:1)}}ni.EMPTY=null,ni.RED=!0,ni.BLACK=!1;ni.EMPTY=new class{constructor(){this.size=0}get key(){throw Xt(57766)}get value(){throw Xt(16141)}get color(){throw Xt(16727)}get left(){throw Xt(29726)}get right(){throw Xt(36894)}copy(e,r,n,a,i){return this}insert(e,r,n){return new ni(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this.comparator=e,this.data=new qn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,e[1])>=0)return;r(a.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new nT(this.data.getIterator())}getIteratorFrom(e){return new nT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Ma)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Ma(this.comparator);return r.data=e,r}}class nT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.fields=e,e.sort(oi.comparator)}static empty(){return new js([])}unionWith(e){let r=new Ma(oi.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new js(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return hd(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new n7("Invalid base64 string: "+i):i}}(e);return new fi(r)}static fromUint8Array(e){const r=function(a){let i="";for(let s=0;s<a.length;++s)i+=String.fromCharCode(a[s]);return i}(e);return new fi(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Cr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fi.EMPTY_BYTE_STRING=new fi("");const zq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ef(t){if(Fr(!!t,39018),typeof t=="string"){let e=0;const r=zq.exec(t);if(Fr(!!r,46558,{timestamp:t}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),e=Number(a)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:la(t.seconds),nanos:la(t.nanos)}}function la(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function tf(t){return typeof t=="string"?fi.fromBase64String(t):fi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7="server_timestamp",i7="__type__",s7="__previous_value__",o7="__local_write_time__";function b4(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[i7])==null?void 0:n.stringValue)===a7}function Nx(t){const e=t.mapValue.fields[s7];return b4(e)?Nx(e):e}function Rp(t){const e=ef(t.mapValue.fields[o7].timestampValue);return new Dn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{constructor(e,r,n,a,i,s,o,l,c,u,h){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u,this.apiKey=h}}const yv="(default)";class Lp{constructor(e,r){this.projectId=e,this.database=r||yv}static empty(){return new Lp("","")}get isDefaultDatabase(){return this.database===yv}isEqual(e){return e instanceof Lp&&e.projectId===this.projectId&&e.database===this.database}}function qq(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new At(Xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lp(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l7="__type__",Gq="__max__",Tg={mapValue:{}},c7="__vector__",wv="value";function rf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?b4(t)?4:$q(t)?9007199254740991:Wq(t)?10:11:Xt(28295,{value:t})}function Dl(t,e){if(t===e)return!0;const r=rf(t);if(r!==rf(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rp(t).isEqual(Rp(e));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const s=ef(a.timestampValue),o=ef(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,i){return tf(a.bytesValue).isEqual(tf(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,i){return la(a.geoPointValue.latitude)===la(i.geoPointValue.latitude)&&la(a.geoPointValue.longitude)===la(i.geoPointValue.longitude)}(t,e);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return la(a.integerValue)===la(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const s=la(a.doubleValue),o=la(i.doubleValue);return s===o?_v(s)===_v(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return hd(t.arrayValue.values||[],e.arrayValue.values||[],Dl);case 10:case 11:return function(a,i){const s=a.mapValue.fields||{},o=i.mapValue.fields||{};if(rT(s)!==rT(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Dl(s[l],o[l])))return!1;return!0}(t,e);default:return Xt(52216,{left:t})}}function Dp(t,e){return(t.values||[]).find(r=>Dl(r,e))!==void 0}function dd(t,e){if(t===e)return 0;const r=rf(t),n=rf(e);if(r!==n)return Cr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Cr(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=la(i.integerValue||i.doubleValue),l=la(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return aT(t.timestampValue,e.timestampValue);case 4:return aT(Rp(t),Rp(e));case 5:return hw(t.stringValue,e.stringValue);case 6:return function(i,s){const o=tf(i),l=tf(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=Cr(o[c],l[c]);if(u!==0)return u}return Cr(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Cr(la(i.latitude),la(s.latitude));return o!==0?o:Cr(la(i.longitude),la(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return iT(t.arrayValue,e.arrayValue);case 10:return function(i,s){var d,f,p,m;const o=i.fields||{},l=s.fields||{},c=(d=o[wv])==null?void 0:d.arrayValue,u=(f=l[wv])==null?void 0:f.arrayValue,h=Cr(((p=c==null?void 0:c.values)==null?void 0:p.length)||0,((m=u==null?void 0:u.values)==null?void 0:m.length)||0);return h!==0?h:iT(c,u)}(t.mapValue,e.mapValue);case 11:return function(i,s){if(i===Tg.mapValue&&s===Tg.mapValue)return 0;if(i===Tg.mapValue)return 1;if(s===Tg.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const d=hw(l[h],u[h]);if(d!==0)return d;const f=dd(o[l[h]],c[u[h]]);if(f!==0)return f}return Cr(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Xt(23264,{he:r})}}function aT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Cr(t,e);const r=ef(t),n=ef(e),a=Cr(r.seconds,n.seconds);return a!==0?a:Cr(r.nanos,n.nanos)}function iT(t,e){const r=t.values||[],n=e.values||[];for(let a=0;a<r.length&&a<n.length;++a){const i=dd(r[a],n[a]);if(i)return i}return Cr(r.length,n.length)}function pd(t){return dw(t)}function dw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=ef(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return tf(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return qt.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",a=!0;for(const i of r.values||[])a?a=!1:n+=",",n+=dw(i);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",i=!0;for(const s of n)i?i=!1:a+=",",a+=`${s}:${dw(r.fields[s])}`;return a+"}"}(t.mapValue):Xt(61005,{value:t})}function w2(t){switch(rf(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nx(t);return e?16+w2(e):16;case 5:return 2*t.stringValue.length;case 6:return tf(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,i)=>a+w2(i),0)}(t.arrayValue);case 10:case 11:return function(n){let a=0;return mf(n.fields,(i,s)=>{a+=i.length+w2(s)}),a}(t.mapValue);default:throw Xt(13486,{value:t})}}function sT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function pw(t){return!!t&&"integerValue"in t}function E4(t){return!!t&&"arrayValue"in t}function oT(t){return!!t&&"nullValue"in t}function lT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function b2(t){return!!t&&"mapValue"in t}function Wq(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[l7])==null?void 0:n.stringValue)===c7}function Y1(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return mf(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Y1(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Y1(t.arrayValue.values[r]);return e}return{...t}}function $q(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Gq}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.value=e}static empty(){return new Wi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!b2(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Y1(r)}setAll(e){let r=oi.emptyPath(),n={},a=[];e.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,a),n={},a=[],r=o.popLast()}s?n[o.lastSegment()]=Y1(s):a.push(o.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,a)}delete(e){const r=this.field(e.popLast());b2(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Dl(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let a=r.mapValue.fields[e.get(n)];b2(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(e,r,n){mf(r,(a,i)=>e[a]=i);for(const a of n)delete e[a]}clone(){return new Wi(Y1(this.value))}}function u7(t){const e=[];return mf(t.fields,(r,n)=>{const a=new oi([r]);if(b2(n)){const i=u7(n.mapValue).fields;if(i.length===0)e.push(a);else for(const s of i)e.push(a.child(s))}else e.push(a)}),new js(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,r,n,a,i,s,o){this.key=e,this.documentType=r,this.version=n,this.readTime=a,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new $a(e,0,rr.min(),rr.min(),rr.min(),Wi.empty(),0)}static newFoundDocument(e,r,n,a){return new $a(e,1,r,rr.min(),n,a,0)}static newNoDocument(e,r){return new $a(e,2,r,rr.min(),rr.min(),Wi.empty(),0)}static newUnknownDocument(e,r){return new $a(e,3,r,rr.min(),rr.min(),Wi.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(rr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $a&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $a(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,r){this.position=e,this.inclusive=r}}function cT(t,e,r){let n=0;for(let a=0;a<t.position.length;a++){const i=e[a],s=t.position[a];if(i.field.isKeyField()?n=qt.comparator(qt.fromName(s.referenceValue),r.key):n=dd(s,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function uT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Dl(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,r="asc"){this.field=e,this.dir=r}}function Xq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{}class Aa extends f7{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new Yq(e,r,n):r==="array-contains"?new Zq(e,n):r==="in"?new eG(e,n):r==="not-in"?new tG(e,n):r==="array-contains-any"?new rG(e,n):new Aa(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new Qq(e,n):new Jq(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(dd(r,this.value)):r!==null&&rf(this.value)===rf(r)&&this.matchesComparison(dd(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qo extends f7{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Qo(e,r)}matches(e){return h7(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function h7(t){return t.op==="and"}function d7(t){return Kq(t)&&h7(t)}function Kq(t){for(const e of t.filters)if(e instanceof Qo)return!1;return!0}function mw(t){if(t instanceof Aa)return t.field.canonicalString()+t.op.toString()+pd(t.value);if(d7(t))return t.filters.map(e=>mw(e)).join(",");{const e=t.filters.map(r=>mw(r)).join(",");return`${t.op}(${e})`}}function p7(t,e){return t instanceof Aa?function(n,a){return a instanceof Aa&&n.op===a.op&&n.field.isEqual(a.field)&&Dl(n.value,a.value)}(t,e):t instanceof Qo?function(n,a){return a instanceof Qo&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((i,s,o)=>i&&p7(s,a.filters[o]),!0):!1}(t,e):void Xt(19439)}function m7(t){return t instanceof Aa?function(r){return`${r.field.canonicalString()} ${r.op} ${pd(r.value)}`}(t):t instanceof Qo?function(r){return r.op.toString()+" {"+r.getFilters().map(m7).join(" ,")+"}"}(t):"Filter"}class Yq extends Aa{constructor(e,r,n){super(e,r,n),this.key=qt.fromName(n.referenceValue)}matches(e){const r=qt.comparator(e.key,this.key);return this.matchesComparison(r)}}class Qq extends Aa{constructor(e,r){super(e,"in",r),this.keys=g7("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Jq extends Aa{constructor(e,r){super(e,"not-in",r),this.keys=g7("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function g7(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map(n=>qt.fromName(n.referenceValue))}class Zq extends Aa{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return E4(r)&&Dp(r.arrayValue,this.value)}}class eG extends Aa{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Dp(this.value.arrayValue,r)}}class tG extends Aa{constructor(e,r){super(e,"not-in",r)}matches(e){if(Dp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Dp(this.value.arrayValue,r)}}class rG extends Aa{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!E4(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Dp(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG{constructor(e,r=null,n=[],a=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=i,this.startAt=s,this.endAt=o,this.Te=null}}function fT(t,e=null,r=[],n=[],a=null,i=null,s=null){return new nG(t,e,r,n,a,i,s)}function A4(t){const e=lr(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>mw(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),wm(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>pd(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>pd(n)).join(",")),e.Te=r}return e.Te}function S4(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Xq(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!p7(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uT(t.startAt,e.startAt)&&uT(t.endAt,e.endAt)}function gw(t){return qt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,r=null,n=[],a=[],i=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function aG(t,e,r,n,a,i,s,o){return new Pd(t,e,r,n,a,i,s,o)}function T4(t){return new Pd(t)}function hT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iG(t){return qt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function v7(t){return t.collectionGroup!==null}function Q1(t){const e=lr(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),r.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Ma(oi.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Op(i,n))}),r.has(oi.keyField().canonicalString())||e.Ie.push(new Op(oi.keyField(),n))}return e.Ie}function Rl(t){const e=lr(t);return e.Ee||(e.Ee=sG(e,Q1(t))),e.Ee}function sG(t,e){if(t.limitType==="F")return fT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new Op(a.field,i)});const r=t.endAt?new bv(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new bv(t.startAt.position,t.startAt.inclusive):null;return fT(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function vw(t,e){const r=t.filters.concat([e]);return new Pd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function oG(t,e){const r=t.explicitOrderBy.concat([e]);return new Pd(t.path,t.collectionGroup,r,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function xw(t,e,r){return new Pd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Ix(t,e){return S4(Rl(t),Rl(e))&&t.limitType===e.limitType}function x7(t){return`${A4(Rl(t))}|lt:${t.limitType}`}function h0(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>m7(a)).join(", ")}]`),wm(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>pd(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>pd(a)).join(",")),`Target(${n})`}(Rl(t))}; limitType=${t.limitType})`}function Rx(t,e){return e.isFoundDocument()&&function(n,a){const i=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):qt.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,a){for(const i of Q1(n))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,a){for(const i of n.filters)if(!i.matches(a))return!1;return!0}(t,e)&&function(n,a){return!(n.startAt&&!function(s,o,l){const c=cT(s,o,l);return s.inclusive?c<=0:c<0}(n.startAt,Q1(n),a)||n.endAt&&!function(s,o,l){const c=cT(s,o,l);return s.inclusive?c>=0:c>0}(n.endAt,Q1(n),a))}(t,e)}function lG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _7(t){return(e,r)=>{let n=!1;for(const a of Q1(t)){const i=cG(a,e,r);if(i!==0)return i;n=n||a.field.isKeyField()}return 0}}function cG(t,e,r){const n=t.field.isKeyField()?qt.comparator(e.key,r.key):function(i,s,o){const l=s.data.field(i),c=o.data.field(i);return l!==null&&c!==null?dd(l,c):Xt(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Xt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[a,i]of n)if(this.equalsFn(a,e))return i}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],e))return void(a[i]=[e,r]);a.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(e){mf(this.inner,(r,n)=>{for(const[a,i]of n)e(a,i)})}isEmpty(){return r7(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uG=new qn(qt.comparator);function Lc(){return uG}const y7=new qn(qt.comparator);function N1(...t){let e=y7;for(const r of t)e=e.insert(r.key,r);return e}function w7(t){let e=y7;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function jf(){return J1()}function b7(){return J1()}function J1(){return new Rh(t=>t.toString(),(t,e)=>t.isEqual(e))}const fG=new qn(qt.comparator),hG=new Ma(qt.comparator);function Nr(...t){let e=hG;for(const r of t)e=e.add(r);return e}const dG=new Ma(Cr);function pG(){return dG}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_v(e)?"-0":e}}function E7(t){return{integerValue:""+t}}function mG(t,e){return Uq(e)?E7(e):k4(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this._=void 0}}function gG(t,e,r){return t instanceof Pp?function(a,i){const s={fields:{[i7]:{stringValue:a7},[o7]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&b4(i)&&(i=Nx(i)),i&&(s.fields[s7]=i),{mapValue:s}}(r,e):t instanceof Fp?S7(t,e):t instanceof Mp?T7(t,e):function(a,i){const s=A7(a,i),o=dT(s)+dT(a.Ae);return pw(s)&&pw(a.Ae)?E7(o):k4(a.serializer,o)}(t,e)}function vG(t,e,r){return t instanceof Fp?S7(t,e):t instanceof Mp?T7(t,e):r}function A7(t,e){return t instanceof Ev?function(n){return pw(n)||function(i){return!!i&&"doubleValue"in i}(n)}(e)?e:{integerValue:0}:null}class Pp extends Lx{}class Fp extends Lx{constructor(e){super(),this.elements=e}}function S7(t,e){const r=k7(e);for(const n of t.elements)r.some(a=>Dl(a,n))||r.push(n);return{arrayValue:{values:r}}}class Mp extends Lx{constructor(e){super(),this.elements=e}}function T7(t,e){let r=k7(e);for(const n of t.elements)r=r.filter(a=>!Dl(a,n));return{arrayValue:{values:r}}}class Ev extends Lx{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function dT(t){return la(t.integerValue||t.doubleValue)}function k7(t){return E4(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{constructor(e,r){this.field=e,this.transform=r}}function _G(t,e){return t.field.isEqual(e.field)&&function(n,a){return n instanceof Fp&&a instanceof Fp||n instanceof Mp&&a instanceof Mp?hd(n.elements,a.elements,Dl):n instanceof Ev&&a instanceof Ev?Dl(n.Ae,a.Ae):n instanceof Pp&&a instanceof Pp}(t.transform,e.transform)}class yG{constructor(e,r){this.version=e,this.transformResults=r}}class Sa{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Sa}static exists(e){return new Sa(void 0,e)}static updateTime(e){return new Sa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function E2(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dx{}function C7(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Em(t.key,Sa.none()):new bm(t.key,t.data,Sa.none());{const r=t.data,n=Wi.empty();let a=new Ma(oi.comparator);for(let i of e.fields)if(!a.has(i)){let s=r.field(i);s===null&&i.length>1&&(i=i.popLast(),s=r.field(i)),s===null?n.delete(i):n.set(i,s),a=a.add(i)}return new gf(t.key,n,new js(a.toArray()),Sa.none())}}function wG(t,e,r){t instanceof bm?function(a,i,s){const o=a.value.clone(),l=mT(a.fieldTransforms,i,s.transformResults);o.setAll(l),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,r):t instanceof gf?function(a,i,s){if(!E2(a.precondition,i))return void i.convertToUnknownDocument(s.version);const o=mT(a.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(N7(a)),l.setAll(o),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,r):function(a,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function Z1(t,e,r,n){return t instanceof bm?function(i,s,o,l){if(!E2(i.precondition,s))return o;const c=i.value.clone(),u=gT(i.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof gf?function(i,s,o,l){if(!E2(i.precondition,s))return o;const c=gT(i.fieldTransforms,l,s),u=s.data;return u.setAll(N7(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,r,n):function(i,s,o){return E2(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,r)}function bG(t,e){let r=null;for(const n of t.fieldTransforms){const a=e.data.field(n.field),i=A7(n.transform,a||null);i!=null&&(r===null&&(r=Wi.empty()),r.set(n.field,i))}return r||null}function pT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&hd(n,a,(i,s)=>_G(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bm extends Dx{constructor(e,r,n,a=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class gf extends Dx{constructor(e,r,n,a,i=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function N7(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function mT(t,e,r){const n=new Map;Fr(t.length===r.length,32656,{Ve:r.length,de:t.length});for(let a=0;a<r.length;a++){const i=t[a],s=i.transform,o=e.data.field(i.field);n.set(i.field,vG(s,o,r[a]))}return n}function gT(t,e,r){const n=new Map;for(const a of t){const i=a.transform,s=r.data.field(a.field);n.set(a.field,gG(i,s,e))}return n}class Em extends Dx{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I7 extends Dx{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(e,r,n,a){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(e.key)&&wG(i,e,n[a])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Z1(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Z1(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=b7();return this.mutations.forEach(a=>{const i=e.get(a.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=r.has(a.key)?null:o;const l=C7(s,o);l!==null&&n.set(a.key,l),s.isValidDocument()||s.convertToNoDocument(rr.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Nr())}isEqual(e){return this.batchId===e.batchId&&hd(this.mutations,e.mutations,(r,n)=>pT(r,n))&&hd(this.baseMutations,e.baseMutations,(r,n)=>pT(r,n))}}class C4{constructor(e,r,n,a){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(e,r,n){Fr(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let a=function(){return fG}();const i=e.mutations;for(let s=0;s<i.length;s++)a=a.insert(i[s].key,n[s].version);return new C4(e,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SG{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xa,Pr;function R7(t){switch(t){case Xe.OK:return Xt(64938);case Xe.CANCELLED:case Xe.UNKNOWN:case Xe.DEADLINE_EXCEEDED:case Xe.RESOURCE_EXHAUSTED:case Xe.INTERNAL:case Xe.UNAVAILABLE:case Xe.UNAUTHENTICATED:return!1;case Xe.INVALID_ARGUMENT:case Xe.NOT_FOUND:case Xe.ALREADY_EXISTS:case Xe.PERMISSION_DENIED:case Xe.FAILED_PRECONDITION:case Xe.ABORTED:case Xe.OUT_OF_RANGE:case Xe.UNIMPLEMENTED:case Xe.DATA_LOSS:return!0;default:return Xt(15467,{code:t})}}function L7(t){if(t===void 0)return Rc("GRPC error has no .code"),Xe.UNKNOWN;switch(t){case xa.OK:return Xe.OK;case xa.CANCELLED:return Xe.CANCELLED;case xa.UNKNOWN:return Xe.UNKNOWN;case xa.DEADLINE_EXCEEDED:return Xe.DEADLINE_EXCEEDED;case xa.RESOURCE_EXHAUSTED:return Xe.RESOURCE_EXHAUSTED;case xa.INTERNAL:return Xe.INTERNAL;case xa.UNAVAILABLE:return Xe.UNAVAILABLE;case xa.UNAUTHENTICATED:return Xe.UNAUTHENTICATED;case xa.INVALID_ARGUMENT:return Xe.INVALID_ARGUMENT;case xa.NOT_FOUND:return Xe.NOT_FOUND;case xa.ALREADY_EXISTS:return Xe.ALREADY_EXISTS;case xa.PERMISSION_DENIED:return Xe.PERMISSION_DENIED;case xa.FAILED_PRECONDITION:return Xe.FAILED_PRECONDITION;case xa.ABORTED:return Xe.ABORTED;case xa.OUT_OF_RANGE:return Xe.OUT_OF_RANGE;case xa.UNIMPLEMENTED:return Xe.UNIMPLEMENTED;case xa.DATA_LOSS:return Xe.DATA_LOSS;default:return Xt(39323,{code:t})}}(Pr=xa||(xa={}))[Pr.OK=0]="OK",Pr[Pr.CANCELLED=1]="CANCELLED",Pr[Pr.UNKNOWN=2]="UNKNOWN",Pr[Pr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pr[Pr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pr[Pr.NOT_FOUND=5]="NOT_FOUND",Pr[Pr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pr[Pr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pr[Pr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pr[Pr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pr[Pr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pr[Pr.ABORTED=10]="ABORTED",Pr[Pr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pr[Pr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pr[Pr.INTERNAL=13]="INTERNAL",Pr[Pr.UNAVAILABLE=14]="UNAVAILABLE",Pr[Pr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TG(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kG=new qu([4294967295,4294967295],0);function vT(t){const e=TG().encode(t),r=new GR;return r.update(e),new Uint8Array(r.digest())}function xT(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),a=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new qu([r,n],0),new qu([a,i],0)]}class N4{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new I1(`Invalid padding: ${r}`);if(n<0)throw new I1(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new I1(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new I1(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=qu.fromNumber(this.ge)}ye(e,r,n){let a=e.add(r.multiply(qu.fromNumber(n)));return a.compare(kG)===1&&(a=new qu([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=vT(e),[n,a]=xT(r);for(let i=0;i<this.hashCount;i++){const s=this.ye(n,a,i);if(!this.we(s))return!1}return!0}static create(e,r,n){const a=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new N4(i,a,r);return n.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const r=vT(e),[n,a]=xT(r);for(let i=0;i<this.hashCount;i++){const s=this.ye(n,a,i);this.be(s)}}be(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class I1 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,r,n,a,i){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const a=new Map;return a.set(e,Am.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Ox(rr.min(),a,new qn(Cr),Lc(),Nr())}}class Am{constructor(e,r,n,a,i){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Am(n,r,Nr(),Nr(),Nr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,r,n,a){this.Se=e,this.removedTargetIds=r,this.key=n,this.De=a}}class D7{constructor(e,r){this.targetId=e,this.Ce=r}}class O7{constructor(e,r,n=fi.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=a}}class _T{constructor(){this.ve=0,this.Fe=yT(),this.Me=fi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Nr(),r=Nr(),n=Nr();return this.Fe.forEach((a,i)=>{switch(i){case 0:e=e.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:Xt(38017,{changeType:i})}}),new Am(this.Me,this.xe,e,r,n)}Ke(){this.Oe=!1,this.Fe=yT()}qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Fr(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class CG{constructor(e){this.Ge=e,this.ze=new Map,this.je=Lc(),this.He=kg(),this.Je=kg(),this.Ze=new qn(Cr)}Xe(e){for(const r of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.We(),n.Ne||n.Ke(),n.Le(e.resumeToken);break;case 2:n.We(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.Qe(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:Xt(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((n,a)=>{this.rt(a)&&r(a)})}st(e){const r=e.targetId,n=e.Ce.count,a=this.ot(r);if(a){const i=a.target;if(gw(i))if(n===0){const s=new qt(i.path);this.et(r,s,$a.newNoDocument(s,rr.min()))}else Fr(n===1,20013,{expectedCount:n});else{const s=this._t(r);if(s!==n){const o=this.ut(e),l=o?this.ct(o,e,s):1;if(l!==0){this.it(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,c)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:i=0}=r;let s,o;try{s=tf(n).toUint8Array()}catch(l){if(l instanceof n7)return dh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new N4(s,a,i)}catch(l){return dh(l instanceof I1?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let a=0;return n.forEach(i=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;e.mightContain(o)||(this.et(r,i,null),a++)}),a}Tt(e){const r=new Map;this.ze.forEach((i,s)=>{const o=this.ot(s);if(o){if(i.current&&gw(o.target)){const l=new qt(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,$a.newNoDocument(l,e))}i.Be&&(r.set(s,i.ke()),i.Ke())}});let n=Nr();this.Je.forEach((i,s)=>{let o=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(i))}),this.je.forEach((i,s)=>s.setReadTime(e));const a=new Ox(e,r,this.Ze,this.je,n);return this.je=Lc(),this.He=kg(),this.Je=kg(),this.Ze=new qn(Cr),a}Ye(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).qe(r.key,n),this.je=this.je.insert(r.key,r),this.He=this.He.insert(r.key,this.It(r.key).add(e)),this.Je=this.Je.insert(r.key,this.Rt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,r)?a.qe(r,1):a.Ue(r),this.Je=this.Je.insert(r,this.Rt(r).delete(e)),this.Je=this.Je.insert(r,this.Rt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let r=this.ze.get(e);return r||(r=new _T,this.ze.set(e,r)),r}Rt(e){let r=this.Je.get(e);return r||(r=new Ma(Cr),this.Je=this.Je.insert(e,r)),r}It(e){let r=this.He.get(e);return r||(r=new Ma(Cr),this.He=this.He.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||It("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _T),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function kg(){return new qn(qt.comparator)}function yT(){return new qn(qt.comparator)}const NG={asc:"ASCENDING",desc:"DESCENDING"},IG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RG={and:"AND",or:"OR"};class LG{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function _w(t,e){return t.useProto3Json||wm(e)?e:{value:e}}function Av(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P7(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function DG(t,e){return Av(t,e.toTimestamp())}function $s(t){return Fr(!!t,49232),rr.fromTimestamp(function(r){const n=ef(r);return new Dn(n.seconds,n.nanos)}(t))}function I4(t,e){return yw(t,e).canonicalString()}function yw(t,e){const r=function(a){return new cn(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?r:r.child(e)}function F7(t){const e=cn.fromString(t);return Fr(z7(e),10190,{key:e.toString()}),e}function Sv(t,e){return I4(t.databaseId,e.path)}function ep(t,e){const r=F7(e);if(r.get(1)!==t.databaseId.projectId)throw new At(Xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new At(Xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new qt(B7(r))}function M7(t,e){return I4(t.databaseId,e)}function OG(t){const e=F7(t);return e.length===4?cn.emptyPath():B7(e)}function ww(t){return new cn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function B7(t){return Fr(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function wT(t,e,r){return{name:Sv(t,e),fields:r.value.mapValue.fields}}function PG(t,e){return"found"in e?function(n,a){Fr(!!a.found,43571),a.found.name,a.found.updateTime;const i=ep(n,a.found.name),s=$s(a.found.updateTime),o=a.found.createTime?$s(a.found.createTime):rr.min(),l=new Wi({mapValue:{fields:a.found.fields}});return $a.newFoundDocument(i,s,o,l)}(t,e):"missing"in e?function(n,a){Fr(!!a.missing,3894),Fr(!!a.readTime,22933);const i=ep(n,a.missing),s=$s(a.readTime);return $a.newNoDocument(i,s)}(t,e):Xt(7234,{result:e})}function FG(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Xt(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Fr(u===void 0||typeof u=="string",58123),fi.fromBase64String(u||"")):(Fr(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),fi.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(c){const u=c.code===void 0?Xe.UNKNOWN:L7(c.code);return new At(u,c.message||"")}(s);r=new O7(n,a,i,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const a=ep(t,n.document.name),i=$s(n.document.updateTime),s=n.document.createTime?$s(n.document.createTime):rr.min(),o=new Wi({mapValue:{fields:n.document.fields}}),l=$a.newFoundDocument(a,i,s,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new A2(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const a=ep(t,n.document),i=n.readTime?$s(n.readTime):rr.min(),s=$a.newNoDocument(a,i),o=n.removedTargetIds||[];r=new A2([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const a=ep(t,n.document),i=n.removedTargetIds||[];r=new A2([],i,a,null)}else{if(!("filter"in e))return Xt(11601,{Vt:e});{e.filter;const n=e.filter;n.targetId;const{count:a=0,unchangedNames:i}=n,s=new SG(a,i),o=n.targetId;r=new D7(o,s)}}return r}function U7(t,e){let r;if(e instanceof bm)r={update:wT(t,e.key,e.value)};else if(e instanceof Em)r={delete:Sv(t,e.key)};else if(e instanceof gf)r={update:wT(t,e.key,e.data),updateMask:GG(e.fieldMask)};else{if(!(e instanceof I7))return Xt(16599,{dt:e.type});r={verify:Sv(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(i,s){const o=s.transform;if(o instanceof Pp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Fp)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Mp)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ev)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw Xt(20930,{transform:s.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:DG(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Xt(27497)}(t,e.precondition)),r}function MG(t,e){return t&&t.length>0?(Fr(e!==void 0,14353),t.map(r=>function(a,i){let s=a.updateTime?$s(a.updateTime):$s(i);return s.isEqual(rr.min())&&(s=$s(i)),new yG(s,a.transformResults||[])}(r,e))):[]}function BG(t,e){return{documents:[M7(t,e.path)]}}function UG(t,e){const r={structuredQuery:{}},n=e.path;let a;e.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=M7(t,a);const i=function(c){if(c.length!==0)return V7(Qo.create(c,"and"))}(e.filters);i&&(r.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:d0(d.field),direction:zG(d.dir)}}(u))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const o=_w(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:r,parent:a}}function jG(t){let e=OG(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){Fr(n===1,65062);const u=r.from[0];u.allDescendants?a=u.collectionId:e=e.child(u.collectionId)}let i=[];r.where&&(i=function(h){const d=j7(h);return d instanceof Qo&&d7(d)?d.getFilters():[d]}(r.where));let s=[];r.orderBy&&(s=function(h){return h.map(d=>function(p){return new Op(p0(p.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(r.orderBy));let o=null;r.limit&&(o=function(h){let d;return d=typeof h=="object"?h.value:h,wm(d)?null:d}(r.limit));let l=null;r.startAt&&(l=function(h){const d=!!h.before,f=h.values||[];return new bv(f,d)}(r.startAt));let c=null;return r.endAt&&(c=function(h){const d=!h.before,f=h.values||[];return new bv(f,d)}(r.endAt)),aG(e,a,s,i,o,"F",l,c)}function VG(t,e){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xt(28987,{purpose:a})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function j7(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=p0(r.unaryFilter.field);return Aa.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=p0(r.unaryFilter.field);return Aa.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=p0(r.unaryFilter.field);return Aa.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=p0(r.unaryFilter.field);return Aa.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Xt(61313);default:return Xt(60726)}}(t):t.fieldFilter!==void 0?function(r){return Aa.create(p0(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Xt(58110);default:return Xt(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Qo.create(r.compositeFilter.filters.map(n=>j7(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Xt(1026)}}(r.compositeFilter.op))}(t):Xt(30097,{filter:t})}function zG(t){return NG[t]}function HG(t){return IG[t]}function qG(t){return RG[t]}function d0(t){return{fieldPath:t.canonicalString()}}function p0(t){return oi.fromServerFormat(t.fieldPath)}function V7(t){return t instanceof Aa?function(r){if(r.op==="=="){if(lT(r.value))return{unaryFilter:{field:d0(r.field),op:"IS_NAN"}};if(oT(r.value))return{unaryFilter:{field:d0(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(lT(r.value))return{unaryFilter:{field:d0(r.field),op:"IS_NOT_NAN"}};if(oT(r.value))return{unaryFilter:{field:d0(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:d0(r.field),op:HG(r.op),value:r.value}}}(t):t instanceof Qo?function(r){const n=r.getFilters().map(a=>V7(a));return n.length===1?n[0]:{compositeFilter:{op:qG(r.op),filters:n}}}(t):Xt(54877,{filter:t})}function GG(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function z7(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function H7(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,r,n,a,i=rr.min(),s=rr.min(),o=fi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Cu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(e){this.yt=e}}function $G(t){const e=jG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XG{constructor(){this.Sn=new KG}addToCollectionParentIndex(e,r){return this.Sn.add(r),Ze.resolve()}getCollectionParents(e,r){return Ze.resolve(this.Sn.getEntries(r))}addFieldIndex(e,r){return Ze.resolve()}deleteFieldIndex(e,r){return Ze.resolve()}deleteAllFieldIndexes(e){return Ze.resolve()}createTargetIndexes(e,r){return Ze.resolve()}getDocumentsMatchingTarget(e,r){return Ze.resolve(null)}getIndexType(e,r){return Ze.resolve(0)}getFieldIndexes(e,r){return Ze.resolve([])}getNextCollectionGroupToUpdate(e){return Ze.resolve(null)}getMinOffset(e,r){return Ze.resolve(Zu.min())}getMinOffsetFromCollectionGroup(e,r){return Ze.resolve(Zu.min())}updateCollectionGroup(e,r,n){return Ze.resolve()}updateIndexEntries(e,r){return Ze.resolve()}}class KG{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r]||new Ma(cn.comparator),i=!a.has(n);return this.index[r]=a.add(n),i}has(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(e){return(this.index[e]||new Ma(cn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},q7=41943040;class cs{static withCacheSize(e){return new cs(e,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cs.DEFAULT_COLLECTION_PERCENTILE=10,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cs.DEFAULT=new cs(q7,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cs.DISABLED=new cs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new md(0)}static ar(){return new md(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="LruGarbageCollector",YG=1048576;function AT([t,e],[r,n]){const a=Cr(t,r);return a===0?Cr(e,n):a}class QG{constructor(e){this.Pr=e,this.buffer=new Ma(AT),this.Tr=0}Ir(){return++this.Tr}Er(e){const r=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();AT(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class JG{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){It(ET,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Od(r)?It(ET,"Ignoring IndexedDB error during garbage collection: ",r):await Dd(r)}await this.Ar(3e5)})}}class ZG{constructor(e,r){this.Vr=e,this.params=r}calculateTargetCount(e,r){return this.Vr.dr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return Ze.resolve(Cx.ce);const n=new QG(r);return this.Vr.forEachTarget(e,a=>n.Er(a.sequenceNumber)).next(()=>this.Vr.mr(e,a=>n.Er(a))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.Vr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Vr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(It("LruGarbageCollector","Garbage collection skipped; disabled"),Ze.resolve(bT)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(It("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bT):this.gr(e,r))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,r){let n,a,i,s,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(It("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),a=this.params.maximumSequenceNumbersToCollect):a=h,s=Date.now(),this.nthSequenceNumber(e,a))).next(h=>(n=h,o=Date.now(),this.removeTargets(e,n,r))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(h=>(c=Date.now(),f0()<=Tr.DEBUG&&It("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${a} in `+(o-s)+`ms
	Removed ${i} targets in `+(l-o)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),Ze.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:h})))}}function eW(t,e){return new ZG(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tW{constructor(){this.changes=new Rh(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,$a.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Ze.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rW{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nW{constructor(e,r,n,a){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(e,r))).next(a=>(n!==null&&Z1(n.mutation,a,js.empty(),Dn.now()),a))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Nr()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Nr()){const a=jf();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,n).next(i=>{let s=N1();return i.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const n=jf();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Nr()))}populateOverlays(e,r,n){const a=[];return n.forEach(i=>{r.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(e,a).next(i=>{i.forEach((s,o)=>{r.set(s,o)})})}computeViews(e,r,n,a){let i=Lc();const s=J1(),o=function(){return J1()}();return r.forEach((l,c)=>{const u=n.get(c.key);a.has(c.key)&&(u===void 0||u.mutation instanceof gf)?i=i.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Z1(u.mutation,c,u.mutation.getFieldMask(),Dn.now())):s.set(c.key,js.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>s.set(c,u)),r.forEach((c,u)=>o.set(c,new rW(u,s.get(c)??null))),o))}recalculateAndSaveOverlays(e,r){const n=J1();let a=new qn((s,o)=>s-o),i=Nr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||js.empty();u=o.applyToLocalView(c,u),n.set(l,u);const h=(a.get(o.batchId)||Nr()).add(l);a=a.insert(o.batchId,h)})}).next(()=>{const s=[],o=a.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,h=b7();u.forEach(d=>{if(!i.has(d)){const f=C7(r.get(d),n.get(d));f!==null&&h.set(d,f),i=i.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,h))}return Ze.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,a){return iG(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):v7(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,a):this.getDocumentsMatchingCollectionQuery(e,r,n,a)}getNextDocuments(e,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,a).next(i=>{const s=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,a-i.size):Ze.resolve(jf());let o=Ip,l=i;return s.next(c=>Ze.forEach(c,(u,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),i.get(u)?Ze.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Nr())).next(u=>({batchId:o,changes:w7(u)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new qt(r)).next(n=>{let a=N1();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(e,r,n,a){const i=r.collectionGroup;let s=N1();return this.indexManager.getCollectionParents(e,i).next(o=>Ze.forEach(o,l=>{const c=function(h,d){return new Pd(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,n,a).next(u=>{u.forEach((h,d)=>{s=s.insert(h,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n,a){let i;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,i,a))).next(s=>{i.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,$a.newInvalidDocument(u)))});let o=N1();return s.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Z1(u.mutation,c,js.empty(),Dn.now()),Rx(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aW{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,r){return Ze.resolve(this.Nr.get(r))}saveBundleMetadata(e,r){return this.Nr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:$s(a.createTime)}}(r)),Ze.resolve()}getNamedQuery(e,r){return Ze.resolve(this.Br.get(r))}saveNamedQuery(e,r){return this.Br.set(r.name,function(a){return{name:a.name,query:$G(a.bundledQuery),readTime:$s(a.readTime)}}(r)),Ze.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(){this.overlays=new qn(qt.comparator),this.Lr=new Map}getOverlay(e,r){return Ze.resolve(this.overlays.get(r))}getOverlays(e,r){const n=jf();return Ze.forEach(r,a=>this.getOverlay(e,a).next(i=>{i!==null&&n.set(a,i)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((a,i)=>{this.bt(e,r,i)}),Ze.resolve()}removeOverlaysForBatchId(e,r,n){const a=this.Lr.get(n);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.Lr.delete(n)),Ze.resolve()}getOverlaysForCollection(e,r,n){const a=jf(),i=r.length+1,s=new qt(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>n&&a.set(l.getKey(),l)}return Ze.resolve(a)}getOverlaysForCollectionGroup(e,r,n,a){let i=new qn((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=i.get(c.largestBatchId);u===null&&(u=jf(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=jf(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=a)););return Ze.resolve(o)}bt(e,r,n){const a=this.overlays.get(n.key);if(a!==null){const s=this.Lr.get(a.largestBatchId).delete(n.key);this.Lr.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new AG(r,n));let i=this.Lr.get(r);i===void 0&&(i=Nr(),this.Lr.set(r,i)),this.Lr.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(){this.sessionToken=fi.EMPTY_BYTE_STRING}getSessionToken(e){return Ze.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Ze.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(){this.kr=new Ma(za.Kr),this.qr=new Ma(za.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,r){const n=new za(e,r);this.kr=this.kr.add(n),this.qr=this.qr.add(n)}$r(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Wr(new za(e,r))}Qr(e,r){e.forEach(n=>this.removeReference(n,r))}Gr(e){const r=new qt(new cn([])),n=new za(r,e),a=new za(r,e+1),i=[];return this.qr.forEachInRange([n,a],s=>{this.Wr(s),i.push(s.key)}),i}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const r=new qt(new cn([])),n=new za(r,e),a=new za(r,e+1);let i=Nr();return this.qr.forEachInRange([n,a],s=>{i=i.add(s.key)}),i}containsKey(e){const r=new za(e,0),n=this.kr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class za{constructor(e,r){this.key=e,this.Hr=r}static Kr(e,r){return qt.comparator(e.key,r.key)||Cr(e.Hr,r.Hr)}static Ur(e,r){return Cr(e.Hr,r.Hr)||qt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Yn=1,this.Jr=new Ma(za.Kr)}checkEmpty(e){return Ze.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,a){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new EG(i,r,n,a);this.mutationQueue.push(s);for(const o of a)this.Jr=this.Jr.add(new za(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Ze.resolve(s)}lookupMutationBatch(e,r){return Ze.resolve(this.Zr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,a=this.Xr(n),i=a<0?0:a;return Ze.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ze.resolve(this.mutationQueue.length===0?w4:this.Yn-1)}getAllMutationBatches(e){return Ze.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new za(r,0),a=new za(r,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([n,a],s=>{const o=this.Zr(s.Hr);i.push(o)}),Ze.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Ma(Cr);return r.forEach(a=>{const i=new za(a,0),s=new za(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([i,s],o=>{n=n.add(o.Hr)})}),Ze.resolve(this.Yr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,a=n.length+1;let i=n;qt.isDocumentKey(i)||(i=i.child(""));const s=new za(new qt(i),0);let o=new Ma(Cr);return this.Jr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===a&&(o=o.add(l.Hr)),!0)},s),Ze.resolve(this.Yr(o))}Yr(e){const r=[];return e.forEach(n=>{const a=this.Zr(n);a!==null&&r.push(a)}),r}removeMutationBatch(e,r){Fr(this.ei(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Jr;return Ze.forEach(r.mutations,a=>{const i=new za(a.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Jr=n})}nr(e){}containsKey(e,r){const n=new za(r,0),a=this.Jr.firstAfterOrEqual(n);return Ze.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ze.resolve()}ei(e,r){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const r=this.Xr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{constructor(e){this.ti=e,this.docs=function(){return new qn(qt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,a=this.docs.get(n),i=a?a.size:0,s=this.ti(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Ze.resolve(n?n.document.mutableCopy():$a.newInvalidDocument(r))}getEntries(e,r){let n=Lc();return r.forEach(a=>{const i=this.docs.get(a);n=n.insert(a,i?i.document.mutableCopy():$a.newInvalidDocument(a))}),Ze.resolve(n)}getDocumentsMatchingQuery(e,r,n,a){let i=Lc();const s=r.path,o=new qt(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||Pq(Oq(u),n)<=0||(a.has(u.key)||Rx(r,u))&&(i=i.insert(u.key,u.mutableCopy()))}return Ze.resolve(i)}getAllFromCollectionGroup(e,r,n,a){Xt(9500)}ni(e,r){return Ze.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new cW(this)}getSize(e){return Ze.resolve(this.size)}}class cW extends tW{constructor(e){super(),this.Mr=e}applyChanges(e){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(n)}),Ze.waitFor(r)}getFromCache(e,r){return this.Mr.getEntry(e,r)}getAllFromCache(e,r){return this.Mr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{constructor(e){this.persistence=e,this.ri=new Rh(r=>A4(r),S4),this.lastRemoteSnapshotVersion=rr.min(),this.highestTargetId=0,this.ii=0,this.si=new R4,this.targetCount=0,this.oi=md._r()}forEachTarget(e,r){return this.ri.forEach((n,a)=>r(a)),Ze.resolve()}getLastRemoteSnapshotVersion(e){return Ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ze.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Ze.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ii&&(this.ii=r),Ze.resolve()}lr(e){this.ri.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.oi=new md(r),this.highestTargetId=r),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,r){return this.lr(r),this.targetCount+=1,Ze.resolve()}updateTargetData(e,r){return this.lr(r),Ze.resolve()}removeTargetData(e,r){return this.ri.delete(r.target),this.si.Gr(r.targetId),this.targetCount-=1,Ze.resolve()}removeTargets(e,r,n){let a=0;const i=[];return this.ri.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.ri.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),a++)}),Ze.waitFor(i).next(()=>a)}getTargetCount(e){return Ze.resolve(this.targetCount)}getTargetData(e,r){const n=this.ri.get(r)||null;return Ze.resolve(n)}addMatchingKeys(e,r,n){return this.si.$r(r,n),Ze.resolve()}removeMatchingKeys(e,r,n){this.si.Qr(r,n);const a=this.persistence.referenceDelegate,i=[];return a&&r.forEach(s=>{i.push(a.markPotentiallyOrphaned(e,s))}),Ze.waitFor(i)}removeMatchingKeysForTargetId(e,r){return this.si.Gr(r),Ze.resolve()}getMatchingKeysForTargetId(e,r){const n=this.si.jr(r);return Ze.resolve(n)}containsKey(e,r){return Ze.resolve(this.si.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(e,r){this._i={},this.overlays={},this.ai=new Cx(0),this.ui=!1,this.ui=!0,this.ci=new sW,this.referenceDelegate=e(this),this.li=new uW(this),this.indexManager=new XG,this.remoteDocumentCache=function(a){return new lW(a)}(n=>this.referenceDelegate.hi(n)),this.serializer=new WG(r),this.Pi=new aW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new iW,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this._i[e.toKey()];return n||(n=new oW(r,this.referenceDelegate),this._i[e.toKey()]=n),n}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,r,n){It("MemoryPersistence","Starting transaction:",e);const a=new fW(this.ai.next());return this.referenceDelegate.Ti(),n(a).next(i=>this.referenceDelegate.Ii(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Ei(e,r){return Ze.or(Object.values(this._i).map(n=>()=>n.containsKey(e,r)))}}class fW extends Mq{constructor(e){super(),this.currentSequenceNumber=e}}class L4{constructor(e){this.persistence=e,this.Ri=new R4,this.Ai=null}static Vi(e){return new L4(e)}get di(){if(this.Ai)return this.Ai;throw Xt(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.di.delete(n.toString()),Ze.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.di.add(n.toString()),Ze.resolve()}markPotentiallyOrphaned(e,r){return this.di.add(r.toString()),Ze.resolve()}removeTarget(e,r){this.Ri.Gr(r.targetId).forEach(a=>this.di.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(a=>{a.forEach(i=>this.di.add(i.toString()))}).next(()=>n.removeTargetData(e,r))}Ti(){this.Ai=new Set}Ii(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ze.forEach(this.di,n=>{const a=qt.fromPath(n);return this.mi(e,a).next(i=>{i||r.removeEntry(a,rr.min())})}).next(()=>(this.Ai=null,r.apply(e)))}updateLimboDocument(e,r){return this.mi(e,r).next(n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())})}hi(e){return 0}mi(e,r){return Ze.or([()=>Ze.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ei(e,r)])}}class Tv{constructor(e,r){this.persistence=e,this.fi=new Rh(n=>jq(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=eW(this,r)}static Vi(e,r){return new Tv(e,r)}Ti(){}Ii(e){return Ze.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}dr(e){const r=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(a=>n+a))}pr(e){let r=0;return this.mr(e,n=>{r++}).next(()=>r)}mr(e,r){return Ze.forEach(this.fi,(n,a)=>this.wr(e,n,a).next(i=>i?Ze.resolve():r(a)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.ni(e,s=>this.wr(e,s,r).next(o=>{o||(n++,i.removeEntry(s,rr.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.fi.set(r,e.currentSequenceNumber),Ze.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.fi.set(n,e.currentSequenceNumber),Ze.resolve()}removeReference(e,r,n){return this.fi.set(n,e.currentSequenceNumber),Ze.resolve()}updateLimboDocument(e,r){return this.fi.set(r,e.currentSequenceNumber),Ze.resolve()}hi(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=w2(e.data.value)),r}wr(e,r,n){return Ze.or([()=>this.persistence.Ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const a=this.fi.get(r);return Ze.resolve(a!==void 0&&a>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,r,n,a){this.targetId=e,this.fromCache=r,this.Ts=n,this.Is=a}static Es(e,r){let n=Nr(),a=Nr();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new D4(e,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dW{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return Mj()?8:Bq(Ni())>0?6:4}()}initialize(e,r){this.fs=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,a){const i={result:null};return this.gs(e,r).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.ps(e,r,a,n).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new hW;return this.ys(e,r,s).next(o=>{if(i.result=o,this.As)return this.ws(e,r,s,o.size)})}).next(()=>i.result)}ws(e,r,n,a){return n.documentReadCount<this.Vs?(f0()<=Tr.DEBUG&&It("QueryEngine","SDK will not create cache indexes for query:",h0(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Ze.resolve()):(f0()<=Tr.DEBUG&&It("QueryEngine","Query:",h0(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ds*a?(f0()<=Tr.DEBUG&&It("QueryEngine","The SDK decides to create cache indexes for query:",h0(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rl(r))):Ze.resolve())}gs(e,r){if(hT(r))return Ze.resolve(null);let n=Rl(r);return this.indexManager.getIndexType(e,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=xw(r,null,"F"),n=Rl(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const s=Nr(...i);return this.fs.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.bs(r,o);return this.Ss(r,c,s,l.readTime)?this.gs(e,xw(r,null,"F")):this.Ds(e,c,r,l)}))})))}ps(e,r,n,a){return hT(r)||a.isEqual(rr.min())?Ze.resolve(null):this.fs.getDocuments(e,n).next(i=>{const s=this.bs(r,i);return this.Ss(r,s,n,a)?Ze.resolve(null):(f0()<=Tr.DEBUG&&It("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),h0(r)),this.Ds(e,s,r,Dq(a,Ip)).next(o=>o))})}bs(e,r){let n=new Ma(_7(e));return r.forEach((a,i)=>{Rx(e,i)&&(n=n.add(i))}),n}Ss(e,r,n,a){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const i=e.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}ys(e,r,n){return f0()<=Tr.DEBUG&&It("QueryEngine","Using full collection scan to execute query:",h0(r)),this.fs.getDocumentsMatchingQuery(e,r,Zu.min(),n)}Ds(e,r,n,a){return this.fs.getDocumentsMatchingQuery(e,n,a).next(i=>(r.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4="LocalStore",pW=3e8;class mW{constructor(e,r,n,a){this.persistence=e,this.Cs=r,this.serializer=a,this.vs=new qn(Cr),this.Fs=new Rh(i=>A4(i),S4),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(n)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nW(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.vs))}}function gW(t,e,r,n){return new mW(t,e,r,n)}async function W7(t,e){const r=lr(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(i=>(a=i,r.Os(e),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const s=[],o=[];let l=Nr();for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ns:c,removedBatchIds:s,addedBatchIds:o}))})})}function vW(t,e){const r=lr(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=e.batch.keys(),i=r.xs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const h=c.batch,d=h.keys();let f=Ze.resolve();return d.forEach(p=>{f=f.next(()=>u.getEntry(l,p)).next(m=>{const _=c.docVersions.get(p);Fr(_!==null,48541),m.version.compareTo(_)<0&&(h.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(l,h))}(r,n,e,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Nr();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,a))})}function $7(t){const e=lr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.li.getLastRemoteSnapshotVersion(r))}function xW(t,e){const r=lr(t),n=e.snapshotVersion;let a=r.vs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=r.xs.newChangeBuffer({trackRemovals:!0});a=r.vs;const o=[];e.targetChanges.forEach((u,h)=>{const d=a.get(h);if(!d)return;o.push(r.li.removeMatchingKeys(i,u.removedDocuments,h).next(()=>r.li.addMatchingKeys(i,u.addedDocuments,h)));let f=d.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(fi.EMPTY_BYTE_STRING,rr.min()).withLastLimboFreeSnapshotVersion(rr.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,n)),a=a.insert(h,f),function(m,_,x){return m.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=pW?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(d,f,u)&&o.push(r.li.updateTargetData(i,f))});let l=Lc(),c=Nr();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(i,u))}),o.push(_W(i,s,e.documentUpdates).next(u=>{l=u.Bs,c=u.Ls})),!n.isEqual(rr.min())){const u=r.li.getLastRemoteSnapshotVersion(i).next(h=>r.li.setTargetsMetadata(i,i.currentSequenceNumber,n));o.push(u)}return Ze.waitFor(o).next(()=>s.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(r.vs=a,i))}function _W(t,e,r){let n=Nr(),a=Nr();return r.forEach(i=>n=n.add(i)),e.getEntries(t,n).next(i=>{let s=Lc();return r.forEach((o,l)=>{const c=i.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(a=a.add(o)),l.isNoDocument()&&l.version.isEqual(rr.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):It(O4,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Bs:s,Ls:a}})}function yW(t,e){const r=lr(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=w4),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function wW(t,e){const r=lr(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return r.li.getTargetData(n,e).next(i=>i?(a=i,Ze.resolve(a)):r.li.allocateTargetId(n).next(s=>(a=new Cu(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.li.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=r.vs.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.vs=r.vs.insert(n.targetId,n),r.Fs.set(e,n.targetId)),n})}async function bw(t,e,r){const n=lr(t),a=n.vs.get(e),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,s=>n.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!Od(s))throw s;It(O4,`Failed to update sequence numbers for target ${e}: ${s}`)}n.vs=n.vs.remove(e),n.Fs.delete(a.target)}function ST(t,e,r){const n=lr(t);let a=rr.min(),i=Nr();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const h=lr(l),d=h.Fs.get(u);return d!==void 0?Ze.resolve(h.vs.get(d)):h.li.getTargetData(c,u)}(n,s,Rl(e)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,n.li.getMatchingKeysForTargetId(s,o.targetId).next(l=>{i=l})}).next(()=>n.Cs.getDocumentsMatchingQuery(s,e,r?a:rr.min(),r?i:Nr())).next(o=>(bW(n,lG(e),o),{documents:o,ks:i})))}function bW(t,e,r){let n=t.Ms.get(e)||rr.min();r.forEach((a,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),t.Ms.set(e,n)}class TT{constructor(){this.activeTargetIds=pG()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EW{constructor(){this.vo=new TT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,r,n){this.Fo[e]=r}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new TT,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="ConnectivityMonitor";class CT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){It(kT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){It(kT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cg=null;function Ew(){return Cg===null?Cg=function(){return 268435456+Math.round(2147483648*Math.random())}():Cg++,"0x"+Cg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="RestConnection",SW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class TW{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=r+"://"+e.host,this.Uo=`projects/${n}/databases/${a}`,this.$o=this.databaseId.database===yv?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Wo(e,r,n,a,i){const s=Ew(),o=this.Qo(e,r.toUriEncodedString());It(py,`Sending RPC '${e}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,a,i);const{host:c}=new URL(o),u=df(c);return this.zo(e,o,l,n,u).then(h=>(It(py,`Received RPC '${e}' ${s}: `,h),h),h=>{throw dh(py,`RPC '${e}' ${s} failed with error: `,h,"url: ",o,"request:",n),h})}jo(e,r,n,a,i,s){return this.Wo(e,r,n,a,i)}Go(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ld}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,i)=>e[i]=a),n&&n.headers.forEach((a,i)=>e[i]=a)}Qo(e,r){const n=SW[e];let a=`${this.qo}/v1/${r}:${n}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kW{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi="WebChannelConnection",g1=(t,e,r)=>{t.listen(e,n=>{try{r(n)}catch(a){setTimeout(()=>{throw a},0)}})};class G0 extends TW{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!G0.c_){const e=KR();g1(e,XR.STAT_EVENT,r=>{r.stat===fw.PROXY?It(gi,"STAT_EVENT: detected buffering proxy"):r.stat===fw.NOPROXY&&It(gi,"STAT_EVENT: detected no buffering proxy")}),G0.c_=!0}}zo(e,r,n,a,i){const s=Ew();return new Promise((o,l)=>{const c=new WR;c.setWithCredentials(!0),c.listenOnce($R.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case y2.NO_ERROR:const h=c.getResponseJson();It(gi,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case y2.TIMEOUT:It(gi,`RPC '${e}' ${s} timed out`),l(new At(Xe.DEADLINE_EXCEEDED,"Request time out"));break;case y2.HTTP_ERROR:const d=c.getStatus();if(It(gi,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const m=function(x){const T=x.toLowerCase().replace(/_/g,"-");return Object.values(Xe).indexOf(T)>=0?T:Xe.UNKNOWN}(p.status);l(new At(m,p.message))}else l(new At(Xe.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new At(Xe.UNAVAILABLE,"Connection failed."));break;default:Xt(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{It(gi,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(a);It(gi,`RPC '${e}' ${s} sending request:`,a),c.send(r,"POST",u,n,15)})}T_(e,r,n){const a=Ew(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,r,n),o.encodeInitMessageHeaders=!0;const c=i.join("");It(gi,`Creating RPC '${e}' stream ${a}: ${c}`,o);const u=s.createWebChannel(c,o);this.I_(u);let h=!1,d=!1;const f=new kW({Ho:p=>{d?It(gi,`Not sending because RPC '${e}' stream ${a} is closed:`,p):(h||(It(gi,`Opening RPC '${e}' stream ${a} transport.`),u.open(),h=!0),It(gi,`RPC '${e}' stream ${a} sending:`,p),u.send(p))},Jo:()=>u.close()});return g1(u,C1.EventType.OPEN,()=>{d||(It(gi,`RPC '${e}' stream ${a} transport opened.`),f.i_())}),g1(u,C1.EventType.CLOSE,()=>{d||(d=!0,It(gi,`RPC '${e}' stream ${a} transport closed`),f.o_(),this.E_(u))}),g1(u,C1.EventType.ERROR,p=>{d||(d=!0,dh(gi,`RPC '${e}' stream ${a} transport errored. Name:`,p.name,"Message:",p.message),f.o_(new At(Xe.UNAVAILABLE,"The operation could not be completed")))}),g1(u,C1.EventType.MESSAGE,p=>{var m;if(!d){const _=p.data[0];Fr(!!_,16349);const x=_,T=(x==null?void 0:x.error)||((m=x[0])==null?void 0:m.error);if(T){It(gi,`RPC '${e}' stream ${a} received error:`,T);const w=T.status;let I=function(N){const E=xa[N];if(E!==void 0)return L7(E)}(w),j=T.message;w==="NOT_FOUND"&&j.includes("database")&&j.includes("does not exist")&&j.includes(this.databaseId.database)&&dh(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),I===void 0&&(I=Xe.INTERNAL,j="Unknown error status: "+w+" with message "+T.message),d=!0,f.o_(new At(I,j)),u.close()}else It(gi,`RPC '${e}' stream ${a} received:`,_),f.__(_)}}),G0.u_(),setTimeout(()=>{f.s_()},0),f}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(r=>r===e)}Go(e,r,n){super.Go(e,r,n),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return YR()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CW(t){return new G0(t)}function my(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(t){return new LG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */G0.c_=!1;class P4{constructor(e,r,n=1e3,a=1.5,i=6e4){this.Ci=e,this.timerId=r,this.R_=n,this.A_=a,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const r=Math.floor(this.d_+this.y_()),n=Math.max(0,Date.now()-this.f_),a=Math.max(0,r-n);a>0&&It("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="PersistentStream";class X7{constructor(e,r,n,a,i,s,o,l){this.Ci=e,this.b_=n,this.S_=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new P4(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===Xe.RESOURCE_EXHAUSTED?(Rc(r.toString()),Rc("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(r)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.D_===r&&this.G_(n,a)},n=>{e(()=>{const a=new At(Xe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(a)})})}G_(e,r){const n=this.Q_(this.D_);this.stream=this.j_(e,r),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.Yo(()=>{n(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(a=>{n(()=>this.z_(a))}),this.stream.onMessage(a=>{n(()=>++this.F_==1?this.H_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return It(NT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return r=>{this.Ci.enqueueAndForget(()=>this.D_===e?r():(It(NT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NW extends X7{constructor(e,r,n,a,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}j_(e,r){return this.connection.T_("Listen",e,r)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=FG(this.serializer,e),n=function(i){if(!("targetChange"in i))return rr.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?rr.min():s.readTime?$s(s.readTime):rr.min()}(e);return this.listener.J_(r,n)}Z_(e){const r={};r.database=ww(this.serializer),r.addTarget=function(i,s){let o;const l=s.target;if(o=gw(l)?{documents:BG(i,l)}:{query:UG(i,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=P7(i,s.resumeToken);const c=_w(i,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(rr.min())>0){o.readTime=Av(i,s.snapshotVersion.toTimestamp());const c=_w(i,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const n=VG(this.serializer,e);n&&(r.labels=n),this.K_(r)}X_(e){const r={};r.database=ww(this.serializer),r.removeTarget=e,this.K_(r)}}class IW extends X7{constructor(e,r,n,a,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}H_(e){return Fr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=MG(e.writeResults,e.commitTime),n=$s(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=ww(this.serializer),this.K_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>U7(this.serializer,n))};this.K_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RW{}class LW extends RW{constructor(e,r,n,a){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new At(Xe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,r,n,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Wo(e,yw(r,n),a,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new At(Xe.UNKNOWN,i.toString())})}jo(e,r,n,a,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.jo(e,yw(r,n),a,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new At(Xe.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function DW(t,e,r,n){return new LW(t,e,r,n)}class OW{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rc(r),this.aa=!1):It("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph="RemoteStore";class PW{constructor(e,r,n,a,i){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(s=>{n.enqueueAndForget(async()=>{Lh(this)&&(It(ph,"Restarting streams for network reachability change."),await async function(l){const c=lr(l);c.Ea.add(4),await Sm(c),c.Va.set("Unknown"),c.Ea.delete(4),await Fx(c)}(this))})}),this.Va=new OW(n,a)}}async function Fx(t){if(Lh(t))for(const e of t.Ra)await e(!0)}async function Sm(t){for(const e of t.Ra)await e(!1)}function K7(t,e){const r=lr(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),U4(r)?B4(r):Fd(r).O_()&&M4(r,e))}function F4(t,e){const r=lr(t),n=Fd(r);r.Ia.delete(e),n.O_()&&Y7(r,e),r.Ia.size===0&&(n.O_()?n.L_():Lh(r)&&r.Va.set("Unknown"))}function M4(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(rr.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Fd(t).Z_(e)}function Y7(t,e){t.da.$e(e),Fd(t).X_(e)}function B4(t){t.da=new CG({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Fd(t).start(),t.Va.ua()}function U4(t){return Lh(t)&&!Fd(t).x_()&&t.Ia.size>0}function Lh(t){return lr(t).Ea.size===0}function Q7(t){t.da=void 0}async function FW(t){t.Va.set("Online")}async function MW(t){t.Ia.forEach((e,r)=>{M4(t,e)})}async function BW(t,e){Q7(t),U4(t)?(t.Va.ha(e),B4(t)):t.Va.set("Unknown")}async function UW(t,e,r){if(t.Va.set("Online"),e instanceof O7&&e.state===2&&e.cause)try{await async function(a,i){const s=i.cause;for(const o of i.targetIds)a.Ia.has(o)&&(await a.remoteSyncer.rejectListen(o,s),a.Ia.delete(o),a.da.removeTarget(o))}(t,e)}catch(n){It(ph,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await kv(t,n)}else if(e instanceof A2?t.da.Xe(e):e instanceof D7?t.da.st(e):t.da.tt(e),!r.isEqual(rr.min()))try{const n=await $7(t.localStore);r.compareTo(n)>=0&&await function(i,s){const o=i.da.Tt(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.Ia.get(c);u&&i.Ia.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=i.Ia.get(l);if(!u)return;i.Ia.set(l,u.withResumeToken(fi.EMPTY_BYTE_STRING,u.snapshotVersion)),Y7(i,l);const h=new Cu(u.target,l,c,u.sequenceNumber);M4(i,h)}),i.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){It(ph,"Failed to raise snapshot:",n),await kv(t,n)}}async function kv(t,e,r){if(!Od(e))throw e;t.Ea.add(1),await Sm(t),t.Va.set("Offline"),r||(r=()=>$7(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{It(ph,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await Fx(t)})}function J7(t,e){return e().catch(r=>kv(t,r,e))}async function Mx(t){const e=lr(t),r=nf(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:w4;for(;jW(e);)try{const a=await yW(e.localStore,n);if(a===null){e.Ta.length===0&&r.L_();break}n=a.batchId,VW(e,a)}catch(a){await kv(e,a)}Z7(e)&&eL(e)}function jW(t){return Lh(t)&&t.Ta.length<10}function VW(t,e){t.Ta.push(e);const r=nf(t);r.O_()&&r.Y_&&r.ea(e.mutations)}function Z7(t){return Lh(t)&&!nf(t).x_()&&t.Ta.length>0}function eL(t){nf(t).start()}async function zW(t){nf(t).ra()}async function HW(t){const e=nf(t);for(const r of t.Ta)e.ea(r.mutations)}async function qW(t,e,r){const n=t.Ta.shift(),a=C4.from(n,e,r);await J7(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Mx(t)}async function GW(t,e){e&&nf(t).Y_&&await async function(n,a){if(function(s){return R7(s)&&s!==Xe.ABORTED}(a.code)){const i=n.Ta.shift();nf(n).B_(),await J7(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,a)),await Mx(n)}}(t,e),Z7(t)&&eL(t)}async function IT(t,e){const r=lr(t);r.asyncQueue.verifyOperationInProgress(),It(ph,"RemoteStore received new credentials");const n=Lh(r);r.Ea.add(3),await Sm(r),n&&r.Va.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await Fx(r)}async function WW(t,e){const r=lr(t);e?(r.Ea.delete(2),await Fx(r)):e||(r.Ea.add(2),await Sm(r),r.Va.set("Unknown"))}function Fd(t){return t.ma||(t.ma=function(r,n,a){const i=lr(r);return i.sa(),new NW(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(t.datastore,t.asyncQueue,{Zo:FW.bind(null,t),Yo:MW.bind(null,t),t_:BW.bind(null,t),J_:UW.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),U4(t)?B4(t):t.Va.set("Unknown")):(await t.ma.stop(),Q7(t))})),t.ma}function nf(t){return t.fa||(t.fa=function(r,n,a){const i=lr(r);return i.sa(),new IW(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:zW.bind(null,t),t_:GW.bind(null,t),ta:HW.bind(null,t),na:qW.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await Mx(t)):(await t.fa.stop(),t.Ta.length>0&&(It(ph,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,r,n,a,i){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=i,this.deferred=new _c,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,a,i){const s=Date.now()+n,o=new j4(e,r,s,a,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new At(Xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function V4(t,e){if(Rc("AsyncQueue",`${e}: ${t}`),Od(t))return new At(Xe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{static emptySet(e){return new W0(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||qt.comparator(r.key,n.key):(r,n)=>qt.comparator(r.key,n.key),this.keyedMap=N1(),this.sortedSet=new qn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof W0)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new W0;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(){this.ga=new qn(qt.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):Xt(63341,{Vt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,n)=>{e.push(n)}),e}}class gd{constructor(e,r,n,a,i,s,o,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,a,i){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new gd(e,r,W0.emptySet(r),s,n,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ix(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class XW{constructor(){this.queries=LT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const a=lr(r),i=a.queries;a.queries=LT(),i.forEach((s,o)=>{for(const l of o.ba)l.onError(n)})})(this,new At(Xe.ABORTED,"Firestore shutting down"))}}function LT(){return new Rh(t=>x7(t),Ix)}async function tL(t,e){const r=lr(t);let n=3;const a=e.query;let i=r.queries.get(a);i?!i.Sa()&&e.Da()&&(n=2):(i=new $W,n=e.Da()?0:1);try{switch(n){case 0:i.wa=await r.onListen(a,!0);break;case 1:i.wa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(s){const o=V4(s,`Initialization of query '${h0(e.query)}' failed`);return void e.onError(o)}r.queries.set(a,i),i.ba.push(e),e.va(r.onlineState),i.wa&&e.Fa(i.wa)&&z4(r)}async function rL(t,e){const r=lr(t),n=e.query;let a=3;const i=r.queries.get(n);if(i){const s=i.ba.indexOf(e);s>=0&&(i.ba.splice(s,1),i.ba.length===0?a=e.Da()?0:1:!i.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function KW(t,e){const r=lr(t);let n=!1;for(const a of e){const i=a.query,s=r.queries.get(i);if(s){for(const o of s.ba)o.Fa(a)&&(n=!0);s.wa=a}}n&&z4(r)}function YW(t,e,r){const n=lr(t),a=n.queries.get(e);if(a)for(const i of a.ba)i.onError(r);n.queries.delete(e)}function z4(t){t.Ca.forEach(e=>{e.next()})}var Aw,DT;(DT=Aw||(Aw={})).Ma="default",DT.Cache="cache";class nL{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const a of e.docChanges)a.type!==3&&n.push(a);e=new gd(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.Ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=gd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Aw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e){this.key=e}}class iL{constructor(e){this.key=e}}class QW{constructor(e,r){this.query=e,this.Za=r,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Nr(),this.mutatedKeys=Nr(),this.eu=_7(e),this.tu=new W0(this.eu)}get nu(){return this.Za}ru(e,r){const n=r?r.iu:new RT,a=r?r.tu:this.tu;let i=r?r.mutatedKeys:this.mutatedKeys,s=a,o=!1;const l=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,c=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((u,h)=>{const d=a.get(u),f=Rx(this.query,h)?h:null,p=!!d&&this.mutatedKeys.has(d.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;d&&f?d.data.isEqual(f.data)?p!==m&&(n.track({type:3,doc:f}),_=!0):this.su(d,f)||(n.track({type:2,doc:f}),_=!0,(l&&this.eu(f,l)>0||c&&this.eu(f,c)<0)&&(o=!0)):!d&&f?(n.track({type:0,doc:f}),_=!0):d&&!f&&(n.track({type:1,doc:d}),_=!0,(l||c)&&(o=!0)),_&&(f?(s=s.add(f),i=m?i.add(u):i.delete(u)):(s=s.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),i=i.delete(u.key),n.track({type:1,doc:u})}return{tu:s,iu:n,Ss:o,mutatedKeys:i}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,a){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((u,h)=>function(f,p){const m=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xt(20277,{Vt:_})}};return m(f)-m(p)}(u.type,h.type)||this.eu(u.doc,h.doc)),this.ou(n),a=a??!1;const o=r&&!a?this._u():[],l=this.Ya.size===0&&this.current&&!a?1:0,c=l!==this.Xa;return this.Xa=l,s.length!==0||c?{snapshot:new gd(this.query,e.tu,i,s,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new RT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Za=this.Za.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Za=this.Za.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Nr(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Ya=this.Ya.add(n.key))});const r=[];return e.forEach(n=>{this.Ya.has(n)||r.push(new iL(n))}),this.Ya.forEach(n=>{e.has(n)||r.push(new aL(n))}),r}cu(e){this.Za=e.ks,this.Ya=Nr();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return gd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const H4="SyncEngine";class JW{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class ZW{constructor(e){this.key=e,this.hu=!1}}class e${constructor(e,r,n,a,i,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Rh(o=>x7(o),Ix),this.Iu=new Map,this.Eu=new Set,this.Ru=new qn(qt.comparator),this.Au=new Map,this.Vu=new R4,this.du={},this.mu=new Map,this.fu=md.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function t$(t,e,r=!0){const n=fL(t);let a;const i=n.Tu.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.lu()):a=await sL(n,e,r,!0),a}async function r$(t,e){const r=fL(t);await sL(r,e,!0,!1)}async function sL(t,e,r,n){const a=await wW(t.localStore,Rl(e)),i=a.targetId,s=t.sharedClientState.addLocalQueryTarget(i,r);let o;return n&&(o=await n$(t,e,i,s==="current",a.resumeToken)),t.isPrimaryClient&&r&&K7(t.remoteStore,a),o}async function n$(t,e,r,n,a){t.pu=(h,d,f)=>async function(m,_,x,T){let w=_.view.ru(x);w.Ss&&(w=await ST(m.localStore,_.query,!1).then(({documents:N})=>_.view.ru(N,w)));const I=T&&T.targetChanges.get(_.targetId),j=T&&T.targetMismatches.get(_.targetId)!=null,P=_.view.applyChanges(w,m.isPrimaryClient,I,j);return PT(m,_.targetId,P.au),P.snapshot}(t,h,d,f);const i=await ST(t.localStore,e,!0),s=new QW(e,i.ks),o=s.ru(i.documents),l=Am.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",a),c=s.applyChanges(o,t.isPrimaryClient,l);PT(t,r,c.au);const u=new JW(e,r,s);return t.Tu.set(e,u),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),c.snapshot}async function a$(t,e,r){const n=lr(t),a=n.Tu.get(e),i=n.Iu.get(a.targetId);if(i.length>1)return n.Iu.set(a.targetId,i.filter(s=>!Ix(s,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await bw(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&F4(n.remoteStore,a.targetId),Sw(n,a.targetId)}).catch(Dd)):(Sw(n,a.targetId),await bw(n.localStore,a.targetId,!0))}async function i$(t,e){const r=lr(t),n=r.Tu.get(e),a=r.Iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),F4(r.remoteStore,n.targetId))}async function s$(t,e,r){const n=d$(t);try{const a=await function(s,o){const l=lr(s),c=Dn.now(),u=o.reduce((f,p)=>f.add(p.key),Nr());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Lc(),m=Nr();return l.xs.getEntries(f,u).next(_=>{p=_,p.forEach((x,T)=>{T.isValidDocument()||(m=m.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(_=>{h=_;const x=[];for(const T of o){const w=bG(T,h.get(T.key).overlayedDocument);w!=null&&x.push(new gf(T.key,w,u7(w.value.mapValue),Sa.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,x,o)}).next(_=>{d=_;const x=_.applyToLocalDocumentSet(h,m);return l.documentOverlayCache.saveOverlays(f,_.batchId,x)})}).then(()=>({batchId:d.batchId,changes:w7(h)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(a.batchId),function(s,o,l){let c=s.du[s.currentUser.toKey()];c||(c=new qn(Cr)),c=c.insert(o,l),s.du[s.currentUser.toKey()]=c}(n,a.batchId,r),await Tm(n,a.changes),await Mx(n.remoteStore)}catch(a){const i=V4(a,"Failed to persist write");r.reject(i)}}async function oL(t,e){const r=lr(t);try{const n=await xW(r.localStore,e);e.targetChanges.forEach((a,i)=>{const s=r.Au.get(i);s&&(Fr(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?s.hu=!0:a.modifiedDocuments.size>0?Fr(s.hu,14607):a.removedDocuments.size>0&&(Fr(s.hu,42227),s.hu=!1))}),await Tm(r,n,e)}catch(n){await Dd(n)}}function OT(t,e,r){const n=lr(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.Tu.forEach((i,s)=>{const o=s.view.va(e);o.snapshot&&a.push(o.snapshot)}),function(s,o){const l=lr(s);l.onlineState=o;let c=!1;l.queries.forEach((u,h)=>{for(const d of h.ba)d.va(o)&&(c=!0)}),c&&z4(l)}(n.eventManager,e),a.length&&n.Pu.J_(a),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function o$(t,e,r){const n=lr(t);n.sharedClientState.updateQueryState(e,"rejected",r);const a=n.Au.get(e),i=a&&a.key;if(i){let s=new qn(qt.comparator);s=s.insert(i,$a.newNoDocument(i,rr.min()));const o=Nr().add(i),l=new Ox(rr.min(),new Map,new qn(Cr),s,o);await oL(n,l),n.Ru=n.Ru.remove(i),n.Au.delete(e),q4(n)}else await bw(n.localStore,e,!1).then(()=>Sw(n,e,r)).catch(Dd)}async function l$(t,e){const r=lr(t),n=e.batch.batchId;try{const a=await vW(r.localStore,e);cL(r,n,null),lL(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Tm(r,a)}catch(a){await Dd(a)}}async function c$(t,e,r){const n=lr(t);try{const a=await function(s,o){const l=lr(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(h=>(Fr(h!==null,37113),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,e);cL(n,e,r),lL(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Tm(n,a)}catch(a){await Dd(a)}}function lL(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function cL(t,e,r){const n=lr(t);let a=n.du[n.currentUser.toKey()];if(a){const i=a.get(e);i&&(r?i.reject(r):i.resolve(),a=a.remove(e)),n.du[n.currentUser.toKey()]=a}}function Sw(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(n=>{t.Vu.containsKey(n)||uL(t,n)})}function uL(t,e){t.Eu.delete(e.path.canonicalString());const r=t.Ru.get(e);r!==null&&(F4(t.remoteStore,r),t.Ru=t.Ru.remove(e),t.Au.delete(r),q4(t))}function PT(t,e,r){for(const n of r)n instanceof aL?(t.Vu.addReference(n.key,e),u$(t,n)):n instanceof iL?(It(H4,"Document no longer in limbo: "+n.key),t.Vu.removeReference(n.key,e),t.Vu.containsKey(n.key)||uL(t,n.key)):Xt(19791,{wu:n})}function u$(t,e){const r=e.key,n=r.path.canonicalString();t.Ru.get(r)||t.Eu.has(n)||(It(H4,"New document in limbo: "+r),t.Eu.add(n),q4(t))}function q4(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new qt(cn.fromString(e)),n=t.fu.next();t.Au.set(n,new ZW(r)),t.Ru=t.Ru.insert(r,n),K7(t.remoteStore,new Cu(Rl(T4(r.path)),n,"TargetPurposeLimboResolution",Cx.ce))}}async function Tm(t,e,r){const n=lr(t),a=[],i=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach((o,l)=>{s.push(n.pu(l,e,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const h=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){a.push(c);const h=D4.Es(l.targetId,c);i.push(h)}}))}),await Promise.all(s),n.Pu.J_(a),await async function(l,c){const u=lr(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Ze.forEach(c,d=>Ze.forEach(d.Ts,f=>u.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>Ze.forEach(d.Is,f=>u.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!Od(h))throw h;It(O4,"Failed to update sequence numbers: "+h)}for(const h of c){const d=h.targetId;if(!h.fromCache){const f=u.vs.get(d),p=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(p);u.vs=u.vs.insert(d,m)}}}(n.localStore,i))}async function f$(t,e){const r=lr(t);if(!r.currentUser.isEqual(e)){It(H4,"User change. New user:",e.toKey());const n=await W7(r.localStore,e);r.currentUser=e,function(i,s){i.mu.forEach(o=>{o.forEach(l=>{l.reject(new At(Xe.CANCELLED,s))})}),i.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Tm(r,n.Ns)}}function h$(t,e){const r=lr(t),n=r.Au.get(e);if(n&&n.hu)return Nr().add(n.key);{let a=Nr();const i=r.Iu.get(e);if(!i)return a;for(const s of i){const o=r.Tu.get(s);a=a.unionWith(o.view.nu)}return a}}function fL(t){const e=lr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=h$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=o$.bind(null,e),e.Pu.J_=KW.bind(null,e.eventManager),e.Pu.yu=YW.bind(null,e.eventManager),e}function d$(t){const e=lr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=l$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c$.bind(null,e),e}class Cv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Px(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return gW(this.persistence,new dW,e.initialUser,this.serializer)}Cu(e){return new G7(L4.Vi,this.serializer)}Du(e){return new EW}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cv.provider={build:()=>new Cv};class p$ extends Cv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Fr(this.persistence.referenceDelegate instanceof Tv,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new JG(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?cs.withCacheSize(this.cacheSizeBytes):cs.DEFAULT;return new G7(n=>Tv.Vi(n,r),this.serializer)}}class Tw{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>OT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=f$.bind(null,this.syncEngine),await WW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XW}()}createDatastore(e){const r=Px(e.databaseInfo.databaseId),n=CW(e.databaseInfo);return DW(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,a,i,s,o){return new PW(n,a,i,s,o)}(this.localStore,this.datastore,e.asyncQueue,r=>OT(this.syncEngine,r,0),function(){return CT.v()?new CT:new AW}())}createSyncEngine(e,r){return function(a,i,s,o,l,c,u){const h=new e$(a,i,s,o,l,c);return u&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(a){const i=lr(a);It(ph,"RemoteStore shutting down."),i.Ea.add(5),await Sm(i),i.Aa.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}Tw.provider={build:()=>new Tw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Rc("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m$=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new At(Xe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const r=await async function(a,i){const s=lr(a),o={documents:i.map(h=>Sv(s.serializer,h))},l=await s.jo("BatchGetDocuments",s.serializer.databaseId,cn.emptyPath(),o,i.length),c=new Map;l.forEach(h=>{const d=PG(s.serializer,h);c.set(d.key.toString(),d)});const u=[];return i.forEach(h=>{const d=c.get(h.toString());Fr(!!d,55234,{key:h}),u.push(d)}),u}(this.datastore,e);return r.forEach(n=>this.recordVersion(n)),r}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new Em(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,n)=>{const a=qt.fromPath(n);this.mutations.push(new I7(a,this.precondition(a)))}),await async function(n,a){const i=lr(n),s={writes:a.map(o=>U7(i.serializer,o))};await i.Wo("Commit",i.serializer.databaseId,cn.emptyPath(),s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Xt(50498,{Gu:e.constructor.name});r=rr.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!r.isEqual(n))throw new At(Xe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(rr.min())?Sa.exists(!1):Sa.updateTime(r):Sa.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(rr.min()))throw new At(Xe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Sa.updateTime(r)}return Sa.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${constructor(e,r,n,a,i){this.asyncQueue=e,this.datastore=r,this.options=n,this.updateFunction=a,this.deferred=i,this.zu=n.maxAttempts,this.M_=new P4(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_(async()=>{const e=new m$(this.datastore),r=this.Ju(e);r&&r.then(n=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(n)}).catch(a=>{this.Zu(a)}))}).catch(n=>{this.Zu(n)})})}Ju(e){try{const r=this.updateFunction(e);return!wm(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Hu(),Promise.resolve()))):this.deferred.reject(e)}Xu(e){if((e==null?void 0:e.name)==="FirebaseError"){const r=e.code;return r==="aborted"||r==="failed-precondition"||r==="already-exists"||!R7(r)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af="FirestoreClient";class v${constructor(e,r,n,a,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this._databaseInfo=a,this.user=Ei.UNAUTHENTICATED,this.clientId=y4.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async s=>{It(af,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(It(af,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _c;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=V4(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function gy(t,e){t.asyncQueue.verifyOperationInProgress(),It(af,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async a=>{n.isEqual(a)||(await W7(e.localStore,a),n=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function FT(t,e){t.asyncQueue.verifyOperationInProgress();const r=await x$(t);It(af,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>IT(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,a)=>IT(e.remoteStore,a)),t._onlineComponents=e}async function x$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){It(af,"Using user provided OfflineComponentProvider");try{await gy(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(a){return a.name==="FirebaseError"?a.code===Xe.FAILED_PRECONDITION||a.code===Xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;dh("Error using user provided cache. Falling back to memory cache: "+r),await gy(t,new Cv)}}else It(af,"Using default OfflineComponentProvider"),await gy(t,new p$(void 0));return t._offlineComponents}async function G4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(It(af,"Using user provided OnlineComponentProvider"),await FT(t,t._uninitializedComponentsProvider._online)):(It(af,"Using default OnlineComponentProvider"),await FT(t,new Tw))),t._onlineComponents}function _$(t){return G4(t).then(e=>e.syncEngine)}function y$(t){return G4(t).then(e=>e.datastore)}async function kw(t){const e=await G4(t),r=e.eventManager;return r.onListen=t$.bind(null,e.syncEngine),r.onUnlisten=a$.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=r$.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=i$.bind(null,e.syncEngine),r}function w$(t,e,r,n){const a=new hL(n),i=new nL(e,a,r);return t.asyncQueue.enqueueAndForget(async()=>tL(await kw(t),i)),()=>{a.Nu(),t.asyncQueue.enqueueAndForget(async()=>rL(await kw(t),i))}}function b$(t,e,r={}){const n=new _c;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new hL({next:d=>{u.Nu(),s.enqueueAndForget(()=>rL(i,h)),d.fromCache&&l.source==="server"?c.reject(new At(Xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new nL(o,u,{includeMetadataChanges:!0,Ka:!0});return tL(i,h)}(await kw(t),t.asyncQueue,e,r,n)),n.promise}function E$(t,e){const r=new _c;return t.asyncQueue.enqueueAndForget(async()=>s$(await _$(t),e,r)),r.promise}function A$(t,e,r){const n=new _c;return t.asyncQueue.enqueueAndForget(async()=>{const a=await y$(t);new g$(t.asyncQueue,a,r,e,n).ju()}),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$="ComponentProvider",MT=new Map;function T$(t,e,r,n,a){return new Hq(t,e,r,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,dL(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL="firestore.googleapis.com",BT=!0;class UT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new At(Xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pL,this.ssl=BT}else this.host=e.host,this.ssl=e.ssl??BT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=q7;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YG)throw new At(Xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Lq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dL(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new At(Xe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new At(Xe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new At(Xe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bx{constructor(e,r,n,a){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new At(Xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new At(Xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new bq;switch(n.type){case"firstParty":return new Tq(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new At(Xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=MT.get(r);n&&(It(S$,"Removing Datastore"),MT.delete(r),n.terminate())}(this),Promise.resolve()}}function k$(t,e,r,n={}){var c;t=hs(t,Bx);const a=df(e),i=t._getSettings(),s={...i,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${r}`;a&&(s4(`https://${o}`),o4("Firestore",!0)),i.host!==pL&&i.host!==o&&dh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:o,ssl:a,emulatorOptions:n};if(!lh(l,s)&&(t._setSettings(l),n.mockUserToken)){let u,h;if(typeof n.mockUserToken=="string")u=n.mockUserToken,h=Ei.MOCK_USER;else{u=iR(n.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const d=n.mockUserToken.sub||n.mockUserToken.user_id;if(!d)throw new At(Xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ei(d)}t._authCredentials=new Eq(new JR(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new vf(this.firestore,e,this._query)}}class Jn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}toJSON(){return{type:Jn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(ym(r,Jn._jsonSchema))return new Jn(e,n||null,new qt(cn.fromString(r.referencePath)))}}Jn._jsonSchemaVersion="firestore/documentReference/1.0",Jn._jsonSchema={type:Ca("string",Jn._jsonSchemaVersion),referencePath:Ca("string")};class Gu extends vf{constructor(e,r,n){super(e,r,T4(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new qt(e))}withConverter(e){return new Gu(this.firestore,e,this._path)}}function xr(t,e,...r){if(t=Tn(t),ZR("collection","path",e),t instanceof Bx){const n=cn.fromString(e,...r);return JS(n),new Gu(t,null,n)}{if(!(t instanceof Jn||t instanceof Gu))throw new At(Xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(cn.fromString(e,...r));return JS(n),new Gu(t.firestore,null,n)}}function nn(t,e,...r){if(t=Tn(t),arguments.length===1&&(e=y4.newId()),ZR("doc","path",e),t instanceof Bx){const n=cn.fromString(e,...r);return QS(n),new Jn(t,null,new qt(n))}{if(!(t instanceof Jn||t instanceof Gu))throw new At(Xe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(cn.fromString(e,...r));return QS(n),new Jn(t.firestore,t instanceof Gu?t.converter:null,new qt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="AsyncQueue";class VT{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new P4(this,"async_queue_retry"),this._c=()=>{const n=my();n&&It(jT,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=my();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=my();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new _c;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Od(e))throw e;It(jT,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,Rc("INTERNAL UNHANDLED ERROR: ",zT(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const a=j4.createAndSchedule(this,e,r,n,i=>this.hc(i));return this.tc.push(a),a}uc(){this.nc&&Xt(47125,{Pc:zT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function zT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ol extends Bx{constructor(e,r,n,a){super(e,r,n,a),this.type="firestore",this._queue=new VT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VT(e),this._firestoreClient=void 0,await e}}}function C$(t,e){const r=typeof t=="object"?t:u4(),n=typeof t=="string"?t:yv,a=Ex(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const i=rR("firestore");i&&k$(a,...i)}return a}function km(t){if(t._terminated)throw new At(Xe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||N$(t),t._firestoreClient}function N$(t){var n,a,i,s;const e=t._freezeSettings(),r=T$(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,(a=t._app)==null?void 0:a.options.apiKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new v$(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fs(fi.fromBase64String(e))}catch(r){throw new At(Xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Fs(fi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ym(e,Fs._jsonSchema))return Fs.fromBase64String(e.bytes)}}Fs._jsonSchemaVersion="firestore/bytes/1.0",Fs._jsonSchema={type:Ca("string",Fs._jsonSchemaVersion),bytes:Ca("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new At(Xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new oi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new At(Xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new At(Xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Cr(this._lat,e._lat)||Cr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ll._jsonSchemaVersion}}static fromJSON(e){if(ym(e,Ll._jsonSchema))return new Ll(e.latitude,e.longitude)}}Ll._jsonSchemaVersion="firestore/geoPoint/1.0",Ll._jsonSchema={type:Ca("string",Ll._jsonSchemaVersion),latitude:Ca("number"),longitude:Ca("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,a){if(n.length!==a.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:$o._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ym(e,$o._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new $o(e.vectorValues);throw new At(Xe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$o._jsonSchemaVersion="firestore/vectorValue/1.0",$o._jsonSchema={type:Ca("string",$o._jsonSchemaVersion),vectorValues:Ca("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$=/^__.*__$/;class R${constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new gf(e,this.data,this.fieldMask,r,this.fieldTransforms):new bm(e,this.data,r,this.fieldTransforms)}}class mL{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new gf(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function gL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xt(40011,{dataSource:t})}}class W4{constructor(e,r,n,a,i,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new W4({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var a;const r=(a=this.path)==null?void 0:a.child(e),n=this.contextWith({path:r,arrayElement:!1});return n.validatePathSegment(e),n}childContextForFieldPath(e){var a;const r=(a=this.path)==null?void 0:a.child(e),n=this.contextWith({path:r,arrayElement:!1});return n.validatePath(),n}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Nv(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(gL(this.dataSource)&&I$.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class L${constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Px(e)}createContext(e,r,n,a=!1){return new W4({dataSource:e,methodName:r,targetDoc:n,path:oi.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Md(t){const e=t._freezeSettings(),r=Px(t._databaseId);return new L$(t._databaseId,!!e.ignoreUndefinedProperties,r)}function jx(t,e,r,n,a,i={}){const s=t.createContext(i.merge||i.mergeFields?2:0,e,r,a);Y4("Data must be an object, but it was:",s,n);const o=vL(n,s);let l,c;if(i.merge)l=new js(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const d=mh(e,h,r);if(!s.contains(d))throw new At(Xe.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);yL(u,d)||u.push(d)}l=new js(u),c=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=s.fieldTransforms;return new R$(new Wi(o),l,c)}class Vx extends Ux{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vx}}class $4 extends Ux{_toFieldTransform(e){return new xG(e.path,new Pp)}isEqual(e){return e instanceof $4}}function X4(t,e,r,n){const a=t.createContext(1,e,r);Y4("Data must be an object, but it was:",a,n);const i=[],s=Wi.empty();mf(n,(l,c)=>{const u=_L(e,l,r);c=Tn(c);const h=a.childContextForFieldPath(u);if(c instanceof Vx)i.push(u);else{const d=Nm(c,h);d!=null&&(i.push(u),s.set(u,d))}});const o=new js(i);return new mL(s,o,a.fieldTransforms)}function K4(t,e,r,n,a,i){const s=t.createContext(1,e,r),o=[mh(e,n,r)],l=[a];if(i.length%2!=0)throw new At(Xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<i.length;d+=2)o.push(mh(e,i[d])),l.push(i[d+1]);const c=[],u=Wi.empty();for(let d=o.length-1;d>=0;--d)if(!yL(c,o[d])){const f=o[d];let p=l[d];p=Tn(p);const m=s.childContextForFieldPath(f);if(p instanceof Vx)c.push(f);else{const _=Nm(p,m);_!=null&&(c.push(f),u.set(f,_))}}const h=new js(c);return new mL(u,h,s.fieldTransforms)}function D$(t,e,r,n=!1){return Nm(r,t.createContext(n?4:3,e))}function Nm(t,e){if(xL(t=Tn(t)))return Y4("Unsupported field value:",e,t),vL(t,e);if(t instanceof Ux)return function(n,a){if(!gL(a.dataSource))throw a.createError(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(n,a){const i=[];let s=0;for(const o of n){let l=Nm(o,a.childContextForArray(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,a){if((n=Tn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return mG(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Dn.fromDate(n);return{timestampValue:Av(a.serializer,i)}}if(n instanceof Dn){const i=new Dn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Av(a.serializer,i)}}if(n instanceof Ll)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Fs)return{bytesValue:P7(a.serializer,n._byteString)};if(n instanceof Jn){const i=a.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw a.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:I4(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof $o)return function(s,o){const l=s instanceof $o?s.toArray():s;return{mapValue:{fields:{[l7]:{stringValue:c7},[wv]:{arrayValue:{values:l.map(u=>{if(typeof u!="number")throw o.createError("VectorValues must only contain numeric values.");return k4(o.serializer,u)})}}}}}}(n,a);if(H7(n))return n._toProto(a.serializer);throw a.createError(`Unsupported field value: ${kx(n)}`)}(t,e)}function vL(t,e){const r={};return r7(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mf(t,(n,a)=>{const i=Nm(a,e.childContextForField(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function xL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Dn||t instanceof Ll||t instanceof Fs||t instanceof Jn||t instanceof Ux||t instanceof $o||H7(t))}function Y4(t,e,r){if(!xL(r)||!e7(r)){const n=kx(r);throw n==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+n)}}function mh(t,e,r){if((e=Tn(e))instanceof Cm)return e._internalPath;if(typeof e=="string")return _L(t,e);throw Nv("Field path arguments must be of type string or ",t,!1,void 0,r)}const O$=new RegExp("[~\\*/\\[\\]]");function _L(t,e,r){if(e.search(O$)>=0)throw Nv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Cm(...e.split("."))._internalPath}catch{throw Nv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Nv(t,e,r,n,a){const i=n&&!n.isEmpty(),s=a!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${n}`),s&&(l+=` in document ${a}`),l+=")"),new At(Xe.INVALID_ARGUMENT,o+t+l)}function yL(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{convertValue(e,r="none"){switch(rf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return la(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(tf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Xt(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return mf(e,(a,i)=>{n[a]=this.convertValue(i,r)}),n}convertVectorValue(e){var n,a,i;const r=(i=(a=(n=e.fields)==null?void 0:n[wv].arrayValue)==null?void 0:a.values)==null?void 0:i.map(s=>la(s.doubleValue));return new $o(r)}convertGeoPoint(e){return new Ll(la(e.latitude),la(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Nx(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Rp(e));default:return null}}convertTimestamp(e){const r=ef(e);return new Dn(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=cn.fromString(e);Fr(z7(n),9688,{name:e});const a=new Lp(n.get(1),n.get(3)),i=new qt(n.popFirst(5));return a.isEqual(r)||Rc(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx extends wL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fs(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,r)}}function P$(){return new $4("serverTimestamp")}const HT="@firebase/firestore",qT="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const a=r;for(const i of n)if(i in a&&typeof a[i]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,r,n,a,i){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new F$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const r=this._document.data.field(mh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class F$ extends Iv{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new At(Xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Q4{}class EL extends Q4{}function Ta(t,e,...r){let n=[];e instanceof Q4&&n.push(e),n=n.concat(r),function(i){const s=i.filter(l=>l instanceof J4).length,o=i.filter(l=>l instanceof Hx).length;if(s>1||s>0&&o>0)throw new At(Xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)t=a._apply(t);return t}class Hx extends EL{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Hx(e,r,n)}_apply(e){const r=this._parse(e);return AL(e._query,r),new vf(e.firestore,e.converter,vw(e._query,r))}_parse(e){const r=Md(e.firestore);return function(i,s,o,l,c,u,h){let d;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new At(Xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){$T(h,u);const p=[];for(const m of h)p.push(WT(l,i,m));d={arrayValue:{values:p}}}else d=WT(l,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||$T(h,u),d=D$(o,s,h,u==="in"||u==="not-in");return Aa.create(c,u,d)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function ca(t,e,r){const n=e,a=mh("where",t);return Hx._create(a,n,r)}class J4 extends Q4{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new J4(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Qo.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(a,i){let s=a;const o=i.getFlattenedFilters();for(const l of o)AL(s,l),s=vw(s,l)}(e._query,r),new vf(e.firestore,e.converter,vw(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Z4 extends EL{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Z4(e,r)}_apply(e){const r=function(a,i,s){if(a.startAt!==null)throw new At(Xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new At(Xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Op(i,s)}(e._query,this._field,this._direction);return new vf(e.firestore,e.converter,oG(e._query,r))}}function Im(t,e="asc"){const r=e,n=mh("orderBy",t);return Z4._create(n,r)}function WT(t,e,r){if(typeof(r=Tn(r))=="string"){if(r==="")throw new At(Xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!v7(e)&&r.indexOf("/")!==-1)throw new At(Xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(cn.fromString(r));if(!qt.isDocumentKey(n))throw new At(Xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return sT(t,new qt(n))}if(r instanceof Jn)return sT(t,r._key);throw new At(Xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kx(r)}.`)}function $T(t,e){if(!Array.isArray(t)||t.length===0)throw new At(Xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AL(t,e){const r=function(a,i){for(const s of a)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new At(Xe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new At(Xe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}function qx(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class M$ extends wL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fs(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,r)}}class R0{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wu extends Iv{constructor(e,r,n,a,i,s){super(e,r,n,a,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new S2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(mh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new At(Xe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Wu._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Wu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wu._jsonSchema={type:Ca("string",Wu._jsonSchemaVersion),bundleSource:Ca("string","DocumentSnapshot"),bundleName:Ca("string"),bundle:Ca("string")};class S2 extends Wu{data(e={}){return super.data(e)}}class Xf{constructor(e,r,n,a){this._firestore=e,this._userDataWriter=r,this._snapshot=a,this.metadata=new R0(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new S2(this._firestore,this._userDataWriter,n.key,n,new R0(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new At(Xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(o=>{const l=new S2(a._firestore,a._userDataWriter,o.doc.key,o.doc,new R0(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new S2(a._firestore,a._userDataWriter,o.doc.key,o.doc,new R0(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:B$(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new At(Xe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=y4.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],a=[];return this.docs.forEach(i=>{i._document!==null&&(r.push(i._document),n.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),a.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function B$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xt(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xf._jsonSchemaVersion="firestore/querySnapshot/1.0",Xf._jsonSchema={type:Ca("string",Xf._jsonSchemaVersion),bundleSource:Ca("string","QuerySnapshot"),bundleName:Ca("string"),bundle:Ca("string")};const U$={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Md(e)}set(e,r,n){this._verifyNotCommitted();const a=Nu(e,this._firestore),i=qx(a.converter,r,n),s=jx(this._dataReader,"WriteBatch.set",a._key,i,a.converter!==null,n);return this._mutations.push(s.toMutation(a._key,Sa.none())),this}update(e,r,n,...a){this._verifyNotCommitted();const i=Nu(e,this._firestore);let s;return s=typeof(r=Tn(r))=="string"||r instanceof Cm?K4(this._dataReader,"WriteBatch.update",i._key,r,n,a):X4(this._dataReader,"WriteBatch.update",i._key,r),this._mutations.push(s.toMutation(i._key,Sa.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Nu(e,this._firestore);return this._mutations=this._mutations.concat(new Em(r._key,Sa.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new At(Xe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Nu(t,e){if((t=Tn(t)).firestore!==e)throw new At(Xe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=Md(e)}get(e){const r=Nu(e,this._firestore),n=new M$(this._firestore);return this._transaction.lookup([r._key]).then(a=>{if(!a||a.length!==1)return Xt(24041);const i=a[0];if(i.isFoundDocument())return new Iv(this._firestore,n,i.key,i,r.converter);if(i.isNoDocument())return new Iv(this._firestore,n,r._key,null,r.converter);throw Xt(18433,{doc:i})})}set(e,r,n){const a=Nu(e,this._firestore),i=qx(a.converter,r,n),s=jx(this._dataReader,"Transaction.set",a._key,i,a.converter!==null,n);return this._transaction.set(a._key,s),this}update(e,r,n,...a){const i=Nu(e,this._firestore);let s;return s=typeof(r=Tn(r))=="string"||r instanceof Cm?K4(this._dataReader,"Transaction.update",i._key,r,n,a):X4(this._dataReader,"Transaction.update",i._key,r),this._transaction.update(i._key,s),this}delete(e){const r=Nu(e,this._firestore);return this._transaction.delete(r._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z$ extends V${constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Nu(e,this._firestore),n=new zx(this._firestore);return super.get(e).then(a=>new Wu(this._firestore,n,r._key,a._document,new R0(!1,!1),r.converter))}}function H$(t,e,r){t=hs(t,Ol);const n={...U$,...r};(function(s){if(s.maxAttempts<1)throw new At(Xe.INVALID_ARGUMENT,"Max attempts must be at least 1")})(n);const a=km(t);return A$(a,i=>e(new z$(t,i)),n)}function q$(t){t=hs(t,vf);const e=hs(t.firestore,Ol),r=km(e),n=new zx(e);return bL(t._query),b$(r,t._query).then(a=>new Xf(e,n,t,a))}function Rv(t,e,r){t=hs(t,Jn);const n=hs(t.firestore,Ol),a=qx(t.converter,e,r),i=Md(n);return Rm(n,[jx(i,"setDoc",t._key,a,t.converter!==null,r).toMutation(t._key,Sa.none())])}function qo(t,e,r,...n){t=hs(t,Jn);const a=hs(t.firestore,Ol),i=Md(a);let s;return s=typeof(e=Tn(e))=="string"||e instanceof Cm?K4(i,"updateDoc",t._key,e,r,n):X4(i,"updateDoc",t._key,e),Rm(a,[s.toMutation(t._key,Sa.exists(!0))])}function Gx(t){return Rm(hs(t.firestore,Ol),[new Em(t._key,Sa.none())])}function Kf(t,e){const r=hs(t.firestore,Ol),n=nn(t),a=qx(t.converter,e),i=Md(t.firestore);return Rm(r,[jx(i,"addDoc",n._key,a,t.converter!==null,{}).toMutation(n._key,Sa.exists(!1))]).then(()=>n)}function Lr(t,...e){var c,u,h;t=Tn(t);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||GT(e[n])||(r=e[n++]);const a={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(GT(e[n])){const d=e[n];e[n]=(c=d.next)==null?void 0:c.bind(d),e[n+1]=(u=d.error)==null?void 0:u.bind(d),e[n+2]=(h=d.complete)==null?void 0:h.bind(d)}let i,s,o;if(t instanceof Jn)s=hs(t.firestore,Ol),o=T4(t._key.path),i={next:d=>{e[n]&&e[n](G$(s,t,d))},error:e[n+1],complete:e[n+2]};else{const d=hs(t,vf);s=hs(d.firestore,Ol),o=d._query;const f=new zx(s);i={next:p=>{e[n]&&e[n](new Xf(s,f,d,p))},error:e[n+1],complete:e[n+2]},bL(t._query)}const l=km(s);return w$(l,o,a,i)}function Rm(t,e){const r=km(t);return E$(r,e)}function G$(t,e,r){const n=r.docs.get(e._key),a=new zx(t);return new Wu(t,a,e._key,n,new R0(r.hasPendingWrites,r.fromCache),e.converter)}function Lv(t){return t=hs(t,Ol),km(t),new j$(t,e=>Rm(t,e))}(function(e,r=!0){wq(Ih),ch(new Ju("firestore",(n,{instanceIdentifier:a,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ol(new Aq(n.getProvider("auth-internal")),new kq(s,n.getProvider("app-check-internal")),qq(s,a),s);return i={useFetchStreams:r,...i},o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Cl(HT,qT,e),Cl(HT,qT,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL="firebasestorage.googleapis.com",TL="storageBucket",W$=2*60*1e3,$$=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends Bl{constructor(e,r,n=0){super(vy(e),`Firebase Storage: ${r} (${vy(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ra.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ea;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ea||(ea={}));function vy(t){return"storage/"+t}function eE(){const t="An unknown error occurred, please check the error payload for server response.";return new ra(ea.UNKNOWN,t)}function X$(t){return new ra(ea.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function K$(t){return new ra(ea.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Y$(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ra(ea.UNAUTHENTICATED,t)}function Q$(){return new ra(ea.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function J$(t){return new ra(ea.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Z$(){return new ra(ea.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function eX(){return new ra(ea.CANCELED,"User canceled the upload/download.")}function tX(t){return new ra(ea.INVALID_URL,"Invalid URL '"+t+"'.")}function rX(t){return new ra(ea.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function nX(){return new ra(ea.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+TL+"' property when initializing the app?")}function aX(){return new ra(ea.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function iX(){return new ra(ea.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function sX(t){return new ra(ea.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Cw(t){return new ra(ea.INVALID_ARGUMENT,t)}function kL(){return new ra(ea.APP_DELETED,"The Firebase app was deleted.")}function oX(t){return new ra(ea.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function tp(t,e){return new ra(ea.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function v1(t){throw new ra(ea.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Vs.makeFromUrl(e,r)}catch{return new Vs(e,"")}if(n.path==="")return n;throw rX(e)}static makeFromUrl(e,r){let n=null;const a="([A-Za-z0-9.\\-_]+)";function i(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+a+s,"i"),l={bucket:1,path:3};function c(I){I.path_=decodeURIComponent(I.path)}const u="v[A-Za-z0-9_]+",h=r.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",f=new RegExp(`^https?://${h}/${u}/b/${a}/o${d}`,"i"),p={bucket:1,path:3},m=r===SL?"(?:storage.googleapis.com|storage.cloud.google.com)":r,_="([^?#]*)",x=new RegExp(`^https?://${m}/${a}/${_}`,"i"),w=[{regex:o,indices:l,postModify:i},{regex:f,indices:p,postModify:c},{regex:x,indices:{bucket:1,path:2},postModify:c}];for(let I=0;I<w.length;I++){const j=w[I],P=j.regex.exec(e);if(P){const N=P[j.indices.bucket];let E=P[j.indices.path];E||(E=""),n=new Vs(N,E),j.postModify(n);break}}if(n==null)throw tX(e);return n}}class lX{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cX(t,e,r){let n=1,a=null,i=null,s=!1,o=0;function l(){return o===2}let c=!1;function u(..._){c||(c=!0,e.apply(null,_))}function h(_){a=setTimeout(()=>{a=null,t(f,l())},_)}function d(){i&&clearTimeout(i)}function f(_,...x){if(c){d();return}if(_){d(),u.call(null,_,...x);return}if(l()||s){d(),u.call(null,_,...x);return}n<64&&(n*=2);let w;o===1?(o=2,w=0):w=(n+Math.random())*1e3,h(w)}let p=!1;function m(_){p||(p=!0,d(),!c&&(a!==null?(_||(o=2),clearTimeout(a),h(0)):_||(o=1)))}return h(0),i=setTimeout(()=>{s=!0,m(!0)},r),m}function uX(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fX(t){return t!==void 0}function hX(t){return typeof t=="object"&&!Array.isArray(t)}function tE(t){return typeof t=="string"||t instanceof String}function XT(t){return rE()&&t instanceof Blob}function rE(){return typeof Blob<"u"}function KT(t,e,r,n){if(n<e)throw Cw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw Cw(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function CL(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const a=e(n)+"="+e(t[n]);r=r+a+"&"}return r=r.slice(0,-1),r}var Yf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Yf||(Yf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dX(t,e){const r=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return r||a||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pX{constructor(e,r,n,a,i,s,o,l,c,u,h,d=!0,f=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=a,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=d,this.isUsingEmulator=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(n,a)=>{if(a){n(!1,new Ng(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const s=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(s),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(s),this.pendingConnection_=null;const o=i.getErrorCode()===Yf.NO_ERROR,l=i.getStatus();if(!o||dX(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===Yf.ABORT;n(!1,new Ng(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;n(!0,new Ng(c,i))})},r=(n,a)=>{const i=this.resolve_,s=this.reject_,o=a.connection;if(a.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());fX(l)?i(l):i()}catch(l){s(l)}else if(o!==null){const l=eE();l.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,l)):s(l)}else if(a.canceled){const l=this.appDelete_?kL():eX();s(l)}else{const l=Z$();s(l)}};this.canceled_?r(!1,new Ng(!1,null,!0)):this.backoffId_=cX(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&uX(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ng{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function mX(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function gX(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function vX(t,e){e&&(t["X-Firebase-GMPID"]=e)}function xX(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function _X(t,e,r,n,a,i,s=!0,o=!1){const l=CL(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return vX(u,e),mX(u,r),gX(u,i),xX(u,n),new pX(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yX(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function wX(...t){const e=yX();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(rE())return new Blob(t);throw new ra(ea.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function bX(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EX(t){if(typeof atob>"u")throw sX("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class xy{constructor(e,r){this.data=e,this.contentType=r||null}}function AX(t,e){switch(t){case Al.RAW:return new xy(NL(e));case Al.BASE64:case Al.BASE64URL:return new xy(IL(t,e));case Al.DATA_URL:return new xy(TX(e),kX(e))}throw eE()}function NL(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const i=n,s=t.charCodeAt(++r);n=65536|(i&1023)<<10|s&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function SX(t){let e;try{e=decodeURIComponent(t)}catch{throw tp(Al.DATA_URL,"Malformed data URL.")}return NL(e)}function IL(t,e){switch(t){case Al.BASE64:{const a=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(a||i)throw tp(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Al.BASE64URL:{const a=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(a||i)throw tp(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=EX(e)}catch(a){throw a.message.includes("polyfill")?a:tp(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}class RL{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw tp(Al.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=CX(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function TX(t){const e=new RL(t);return e.base64?IL(Al.BASE64,e.rest):SX(e.rest)}function kX(t){return new RL(t).contentType}function CX(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,r){let n=0,a="";XT(e)?(this.data_=e,n=e.size,a=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,r){if(XT(this.data_)){const n=this.data_,a=bX(n,e,r);return a===null?null:new bu(a)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new bu(n,!0)}}static getBlob(...e){if(rE()){const r=e.map(n=>n instanceof bu?n.data_:n);return new bu(wX.apply(null,r))}else{const r=e.map(s=>tE(s)?AX(Al.RAW,s).data:s.data_);let n=0;r.forEach(s=>{n+=s.byteLength});const a=new Uint8Array(n);let i=0;return r.forEach(s=>{for(let o=0;o<s.length;o++)a[i++]=s[o]}),new bu(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(t){let e;try{e=JSON.parse(t)}catch{return null}return hX(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NX(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function IX(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function DL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RX(t,e){return e}class zi{constructor(e,r,n,a){this.server=e,this.local=r||e,this.writable=!!n,this.xform=a||RX}}let Ig=null;function LX(t){return!tE(t)||t.length<2?t:DL(t)}function OL(){if(Ig)return Ig;const t=[];t.push(new zi("bucket")),t.push(new zi("generation")),t.push(new zi("metageneration")),t.push(new zi("name","fullPath",!0));function e(i,s){return LX(s)}const r=new zi("name");r.xform=e,t.push(r);function n(i,s){return s!==void 0?Number(s):s}const a=new zi("size");return a.xform=n,t.push(a),t.push(new zi("timeCreated")),t.push(new zi("updated")),t.push(new zi("md5Hash",null,!0)),t.push(new zi("cacheControl",null,!0)),t.push(new zi("contentDisposition",null,!0)),t.push(new zi("contentEncoding",null,!0)),t.push(new zi("contentLanguage",null,!0)),t.push(new zi("contentType",null,!0)),t.push(new zi("metadata","customMetadata",!0)),Ig=t,Ig}function DX(t,e){function r(){const n=t.bucket,a=t.fullPath,i=new Vs(n,a);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:r})}function OX(t,e,r){const n={};n.type="file";const a=r.length;for(let i=0;i<a;i++){const s=r[i];n[s.local]=s.xform(n,e[s.server])}return DX(n,t),n}function PL(t,e,r){const n=LL(e);return n===null?null:OX(t,n,r)}function PX(t,e,r,n){const a=LL(e);if(a===null||!tE(a.downloadTokens))return null;const i=a.downloadTokens;if(i.length===0)return null;const s=encodeURIComponent;return i.split(",").map(c=>{const u=t.bucket,h=t.fullPath,d="/b/"+s(u)+"/o/"+s(h),f=nE(d,r,n),p=CL({alt:"media",token:c});return f+p})[0]}function FX(t,e){const r={},n=e.length;for(let a=0;a<n;a++){const i=e[a];i.writable&&(r[i.server]=t[i.local])}return JSON.stringify(r)}class FL{constructor(e,r,n,a){this.url=e,this.method=r,this.handler=n,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(t){if(!t)throw eE()}function MX(t,e){function r(n,a){const i=PL(t,a,e);return ML(i!==null),i}return r}function BX(t,e){function r(n,a){const i=PL(t,a,e);return ML(i!==null),PX(i,a,t.host,t._protocol)}return r}function BL(t){function e(r,n){let a;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?a=Q$():a=Y$():r.getStatus()===402?a=K$(t.bucket):r.getStatus()===403?a=J$(t.path):a=n,a.status=r.getStatus(),a.serverResponse=n.serverResponse,a}return e}function UX(t){const e=BL(t);function r(n,a){let i=e(n,a);return n.getStatus()===404&&(i=X$(t.path)),i.serverResponse=a.serverResponse,i}return r}function jX(t,e,r){const n=e.fullServerUrl(),a=nE(n,t.host,t._protocol),i="GET",s=t.maxOperationRetryTime,o=new FL(a,i,BX(t,r),s);return o.errorHandler=UX(e),o}function VX(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function zX(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=VX(null,e)),n}function HX(t,e,r,n,a){const i=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function o(){let w="";for(let I=0;I<2;I++)w=w+Math.random().toString().slice(2);return w}const l=o();s["Content-Type"]="multipart/related; boundary="+l;const c=zX(e,n,a),u=FX(c,r),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,d=`\r
--`+l+"--",f=bu.getBlob(h,n,d);if(f===null)throw aX();const p={name:c.fullPath},m=nE(i,t.host,t._protocol),_="POST",x=t.maxUploadRetryTime,T=new FL(m,_,MX(t,r),x);return T.urlParams=p,T.headers=s,T.body=f.uploadData(),T.errorHandler=BL(e),T}class qX{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Yf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Yf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Yf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,a,i){if(this.sent_)throw v1("cannot .send() more than once");if(df(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(r,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw v1("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw v1("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw v1("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw v1("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class GX extends qX{initXhr(){this.xhr_.responseType="text"}}function UL(){return new GX}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,r){this._service=e,r instanceof Vs?this._location=r:this._location=Vs.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new gh(e,r)}get root(){const e=new Vs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return DL(this._location.path)}get storage(){return this._service}get parent(){const e=NX(this._location.path);if(e===null)return null;const r=new Vs(this._location.bucket,e);return new gh(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw oX(e)}}function WX(t,e,r){t._throwIfRoot("uploadBytes");const n=HX(t.storage,t._location,OL(),new bu(e,!0),r);return t.storage.makeRequestWithTokens(n,UL).then(a=>({metadata:a,ref:t}))}function $X(t){t._throwIfRoot("getDownloadURL");const e=jX(t.storage,t._location,OL());return t.storage.makeRequestWithTokens(e,UL).then(r=>{if(r===null)throw iX();return r})}function XX(t,e){const r=IX(t._location.path,e),n=new Vs(t._location.bucket,r);return new gh(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KX(t){return/^[A-Za-z]+:\/\//.test(t)}function YX(t,e){return new gh(t,e)}function jL(t,e){if(t instanceof aE){const r=t;if(r._bucket==null)throw nX();const n=new gh(r,r._bucket);return e!=null?jL(n,e):n}else return e!==void 0?XX(t,e):t}function QX(t,e){if(e&&KX(e)){if(t instanceof aE)return YX(t,e);throw Cw("To use ref(service, url), the first argument must be a Storage instance.")}else return jL(t,e)}function YT(t,e){const r=e==null?void 0:e[TL];return r==null?null:Vs.makeFromBucketSpec(r,t)}function JX(t,e,r,n={}){t.host=`${e}:${r}`;const a=df(e);a&&(s4(`https://${t.host}/b`),o4("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:iR(i,t.app.options.projectId))}class aE{constructor(e,r,n,a,i,s=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=a,this._firebaseVersion=i,this._isUsingEmulator=s,this._bucket=null,this._host=SL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=W$,this._maxUploadRetryTime=$$,this._requests=new Set,a!=null?this._bucket=Vs.makeFromBucketSpec(a,this._host):this._bucket=YT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Vs.makeFromBucketSpec(this._url,e):this._bucket=YT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){KT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){KT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(Ps(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gh(this,e)}_makeRequest(e,r,n,a,i=!0){if(this._deleted)return new lX(kL());{const s=_X(e,this._appId,n,a,r,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,r){const[n,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,a).getPromise()}}const QT="@firebase/storage",JT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL="storage";function ZX(t,e,r){return t=Tn(t),WX(t,e,r)}function eK(t){return t=Tn(t),$X(t)}function tK(t,e){return t=Tn(t),QX(t,e)}function rK(t=u4(),e){t=Tn(t);const n=Ex(t,VL).getImmediate({identifier:e}),a=rR("storage");return a&&nK(n,...a),n}function nK(t,e,r,n={}){JX(t,e,r,n)}function aK(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new aE(r,n,a,e,Ih)}function iK(){ch(new Ju(VL,aK,"PUBLIC").setMultipleInstances(!0)),Cl(QT,JT,""),Cl(QT,JT,"esm2020")}iK();const sK={apiKey:"AIzaSyD3ilwHMaFcQ1t7IwgRkFqYttV8UaXC_Y4",authDomain:"web-mayoristas.firebaseapp.com",projectId:"web-mayoristas",storageBucket:"web-mayoristas.firebasestorage.app",messagingSenderId:"637184489427",appId:"1:637184489427:web:e4f68fd369acf687926126",measurementId:"G-K0C2FYWBQP"},iE=lR(sK),$u=vq(iE),kt=C$(iE),oK=rK(iE),lK=60*60*1e3,zL=fe.createContext(null);function cK({children:t}){const[e,r]=fe.useState(null),[n,a]=fe.useState(null),[i,s]=fe.useState(!0),o=fe.useRef(null);fe.useEffect(()=>{if(!e)return;const c=()=>{o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{gv($u),typeof window<"u"&&(window.location.href="/login?reason=timeout")},lK)};c();const u=["mousedown","keydown","scroll","touchstart"];return u.forEach(h=>window.addEventListener(h,c)),()=>{u.forEach(h=>window.removeEventListener(h,c)),o.current&&clearTimeout(o.current)}},[e]),fe.useEffect(()=>{const c=sH($u,async u=>{if(!u){r(null),a(null),s(!1);return}r(u);const h=Lr(nn(kt,"users",u.uid),d=>{const f=d.exists()?{id:d.id,...d.data()}:null;if((f==null?void 0:f.blocked)===!0||(f==null?void 0:f.deleted)===!0){if(gv($u),r(null),a(null),s(!1),typeof window<"u"){const p=f!=null&&f.deleted?"deleted":"blocked";window.location.href=`/login?reason=${p}`}return}a(f),s(!1)},()=>{a(null),s(!1)});return()=>h()});return()=>c()},[]);const l={user:e,profile:n,loading:i,isAdmin:(n==null?void 0:n.role)==="admin",isApproved:(n==null?void 0:n.approved)===!0&&!(n!=null&&n.deleted),isDeleted:(n==null?void 0:n.deleted)===!0};return S.jsx(zL.Provider,{value:l,children:t})}function el(){const t=fe.useContext(zL);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}const HL=fe.createContext(null);function uK({children:t}){const{user:e}=el(),r=e?`carrito_${e.uid}`:"carrito_anon",[n,a]=fe.useState(()=>typeof window<"u"?JSON.parse(localStorage.getItem(r)||"[]"):[]);fe.useEffect(()=>{const s=e?`carrito_${e.uid}`:"carrito_anon",o=JSON.parse(localStorage.getItem(s)||"[]");a(o)},[e==null?void 0:e.uid]),fe.useEffect(()=>{try{localStorage.setItem(r,JSON.stringify(n))}catch(s){console.warn("Carrito: no se pudo guardar en localStorage",s)}},[n,r]);const i=fe.useCallback(s=>{a(o=>typeof s=="function"?s(o):s)},[]);return S.jsx(HL.Provider,{value:{carrito:n,setCarrito:i},children:t})}function qL(){const t=fe.useContext(HL);if(!t)throw new Error("useCarrito must be used within CarritoProvider");return t}const fK="5491171435864";function hK(){const t=`https://wa.me/${fK}`;return S.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"whatsapp-fab","aria-label":"Contactar por WhatsApp",children:S.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"28",height:"28",children:S.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})})}function dK(){const{user:t,profile:e,isAdmin:r}=el(),n=Js(),a=()=>{gv($u),n("/login")};return S.jsxs("div",{className:"layout",children:[S.jsx("header",{className:"header",children:S.jsxs("div",{className:"container header-inner",children:[S.jsxs(qr,{to:"/",className:"logo logo-mtf",children:[S.jsx("img",{src:"/logos/luni.png",alt:"LUNI",className:"logo-img logo-luni"}),S.jsx("img",{src:"/logos/polesie.png",alt:"Polesie",className:"logo-img logo-polesie"}),S.jsx("span",{className:"logo-text",children:"Distribuidora MTF"})]}),S.jsxs("nav",{className:"nav",children:[S.jsx(qr,{to:"/",children:"Inicio"}),S.jsx(qr,{to:"/catalogo",children:"Realizar pedido"}),S.jsx(qr,{to:"/checkout",children:"Carrito"}),S.jsx(qr,{to:"/datos",children:"Datos"}),S.jsx(qr,{to:"/mis-pedidos",children:"Mis pedidos"}),r&&S.jsx(qr,{to:"/admin",children:"Admin"}),S.jsxs("div",{className:"user-menu",children:[S.jsx("span",{className:"user-email",children:t==null?void 0:t.email}),S.jsx("button",{onClick:a,className:"btn btn-ghost btn-sm",children:"Salir"})]})]})]})}),S.jsx("main",{className:"main",children:S.jsx($I,{})}),S.jsx(hK,{})]})}function pK(){const[t,e]=fe.useState(""),[r,n]=fe.useState(""),[a,i]=fe.useState(""),[s,o]=fe.useState(!1),[l,c]=fe.useState(!1),[u,h]=fe.useState(""),[d,f]=fe.useState(!1),[p,m]=fe.useState(""),[_,x]=fe.useState(!1),T=Js(),[w]=pj(),I=w.get("reason")==="deleted",j=w.get("reason")==="blocked",P=w.get("reason")==="timeout",N=async R=>{R.preventDefault(),i(""),o(!0);try{await nH($u,t,r),T("/")}catch(A){i(A.code==="auth/invalid-credential"?"Email o contrasea incorrectos":A.message)}finally{o(!1)}},E=async R=>{R.preventDefault(),m(""),x(!0);try{const A={url:window.location.origin+"/login",handleCodeInApp:!1};await tH($u,u,A),f(!0)}catch(A){m(A.code==="auth/user-not-found"?"No existe una cuenta con ese email":A.code==="auth/invalid-email"?"Email invlido":A.message)}finally{x(!1)}},y=()=>{c(!1),h(""),f(!1),m("")};return S.jsx("div",{className:"auth-page",children:S.jsx("div",{className:"auth-card",children:l?S.jsxs(S.Fragment,{children:[S.jsx("h1",{className:"auth-title",children:"Recuperar contrasea"}),S.jsx("p",{className:"auth-subtitle",children:"Ingres tu email y te enviamos un enlace seguro para restablecer tu contrasea."}),d?S.jsxs("div",{className:"auth-recuperar-exito",children:[S.jsx("p",{className:"auth-recuperar-mensaje",children:"Revis tu bandeja de entrada (y la carpeta de spam). Te enviamos un enlace para restablecer tu contrasea."}),S.jsxs("div",{className:"auth-recuperar-botones",children:[S.jsx("button",{type:"button",className:"btn btn-primary btn-block",onClick:y,children:"Volver al inicio de sesin"}),S.jsx("button",{type:"button",className:"btn btn-ghost btn-block",onClick:y,children:"Cerrar"})]})]}):S.jsxs("form",{onSubmit:E,className:"auth-form",children:[p&&S.jsx("div",{className:"alert alert-error",children:p}),S.jsxs("label",{children:["Email",S.jsx("input",{type:"email",value:u,onChange:R=>h(R.target.value),placeholder:"tu@empresa.com",required:!0,className:"auth-input"})]}),S.jsxs("div",{className:"auth-form-buttons",children:[S.jsx("button",{type:"submit",className:"btn btn-primary btn-block",disabled:_,children:_?"Enviando...":"Enviar enlace de recuperacin"}),S.jsx("button",{type:"button",className:"btn btn-ghost btn-block",onClick:y,children:"Volver al login"})]})]})]}):S.jsxs(S.Fragment,{children:[S.jsx("h1",{className:"auth-title",children:"Web Mayoristas"}),S.jsx("p",{className:"auth-subtitle",children:"Ingres a tu cuenta"}),S.jsxs("form",{onSubmit:N,className:"auth-form",children:[I&&S.jsx("div",{className:"alert alert-error",children:"Tu cuenta fue dada de baja. Contact al administrador."}),j&&S.jsx("div",{className:"alert alert-error",children:"Tu cuenta est bloqueada. Contact al administrador."}),P&&S.jsx("div",{className:"alert alert-error",children:"La sesin expir por inactividad. Volv a iniciar sesin."}),a&&S.jsx("div",{className:"alert alert-error",children:a}),S.jsxs("label",{children:["Email",S.jsx("input",{type:"email",value:t,onChange:R=>e(R.target.value),placeholder:"tu@empresa.com",required:!0})]}),S.jsxs("label",{children:["Contrasea",S.jsx("input",{type:"password",value:r,onChange:R=>n(R.target.value),required:!0})]}),S.jsx("button",{type:"submit",className:"btn btn-primary btn-block",disabled:s,children:s?"Ingresando...":"Ingresar"})]}),S.jsx("p",{className:"auth-footer",children:S.jsx("button",{type:"button",className:"auth-link-button",onClick:()=>c(!0),children:"Olvidaste tu contrasea?"})}),S.jsxs("p",{className:"auth-footer",children:["No tens cuenta? ",S.jsx(qr,{to:"/registro",children:"Registrate"})]})]})})})}function mK(){const[t,e]=fe.useState({email:"",password:"",nombre:"",apellido:"",telefono:""}),[r,n]=fe.useState(""),[a,i]=fe.useState(!1),s=Js(),o=c=>{e({...t,[c.target.name]:c.target.value})},l=async c=>{c.preventDefault(),n(""),i(!0);try{const{user:u}=await rH($u,t.email,t.password);await Rv(nn(kt,"users",u.uid),{email:t.email,nombreContacto:t.nombre||null,apellidoContacto:t.apellido||null,telefonoContacto:t.telefono||null,emailContacto:t.email,role:"cliente",approved:!0,createdAt:new Date}),s("/datos",{state:{fromRegister:!0}})}catch(u){n(u.code==="auth/email-already-in-use"?"Ese email ya est registrado":u.message)}finally{i(!1)}};return S.jsx("div",{className:"auth-page",children:S.jsxs("div",{className:"auth-card",children:[S.jsx("h1",{className:"auth-title",children:"Crear cuenta"}),S.jsx("p",{className:"auth-subtitle",children:"Complet tus datos para registrarte"}),S.jsxs("form",{onSubmit:l,className:"auth-form",children:[r&&S.jsx("div",{className:"alert alert-error",children:r}),S.jsxs("label",{children:["Email *",S.jsx("input",{type:"email",name:"email",value:t.email,onChange:o,required:!0})]}),S.jsxs("label",{children:["Contrasea *",S.jsx("input",{type:"password",name:"password",value:t.password,onChange:o,required:!0,minLength:6})]}),S.jsxs("label",{children:["Nombre *",S.jsx("input",{type:"text",name:"nombre",value:t.nombre,onChange:o,required:!0})]}),S.jsxs("label",{children:["Apellido *",S.jsx("input",{type:"text",name:"apellido",value:t.apellido,onChange:o,required:!0})]}),S.jsxs("label",{children:["Telfono *",S.jsx("input",{type:"tel",name:"telefono",value:t.telefono,onChange:o,required:!0})]}),S.jsx("button",{type:"submit",className:"btn btn-primary btn-block",disabled:a,children:a?"Registrando...":"Registrarse"})]}),S.jsxs("p",{className:"auth-footer",children:["Ya tens cuenta? ",S.jsx(qr,{to:"/login",children:"Iniciar sesin"})]})]})})}function gK(){const{profile:t}=el();return S.jsxs("div",{className:"container page",children:[S.jsxs("h1",{className:"page-title",children:["Bienvenido, ",(t==null?void 0:t.nombreEmpresa)||"Cliente"]}),S.jsxs("p",{className:"page-subtitle",children:["Tu descuento base es del ",(t==null?void 0:t.descuentoBase)??0,"%. Acced al catlogo para realizar pedidos."]}),S.jsxs("div",{className:"dashboard-cards",children:[S.jsxs(qr,{to:"/catalogo",className:"card card-link",children:[S.jsx("h3",{children:"Realizar pedido"}),S.jsx("p",{children:"Ver productos y agregar al carrito"})]}),S.jsxs(qr,{to:"/checkout",className:"card card-link",children:[S.jsx("h3",{children:"Carrito"}),S.jsx("p",{children:"Completar pedido con los 5 selectores"})]}),S.jsxs(qr,{to:"/datos",className:"card card-link",children:[S.jsx("h3",{children:"Datos"}),S.jsx("p",{children:"Razones sociales, sucursales, expresos y contacto"})]}),S.jsxs(qr,{to:"/mis-pedidos",className:"card card-link",children:[S.jsx("h3",{children:"Mis pedidos"}),S.jsx("p",{children:"Historial y detalle de tus pedidos"})]})]})]})}function vK({imagenes:t,onClose:e}){const[r,n]=fe.useState(0);return fe.useEffect(()=>{const a=i=>{i.key==="Escape"&&e(),i.key==="ArrowLeft"&&n(s=>(s-1+t.length)%t.length),i.key==="ArrowRight"&&n(s=>(s+1)%t.length)};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[t.length,e]),t!=null&&t.length?S.jsxs("div",{className:"lightbox-overlay",onClick:e,role:"dialog","aria-modal":"true",children:[S.jsx("button",{className:"lightbox-close",onClick:e,"aria-label":"Cerrar",children:""}),S.jsx("button",{className:"lightbox-nav lightbox-prev",onClick:a=>{a.stopPropagation(),n(i=>(i-1+t.length)%t.length)},"aria-label":"Anterior",children:""}),S.jsx("img",{src:t[r],alt:"",className:"lightbox-img",onClick:a=>a.stopPropagation()}),S.jsx("button",{className:"lightbox-nav lightbox-next",onClick:a=>{a.stopPropagation(),n(i=>(i+1)%t.length)},"aria-label":"Siguiente",children:""}),S.jsxs("div",{className:"lightbox-counter",children:[r+1," / ",t.length]})]}):null}function kr(t){const e=Number(t);if(isNaN(e))return"0.00";const r=e.toFixed(2),[n,a]=r.split(".");return n.replace(/\B(?=(\d{3})+(?!\d))/g,",")+"."+a}function xK(){const{profile:t}=el(),{carrito:e,setCarrito:r}=qL(),[n,a]=fe.useState([]),[i,s]=fe.useState([]),[o,l]=fe.useState([]),[c,u]=fe.useState(""),[h,d]=fe.useState("polesie"),[f,p]=fe.useState("grid"),[m,_]=fe.useState({}),[x,T]=fe.useState(null),w=[{id:"polesie",label:"Polesie"},{id:"luni",label:"LUNI"}],I=F=>{var U;return(U=F.imagenes)!=null&&U.length?F.imagenes:F.imagen?[F.imagen]:[]};fe.useEffect(()=>{const F=Ta(xr(kt,"productos"),ca("activo","==",!0)),U=Lr(F,M=>{a(M.docs.map(Q=>({id:Q.id,...Q.data()})))});return()=>U()},[]),fe.useEffect(()=>{const F=Ta(xr(kt,"categorias"),Im("orden","asc")),U=Lr(F,M=>{s(M.docs.map(Q=>({id:Q.id,...Q.data()})))});return()=>U()},[]),fe.useEffect(()=>{const F=Lr(xr(kt,"ofertas"),U=>{l(U.docs.map(M=>({id:M.id,...M.data()})))});return()=>F()},[]);const j=(t==null?void 0:t.descuentoBase)??0,P=Object.fromEntries((o||[]).map(F=>[F.productId,F])),N=F=>F*(1-j/100),E=(F,U)=>{const M=P[F.id];return M!=null&&M.descuentoPct?U*(1-(M.descuentoPct??0)/100):U},y=n.filter(F=>(F.catalogo||"polesie")===h),R=y.filter(F=>P[F.id]),A=()=>{const F=c.toLowerCase().trim();if(!F)return y;const U=F.split(/\s+/);return y.filter(M=>{const Q=(M.descripcion??M.nombre??"").toLowerCase(),oe=(M.sku??M.codigo??"").toLowerCase(),de=(M.presentacion??"").toLowerCase(),he=(M.dimensiones??"").toLowerCase(),we=`${Q} ${oe} ${de} ${he}`;return U.every(ke=>we.includes(ke))})},C=F=>{const U=Object.fromEntries(i.map((M,Q)=>[M.id,Q]));return[...F].sort((M,Q)=>{const oe=M.orden??999999,de=Q.orden??999999;if(oe!==de)return oe-de;const he=M.categoriaId!=null?U[M.categoriaId]??9999:9999,we=Q.categoriaId!=null?U[Q.categoriaId]??9999:9999;return he!==we?he-we:(M.descripcion??"").localeCompare(Q.descripcion??"")})},k=C(A());function q({p:F,getImagenes:U,addToCart:M,carrito:Q,descuentoBase:oe,ofertaByProductId:de,getPrecioBultoConOferta:he,precioConDescuento:we,formatMoneda:ke,imageIndexByProduct:ne,cycleProductImage:Z,cycleProductImagePrev:Ae,setLightboxImagenes:K}){const Te=F.unidadesPorBulto??1,Re=F.precioPorBulto??(F.precioUnitario??0)*Te,Oe=he(F,Re),Ne=!!de[F.id],Qe=Q.find(mt=>mt.id===F.id),Ke=(Qe==null?void 0:Qe.qty)??0,ht=U(F),ct=ne[F.id]??0,yt=ht[ct]??ht[0];return S.jsxs("div",{className:"product-card",children:[yt?S.jsx("div",{className:"product-image-wrap",children:S.jsxs("div",{className:"product-image",onClick:()=>ht.length>0&&K(ht),children:[S.jsx("img",{src:yt,alt:F.descripcion??"",onError:mt=>{mt.target.style.display="none"}}),ht.length>1&&S.jsxs(S.Fragment,{children:[S.jsx("span",{className:"product-image-badge",children:ht.length}),S.jsx("button",{type:"button",tabIndex:-1,className:"product-image-nav product-image-nav-prev","aria-label":"Foto anterior",onClick:mt=>Ae(F.id,ht.length,mt),children:""}),S.jsx("button",{type:"button",tabIndex:-1,className:"product-image-nav product-image-nav-next","aria-label":"Siguiente foto",onClick:mt=>Z(F.id,ht.length,mt),children:""})]})]})}):null,S.jsxs("div",{className:"product-info",children:[S.jsx("h3",{children:F.descripcion??F.nombre}),S.jsx("p",{className:"product-codigo",children:F.sku??F.codigo??""}),F.presentacion&&S.jsx("p",{className:"product-presentacion",children:F.presentacion}),F.dimensiones&&S.jsx("p",{className:"product-dimensiones",children:F.dimensiones}),S.jsxs("p",{className:"product-unidades",children:["(",Te," unid. por bulto)"]}),S.jsxs("p",{className:"product-price-unit",children:["Precio unitario:"," ",Ne?S.jsxs(S.Fragment,{children:[S.jsxs("span",{className:"product-price-base-tachado",children:["$",ke(F.precioUnitario??Re/Te)]}),S.jsxs("span",{className:"product-price-final-oferta",children:["$",ke(Oe/Te)]})]}):S.jsxs(S.Fragment,{children:["$",ke(F.precioUnitario??Re/Te)]})," ",S.jsx("span",{className:"price-sin-iva",children:"(sin IVA)"})]}),S.jsx("p",{className:`product-price ${Ne?"price-with-offer":""}`,children:Ne?S.jsxs(S.Fragment,{children:[S.jsxs("span",{className:"product-price-base-tachado",children:["$",ke(Re)]}),S.jsxs("span",{className:"product-price-final-oferta",children:["$",ke(Oe)]}),S.jsx("span",{className:"price-unit",children:"/ bulto"})]}):S.jsxs(S.Fragment,{children:["$",ke(Re),S.jsx("span",{className:"price-unit",children:"/ bulto"})]})})]}),S.jsxs("div",{className:"product-add",children:[S.jsx("input",{type:"number",min:"1",defaultValue:"1",className:"product-qty-input",id:`qty-${F.id}`}),S.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>{const mt=document.getElementById(`qty-${F.id}`),St=mt?parseInt(mt.value,10):1;M(F,St),mt&&(mt.value="1")},children:"Agregar"})]}),Ke>0&&S.jsxs("p",{className:"product-in-cart",children:[Ke," bulto",Ke!==1?"s":""," en carrito"]})]})}const X=e.reduce((F,U)=>{const M=U.precioPorBulto??(U.precioUnitario??0)*(U.unidadesPorBulto??1),Q=E(U,M);return F+Q*U.qty},0),V=X*(j/100),H=X-V,ae=(F,U)=>{const M=Math.max(0,Math.floor(Number(U))||0);if(M===0){r(e.filter(Q=>Q.id!==F));return}r(e.map(Q=>Q.id===F?{...Q,qty:M}:Q))},W=F=>{r(e.filter(U=>U.id!==F))},ge=(F,U,M)=>{var oe,de;if((oe=M==null?void 0:M.preventDefault)==null||oe.call(M),(de=M==null?void 0:M.stopPropagation)==null||de.call(M),U<=1)return;const Q=window.scrollY;_(he=>{const ke=((he[F]??0)+1)%U;return{...he,[F]:ke}}),setTimeout(()=>{window.scrollTo(0,Q)},0)},be=(F,U,M)=>{var oe,de;if((oe=M==null?void 0:M.preventDefault)==null||oe.call(M),(de=M==null?void 0:M.stopPropagation)==null||de.call(M),U<=1)return;const Q=window.scrollY;_(he=>{const ke=((he[F]??0)-1+U)%U;return{...he,[F]:ke}}),setTimeout(()=>{window.scrollTo(0,Q)},0)},D=(F,U=1)=>{const M=Math.floor(Number(U))||1;if(M<1)return;const Q=e.find(oe=>oe.id===F.id);r(Q?e.map(oe=>oe.id===F.id?{...oe,qty:oe.qty+M}:oe):[...e,{...F,qty:M}])};return S.jsxs("div",{className:"catalogo-con-layout",children:[S.jsx("div",{className:"catalogo-main",children:S.jsxs("div",{className:"container page",children:[S.jsx("h1",{className:"page-title",children:"Realizar pedido"}),S.jsxs("p",{className:"page-subtitle",children:["Precios con ",j,"% de descuento base. Pronto pago adicional aplica en checkout. Solo se venden bultos cerrados."]}),S.jsx("div",{className:"catalogo-tabs",children:w.map(F=>S.jsx("button",{type:"button",className:`catalogo-tab ${h===F.id?"active":""}`,onClick:()=>d(F.id),children:F.label},F.id))}),S.jsxs("div",{className:"catalogo-toolbar",children:[S.jsx("div",{className:"catalogo-busqueda",children:S.jsx("input",{type:"search",placeholder:"Buscar por descripcin, SKU o palabras clave...",value:c,onChange:F=>u(F.target.value),className:"busqueda-input"})}),S.jsxs("div",{className:"catalogo-vista-toggle",children:[S.jsx("span",{className:"catalogo-vista-label",children:"Vista:"}),S.jsx("button",{type:"button",className:f==="grid"?"active":"",onClick:()=>p("grid"),children:"Cuadrcula"}),S.jsx("button",{type:"button",className:f==="list"?"active":"",onClick:()=>p("list"),children:"Lista"})]})]}),R.length>0&&S.jsxs("section",{className:"catalogo-ofertas-section",children:[S.jsx("h2",{className:"catalogo-ofertas-titulo",children:"Ofertas"}),S.jsx("div",{className:`product-grid product-grid--${f} ${f==="grid"?"product-grid--4":""}`,children:C(R).map(F=>S.jsx(q,{p:F,getImagenes:I,addToCart:D,carrito:e,descuentoBase:j,ofertaByProductId:P,getPrecioBultoConOferta:E,precioConDescuento:N,formatMoneda:kr,imageIndexByProduct:m,cycleProductImage:ge,cycleProductImagePrev:be,setLightboxImagenes:T},F.id))})]}),S.jsx("div",{className:`product-grid product-grid--${f} ${f==="grid"?"product-grid--4":""}`,children:y.length===0?S.jsxs("p",{className:"empty-state",children:["No hay productos en el catlogo ",h==="polesie"?"Polesie":"LUNI",". El administrador debe cargarlo."]}):k.length===0?S.jsxs("p",{className:"empty-state",children:['No se encontraron productos para "',c,'".']}):k.map(F=>S.jsx(q,{p:F,getImagenes:I,addToCart:D,carrito:e,descuentoBase:j,ofertaByProductId:P,getPrecioBultoConOferta:E,precioConDescuento:N,formatMoneda:kr,imageIndexByProduct:m,cycleProductImage:ge,cycleProductImagePrev:be,setLightboxImagenes:T},F.id))})]})}),S.jsx("aside",{className:"catalogo-carrito-sidebar",children:S.jsxs("div",{className:"carrito-sidebar-inner",children:[S.jsx("h3",{children:"Tu carrito"}),e.length===0?S.jsx("p",{className:"carrito-sidebar-empty",children:"Vaco"}):S.jsxs(S.Fragment,{children:[S.jsx("ul",{className:"carrito-sidebar-list",children:e.map(F=>{const U=F.unidadesPorBulto??1,M=F.precioPorBulto??(F.precioUnitario??0)*U,Q=E(F,M),oe=!!P[F.id],de=Q*F.qty;return S.jsxs("li",{className:"carrito-sidebar-item",children:[S.jsx("span",{className:"carrito-sidebar-nombre",children:F.descripcion??F.nombre}),S.jsx("div",{className:"carrito-sidebar-row",children:S.jsxs("span",{className:"carrito-sidebar-detalle",children:[oe&&S.jsxs("span",{className:"product-price-base-tachado",children:["$",kr(M*F.qty)]}),F.qty," bulto",F.qty!==1?"s":"","  $/u $",kr(Q/U)," (sin IVA)  $",kr(de)]})}),S.jsxs("div",{className:"carrito-sidebar-actions",children:[S.jsx("input",{type:"number",min:"1",value:F.qty,onChange:he=>ae(F.id,he.target.value),className:"carrito-sidebar-qty"}),S.jsx("button",{type:"button",className:"carrito-sidebar-remove",onClick:()=>W(F.id),"aria-label":"Quitar",children:""})]})]},F.id)})}),S.jsxs("p",{className:"carrito-sidebar-total",children:["Subtotal: $",kr(X)]}),j>0&&V>0&&S.jsxs("p",{className:"carrito-sidebar-descuento",children:["Descuento (",j,"%): ",S.jsxs("span",{className:"monto-negativo",children:["-$",kr(V)]})]}),S.jsxs("p",{className:"carrito-sidebar-total",children:["Total: $",kr(H)]}),S.jsx(qr,{to:"/checkout",className:"btn btn-primary btn-block",children:"Ir al carrito"})]})]})}),e.length>0&&S.jsxs("div",{className:"carrito-fab-mobile",children:[S.jsxs("div",{className:"carrito-fab-info",children:[S.jsxs("span",{children:[e.length," ",e.length===1?"producto":"productos"]}),S.jsxs("span",{className:"carrito-fab-total",children:["Total: $",kr(H)]})]}),S.jsx(qr,{to:"/checkout",className:"btn btn-primary btn-sm",children:"Ir al carrito"})]}),x&&S.jsx(vK,{imagenes:x,onClose:()=>T(null)})]})}const _K="modulepreload",yK=function(t){return"/"+t},ZT={},_y=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=yK(l),l in ZT)return;ZT[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":_K,c||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};function tn(t){"@babel/helpers - typeof";return tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tn(t)}var Jo=Uint8Array,zs=Uint16Array,sE=Int32Array,oE=new Jo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),lE=new Jo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),e6=new Jo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),GL=function(t,e){for(var r=new zs(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new sE(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},WL=GL(oE,2),wK=WL.b,Nw=WL.r;wK[28]=258,Nw[258]=28;var bK=GL(lE,0),t6=bK.r,Iw=new zs(32768);for(var On=0;On<32768;++On){var lu=(On&43690)>>1|(On&21845)<<1;lu=(lu&52428)>>2|(lu&13107)<<2,lu=(lu&61680)>>4|(lu&3855)<<4,Iw[On]=((lu&65280)>>8|(lu&255)<<8)>>1}var rp=function(t,e,r){for(var n=t.length,a=0,i=new zs(e);a<n;++a)t[a]&&++i[t[a]-1];var s=new zs(e);for(a=1;a<e;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new zs(1<<e);var l=15-e;for(a=0;a<n;++a)if(t[a])for(var c=a<<4|t[a],u=e-t[a],h=s[t[a]-1]++<<u,d=h|(1<<u)-1;h<=d;++h)o[Iw[h]>>l]=c}else for(o=new zs(n),a=0;a<n;++a)t[a]&&(o[a]=Iw[s[t[a]-1]++]>>15-t[a]);return o},vh=new Jo(288);for(var On=0;On<144;++On)vh[On]=8;for(var On=144;On<256;++On)vh[On]=9;for(var On=256;On<280;++On)vh[On]=7;for(var On=280;On<288;++On)vh[On]=8;var Dv=new Jo(32);for(var On=0;On<32;++On)Dv[On]=5;var EK=rp(vh,9,0),AK=rp(Dv,5,0),$L=function(t){return(t+7)/8|0},SK=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Jo(t.subarray(e,r))},rc=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},x1=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},yy=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,i=r.slice();if(!a)return{t:KL,l:0};if(a==1){var s=new Jo(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(j,P){return j.f-P.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,h=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=a-1;)o=r[r[c].f<r[h].f?c++:h++],l=r[c!=u&&r[c].f<r[h].f?c++:h++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var d=i[0].s,n=1;n<a;++n)i[n].s>d&&(d=i[n].s);var f=new zs(d+1),p=Rw(r[u-1],f,0);if(p>e){var n=0,m=0,_=p-e,x=1<<_;for(i.sort(function(P,N){return f[N.s]-f[P.s]||P.f-N.f});n<a;++n){var T=i[n].s;if(f[T]>e)m+=x-(1<<p-f[T]),f[T]=e;else break}for(m>>=_;m>0;){var w=i[n].s;f[w]<e?m-=1<<e-f[w]++-1:++n}for(;n>=0&&m;--n){var I=i[n].s;f[I]==e&&(--f[I],++m)}p=e}return{t:new Jo(f),l:p}},Rw=function(t,e,r){return t.s==-1?Math.max(Rw(t.l,e,r+1),Rw(t.r,e,r+1)):e[t.s]=r},r6=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new zs(++e),n=0,a=t[0],i=1,s=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==a&&o!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=t[o]}return{c:r.subarray(0,n),n:e}},_1=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},XL=function(t,e,r){var n=r.length,a=$L(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<n;++i)t[a+i+4]=r[i];return(a+4+n)*8},n6=function(t,e,r,n,a,i,s,o,l,c,u){rc(e,u++,r),++a[256];for(var h=yy(a,15),d=h.t,f=h.l,p=yy(i,15),m=p.t,_=p.l,x=r6(d),T=x.c,w=x.n,I=r6(m),j=I.c,P=I.n,N=new zs(19),E=0;E<T.length;++E)++N[T[E]&31];for(var E=0;E<j.length;++E)++N[j[E]&31];for(var y=yy(N,7),R=y.t,A=y.l,C=19;C>4&&!R[e6[C-1]];--C);var k=c+5<<3,q=_1(a,vh)+_1(i,Dv)+s,X=_1(a,d)+_1(i,m)+s+14+3*C+_1(N,R)+2*N[16]+3*N[17]+7*N[18];if(l>=0&&k<=q&&k<=X)return XL(e,u,t.subarray(l,l+c));var V,H,ae,W;if(rc(e,u,1+(X<q)),u+=2,X<q){V=rp(d,f,0),H=d,ae=rp(m,_,0),W=m;var ge=rp(R,A,0);rc(e,u,w-257),rc(e,u+5,P-1),rc(e,u+10,C-4),u+=14;for(var E=0;E<C;++E)rc(e,u+3*E,R[e6[E]]);u+=3*C;for(var be=[T,j],D=0;D<2;++D)for(var F=be[D],E=0;E<F.length;++E){var U=F[E]&31;rc(e,u,ge[U]),u+=R[U],U>15&&(rc(e,u,F[E]>>5&127),u+=F[E]>>12)}}else V=EK,H=vh,ae=AK,W=Dv;for(var E=0;E<o;++E){var M=n[E];if(M>255){var U=M>>18&31;x1(e,u,V[U+257]),u+=H[U+257],U>7&&(rc(e,u,M>>23&31),u+=oE[U]);var Q=M&31;x1(e,u,ae[Q]),u+=W[Q],Q>3&&(x1(e,u,M>>5&8191),u+=lE[Q])}else x1(e,u,V[M]),u+=H[M]}return x1(e,u,V[256]),u+H[256]},TK=new sE([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),KL=new Jo(0),kK=function(t,e,r,n,a,i){var s=i.z||t.length,o=new Jo(n+s+5*(1+Math.ceil(s/7e3))+a),l=o.subarray(n,o.length-a),c=i.l,u=(i.r||0)&7;if(e){u&&(l[0]=i.r>>3);for(var h=TK[e-1],d=h>>13,f=h&8191,p=(1<<r)-1,m=i.p||new zs(32768),_=i.h||new zs(p+1),x=Math.ceil(r/3),T=2*x,w=function(Ae){return(t[Ae]^t[Ae+1]<<x^t[Ae+2]<<T)&p},I=new sE(25e3),j=new zs(288),P=new zs(32),N=0,E=0,y=i.i||0,R=0,A=i.w||0,C=0;y+2<s;++y){var k=w(y),q=y&32767,X=_[k];if(m[q]=X,_[k]=q,A<=y){var V=s-y;if((N>7e3||R>24576)&&(V>423||!c)){u=n6(t,l,0,I,j,P,E,R,C,y-C,u),R=N=E=0,C=y;for(var H=0;H<286;++H)j[H]=0;for(var H=0;H<30;++H)P[H]=0}var ae=2,W=0,ge=f,be=q-X&32767;if(V>2&&k==w(y-be))for(var D=Math.min(d,V)-1,F=Math.min(32767,y),U=Math.min(258,V);be<=F&&--ge&&q!=X;){if(t[y+ae]==t[y+ae-be]){for(var M=0;M<U&&t[y+M]==t[y+M-be];++M);if(M>ae){if(ae=M,W=be,M>D)break;for(var Q=Math.min(be,M-2),oe=0,H=0;H<Q;++H){var de=y-be+H&32767,he=m[de],we=de-he&32767;we>oe&&(oe=we,X=de)}}}q=X,X=m[q],be+=q-X&32767}if(W){I[R++]=268435456|Nw[ae]<<18|t6[W];var ke=Nw[ae]&31,ne=t6[W]&31;E+=oE[ke]+lE[ne],++j[257+ke],++P[ne],A=y+ae,++N}else I[R++]=t[y],++j[t[y]]}}for(y=Math.max(y,A);y<s;++y)I[R++]=t[y],++j[t[y]];u=n6(t,l,c,I,j,P,E,R,C,y-C,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=_,i.p=m,i.i=y,i.w=A)}else{for(var y=i.w||0;y<s+c;y+=65535){var Z=y+65535;Z>=s&&(l[u/8|0]=c,Z=s),u=XL(l,u+1,t.subarray(y,Z))}i.i=s}return SK(o,0,n+$L(u)+a)},YL=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},CK=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),s=new Jo(i.length+t.length);s.set(i),s.set(t,i.length),t=s,a.w=i.length}return kK(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},QL=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},NK=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=YL();a.p(e.dictionary),QL(t,2,a.d())}};function Lw(t,e){e||(e={});var r=YL();r.p(t);var n=CK(t,e,e.dictionary?6:2,4);return NK(n,e),QL(n,n.length-4,r.d()),n}var IK=typeof TextDecoder<"u"&&new TextDecoder,RK=0;try{IK.decode(KL,{stream:!0}),RK=1}catch{}function LK(t){if(Array.isArray(t))return t}function DK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function a6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function OK(t,e){if(t){if(typeof t=="string")return a6(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a6(t,e):void 0}}function PK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i6(t,e){return LK(t)||DK(t,e)||OK(t,e)||PK()}function s6(t,e="utf8"){return new TextDecoder(e).decode(t)}const FK=new TextEncoder;function MK(t){return FK.encode(t)}const BK=1024*8,UK=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),wy={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class cE{constructor(e=BK,r={}){Qr(this,"buffer");Qr(this,"byteLength");Qr(this,"byteOffset");Qr(this,"length");Qr(this,"offset");Qr(this,"lastWrittenByte");Qr(this,"littleEndian");Qr(this,"_data");Qr(this,"_mark");Qr(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const a=r.offset?r.offset>>>0:0,i=e.byteLength-a;let s=a;(ArrayBuffer.isView(e)||e instanceof cE)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+a),e=e.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=wy[r].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===UK&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(a,a+n));o.reverse();const l=new wy[r](o.buffer);return this.offset+=n,l.reverse(),l}const s=new wy[r](i);return this.offset+=n,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return s6(this.readBytes(e))}decodeText(e=1,r="utf8"){return s6(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(MK(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Bd(t){let e=t.length;for(;--e>=0;)t[e]=0}const jK=3,VK=258,JL=29,zK=256,HK=zK+1+JL,ZL=30,qK=512,GK=new Array((HK+2)*2);Bd(GK);const WK=new Array(ZL*2);Bd(WK);const $K=new Array(qK);Bd($K);const XK=new Array(VK-jK+1);Bd(XK);const KK=new Array(JL);Bd(KK);const YK=new Array(ZL);Bd(YK);const QK=(t,e,r,n)=>{let a=t&65535|0,i=t>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do a=a+e[n++]|0,i=i+a|0;while(--s);a%=65521,i%=65521}return a|i<<16|0};var Dw=QK;const JK=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},ZK=new Uint32Array(JK()),eY=(t,e,r,n)=>{const a=ZK,i=n+r;t^=-1;for(let s=n;s<i;s++)t=t>>>8^a[(t^e[s])&255];return t^-1};var pl=eY,Ow={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},eD={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const tY=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var rY=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)tY(r,n)&&(t[n]=r[n])}}return t},nY=t=>{let e=0;for(let n=0,a=t.length;n<a;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,a=0,i=t.length;n<i;n++){let s=t[n];r.set(s,a),a+=s.length}return r},tD={assign:rY,flattenChunks:nY};let rD=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{rD=!1}const Bp=new Uint8Array(256);for(let t=0;t<256;t++)Bp[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Bp[254]=Bp[254]=1;var aY=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,a,i,s=t.length,o=0;for(a=0;a<s;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<s&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),i=0,a=0;i<o;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<s&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?e[i++]=r:r<2048?(e[i++]=192|r>>>6,e[i++]=128|r&63):r<65536?(e[i++]=224|r>>>12,e[i++]=128|r>>>6&63,e[i++]=128|r&63):(e[i++]=240|r>>>18,e[i++]=128|r>>>12&63,e[i++]=128|r>>>6&63,e[i++]=128|r&63);return e};const iY=(t,e)=>{if(e<65534&&t.subarray&&rD)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var sY=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let s=t[n++];if(s<128){i[a++]=s;continue}let o=Bp[s];if(o>4){i[a++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<r;)s=s<<6|t[n++]&63,o--;if(o>1){i[a++]=65533;continue}s<65536?i[a++]=s:(s-=65536,i[a++]=55296|s>>10&1023,i[a++]=56320|s&1023)}return iY(i,a)},oY=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Bp[t[r]]>e?r:e},Pw={string2buf:aY,buf2string:sY,utf8border:oY};function lY(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var cY=lY;const Rg=16209,uY=16191;var fY=function(e,r){let n,a,i,s,o,l,c,u,h,d,f,p,m,_,x,T,w,I,j,P,N,E,y,R;const A=e.state;n=e.next_in,y=e.input,a=n+(e.avail_in-5),i=e.next_out,R=e.output,s=i-(r-e.avail_out),o=i+(e.avail_out-257),l=A.dmax,c=A.wsize,u=A.whave,h=A.wnext,d=A.window,f=A.hold,p=A.bits,m=A.lencode,_=A.distcode,x=(1<<A.lenbits)-1,T=(1<<A.distbits)-1;e:do{p<15&&(f+=y[n++]<<p,p+=8,f+=y[n++]<<p,p+=8),w=m[f&x];t:for(;;){if(I=w>>>24,f>>>=I,p-=I,I=w>>>16&255,I===0)R[i++]=w&65535;else if(I&16){j=w&65535,I&=15,I&&(p<I&&(f+=y[n++]<<p,p+=8),j+=f&(1<<I)-1,f>>>=I,p-=I),p<15&&(f+=y[n++]<<p,p+=8,f+=y[n++]<<p,p+=8),w=_[f&T];r:for(;;){if(I=w>>>24,f>>>=I,p-=I,I=w>>>16&255,I&16){if(P=w&65535,I&=15,p<I&&(f+=y[n++]<<p,p+=8,p<I&&(f+=y[n++]<<p,p+=8)),P+=f&(1<<I)-1,P>l){e.msg="invalid distance too far back",A.mode=Rg;break e}if(f>>>=I,p-=I,I=i-s,P>I){if(I=P-I,I>u&&A.sane){e.msg="invalid distance too far back",A.mode=Rg;break e}if(N=0,E=d,h===0){if(N+=c-I,I<j){j-=I;do R[i++]=d[N++];while(--I);N=i-P,E=R}}else if(h<I){if(N+=c+h-I,I-=h,I<j){j-=I;do R[i++]=d[N++];while(--I);if(N=0,h<j){I=h,j-=I;do R[i++]=d[N++];while(--I);N=i-P,E=R}}}else if(N+=h-I,I<j){j-=I;do R[i++]=d[N++];while(--I);N=i-P,E=R}for(;j>2;)R[i++]=E[N++],R[i++]=E[N++],R[i++]=E[N++],j-=3;j&&(R[i++]=E[N++],j>1&&(R[i++]=E[N++]))}else{N=i-P;do R[i++]=R[N++],R[i++]=R[N++],R[i++]=R[N++],j-=3;while(j>2);j&&(R[i++]=R[N++],j>1&&(R[i++]=R[N++]))}}else if(I&64){e.msg="invalid distance code",A.mode=Rg;break e}else{w=_[(w&65535)+(f&(1<<I)-1)];continue r}break}}else if(I&64)if(I&32){A.mode=uY;break e}else{e.msg="invalid literal/length code",A.mode=Rg;break e}else{w=m[(w&65535)+(f&(1<<I)-1)];continue t}break}}while(n<a&&i<o);j=p>>3,n-=j,p-=j<<3,f&=(1<<p)-1,e.next_in=n,e.next_out=i,e.avail_in=n<a?5+(a-n):5-(n-a),e.avail_out=i<o?257+(o-i):257-(i-o),A.hold=f,A.bits=p};const t0=15,o6=852,l6=592,c6=0,by=1,u6=2,hY=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),dY=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),pY=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),mY=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),gY=(t,e,r,n,a,i,s,o)=>{const l=o.bits;let c=0,u=0,h=0,d=0,f=0,p=0,m=0,_=0,x=0,T=0,w,I,j,P,N,E=null,y;const R=new Uint16Array(t0+1),A=new Uint16Array(t0+1);let C=null,k,q,X;for(c=0;c<=t0;c++)R[c]=0;for(u=0;u<n;u++)R[e[r+u]]++;for(f=l,d=t0;d>=1&&R[d]===0;d--);if(f>d&&(f=d),d===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,o.bits=1,0;for(h=1;h<d&&R[h]===0;h++);for(f<h&&(f=h),_=1,c=1;c<=t0;c++)if(_<<=1,_-=R[c],_<0)return-1;if(_>0&&(t===c6||d!==1))return-1;for(A[1]=0,c=1;c<t0;c++)A[c+1]=A[c]+R[c];for(u=0;u<n;u++)e[r+u]!==0&&(s[A[e[r+u]]++]=u);if(t===c6?(E=C=s,y=20):t===by?(E=hY,C=dY,y=257):(E=pY,C=mY,y=0),T=0,u=0,c=h,N=i,p=f,m=0,j=-1,x=1<<f,P=x-1,t===by&&x>o6||t===u6&&x>l6)return 1;for(;;){k=c-m,s[u]+1<y?(q=0,X=s[u]):s[u]>=y?(q=C[s[u]-y],X=E[s[u]-y]):(q=96,X=0),w=1<<c-m,I=1<<p,h=I;do I-=w,a[N+(T>>m)+I]=k<<24|q<<16|X|0;while(I!==0);for(w=1<<c-1;T&w;)w>>=1;if(w!==0?(T&=w-1,T+=w):T=0,u++,--R[c]===0){if(c===d)break;c=e[r+s[u]]}if(c>f&&(T&P)!==j){for(m===0&&(m=f),N+=h,p=c-m,_=1<<p;p+m<d&&(_-=R[p+m],!(_<=0));)p++,_<<=1;if(x+=1<<p,t===by&&x>o6||t===u6&&x>l6)return 1;j=T&P,a[j]=f<<24|p<<16|N-i|0}}return T!==0&&(a[N+T]=c-m<<24|64<<16|0),o.bits=f,0};var np=gY;const vY=0,nD=1,aD=2,{Z_FINISH:f6,Z_BLOCK:xY,Z_TREES:Lg,Z_OK:xh,Z_STREAM_END:_Y,Z_NEED_DICT:yY,Z_STREAM_ERROR:ko,Z_DATA_ERROR:iD,Z_MEM_ERROR:sD,Z_BUF_ERROR:wY,Z_DEFLATED:h6}=eD,Wx=16180,d6=16181,p6=16182,m6=16183,g6=16184,v6=16185,x6=16186,_6=16187,y6=16188,w6=16189,Ov=16190,nc=16191,Ey=16192,b6=16193,Ay=16194,E6=16195,A6=16196,S6=16197,T6=16198,Dg=16199,Og=16200,k6=16201,C6=16202,N6=16203,I6=16204,R6=16205,Sy=16206,L6=16207,D6=16208,Un=16209,oD=16210,lD=16211,bY=852,EY=592,AY=15,SY=AY,O6=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function TY(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Dh=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Wx||e.mode>lD?1:0},cD=t=>{if(Dh(t))return ko;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Wx,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(bY),e.distcode=e.distdyn=new Int32Array(EY),e.sane=1,e.back=-1,xh},uD=t=>{if(Dh(t))return ko;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,cD(t)},fD=(t,e)=>{let r;if(Dh(t))return ko;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ko:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,uD(t))},hD=(t,e)=>{if(!t)return ko;const r=new TY;t.state=r,r.strm=t,r.window=null,r.mode=Wx;const n=fD(t,e);return n!==xh&&(t.state=null),n},kY=t=>hD(t,SY);let P6=!0,Ty,ky;const CY=t=>{if(P6){Ty=new Int32Array(512),ky=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(np(nD,t.lens,0,288,Ty,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;np(aD,t.lens,0,32,ky,0,t.work,{bits:5}),P6=!1}t.lencode=Ty,t.lenbits=9,t.distcode=ky,t.distbits=5},dD=(t,e,r,n)=>{let a;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(e.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(e.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(e.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},NY=(t,e)=>{let r,n,a,i,s,o,l,c,u,h,d,f,p,m,_=0,x,T,w,I,j,P,N,E;const y=new Uint8Array(4);let R,A;const C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Dh(t)||!t.output||!t.input&&t.avail_in!==0)return ko;r=t.state,r.mode===nc&&(r.mode=Ey),s=t.next_out,a=t.output,l=t.avail_out,i=t.next_in,n=t.input,o=t.avail_in,c=r.hold,u=r.bits,h=o,d=l,E=xh;e:for(;;)switch(r.mode){case Wx:if(r.wrap===0){r.mode=Ey;break}for(;u<16;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,y[0]=c&255,y[1]=c>>>8&255,r.check=pl(r.check,y,2,0),c=0,u=0,r.mode=d6;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=Un;break}if((c&15)!==h6){t.msg="unknown compression method",r.mode=Un;break}if(c>>>=4,u-=4,N=(c&15)+8,r.wbits===0&&(r.wbits=N),N>15||N>r.wbits){t.msg="invalid window size",r.mode=Un;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=c&512?w6:nc,c=0,u=0;break;case d6:for(;u<16;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(r.flags=c,(r.flags&255)!==h6){t.msg="unknown compression method",r.mode=Un;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Un;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(y[0]=c&255,y[1]=c>>>8&255,r.check=pl(r.check,y,2,0)),c=0,u=0,r.mode=p6;case p6:for(;u<32;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(y[0]=c&255,y[1]=c>>>8&255,y[2]=c>>>16&255,y[3]=c>>>24&255,r.check=pl(r.check,y,4,0)),c=0,u=0,r.mode=m6;case m6:for(;u<16;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(y[0]=c&255,y[1]=c>>>8&255,r.check=pl(r.check,y,2,0)),c=0,u=0,r.mode=g6;case g6:if(r.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(y[0]=c&255,y[1]=c>>>8&255,r.check=pl(r.check,y,2,0)),c=0,u=0}else r.head&&(r.head.extra=null);r.mode=v6;case v6:if(r.flags&1024&&(f=r.length,f>o&&(f=o),f&&(r.head&&(N=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+f),N)),r.flags&512&&r.wrap&4&&(r.check=pl(r.check,n,f,i)),o-=f,i+=f,r.length-=f),r.length))break e;r.length=0,r.mode=x6;case x6:if(r.flags&2048){if(o===0)break e;f=0;do N=n[i+f++],r.head&&N&&r.length<65536&&(r.head.name+=String.fromCharCode(N));while(N&&f<o);if(r.flags&512&&r.wrap&4&&(r.check=pl(r.check,n,f,i)),o-=f,i+=f,N)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=_6;case _6:if(r.flags&4096){if(o===0)break e;f=0;do N=n[i+f++],r.head&&N&&r.length<65536&&(r.head.comment+=String.fromCharCode(N));while(N&&f<o);if(r.flags&512&&r.wrap&4&&(r.check=pl(r.check,n,f,i)),o-=f,i+=f,N)break e}else r.head&&(r.head.comment=null);r.mode=y6;case y6:if(r.flags&512){for(;u<16;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(r.wrap&4&&c!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Un;break}c=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=nc;break;case w6:for(;u<32;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}t.adler=r.check=O6(c),c=0,u=0,r.mode=Ov;case Ov:if(r.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=i,t.avail_in=o,r.hold=c,r.bits=u,yY;t.adler=r.check=1,r.mode=nc;case nc:if(e===xY||e===Lg)break e;case Ey:if(r.last){c>>>=u&7,u-=u&7,r.mode=Sy;break}for(;u<3;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}switch(r.last=c&1,c>>>=1,u-=1,c&3){case 0:r.mode=b6;break;case 1:if(CY(r),r.mode=Dg,e===Lg){c>>>=2,u-=2;break e}break;case 2:r.mode=A6;break;case 3:t.msg="invalid block type",r.mode=Un}c>>>=2,u-=2;break;case b6:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Un;break}if(r.length=c&65535,c=0,u=0,r.mode=Ay,e===Lg)break e;case Ay:r.mode=E6;case E6:if(f=r.length,f){if(f>o&&(f=o),f>l&&(f=l),f===0)break e;a.set(n.subarray(i,i+f),s),o-=f,i+=f,l-=f,s+=f,r.length-=f;break}r.mode=nc;break;case A6:for(;u<14;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(r.nlen=(c&31)+257,c>>>=5,u-=5,r.ndist=(c&31)+1,c>>>=5,u-=5,r.ncode=(c&15)+4,c>>>=4,u-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Un;break}r.have=0,r.mode=S6;case S6:for(;r.have<r.ncode;){for(;u<3;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}r.lens[C[r.have++]]=c&7,c>>>=3,u-=3}for(;r.have<19;)r.lens[C[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,R={bits:r.lenbits},E=np(vY,r.lens,0,19,r.lencode,0,r.work,R),r.lenbits=R.bits,E){t.msg="invalid code lengths set",r.mode=Un;break}r.have=0,r.mode=T6;case T6:for(;r.have<r.nlen+r.ndist;){for(;_=r.lencode[c&(1<<r.lenbits)-1],x=_>>>24,T=_>>>16&255,w=_&65535,!(x<=u);){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(w<16)c>>>=x,u-=x,r.lens[r.have++]=w;else{if(w===16){for(A=x+2;u<A;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(c>>>=x,u-=x,r.have===0){t.msg="invalid bit length repeat",r.mode=Un;break}N=r.lens[r.have-1],f=3+(c&3),c>>>=2,u-=2}else if(w===17){for(A=x+3;u<A;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}c>>>=x,u-=x,N=0,f=3+(c&7),c>>>=3,u-=3}else{for(A=x+7;u<A;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}c>>>=x,u-=x,N=0,f=11+(c&127),c>>>=7,u-=7}if(r.have+f>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Un;break}for(;f--;)r.lens[r.have++]=N}}if(r.mode===Un)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Un;break}if(r.lenbits=9,R={bits:r.lenbits},E=np(nD,r.lens,0,r.nlen,r.lencode,0,r.work,R),r.lenbits=R.bits,E){t.msg="invalid literal/lengths set",r.mode=Un;break}if(r.distbits=6,r.distcode=r.distdyn,R={bits:r.distbits},E=np(aD,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,R),r.distbits=R.bits,E){t.msg="invalid distances set",r.mode=Un;break}if(r.mode=Dg,e===Lg)break e;case Dg:r.mode=Og;case Og:if(o>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=i,t.avail_in=o,r.hold=c,r.bits=u,fY(t,d),s=t.next_out,a=t.output,l=t.avail_out,i=t.next_in,n=t.input,o=t.avail_in,c=r.hold,u=r.bits,r.mode===nc&&(r.back=-1);break}for(r.back=0;_=r.lencode[c&(1<<r.lenbits)-1],x=_>>>24,T=_>>>16&255,w=_&65535,!(x<=u);){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(T&&!(T&240)){for(I=x,j=T,P=w;_=r.lencode[P+((c&(1<<I+j)-1)>>I)],x=_>>>24,T=_>>>16&255,w=_&65535,!(I+x<=u);){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}c>>>=I,u-=I,r.back+=I}if(c>>>=x,u-=x,r.back+=x,r.length=w,T===0){r.mode=R6;break}if(T&32){r.back=-1,r.mode=nc;break}if(T&64){t.msg="invalid literal/length code",r.mode=Un;break}r.extra=T&15,r.mode=k6;case k6:if(r.extra){for(A=r.extra;u<A;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=C6;case C6:for(;_=r.distcode[c&(1<<r.distbits)-1],x=_>>>24,T=_>>>16&255,w=_&65535,!(x<=u);){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(!(T&240)){for(I=x,j=T,P=w;_=r.distcode[P+((c&(1<<I+j)-1)>>I)],x=_>>>24,T=_>>>16&255,w=_&65535,!(I+x<=u);){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}c>>>=I,u-=I,r.back+=I}if(c>>>=x,u-=x,r.back+=x,T&64){t.msg="invalid distance code",r.mode=Un;break}r.offset=w,r.extra=T&15,r.mode=N6;case N6:if(r.extra){for(A=r.extra;u<A;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Un;break}r.mode=I6;case I6:if(l===0)break e;if(f=d-l,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Un;break}f>r.wnext?(f-=r.wnext,p=r.wsize-f):p=r.wnext-f,f>r.length&&(f=r.length),m=r.window}else m=a,p=s-r.offset,f=r.length;f>l&&(f=l),l-=f,r.length-=f;do a[s++]=m[p++];while(--f);r.length===0&&(r.mode=Og);break;case R6:if(l===0)break e;a[s++]=r.length,l--,r.mode=Og;break;case Sy:if(r.wrap){for(;u<32;){if(o===0)break e;o--,c|=n[i++]<<u,u+=8}if(d-=l,t.total_out+=d,r.total+=d,r.wrap&4&&d&&(t.adler=r.check=r.flags?pl(r.check,a,d,s-d):Dw(r.check,a,d,s-d)),d=l,r.wrap&4&&(r.flags?c:O6(c))!==r.check){t.msg="incorrect data check",r.mode=Un;break}c=0,u=0}r.mode=L6;case L6:if(r.wrap&&r.flags){for(;u<32;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(r.wrap&4&&c!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Un;break}c=0,u=0}r.mode=D6;case D6:E=_Y;break e;case Un:E=iD;break e;case oD:return sD;case lD:default:return ko}return t.next_out=s,t.avail_out=l,t.next_in=i,t.avail_in=o,r.hold=c,r.bits=u,(r.wsize||d!==t.avail_out&&r.mode<Un&&(r.mode<Sy||e!==f6))&&dD(t,t.output,t.next_out,d-t.avail_out),h-=t.avail_in,d-=t.avail_out,t.total_in+=h,t.total_out+=d,r.total+=d,r.wrap&4&&d&&(t.adler=r.check=r.flags?pl(r.check,a,d,t.next_out-d):Dw(r.check,a,d,t.next_out-d)),t.data_type=r.bits+(r.last?64:0)+(r.mode===nc?128:0)+(r.mode===Dg||r.mode===Ay?256:0),(h===0&&d===0||e===f6)&&E===xh&&(E=wY),E},IY=t=>{if(Dh(t))return ko;let e=t.state;return e.window&&(e.window=null),t.state=null,xh},RY=(t,e)=>{if(Dh(t))return ko;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,xh):ko},LY=(t,e)=>{const r=e.length;let n,a,i;return Dh(t)||(n=t.state,n.wrap!==0&&n.mode!==Ov)?ko:n.mode===Ov&&(a=1,a=Dw(a,e,r,0),a!==n.check)?iD:(i=dD(t,e,r,r),i?(n.mode=oD,sD):(n.havedict=1,xh))};var DY=uD,OY=fD,PY=cD,FY=kY,MY=hD,BY=NY,UY=IY,jY=RY,VY=LY,zY="pako inflate (from Nodeca project)",sc={inflateReset:DY,inflateReset2:OY,inflateResetKeep:PY,inflateInit:FY,inflateInit2:MY,inflate:BY,inflateEnd:UY,inflateGetHeader:jY,inflateSetDictionary:VY,inflateInfo:zY};function HY(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var qY=HY;const pD=Object.prototype.toString,{Z_NO_FLUSH:GY,Z_FINISH:WY,Z_OK:Up,Z_STREAM_END:Cy,Z_NEED_DICT:Ny,Z_STREAM_ERROR:$Y,Z_DATA_ERROR:F6,Z_MEM_ERROR:XY}=eD;function Lm(t){this.options=tD.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new cY,this.strm.avail_out=0;let r=sc.inflateInit2(this.strm,e.windowBits);if(r!==Up)throw new Error(Ow[r]);if(this.header=new qY,sc.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Pw.string2buf(e.dictionary):pD.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=sc.inflateSetDictionary(this.strm,e.dictionary),r!==Up)))throw new Error(Ow[r])}Lm.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?WY:GY,pD.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=sc.inflate(r,s),i===Ny&&a&&(i=sc.inflateSetDictionary(r,a),i===Up?i=sc.inflate(r,s):i===F6&&(i=Ny));r.avail_in>0&&i===Cy&&r.state.wrap>0&&t[r.next_in]!==0;)sc.inflateReset(r),i=sc.inflate(r,s);switch(i){case $Y:case F6:case Ny:case XY:return this.onEnd(i),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||i===Cy))if(this.options.to==="string"){let l=Pw.utf8border(r.output,r.next_out),c=r.next_out-l,u=Pw.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===Up&&o===0)){if(i===Cy)return i=sc.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Lm.prototype.onData=function(t){this.chunks.push(t)};Lm.prototype.onEnd=function(t){t===Up&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=tD.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function KY(t,e){const r=new Lm(e);if(r.push(t),r.err)throw r.msg||Ow[r.err];return r.result}var YY=Lm,QY=KY,JY={Inflate:YY,inflate:QY};const{Inflate:ZY,inflate:eQ}=JY;var M6=ZY,tQ=eQ;const mD=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;mD[t]=e}const B6=4294967295;function rQ(t,e,r){let n=t;for(let a=0;a<r;a++)n=mD[(n^e[a])&255]^n>>>8;return n}function nQ(t,e){return(rQ(B6,t,e)^B6)>>>0}function U6(t,e,r){const n=t.readUint32(),a=nQ(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function gD(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function vD(t,e,r,n){let a=0;for(;a<n;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-n]&255}function xD(t,e,r,n){let a=0;if(r.length===0)for(;a<n;a++)e[a]=t[a];else for(;a<n;a++)e[a]=t[a]+r[a]&255}function _D(t,e,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+(e[i-a]>>1)&255}else{for(;i<a;i++)e[i]=t[i]+(r[i]>>1)&255;for(;i<n;i++)e[i]=t[i]+(e[i-a]+r[i]>>1)&255}}function yD(t,e,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-a]&255}else{for(;i<a;i++)e[i]=t[i]+r[i]&255;for(;i<n;i++)e[i]=t[i]+aQ(e[i-a],r[i],r[i-a])&255}}function aQ(t,e,r){const n=t+e-r,a=Math.abs(n-t),i=Math.abs(n-e),s=Math.abs(n-r);return a<=i&&a<=s?t:i<=s?e:r}function iQ(t,e,r,n,a,i){switch(t){case 0:gD(e,r,a);break;case 1:vD(e,r,a,i);break;case 2:xD(e,r,n,a);break;case 3:_D(e,r,n,a,i);break;case 4:yD(e,r,n,a,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const sQ=new Uint16Array([255]),oQ=new Uint8Array(sQ.buffer),lQ=oQ[0]===255;function cQ(t){const{data:e,width:r,height:n,channels:a,depth:i}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*a,l=new Uint8Array(n*r*o);let c=0;for(let u=0;u<7;u++){const h=s[u],d=Math.ceil((r-h.x)/h.xStep),f=Math.ceil((n-h.y)/h.yStep);if(d<=0||f<=0)continue;const p=d*o,m=new Uint8Array(p);for(let _=0;_<f;_++){const x=e[c++],T=e.subarray(c,c+p);c+=p;const w=new Uint8Array(p);iQ(x,T,w,m,p,o),m.set(w);for(let I=0;I<d;I++){const j=h.x+I*h.xStep,P=h.y+_*h.yStep;if(!(j>=r||P>=n))for(let N=0;N<o;N++)l[(P*r+j)*o+N]=w[I*o+N]}}}if(i===16){const u=new Uint16Array(l.buffer);if(lQ)for(let h=0;h<u.length;h++)u[h]=uQ(u[h]);return u}else return l}function uQ(t){return(t&255)<<8|t>>8&255}const fQ=new Uint16Array([255]),hQ=new Uint8Array(fQ.buffer),dQ=hQ[0]===255,pQ=new Uint8Array(0);function j6(t){const{data:e,width:r,height:n,channels:a,depth:i}=t,s=Math.ceil(i/8)*a,o=Math.ceil(i/8*a*r),l=new Uint8Array(n*o);let c=pQ,u=0,h,d;for(let f=0;f<n;f++){switch(h=e.subarray(u+1,u+1+o),d=l.subarray(f*o,(f+1)*o),e[u]){case 0:gD(h,d,o);break;case 1:vD(h,d,o,s);break;case 2:xD(h,d,c,o);break;case 3:_D(h,d,c,o,s);break;case 4:yD(h,d,c,o,s);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=d,u+=o+1}if(i===16){const f=new Uint16Array(l.buffer);if(dQ)for(let p=0;p<f.length;p++)f[p]=mQ(f[p]);return f}else return l}function mQ(t){return(t&255)<<8|t>>8&255}const T2=Uint8Array.of(137,80,78,71,13,10,26,10);function V6(t){if(!gQ(t.readBytes(T2.length)))throw new Error("wrong PNG signature")}function gQ(t){if(t.length<T2.length)return!1;for(let e=0;e<T2.length;e++)if(t[e]!==T2[e])return!1;return!0}const vQ="tEXt",xQ=0,wD=new TextDecoder("latin1");function _Q(t){if(wQ(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const yQ=/^[\u0000-\u00FF]*$/;function wQ(t){if(!yQ.test(t))throw new Error("invalid latin1 text")}function bQ(t,e,r){const n=bD(e);t[n]=EQ(e,r-n.length-1)}function bD(t){for(t.mark();t.readByte()!==xQ;);const e=t.offset;t.reset();const r=wD.decode(t.readBytes(e-t.offset-1));return t.skip(1),_Q(r),r}function EQ(t,e){return wD.decode(t.readBytes(e))}const Ns={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Iy={UNKNOWN:-1,DEFLATE:0},z6={UNKNOWN:-1,ADAPTIVE:0},Ry={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Pg={NONE:0,BACKGROUND:1,PREVIOUS:2},Ly={SOURCE:0,OVER:1};class AQ extends cE{constructor(r,n={}){super(r);Qr(this,"_checkCrc");Qr(this,"_inflator");Qr(this,"_png");Qr(this,"_apng");Qr(this,"_end");Qr(this,"_hasPalette");Qr(this,"_palette");Qr(this,"_hasTransparency");Qr(this,"_transparency");Qr(this,"_compressionMethod");Qr(this,"_filterMethod");Qr(this,"_interlaceMethod");Qr(this,"_colorType");Qr(this,"_isAnimated");Qr(this,"_numberOfFrames");Qr(this,"_numberOfPlays");Qr(this,"_frames");Qr(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new M6,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Iy.UNKNOWN,this._filterMethod=z6.UNKNOWN,this._interlaceMethod=Ry.UNKNOWN,this._colorType=Ns.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(V6(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(V6(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case vQ:bQ(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?U6(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?U6(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=SQ(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case Ns.GREYSCALE:a=1;break;case Ns.TRUECOLOUR:a=3;break;case Ns.INDEXED_COLOUR:a=1;break;case Ns.GREYSCALE_ALPHA:a=2;break;case Ns.TRUECOLOUR_ALPHA:a=4;break;case Ns.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==Iy.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<n;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Ns.GREYSCALE:case Ns.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Ns.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Ns.UNKNOWN:case Ns.GREYSCALE_ALPHA:case Ns.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=bD(this),a=this.readUint8();if(a!==Iy.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:tQ(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=j6({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(a,i,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,a){switch(r.disposeOp){case Pg.NONE:break;case Pg.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const o=(i*r.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)a.data[o+l]=0}break;case Pg.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const a=1<<this._png.depth,i=(s,o)=>{const l=((s+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,c=(s*n.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(n.blendOp){case Ly.SOURCE:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=i(s,o);for(let u=0;u<this._png.channels;u++)r.data[l+u]=n.data[c+u]}break;case Ly.OVER:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=i(s,o);for(let u=0;u<this._png.channels;u++){const h=n.data[c+this._png.channels-1]/a,d=u%(this._png.channels-1)===0?1:n.data[c+u],f=Math.floor(h*d+(1-h)*r.data[l+u]);r.data[l+u]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==z6.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Ry.NO_INTERLACE)this._png.data=j6({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Ry.ADAM7)this._png.data=cQ({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Pg.NONE,blendOp:Ly.SOURCE,data:r}),this._inflator=new M6,this._writingDataChunks=!1}}function SQ(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var H6;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(H6||(H6={}));function TQ(t,e){return new AQ(t,e).decode()}var sr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Dy(){sr.console&&typeof sr.console.log=="function"&&sr.console.log.apply(sr.console,arguments)}var pn={log:Dy,warn:function(t){sr.console&&(typeof sr.console.warn=="function"?sr.console.warn.apply(sr.console,arguments):Dy.call(null,arguments))},error:function(t){sr.console&&(typeof sr.console.error=="function"?sr.console.error.apply(sr.console,arguments):Dy(t))}};function Oy(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Mf(n.response,e,r)},n.onerror=function(){pn.error("could not download file")},n.send()}function q6(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Fg(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Mf=sr.saveAs||((typeof window>"u"?"undefined":tn(window))!=="object"||window!==sr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=sr.URL||sr.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?q6(a.href)?Oy(t,e,r):Fg(a,a.target="_blank"):Fg(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Fg(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(q6(t))Oy(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Fg(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:tn(i)!=="object"&&(pn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Oy(t,e,r);var a=t.type==="application/octet-stream",i=/constructor/i.test(sr.HTMLElement)||sr.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":tn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(t)}else{var l=sr.URL||sr.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function ED(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(t);s&&(e=i(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var k2=sr.atob.bind(sr),G6=sr.btoa.bind(sr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Py(t,e){var r=t[0],n=t[1],a=t[2],i=t[3];r=vi(r,n,a,i,e[0],7,-680876936),i=vi(i,r,n,a,e[1],12,-389564586),a=vi(a,i,r,n,e[2],17,606105819),n=vi(n,a,i,r,e[3],22,-1044525330),r=vi(r,n,a,i,e[4],7,-176418897),i=vi(i,r,n,a,e[5],12,1200080426),a=vi(a,i,r,n,e[6],17,-1473231341),n=vi(n,a,i,r,e[7],22,-45705983),r=vi(r,n,a,i,e[8],7,1770035416),i=vi(i,r,n,a,e[9],12,-1958414417),a=vi(a,i,r,n,e[10],17,-42063),n=vi(n,a,i,r,e[11],22,-1990404162),r=vi(r,n,a,i,e[12],7,1804603682),i=vi(i,r,n,a,e[13],12,-40341101),a=vi(a,i,r,n,e[14],17,-1502002290),r=xi(r,n=vi(n,a,i,r,e[15],22,1236535329),a,i,e[1],5,-165796510),i=xi(i,r,n,a,e[6],9,-1069501632),a=xi(a,i,r,n,e[11],14,643717713),n=xi(n,a,i,r,e[0],20,-373897302),r=xi(r,n,a,i,e[5],5,-701558691),i=xi(i,r,n,a,e[10],9,38016083),a=xi(a,i,r,n,e[15],14,-660478335),n=xi(n,a,i,r,e[4],20,-405537848),r=xi(r,n,a,i,e[9],5,568446438),i=xi(i,r,n,a,e[14],9,-1019803690),a=xi(a,i,r,n,e[3],14,-187363961),n=xi(n,a,i,r,e[8],20,1163531501),r=xi(r,n,a,i,e[13],5,-1444681467),i=xi(i,r,n,a,e[2],9,-51403784),a=xi(a,i,r,n,e[7],14,1735328473),r=_i(r,n=xi(n,a,i,r,e[12],20,-1926607734),a,i,e[5],4,-378558),i=_i(i,r,n,a,e[8],11,-2022574463),a=_i(a,i,r,n,e[11],16,1839030562),n=_i(n,a,i,r,e[14],23,-35309556),r=_i(r,n,a,i,e[1],4,-1530992060),i=_i(i,r,n,a,e[4],11,1272893353),a=_i(a,i,r,n,e[7],16,-155497632),n=_i(n,a,i,r,e[10],23,-1094730640),r=_i(r,n,a,i,e[13],4,681279174),i=_i(i,r,n,a,e[0],11,-358537222),a=_i(a,i,r,n,e[3],16,-722521979),n=_i(n,a,i,r,e[6],23,76029189),r=_i(r,n,a,i,e[9],4,-640364487),i=_i(i,r,n,a,e[12],11,-421815835),a=_i(a,i,r,n,e[15],16,530742520),r=yi(r,n=_i(n,a,i,r,e[2],23,-995338651),a,i,e[0],6,-198630844),i=yi(i,r,n,a,e[7],10,1126891415),a=yi(a,i,r,n,e[14],15,-1416354905),n=yi(n,a,i,r,e[5],21,-57434055),r=yi(r,n,a,i,e[12],6,1700485571),i=yi(i,r,n,a,e[3],10,-1894986606),a=yi(a,i,r,n,e[10],15,-1051523),n=yi(n,a,i,r,e[1],21,-2054922799),r=yi(r,n,a,i,e[8],6,1873313359),i=yi(i,r,n,a,e[15],10,-30611744),a=yi(a,i,r,n,e[6],15,-1560198380),n=yi(n,a,i,r,e[13],21,1309151649),r=yi(r,n,a,i,e[4],6,-145523070),i=yi(i,r,n,a,e[11],10,-1120210379),a=yi(a,i,r,n,e[2],15,718787259),n=yi(n,a,i,r,e[9],21,-343485551),t[0]=Iu(r,t[0]),t[1]=Iu(n,t[1]),t[2]=Iu(a,t[2]),t[3]=Iu(i,t[3])}function $x(t,e,r,n,a,i){return e=Iu(Iu(e,t),Iu(n,i)),Iu(e<<a|e>>>32-a,r)}function vi(t,e,r,n,a,i,s){return $x(e&r|~e&n,t,e,a,i,s)}function xi(t,e,r,n,a,i,s){return $x(e&n|r&~n,t,e,a,i,s)}function _i(t,e,r,n,a,i,s){return $x(e^r^n,t,e,a,i,s)}function yi(t,e,r,n,a,i,s){return $x(r^(e|~n),t,e,a,i,s)}function AD(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Py(n,kQ(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(Py(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,Py(n,a),n}function kQ(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var W6="0123456789abcdef".split("");function CQ(t){for(var e="",r=0;r<4;r++)e+=W6[t>>8*r+4&15]+W6[t>>8*r&15];return e}function NQ(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Fw(t){return AD(t).map(NQ).join("")}var IQ=function(t){for(var e=0;e<t.length;e++)t[e]=CQ(t[e]);return t.join("")}(AD("hello"))!="5d41402abc4b2a76b9719d911017c592";function Iu(t,e){if(IQ){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Mw(t,e){var r,n,a,i;if(t!==r){for(var s=(a=t,i=1+(256/t.length|0),new Array(i+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=t,n=o}else o=n;var h=e.length,d=0,f=0,p="";for(l=0;l<h;l++)f=(f+(u=o[d=(d+1)%256]))%256,o[d]=o[f],o[f]=u,s=o[(o[d]+o[f])%256],p+=String.fromCharCode(e.charCodeAt(l)^s);return p}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var $6={print:4,modify:8,copy:16,"annot-forms":32};function m0(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(o){if($6.perm!==void 0)throw new Error("Invalid permission: "+o);a+=$6[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=Fw(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Mw(this.encryptionKey,this.padding)}function g0(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):t[n]}return e}function X6(t){if(tn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[r]){var s=e[r][i];try{s[0].apply(t,n)}catch(o){sr.console&&pn.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Pv(t){if(!(this instanceof Pv))return new Pv(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function SD(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Bf(t,e,r,n,a){if(!(this instanceof Bf))return new Bf(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,SD.call(this,n,a)}function L0(t,e,r,n,a){if(!(this instanceof L0))return new L0(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,SD.call(this,n,a)}function Vt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,l=16,c="S",u=null;tn(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,i=t.compress||t.compressPdf||i,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),s=t.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,d={},f={internal:{},__private__:{}};f.__private__.PubSub=X6;var p="1.3",m=f.__private__.getPdfVersion=function(){return p};f.__private__.setPdfVersion=function(L){p=L};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return _};var x=f.__private__.getPageFormat=function(L){return _[L]};a=a||"a4";var T="compat",w="advanced",I=T;function j(){this.saveGraphicsState(),K(new Ut(at,0,0,-at,0,Oo()*at).toString()+" cm"),this.setFontSize(this.getFontSize()/at),c="n",I=w}function P(){this.restoreGraphicsState(),c="S",I=T}var N=f.__private__.combineFontStyleAndFontWeight=function(L,Y){if(L=="bold"&&Y=="normal"||L=="bold"&&Y==400||L=="normal"&&Y=="italic"||L=="bold"&&Y=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Y&&(L=Y==400||Y==="normal"?L==="italic"?"italic":"normal":Y!=700&&Y!=="bold"||L!=="normal"?(Y==700?"bold":Y)+""+L:"bold"),L};f.advancedAPI=function(L){var Y=I===T;return Y&&j.call(this),typeof L!="function"||(L(this),Y&&P.call(this)),this},f.compatAPI=function(L){var Y=I===w;return Y&&P.call(this),typeof L!="function"||(L(this),Y&&j.call(this)),this},f.isAdvancedAPI=function(){return I===w};var E,y=function(L){if(I!==w)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=f.roundToPrecision=f.__private__.roundToPrecision=function(L,Y){var ve=e||Y;if(isNaN(L)||isNaN(ve))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(ve).replace(/0+$/,"")};E=f.hpf=f.__private__.hpf=typeof l=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return R(L,l)}:l==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return R(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return R(L,16)};var A=f.f2=f.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return R(L,2)},C=f.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return R(L,3)},k=f.scale=f.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return I===T?L*at:I===w?L:void 0},q=function(L){return k(function(Y){return I===T?Oo()-Y:I===w?Y:void 0}(L))};f.__private__.setPrecision=f.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(e=parseInt(L,10))};var X,V="00000000000000000000000000000000",H=f.__private__.getFileId=function(){return V},ae=f.__private__.setFileId=function(L){return V=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():V.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Cn=new m0(u.userPermissions,u.userPassword,u.ownerPassword,V)),V};f.setFileId=function(L){return ae(L),this},f.getFileId=function(){return H()};var W=f.__private__.convertDateToPDFDate=function(L){var Y=L.getTimezoneOffset(),ve=Y<0?"+":"-",Ee=Math.floor(Math.abs(Y/60)),Ie=Math.abs(Y%60),We=[ve,U(Ee),"'",U(Ie),"'"].join("");return["D:",L.getFullYear(),U(L.getMonth()+1),U(L.getDate()),U(L.getHours()),U(L.getMinutes()),U(L.getSeconds()),We].join("")},ge=f.__private__.convertPDFDateToDate=function(L){var Y=parseInt(L.substr(2,4),10),ve=parseInt(L.substr(6,2),10)-1,Ee=parseInt(L.substr(8,2),10),Ie=parseInt(L.substr(10,2),10),We=parseInt(L.substr(12,2),10),et=parseInt(L.substr(14,2),10);return new Date(Y,ve,Ee,Ie,We,et,0)},be=f.__private__.setCreationDate=function(L){var Y;if(L===void 0&&(L=new Date),L instanceof Date)Y=W(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Y=L}return X=Y},D=f.__private__.getCreationDate=function(L){var Y=X;return L==="jsDate"&&(Y=ge(X)),Y};f.setCreationDate=function(L){return be(L),this},f.getCreationDate=function(L){return D(L)};var F,U=f.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},M=f.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},Q=0,oe=[],de=[],he=0,we=[],ke=[],ne=!1,Z=de;f.__private__.setCustomOutputDestination=function(L){ne=!0,Z=L};var Ae=function(L){ne||(Z=L)};f.__private__.resetCustomOutputDestination=function(){ne=!1,Z=de};var K=f.__private__.out=function(L){return L=L.toString(),he+=L.length+1,Z.push(L),Z},Te=f.__private__.write=function(L){return K(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},Re=f.__private__.getArrayBuffer=function(L){for(var Y=L.length,ve=new ArrayBuffer(Y),Ee=new Uint8Array(ve);Y--;)Ee[Y]=L.charCodeAt(Y);return ve},Oe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Oe};var Ne=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(L){return Ne=I===w?L/at:L,this};var Qe,Ke=f.__private__.getFontSize=f.getFontSize=function(){return I===T?Ne:Ne*at},ht=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(L){return ht=L,this},f.__private__.getR2L=f.getR2L=function(){return ht};var ct,yt=f.__private__.setZoomMode=function(L){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))Qe=L;else if(isNaN(L)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');Qe=L}else Qe=parseInt(L,10)};f.__private__.getZoomMode=function(){return Qe};var mt,St=f.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');ct=L};f.__private__.getPageMode=function(){return ct};var $t=f.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');mt=L};f.__private__.getLayoutMode=function(){return mt},f.__private__.setDisplayMode=f.setDisplayMode=function(L,Y,ve){return yt(L),$t(Y),St(ve),this};var Et={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(L){if(Object.keys(Et).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Et[L]},f.__private__.getDocumentProperties=function(){return Et},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(L){for(var Y in Et)Et.hasOwnProperty(Y)&&L[Y]&&(Et[Y]=L[Y]);return this},f.__private__.setDocumentProperty=function(L,Y){if(Object.keys(Et).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Et[L]=Y};var gt,at,it,Ft,wt,Nt={},zt={},vr=[],Ot={},Pe={},st={},ut={},Qt=null,Tt=0,Ct=[],Kt=new X6(f),Xr=t.hotfixes||[],Jt={},gn={},Mr=[],Ut=function L(Y,ve,Ee,Ie,We,et){if(!(this instanceof L))return new L(Y,ve,Ee,Ie,We,et);isNaN(Y)&&(Y=1),isNaN(ve)&&(ve=0),isNaN(Ee)&&(Ee=0),isNaN(Ie)&&(Ie=1),isNaN(We)&&(We=0),isNaN(et)&&(et=0),this._matrix=[Y,ve,Ee,Ie,We,et]};Object.defineProperty(Ut.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Ut.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Ut.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Ut.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Ut.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Ut.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Ut.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Ut.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Ut.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Ut.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Ut.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Ut.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Ut.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ut.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ut.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ut.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ut.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(L)},Ut.prototype.multiply=function(L){var Y=L.sx*this.sx+L.shy*this.shx,ve=L.sx*this.shy+L.shy*this.sy,Ee=L.shx*this.sx+L.sy*this.shx,Ie=L.shx*this.shy+L.sy*this.sy,We=L.tx*this.sx+L.ty*this.shx+this.tx,et=L.tx*this.shy+L.ty*this.sy+this.ty;return new Ut(Y,ve,Ee,Ie,We,et)},Ut.prototype.decompose=function(){var L=this.sx,Y=this.shy,ve=this.shx,Ee=this.sy,Ie=this.tx,We=this.ty,et=Math.sqrt(L*L+Y*Y),Rt=(L/=et)*ve+(Y/=et)*Ee;ve-=L*Rt,Ee-=Y*Rt;var Pt=Math.sqrt(ve*ve+Ee*Ee);return Rt/=Pt,L*(Ee/=Pt)<Y*(ve/=Pt)&&(L=-L,Y=-Y,Rt=-Rt,et=-et),{scale:new Ut(et,0,0,Pt,0,0),translate:new Ut(1,0,0,1,Ie,We),rotate:new Ut(L,Y,-Y,L,0,0),skew:new Ut(1,0,Rt,1,0,0)}},Ut.prototype.toString=function(L){return this.join(" ")},Ut.prototype.inversed=function(){var L=this.sx,Y=this.shy,ve=this.shx,Ee=this.sy,Ie=this.tx,We=this.ty,et=1/(L*Ee-Y*ve),Rt=Ee*et,Pt=-Y*et,Yt=-ve*et,Ht=L*et;return new Ut(Rt,Pt,Yt,Ht,-Rt*Ie-Yt*We,-Pt*Ie-Ht*We)},Ut.prototype.applyToPoint=function(L){var Y=L.x*this.sx+L.y*this.shx+this.tx,ve=L.x*this.shy+L.y*this.sy+this.ty;return new Fi(Y,ve)},Ut.prototype.applyToRectangle=function(L){var Y=this.applyToPoint(L),ve=this.applyToPoint(new Fi(L.x+L.w,L.y+L.h));return new Gc(Y.x,Y.y,ve.x-Y.x,ve.y-Y.y)},Ut.prototype.clone=function(){var L=this.sx,Y=this.shy,ve=this.shx,Ee=this.sy,Ie=this.tx,We=this.ty;return new Ut(L,Y,ve,Ee,Ie,We)},f.Matrix=Ut;var xs=f.matrixMult=function(L,Y){return Y.multiply(L)},hi=new Ut(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=hi;var Na=function(L,Y){if(!Pe[L]){var ve=(Y instanceof Bf?"Sh":"P")+(Object.keys(Ot).length+1).toString(10);Y.id=ve,Pe[L]=ve,Ot[ve]=Y,Kt.publish("addPattern",Y)}};f.ShadingPattern=Bf,f.TilingPattern=L0,f.addShadingPattern=function(L,Y){return y("addShadingPattern()"),Na(L,Y),this},f.beginTilingPattern=function(L){y("beginTilingPattern()"),ll(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},f.endTilingPattern=function(L,Y){y("endTilingPattern()"),Y.stream=ke[F].join(`
`),Na(L,Y),Kt.publish("endTilingPattern",Y),Mr.pop().restore()};var Qa,sn=f.__private__.newObject=function(){var L=vn();return ee(L,!0),L},vn=f.__private__.newObjectDeferred=function(){return Q++,oe[Q]=function(){return he},Q},ee=function(L,Y){return Y=typeof Y=="boolean"&&Y,oe[L]=he,Y&&K(L+" 0 obj"),L},pe=f.__private__.newAdditionalObject=function(){var L={objId:vn(),content:""};return we.push(L),L},le=vn(),ue=vn(),me=f.__private__.decodeColorString=function(L){var Y=L.split(" ");if(Y.length!==2||Y[1]!=="g"&&Y[1]!=="G")Y.length!==5||Y[4]!=="k"&&Y[4]!=="K"||(Y=[(1-Y[0])*(1-Y[3]),(1-Y[1])*(1-Y[3]),(1-Y[2])*(1-Y[3]),"r"]);else{var ve=parseFloat(Y[0]);Y=[ve,ve,ve,"r"]}for(var Ee="#",Ie=0;Ie<3;Ie++)Ee+=("0"+Math.floor(255*parseFloat(Y[Ie])).toString(16)).slice(-2);return Ee},ye=f.__private__.encodeColorString=function(L){var Y;typeof L=="string"&&(L={ch1:L});var ve=L.ch1,Ee=L.ch2,Ie=L.ch3,We=L.ch4,et=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ve=="string"&&ve.charAt(0)!=="#"){var Rt=new ED(ve);if(Rt.ok)ve=Rt.toHex();else if(!/^\d*\.?\d*$/.test(ve))throw new Error('Invalid color "'+ve+'" passed to jsPDF.encodeColorString.')}if(typeof ve=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ve)&&(ve="#"+ve[1]+ve[1]+ve[2]+ve[2]+ve[3]+ve[3]),typeof ve=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ve)){var Pt=parseInt(ve.substr(1),16);ve=Pt>>16&255,Ee=Pt>>8&255,Ie=255&Pt}if(Ee===void 0||We===void 0&&ve===Ee&&Ee===Ie)Y=typeof ve=="string"?ve+" "+et[0]:L.precision===2?A(ve/255)+" "+et[0]:C(ve/255)+" "+et[0];else if(We===void 0||tn(We)==="object"){if(We&&!isNaN(We.a)&&We.a===0)return["1.","1.","1.",et[1]].join(" ");Y=typeof ve=="string"?[ve,Ee,Ie,et[1]].join(" "):L.precision===2?[A(ve/255),A(Ee/255),A(Ie/255),et[1]].join(" "):[C(ve/255),C(Ee/255),C(Ie/255),et[1]].join(" ")}else Y=typeof ve=="string"?[ve,Ee,Ie,We,et[2]].join(" "):L.precision===2?[A(ve),A(Ee),A(Ie),A(We),et[2]].join(" "):[C(ve),C(Ee),C(Ie),C(We),et[2]].join(" ");return Y},Fe=f.__private__.getFilters=function(){return s},He=f.__private__.putStream=function(L){var Y=(L=L||{}).data||"",ve=L.filters||Fe(),Ee=L.alreadyAppliedFilters||[],Ie=L.addLength1||!1,We=Y.length,et=L.objectId,Rt=function(B){return B};if(u!==null&&et===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Rt=Cn.encryptor(et,0));var Pt={};ve===!0&&(ve=["FlateEncode"]);var Yt=L.additionalKeyValues||[],Ht=(Pt=Vt.API.processDataByFilters!==void 0?Vt.API.processDataByFilters(Y,ve):{data:Y,reverseChain:[]}).reverseChain+(Array.isArray(Ee)?Ee.join(" "):Ee.toString());if(Pt.data.length!==0&&(Yt.push({key:"Length",value:Pt.data.length}),Ie===!0&&Yt.push({key:"Length1",value:We})),Ht.length!=0)if(Ht.split("/").length-1==1)Yt.push({key:"Filter",value:Ht});else{Yt.push({key:"Filter",value:"["+Ht+"]"});for(var Ar=0;Ar<Yt.length;Ar+=1)if(Yt[Ar].key==="DecodeParms"){for(var yn=[],fn=0;fn<Pt.reverseChain.split("/").length-1;fn+=1)yn.push("null");yn.push(Yt[Ar].value),Yt[Ar].value="["+yn.join(" ")+"]"}}K("<<");for(var v=0;v<Yt.length;v++)K("/"+Yt[v].key+" "+Yt[v].value);K(">>"),Pt.data.length!==0&&(K("stream"),K(Rt(Pt.data)),K("endstream"))},Me=f.__private__.putPage=function(L){var Y=L.number,ve=L.data,Ee=L.objId,Ie=L.contentsObjId;ee(Ee,!0),K("<</Type /Page"),K("/Parent "+L.rootDictionaryObjId+" 0 R"),K("/Resources "+L.resourceDictionaryObjId+" 0 R"),K("/MediaBox ["+parseFloat(E(L.mediaBox.bottomLeftX))+" "+parseFloat(E(L.mediaBox.bottomLeftY))+" "+E(L.mediaBox.topRightX)+" "+E(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&K("/CropBox ["+E(L.cropBox.bottomLeftX)+" "+E(L.cropBox.bottomLeftY)+" "+E(L.cropBox.topRightX)+" "+E(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&K("/BleedBox ["+E(L.bleedBox.bottomLeftX)+" "+E(L.bleedBox.bottomLeftY)+" "+E(L.bleedBox.topRightX)+" "+E(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&K("/TrimBox ["+E(L.trimBox.bottomLeftX)+" "+E(L.trimBox.bottomLeftY)+" "+E(L.trimBox.topRightX)+" "+E(L.trimBox.topRightY)+"]"),L.artBox!==null&&K("/ArtBox ["+E(L.artBox.bottomLeftX)+" "+E(L.artBox.bottomLeftY)+" "+E(L.artBox.topRightX)+" "+E(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&K("/UserUnit "+L.userUnit),Kt.publish("putPage",{objId:Ee,pageContext:Ct[Y],pageNumber:Y,page:ve}),K("/Contents "+Ie+" 0 R"),K(">>"),K("endobj");var We=ve.join(`
`);return I===w&&(We+=`
Q`),ee(Ie,!0),He({data:We,filters:Fe(),objectId:Ie}),K("endobj"),Ee},Be=f.__private__.putPages=function(){var L,Y,ve=[];for(L=1;L<=Tt;L++)Ct[L].objId=vn(),Ct[L].contentsObjId=vn();for(L=1;L<=Tt;L++)ve.push(Me({number:L,data:ke[L],objId:Ct[L].objId,contentsObjId:Ct[L].contentsObjId,mediaBox:Ct[L].mediaBox,cropBox:Ct[L].cropBox,bleedBox:Ct[L].bleedBox,trimBox:Ct[L].trimBox,artBox:Ct[L].artBox,userUnit:Ct[L].userUnit,rootDictionaryObjId:le,resourceDictionaryObjId:ue}));ee(le,!0),K("<</Type /Pages");var Ee="/Kids [";for(Y=0;Y<Tt;Y++)Ee+=ve[Y]+" 0 R ";K(Ee+"]"),K("/Count "+Tt),K(">>"),K("endobj"),Kt.publish("postPutPages")},je=function(L){Kt.publish("putFont",{font:L,out:K,newObject:sn,putStream:He}),L.isAlreadyPutted!==!0&&(L.objectNumber=sn(),K("<<"),K("/Type /Font"),K("/BaseFont /"+g0(L.postScriptName)),K("/Subtype /Type1"),typeof L.encoding=="string"&&K("/Encoding /"+L.encoding),K("/FirstChar 32"),K("/LastChar 255"),K(">>"),K("endobj"))},nt=function(L){L.objectNumber=sn();var Y=[];Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Form"}),Y.push({key:"BBox",value:"["+[E(L.x),E(L.y),E(L.x+L.width),E(L.y+L.height)].join(" ")+"]"}),Y.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var ve=L.pages[1].join(`
`);He({data:ve,additionalKeyValues:Y,objectId:L.objectNumber}),K("endobj")},dt=function(L,Y){Y||(Y=21);var ve=sn(),Ee=function(et,Rt){var Pt,Yt=[],Ht=1/(Rt-1);for(Pt=0;Pt<1;Pt+=Ht)Yt.push(Pt);if(Yt.push(1),et[0].offset!=0){var Ar={offset:0,color:et[0].color};et.unshift(Ar)}if(et[et.length-1].offset!=1){var yn={offset:1,color:et[et.length-1].color};et.push(yn)}for(var fn="",v=0,B=0;B<Yt.length;B++){for(Pt=Yt[B];Pt>et[v+1].offset;)v++;var G=et[v].offset,se=(Pt-G)/(et[v+1].offset-G),Le=et[v].color,ze=et[v+1].color;fn+=M(Math.round((1-se)*Le[0]+se*ze[0]).toString(16))+M(Math.round((1-se)*Le[1]+se*ze[1]).toString(16))+M(Math.round((1-se)*Le[2]+se*ze[2]).toString(16))}return fn.trim()}(L.colors,Y),Ie=[];Ie.push({key:"FunctionType",value:"0"}),Ie.push({key:"Domain",value:"[0.0 1.0]"}),Ie.push({key:"Size",value:"["+Y+"]"}),Ie.push({key:"BitsPerSample",value:"8"}),Ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),He({data:Ee,additionalKeyValues:Ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ve}),K("endobj"),L.objectNumber=sn(),K("<< /ShadingType "+L.type),K("/ColorSpace /DeviceRGB");var We="/Coords ["+E(parseFloat(L.coords[0]))+" "+E(parseFloat(L.coords[1]))+" ";L.type===2?We+=E(parseFloat(L.coords[2]))+" "+E(parseFloat(L.coords[3])):We+=E(parseFloat(L.coords[2]))+" "+E(parseFloat(L.coords[3]))+" "+E(parseFloat(L.coords[4]))+" "+E(parseFloat(L.coords[5])),K(We+="]"),L.matrix&&K("/Matrix ["+L.matrix.toString()+"]"),K("/Function "+ve+" 0 R"),K("/Extend [true true]"),K(">>"),K("endobj")},_t=function(L,Y){var ve=vn(),Ee=sn();Y.push({resourcesOid:ve,objectOid:Ee}),L.objectNumber=Ee;var Ie=[];Ie.push({key:"Type",value:"/Pattern"}),Ie.push({key:"PatternType",value:"1"}),Ie.push({key:"PaintType",value:"1"}),Ie.push({key:"TilingType",value:"1"}),Ie.push({key:"BBox",value:"["+L.boundingBox.map(E).join(" ")+"]"}),Ie.push({key:"XStep",value:E(L.xStep)}),Ie.push({key:"YStep",value:E(L.yStep)}),Ie.push({key:"Resources",value:ve+" 0 R"}),L.matrix&&Ie.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),He({data:L.stream,additionalKeyValues:Ie,objectId:L.objectNumber}),K("endobj")},ot=function(L){for(var Y in L.objectNumber=sn(),K("<<"),L)switch(Y){case"opacity":K("/ca "+A(L[Y]));break;case"stroke-opacity":K("/CA "+A(L[Y]))}K(">>"),K("endobj")},xt=function(L){ee(L.resourcesOid,!0),K("<<"),K("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var Y in K("/Font <<"),Nt)Nt.hasOwnProperty(Y)&&(h===!1||h===!0&&d.hasOwnProperty(Y))&&K("/"+Y+" "+Nt[Y].objectNumber+" 0 R");K(">>")}(),function(){if(Object.keys(Ot).length>0){for(var Y in K("/Shading <<"),Ot)Ot.hasOwnProperty(Y)&&Ot[Y]instanceof Bf&&Ot[Y].objectNumber>=0&&K("/"+Y+" "+Ot[Y].objectNumber+" 0 R");Kt.publish("putShadingPatternDict"),K(">>")}}(),function(Y){if(Object.keys(Ot).length>0){for(var ve in K("/Pattern <<"),Ot)Ot.hasOwnProperty(ve)&&Ot[ve]instanceof f.TilingPattern&&Ot[ve].objectNumber>=0&&Ot[ve].objectNumber<Y&&K("/"+ve+" "+Ot[ve].objectNumber+" 0 R");Kt.publish("putTilingPatternDict"),K(">>")}}(L.objectOid),function(){if(Object.keys(st).length>0){var Y;for(Y in K("/ExtGState <<"),st)st.hasOwnProperty(Y)&&st[Y].objectNumber>=0&&K("/"+Y+" "+st[Y].objectNumber+" 0 R");Kt.publish("putGStateDict"),K(">>")}}(),function(){for(var Y in K("/XObject <<"),Jt)Jt.hasOwnProperty(Y)&&Jt[Y].objectNumber>=0&&K("/"+Y+" "+Jt[Y].objectNumber+" 0 R");Kt.publish("putXobjectDict"),K(">>")}(),K(">>"),K("endobj")},Zt=function(L){zt[L.fontName]=zt[L.fontName]||{},zt[L.fontName][L.fontStyle]=L.id},Hr=function(L,Y,ve,Ee,Ie){var We={id:"F"+(Object.keys(Nt).length+1).toString(10),postScriptName:L,fontName:Y,fontStyle:ve,encoding:Ee,isStandardFont:Ie||!1,metadata:{}};return Kt.publish("addFont",{font:We,instance:this}),Nt[We.id]=We,Zt(We),We.id},_r=f.__private__.pdfEscape=f.pdfEscape=function(L,Y){return function(ve,Ee){var Ie,We,et,Rt,Pt,Yt,Ht,Ar,yn;if(et=(Ee=Ee||{}).sourceEncoding||"Unicode",Pt=Ee.outputEncoding,(Ee.autoencode||Pt)&&Nt[gt].metadata&&Nt[gt].metadata[et]&&Nt[gt].metadata[et].encoding&&(Rt=Nt[gt].metadata[et].encoding,!Pt&&Nt[gt].encoding&&(Pt=Nt[gt].encoding),!Pt&&Rt.codePages&&(Pt=Rt.codePages[0]),typeof Pt=="string"&&(Pt=Rt[Pt]),Pt)){for(Ht=!1,Yt=[],Ie=0,We=ve.length;Ie<We;Ie++)(Ar=Pt[ve.charCodeAt(Ie)])?Yt.push(String.fromCharCode(Ar)):Yt.push(ve[Ie]),Yt[Ie].charCodeAt(0)>>8&&(Ht=!0);ve=Yt.join("")}for(Ie=ve.length;Ht===void 0&&Ie!==0;)ve.charCodeAt(Ie-1)>>8&&(Ht=!0),Ie--;if(!Ht)return ve;for(Yt=Ee.noBOM?[]:[254,255],Ie=0,We=ve.length;Ie<We;Ie++){if((yn=(Ar=ve.charCodeAt(Ie))>>8)>>8)throw new Error("Character at position "+Ie+" of string '"+ve+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Yt.push(yn),Yt.push(Ar-(yn<<8))}return String.fromCharCode.apply(void 0,Yt)}(L,Y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},kn=f.__private__.beginPage=function(L){ke[++Tt]=[],Ct[Tt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},_s(Tt),Ae(ke[F])},Yi=function(L,Y){var ve,Ee,Ie;switch(r=Y||r,typeof L=="string"&&(ve=x(L.toLowerCase()),Array.isArray(ve)&&(Ee=ve[0],Ie=ve[1])),Array.isArray(L)&&(Ee=L[0]*at,Ie=L[1]*at),isNaN(Ee)&&(Ee=a[0],Ie=a[1]),(Ee>14400||Ie>14400)&&(pn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ee=Math.min(14400,Ee),Ie=Math.min(14400,Ie)),a=[Ee,Ie],r.substr(0,1)){case"l":Ie>Ee&&(a=[Ie,Ee]);break;case"p":Ee>Ie&&(a=[Ie,Ee])}kn(a),tr(es),K(zc),ts!==0&&K(ts+" J"),qc!==0&&K(qc+" j"),Kt.publish("addPage",{pageNumber:Tt})},Li=function(L){L>0&&L<=Tt&&(ke.splice(L,1),Ct.splice(L,1),Tt--,F>Tt&&(F=Tt),this.setPage(F))},_s=function(L){L>0&&L<=Tt&&(F=L)},Di=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return ke.length-1},Ro=function(L,Y,ve){var Ee,Ie=void 0;return ve=ve||{},L=L!==void 0?L:Nt[gt].fontName,Y=Y!==void 0?Y:Nt[gt].fontStyle,Ee=L.toLowerCase(),zt[Ee]!==void 0&&zt[Ee][Y]!==void 0?Ie=zt[Ee][Y]:zt[L]!==void 0&&zt[L][Y]!==void 0?Ie=zt[L][Y]:ve.disableWarning===!1&&pn.warn("Unable to look up font label for font '"+L+"', '"+Y+"'. Refer to getFontList() for available fonts."),Ie||ve.noFallback||(Ie=zt.times[Y])==null&&(Ie=zt.times.normal),Ie},Gn=f.__private__.putInfo=function(){var L=sn(),Y=function(Ee){return Ee};for(var ve in u!==null&&(Y=Cn.encryptor(L,0)),K("<<"),K("/Producer ("+_r(Y("jsPDF "+Vt.version))+")"),Et)Et.hasOwnProperty(ve)&&Et[ve]&&K("/"+ve.substr(0,1).toUpperCase()+ve.substr(1)+" ("+_r(Y(Et[ve]))+")");K("/CreationDate ("+_r(Y(X))+")"),K(">>"),K("endobj")},Oi=f.__private__.putCatalog=function(L){var Y=(L=L||{}).rootDictionaryObjId||le;switch(sn(),K("<<"),K("/Type /Catalog"),K("/Pages "+Y+" 0 R"),Qe||(Qe="fullwidth"),Qe){case"fullwidth":K("/OpenAction [3 0 R /FitH null]");break;case"fullheight":K("/OpenAction [3 0 R /FitV null]");break;case"fullpage":K("/OpenAction [3 0 R /Fit]");break;case"original":K("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ve=""+Qe;ve.substr(ve.length-1)==="%"&&(Qe=parseInt(Qe)/100),typeof Qe=="number"&&K("/OpenAction [3 0 R /XYZ null null "+A(Qe)+"]")}switch(mt||(mt="continuous"),mt){case"continuous":K("/PageLayout /OneColumn");break;case"single":K("/PageLayout /SinglePage");break;case"two":case"twoleft":K("/PageLayout /TwoColumnLeft");break;case"tworight":K("/PageLayout /TwoColumnRight")}ct&&K("/PageMode /"+ct),Kt.publish("putCatalog"),K(">>"),K("endobj")},Qi=f.__private__.putTrailer=function(){K("trailer"),K("<<"),K("/Size "+(Q+1)),K("/Root "+Q+" 0 R"),K("/Info "+(Q-1)+" 0 R"),u!==null&&K("/Encrypt "+Cn.oid+" 0 R"),K("/ID [ <"+V+"> <"+V+"> ]"),K(">>")},xn=f.__private__.putHeader=function(){K("%PDF-"+p),K("%")},nl=f.__private__.putXRef=function(){var L="0000000000";K("xref"),K("0 "+(Q+1)),K("0000000000 65535 f ");for(var Y=1;Y<=Q;Y++)typeof oe[Y]=="function"?K((L+oe[Y]()).slice(-10)+" 00000 n "):oe[Y]!==void 0?K((L+oe[Y]).slice(-10)+" 00000 n "):K("0000000000 00000 n ")},Ji=f.__private__.buildDocument=function(){var L;Q=0,he=0,de=[],oe=[],we=[],le=vn(),ue=vn(),Ae(de),Kt.publish("buildDocument"),xn(),Be(),function(){Kt.publish("putAdditionalObjects");for(var ve=0;ve<we.length;ve++){var Ee=we[ve];ee(Ee.objId,!0),K(Ee.content),K("endobj")}Kt.publish("postPutAdditionalObjects")}(),L=[],function(){for(var ve in Nt)Nt.hasOwnProperty(ve)&&(h===!1||h===!0&&d.hasOwnProperty(ve))&&je(Nt[ve])}(),function(){var ve;for(ve in st)st.hasOwnProperty(ve)&&ot(st[ve])}(),function(){for(var ve in Jt)Jt.hasOwnProperty(ve)&&nt(Jt[ve])}(),function(ve){var Ee;for(Ee in Ot)Ot.hasOwnProperty(Ee)&&(Ot[Ee]instanceof Bf?dt(Ot[Ee]):Ot[Ee]instanceof L0&&_t(Ot[Ee],ve))}(L),Kt.publish("putResources"),L.forEach(xt),xt({resourcesOid:ue,objectOid:Number.MAX_SAFE_INTEGER}),Kt.publish("postPutResources"),u!==null&&(Cn.oid=sn(),K("<<"),K("/Filter /Standard"),K("/V "+Cn.v),K("/R "+Cn.r),K("/U <"+Cn.toHexString(Cn.U)+">"),K("/O <"+Cn.toHexString(Cn.O)+">"),K("/P "+Cn.P),K(">>"),K("endobj")),Gn(),Oi();var Y=he;return nl(),Qi(),K("startxref"),K(""+Y),K("%%EOF"),Ae(ke[F]),de.join(`
`)},Vr=f.__private__.getBlob=function(L){return new Blob([Re(L)],{type:"application/pdf"})},zl=f.output=f.__private__.output=(Qa=function(L,Y){switch(typeof(Y=Y||{})=="string"?Y={filename:Y}:Y.filename=Y.filename||"generated.pdf",L){case void 0:return Ji();case"save":f.save(Y.filename);break;case"arraybuffer":return Re(Ji());case"blob":return Vr(Ji());case"bloburi":case"bloburl":if(sr.URL!==void 0&&typeof sr.URL.createObjectURL=="function")return sr.URL&&sr.URL.createObjectURL(Vr(Ji()))||void 0;pn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ve="",Ee=Ji();try{ve=G6(Ee)}catch{ve=G6(unescape(encodeURIComponent(Ee)))}return"data:application/pdf;filename="+Y.filename+";base64,"+ve;case"pdfobjectnewwindow":if(Object.prototype.toString.call(sr)==="[object Window]"){var Ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",We=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Y.pdfObjectUrl&&(Ie=Y.pdfObjectUrl,We="");var et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ie+'"'+We+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Y)+");<\/script></body></html>",Rt=sr.open();return Rt!==null&&Rt.document.write(et),Rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(sr)==="[object Window]"){var Pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Y.filename+'" width="500px" height="400px" /></body></html>',Yt=sr.open();if(Yt!==null){Yt.document.write(Pt);var Ht=this;Yt.document.documentElement.querySelector("#pdfViewer").onload=function(){Yt.document.title=Y.filename,Yt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ht.output("bloburl"))}}return Yt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(sr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ar='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Y)+'"></iframe></body></html>',yn=sr.open();if(yn!==null&&(yn.document.write(Ar),yn.document.title=Y.filename),yn||typeof safari>"u")return yn;break;case"datauri":case"dataurl":return sr.document.location.href=this.output("datauristring",Y);default:return null}},Qa.foo=function(){try{return Qa.apply(this,arguments)}catch(ve){var L=ve.stack||"";~L.indexOf(" at ")&&(L=L.split(" at ")[1]);var Y="Error in function "+L.split(`
`)[0].split("<")[0]+": "+ve.message;if(!sr.console)throw new Error(Y);sr.console.error(Y,ve),sr.alert&&alert(Y)}},Qa.foo.bar=Qa,Qa.foo),ja=function(L){return Array.isArray(Xr)===!0&&Xr.indexOf(L)>-1};switch(n){case"pt":at=1;break;case"mm":at=72/25.4;break;case"cm":at=72/2.54;break;case"in":at=72;break;case"px":at=ja("px_scaling")==1?.75:96/72;break;case"pc":case"em":at=12;break;case"ex":at=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);at=n}var Cn=null;be(),ae();var Lo=f.__private__.getPageInfo=f.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ct[L].objId,pageNumber:L,pageContext:Ct[L]}},wf=f.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Y in Ct)if(Ct[Y].objId===L)break;return Lo(Y)},Hd=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Ct[F].objId,pageNumber:F,pageContext:Ct[F]}};f.addPage=function(){return Yi.apply(this,arguments),this},f.setPage=function(){return _s.apply(this,arguments),Ae.call(this,ke[F]),this},f.insertPage=function(L){return this.addPage(),this.movePage(F,L),this},f.movePage=function(L,Y){var ve,Ee;if(L>Y){ve=ke[L],Ee=Ct[L];for(var Ie=L;Ie>Y;Ie--)ke[Ie]=ke[Ie-1],Ct[Ie]=Ct[Ie-1];ke[Y]=ve,Ct[Y]=Ee,this.setPage(Y)}else if(L<Y){ve=ke[L],Ee=Ct[L];for(var We=L;We<Y;We++)ke[We]=ke[We+1],Ct[We]=Ct[We+1];ke[Y]=ve,Ct[Y]=Ee,this.setPage(Y)}return this},f.deletePage=function(){return Li.apply(this,arguments),this},f.__private__.text=f.text=function(L,Y,ve,Ee,Ie){var We,et,Rt,Pt,Yt,Ht,Ar,yn,fn,v=(Ee=Ee||{}).scope||this;if(typeof L=="number"&&typeof Y=="number"&&(typeof ve=="string"||Array.isArray(ve))){var B=ve;ve=Y,Y=L,L=B}if(arguments[3]instanceof Ut==0?(Rt=arguments[4],Pt=arguments[5],tn(Ar=arguments[3])==="object"&&Ar!==null||(typeof Rt=="string"&&(Pt=Rt,Rt=null),typeof Ar=="string"&&(Pt=Ar,Ar=null),typeof Ar=="number"&&(Rt=Ar,Ar=null),Ee={flags:Ar,angle:Rt,align:Pt})):(y("The transform parameter of text() with a Matrix value"),fn=Ie),isNaN(Y)||isNaN(ve)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return v;var G,se="",Le=typeof Ee.lineHeightFactor=="number"?Ee.lineHeightFactor:Hl,ze=v.internal.scaleFactor;function ft($r){return $r=$r.split("	").join(Array(Ee.TabLen||9).join(" ")),_r($r,Ar)}function or($r){for(var hn,aa=$r.concat(),Ia=[],Xl=aa.length;Xl--;)typeof(hn=aa.shift())=="string"?Ia.push(hn):Array.isArray($r)&&(hn.length===1||hn[1]===void 0&&hn[2]===void 0)?Ia.push(hn[0]):Ia.push([hn[0],hn[1],hn[2]]);return Ia}function wn($r,hn){var aa;if(typeof $r=="string")aa=hn($r)[0];else if(Array.isArray($r)){for(var Ia,Xl,t1=$r.concat(),Qh=[],Hm=t1.length;Hm--;)typeof(Ia=t1.shift())=="string"?Qh.push(hn(Ia)[0]):Array.isArray(Ia)&&typeof Ia[0]=="string"&&(Xl=hn(Ia[0],Ia[1],Ia[2]),Qh.push([Xl[0],Xl[1],Xl[2]]));aa=Qh}return aa}var Sr=!1,bn=!0;if(typeof L=="string")Sr=!0;else if(Array.isArray(L)){var Va=L.concat();et=[];for(var di,En=Va.length;En--;)(typeof(di=Va.shift())!="string"||Array.isArray(di)&&typeof di[0]!="string")&&(bn=!1);Sr=bn}if(Sr===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var pi=Ne/v.internal.scaleFactor,no=pi*(Le-1);switch(Ee.baseline){case"bottom":ve-=no;break;case"top":ve+=pi-no;break;case"hanging":ve+=pi-2*no;break;case"middle":ve+=pi/2-no}if((Ht=Ee.maxWidth||0)>0&&(typeof L=="string"?L=v.splitTextToSize(L,Ht):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function($r,hn){return $r.concat(v.splitTextToSize(hn,Ht))},[]))),We={text:L,x:Y,y:ve,options:Ee,mutex:{pdfEscape:_r,activeFontKey:gt,fonts:Nt,activeFontSize:Ne}},Kt.publish("preProcessText",We),L=We.text,Rt=(Ee=We.options).angle,fn instanceof Ut==0&&Rt&&typeof Rt=="number"){Rt*=Math.PI/180,Ee.rotationDirection===0&&(Rt=-Rt),I===w&&(Rt=-Rt);var Gl=Math.cos(Rt),$d=Math.sin(Rt);fn=new Ut(Gl,$d,-$d,Gl,0,0)}else Rt&&Rt instanceof Ut&&(fn=Rt);I!==w||fn||(fn=hi),(Yt=Ee.charSpace||to)!==void 0&&(se+=E(k(Yt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(yn=Ee.horizontalScale)!==void 0&&(se+=E(100*yn)+` Tz
`),Ee.lang;var Bi=-1,Wl=Ee.renderingMode!==void 0?Ee.renderingMode:Ee.stroke,Kh=v.internal.getCurrentPageInfo().pageContext;switch(Wl){case 0:case!1:case"fill":Bi=0;break;case 1:case!0:case"stroke":Bi=1;break;case 2:case"fillThenStroke":Bi=2;break;case 3:case"invisible":Bi=3;break;case 4:case"fillAndAddForClipping":Bi=4;break;case 5:case"strokeAndAddPathForClipping":Bi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Bi=6;break;case 7:case"addToPathForClipping":Bi=7}var Vm=Kh.usedRenderingMode!==void 0?Kh.usedRenderingMode:-1;Bi!==-1?se+=Bi+` Tr
`:Vm!==-1&&(se+=`0 Tr
`),Bi!==-1&&(Kh.usedRenderingMode=Bi),Pt=Ee.align||"left";var ao,Tf=Ne*Le,Xd=v.internal.pageSize.getWidth(),Kd=Nt[gt];Yt=Ee.charSpace||to,Ht=Ee.maxWidth||0,Ar=Object.assign({autoencode:!0,noBOM:!0},Ee.flags);var $c=[],kf=function($r){return v.getStringUnitWidth($r,{font:Kd,charSpace:Yt,fontSize:Ne,doKerning:!1})*Ne/ze};if(Object.prototype.toString.call(L)==="[object Array]"){var ws;et=or(L),Pt!=="left"&&(ao=et.map(kf));var bs,Xc=0;if(Pt==="right"){Y-=ao[0],L=[],En=et.length;for(var $l=0;$l<En;$l++)$l===0?(bs=Pi(Y),ws=eo(ve)):(bs=k(Xc-ao[$l]),ws=-Tf),L.push([et[$l],bs,ws]),Xc=ao[$l]}else if(Pt==="center"){Y-=ao[0]/2,L=[],En=et.length;for(var Kc=0;Kc<En;Kc++)Kc===0?(bs=Pi(Y),ws=eo(ve)):(bs=k((Xc-ao[Kc])/2),ws=-Tf),L.push([et[Kc],bs,ws]),Xc=ao[Kc]}else if(Pt==="left"){L=[],En=et.length;for(var Yd=0;Yd<En;Yd++)L.push(et[Yd])}else if(Pt==="justify"&&Kd.encoding==="Identity-H"){L=[],En=et.length,Ht=Ht!==0?Ht:Xd;for(var Yh=0,na=0;na<En;na++)if(ws=na===0?eo(ve):-Tf,bs=na===0?Pi(Y):Yh,na<En-1){var zm=k((Ht-ao[na])/(et[na].split(" ").length-1)),fl=et[na].split(" ");L.push([fl[0]+" ",bs,ws]),Yh=0;for(var hl=1;hl<fl.length;hl++){var Qd=(kf(fl[hl-1]+" "+fl[hl])-kf(fl[hl]))*ze+zm;hl==fl.length-1?L.push([fl[hl],Qd,0]):L.push([fl[hl]+" ",Qd,0]),Yh-=Qd}}else L.push([et[na],bs,ws]);L.push(["",Yh,0])}else{if(Pt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],En=et.length,Ht=Ht!==0?Ht:Xd,na=0;na<En;na++){ws=na===0?eo(ve):-Tf,bs=na===0?Pi(Y):0;var Jd=et[na].split(" ").length-1,Zd=Jd>0?(Ht-ao[na])/Jd:0;na<En-1?$c.push(E(k(Zd))):$c.push(0),L.push([et[na],bs,ws])}}}(typeof Ee.R2L=="boolean"?Ee.R2L:ht)===!0&&(L=wn(L,function($r,hn,aa){return[$r.split("").reverse().join(""),hn,aa]})),We={text:L,x:Y,y:ve,options:Ee,mutex:{pdfEscape:_r,activeFontKey:gt,fonts:Nt,activeFontSize:Ne}},Kt.publish("postProcessText",We),L=We.text,G=We.mutex.isHex||!1;var e1=Nt[gt].encoding;e1!=="WinAnsiEncoding"&&e1!=="StandardEncoding"||(L=wn(L,function($r,hn,aa){return[ft($r),hn,aa]})),et=or(L),L=[];for(var Yc,Qc,Jc,Cf=Array.isArray(et[0])?1:0,Zc="",Nf=function($r,hn,aa){var Ia="";return aa instanceof Ut?(aa=typeof Ee.angle=="number"?xs(aa,new Ut(1,0,0,1,$r,hn)):xs(new Ut(1,0,0,1,$r,hn),aa),I===w&&(aa=xs(new Ut(1,0,0,-1,0,0),aa)),Ia=aa.join(" ")+` Tm
`):Ia=E($r)+" "+E(hn)+` Td
`,Ia},io=0;io<et.length;io++){switch(Zc="",Cf){case 1:Jc=(G?"<":"(")+et[io][0]+(G?">":")"),Yc=parseFloat(et[io][1]),Qc=parseFloat(et[io][2]);break;case 0:Jc=(G?"<":"(")+et[io]+(G?">":")"),Yc=Pi(Y),Qc=eo(ve)}$c!==void 0&&$c[io]!==void 0&&(Zc=$c[io]+` Tw
`),io===0?L.push(Zc+Nf(Yc,Qc,fn)+Jc):Cf===0?L.push(Zc+Jc):Cf===1&&L.push(Zc+Nf(Yc,Qc,fn)+Jc)}L=Cf===0?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var dl=`BT
/`;return dl+=gt+" "+Ne+` Tf
`,dl+=E(Ne*Le)+` TL
`,dl+=sl+`
`,dl+=se,dl+=L,K(dl+="ET"),d[gt]=!0,v};var qd=f.__private__.clip=f.clip=function(L){return K(L==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return qd("evenodd")},f.__private__.discardPath=f.discardPath=function(){return K("n"),this};var Zs=f.__private__.isValidStyle=function(L){var Y=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(Y=!0),Y};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(L){return Zs(L)&&(c=L),this};var Vh=f.__private__.getStyle=f.getStyle=function(L){var Y=c;switch(L){case"D":case"S":Y="S";break;case"F":Y="f";break;case"FD":case"DF":Y="B";break;case"f":case"f*":case"B":case"B*":Y=L}return Y},al=f.close=function(){return K("h"),this};f.stroke=function(){return K("S"),this},f.fill=function(L){return Zi("f",L),this},f.fillEvenOdd=function(L){return Zi("f*",L),this},f.fillStroke=function(L){return Zi("B",L),this},f.fillStrokeEvenOdd=function(L){return Zi("B*",L),this};var Zi=function(L,Y){tn(Y)==="object"?Hh(Y,L):K(L)},il=function(L){L===null||I===w&&L===void 0||(L=Vh(L),K(L))};function zh(L,Y,ve,Ee,Ie){var We=new L0(Y||this.boundingBox,ve||this.xStep,Ee||this.yStep,this.gState,Ie||this.matrix);We.stream=this.stream;var et=L+"$$"+this.cloneIndex+++"$$";return Na(et,We),We}var Hh=function(L,Y){var ve=Pe[L.key],Ee=Ot[ve];if(Ee instanceof Bf)K("q"),K(qh(Y)),Ee.gState&&f.setGState(Ee.gState),K(L.matrix.toString()+" cm"),K("/"+ve+" sh"),K("Q");else if(Ee instanceof L0){var Ie=new Ut(1,0,0,-1,0,Oo());L.matrix&&(Ie=Ie.multiply(L.matrix||hi),ve=zh.call(Ee,L.key,L.boundingBox,L.xStep,L.yStep,Ie).id),K("q"),K("/Pattern cs"),K("/"+ve+" scn"),Ee.gState&&f.setGState(Ee.gState),K(Y),K("Q")}},qh=function(L){switch(L){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},jc=f.moveTo=function(L,Y){return K(E(k(L))+" "+E(q(Y))+" m"),this},Do=f.lineTo=function(L,Y){return K(E(k(L))+" "+E(q(Y))+" l"),this},ys=f.curveTo=function(L,Y,ve,Ee,Ie,We){return K([E(k(L)),E(q(Y)),E(k(ve)),E(q(Ee)),E(k(Ie)),E(q(We)),"c"].join(" ")),this};f.__private__.line=f.line=function(L,Y,ve,Ee,Ie){if(isNaN(L)||isNaN(Y)||isNaN(ve)||isNaN(Ee)||!Zs(Ie))throw new Error("Invalid arguments passed to jsPDF.line");return I===T?this.lines([[ve-L,Ee-Y]],L,Y,[1,1],Ie||"S"):this.lines([[ve-L,Ee-Y]],L,Y,[1,1]).stroke()},f.__private__.lines=f.lines=function(L,Y,ve,Ee,Ie,We){var et,Rt,Pt,Yt,Ht,Ar,yn,fn,v,B,G,se;if(typeof L=="number"&&(se=ve,ve=Y,Y=L,L=se),Ee=Ee||[1,1],We=We||!1,isNaN(Y)||isNaN(ve)||!Array.isArray(L)||!Array.isArray(Ee)||!Zs(Ie)||typeof We!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(jc(Y,ve),et=Ee[0],Rt=Ee[1],Yt=L.length,B=Y,G=ve,Pt=0;Pt<Yt;Pt++)(Ht=L[Pt]).length===2?(B=Ht[0]*et+B,G=Ht[1]*Rt+G,Do(B,G)):(Ar=Ht[0]*et+B,yn=Ht[1]*Rt+G,fn=Ht[2]*et+B,v=Ht[3]*Rt+G,B=Ht[4]*et+B,G=Ht[5]*Rt+G,ys(Ar,yn,fn,v,B,G));return We&&al(),il(Ie),this},f.path=function(L){for(var Y=0;Y<L.length;Y++){var ve=L[Y],Ee=ve.c;switch(ve.op){case"m":jc(Ee[0],Ee[1]);break;case"l":Do(Ee[0],Ee[1]);break;case"c":ys.apply(this,Ee);break;case"h":al()}}return this},f.__private__.rect=f.rect=function(L,Y,ve,Ee,Ie){if(isNaN(L)||isNaN(Y)||isNaN(ve)||isNaN(Ee)||!Zs(Ie))throw new Error("Invalid arguments passed to jsPDF.rect");return I===T&&(Ee=-Ee),K([E(k(L)),E(q(Y)),E(k(ve)),E(k(Ee)),"re"].join(" ")),il(Ie),this},f.__private__.triangle=f.triangle=function(L,Y,ve,Ee,Ie,We,et){if(isNaN(L)||isNaN(Y)||isNaN(ve)||isNaN(Ee)||isNaN(Ie)||isNaN(We)||!Zs(et))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ve-L,Ee-Y],[Ie-ve,We-Ee],[L-Ie,Y-We]],L,Y,[1,1],et,!0),this},f.__private__.roundedRect=f.roundedRect=function(L,Y,ve,Ee,Ie,We,et){if(isNaN(L)||isNaN(Y)||isNaN(ve)||isNaN(Ee)||isNaN(Ie)||isNaN(We)||!Zs(et))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Rt=4/3*(Math.SQRT2-1);return Ie=Math.min(Ie,.5*ve),We=Math.min(We,.5*Ee),this.lines([[ve-2*Ie,0],[Ie*Rt,0,Ie,We-We*Rt,Ie,We],[0,Ee-2*We],[0,We*Rt,-Ie*Rt,We,-Ie,We],[2*Ie-ve,0],[-Ie*Rt,0,-Ie,-We*Rt,-Ie,-We],[0,2*We-Ee],[0,-We*Rt,Ie*Rt,-We,Ie,-We]],L+Ie,Y,[1,1],et,!0),this},f.__private__.ellipse=f.ellipse=function(L,Y,ve,Ee,Ie){if(isNaN(L)||isNaN(Y)||isNaN(ve)||isNaN(Ee)||!Zs(Ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var We=4/3*(Math.SQRT2-1)*ve,et=4/3*(Math.SQRT2-1)*Ee;return jc(L+ve,Y),ys(L+ve,Y-et,L+We,Y-Ee,L,Y-Ee),ys(L-We,Y-Ee,L-ve,Y-et,L-ve,Y),ys(L-ve,Y+et,L-We,Y+Ee,L,Y+Ee),ys(L+We,Y+Ee,L+ve,Y+et,L+ve,Y),il(Ie),this},f.__private__.circle=f.circle=function(L,Y,ve,Ee){if(isNaN(L)||isNaN(Y)||isNaN(ve)||!Zs(Ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,Y,ve,ve,Ee)},f.setFont=function(L,Y,ve){return ve&&(Y=N(Y,ve)),gt=Ro(L,Y,{disableWarning:!1}),this};var Gd=f.__private__.getFont=f.getFont=function(){return Nt[Ro.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var L,Y,ve={};for(L in zt)if(zt.hasOwnProperty(L))for(Y in ve[L]=[],zt[L])zt[L].hasOwnProperty(Y)&&ve[L].push(Y);return ve},f.addFont=function(L,Y,ve,Ee,Ie){var We=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&We.indexOf(arguments[3])!==-1?Ie=arguments[3]:arguments[3]&&We.indexOf(arguments[3])==-1&&(ve=N(ve,Ee)),Hr.call(this,L,Y,ve,Ie=Ie||"Identity-H")};var Hl,es=t.lineWidth||.200025,Wd=f.__private__.getLineWidth=f.getLineWidth=function(){return es},tr=f.__private__.setLineWidth=f.setLineWidth=function(L){return es=L,K(E(k(L))+" w"),this};f.__private__.setLineDash=Vt.API.setLineDash=Vt.API.setLineDashPattern=function(L,Y){if(L=L||[],Y=Y||0,isNaN(Y)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(ve){return E(k(ve))}).join(" "),Y=E(k(Y)),K("["+L+"] "+Y+" d"),this};var Vc=f.__private__.getLineHeight=f.getLineHeight=function(){return Ne*Hl};f.__private__.getLineHeight=f.getLineHeight=function(){return Ne*Hl};var Gh=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(Hl=L),this},ql=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Hl};Gh(t.lineHeight);var Pi=f.__private__.getHorizontalCoordinate=function(L){return k(L)},eo=f.__private__.getVerticalCoordinate=function(L){return I===w?L:Ct[F].mediaBox.topRightY-Ct[F].mediaBox.bottomLeftY-k(L)},bf=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(L){return E(Pi(L))},_n=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(L){return E(eo(L))},zc=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return me(zc)},f.__private__.setStrokeColor=f.setDrawColor=function(L,Y,ve,Ee){return zc=ye({ch1:L,ch2:Y,ch3:ve,ch4:Ee,pdfColorType:"draw",precision:2}),K(zc),this};var Ef=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return me(Ef)},f.__private__.setFillColor=f.setFillColor=function(L,Y,ve,Ee){return Ef=ye({ch1:L,ch2:Y,ch3:ve,ch4:Ee,pdfColorType:"fill",precision:2}),K(Ef),this};var sl=t.textColor||"0 g",Wh=f.__private__.getTextColor=f.getTextColor=function(){return me(sl)};f.__private__.setTextColor=f.setTextColor=function(L,Y,ve,Ee){return sl=ye({ch1:L,ch2:Y,ch3:ve,ch4:Ee,pdfColorType:"text",precision:3}),this};var to=t.charSpace,Hc=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(to||0)};f.__private__.setCharSpace=f.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return to=L,this};var ts=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(L){var Y=f.CapJoinStyles[L];if(Y===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ts=Y,K(Y+" J"),this};var qc=0;f.__private__.setLineJoin=f.setLineJoin=function(L){var Y=f.CapJoinStyles[L];if(Y===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qc=Y,K(Y+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return K(E(k(L))+" M"),this},f.GState=Pv,f.setGState=function(L){(L=typeof L=="string"?st[ut[L]]:$h(null,L)).equals(Qt)||(K("/"+L.id+" gs"),Qt=L)};var $h=function(L,Y){if(!L||!ut[L]){var ve=!1;for(var Ee in st)if(st.hasOwnProperty(Ee)&&st[Ee].equals(Y)){ve=!0;break}if(ve)Y=st[Ee];else{var Ie="GS"+(Object.keys(st).length+1).toString(10);st[Ie]=Y,Y.id=Ie}return L&&(ut[L]=Y.id),Kt.publish("addGState",Y),Y}};f.addGState=function(L,Y){return $h(L,Y),this},f.saveGraphicsState=function(){return K("q"),vr.push({key:gt,size:Ne,color:sl}),this},f.restoreGraphicsState=function(){K("Q");var L=vr.pop();return gt=L.key,Ne=L.size,sl=L.color,Qt=null,this},f.setCurrentTransformationMatrix=function(L){return K(L.toString()+" cm"),this},f.comment=function(L){return K("#"+L),this};var Fi=function(L,Y){var ve=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ve},set:function(We){isNaN(We)||(ve=parseFloat(We))}});var Ee=Y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ee},set:function(We){isNaN(We)||(Ee=parseFloat(We))}});var Ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ie},set:function(We){Ie=We.toString()}}),this},Gc=function(L,Y,ve,Ee){Fi.call(this,L,Y),this.type="rect";var Ie=ve||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ie},set:function(et){isNaN(et)||(Ie=parseFloat(et))}});var We=Ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return We},set:function(et){isNaN(et)||(We=parseFloat(et))}}),this},ol=function(){this.page=Tt,this.currentPage=F,this.pages=ke.slice(0),this.pagesContext=Ct.slice(0),this.x=it,this.y=Ft,this.matrix=wt,this.width=ul(F),this.height=Af(F),this.outputDestination=Z,this.id="",this.objectNumber=-1};ol.prototype.restore=function(){Tt=this.page,F=this.currentPage,Ct=this.pagesContext,ke=this.pages,it=this.x,Ft=this.y,wt=this.matrix,Xh(F,this.width),Mi(F,this.height),Z=this.outputDestination};var ll=function(L,Y,ve,Ee,Ie){Mr.push(new ol),Tt=F=0,ke=[],it=L,Ft=Y,wt=Ie,kn([ve,Ee])};for(var cl in f.beginFormObject=function(L,Y,ve,Ee,Ie){return ll(L,Y,ve,Ee,Ie),this},f.endFormObject=function(L){return function(Y){if(gn[Y])Mr.pop().restore();else{var ve=new ol,Ee="Xo"+(Object.keys(Jt).length+1).toString(10);ve.id=Ee,gn[Y]=Ee,Jt[Ee]=ve,Kt.publish("addFormObject",ve),Mr.pop().restore()}}(L),this},f.doFormObject=function(L,Y){var ve=Jt[gn[L]];return K("q"),K(Y.toString()+" cm"),K("/"+ve.id+" Do"),K("Q"),this},f.getFormObject=function(L){var Y=Jt[gn[L]];return{x:Y.x,y:Y.y,width:Y.width,height:Y.height,matrix:Y.matrix}},f.save=function(L,Y){return L=L||"generated.pdf",(Y=Y||{}).returnPromise=Y.returnPromise||!1,Y.returnPromise===!1?(Mf(Vr(Ji()),L),typeof Mf.unload=="function"&&sr.setTimeout&&setTimeout(Mf.unload,911),this):new Promise(function(ve,Ee){try{var Ie=Mf(Vr(Ji()),L);typeof Mf.unload=="function"&&sr.setTimeout&&setTimeout(Mf.unload,911),ve(Ie)}catch(We){Ee(We.message)}})},Vt.API)Vt.API.hasOwnProperty(cl)&&(cl==="events"&&Vt.API.events.length?function(L,Y){var ve,Ee,Ie;for(Ie=Y.length-1;Ie!==-1;Ie--)ve=Y[Ie][0],Ee=Y[Ie][1],L.subscribe.apply(L,[ve].concat(typeof Ee=="function"?[Ee]:Ee))}(Kt,Vt.API.events):f[cl]=Vt.API[cl]);function ul(L){return Ct[L].mediaBox.topRightX-Ct[L].mediaBox.bottomLeftX}function Xh(L,Y){Ct[L].mediaBox.topRightX=Y+Ct[L].mediaBox.bottomLeftX}function Af(L){return Ct[L].mediaBox.topRightY-Ct[L].mediaBox.bottomLeftY}function Mi(L,Y){Ct[L].mediaBox.topRightY=Y+Ct[L].mediaBox.bottomLeftY}var ro=f.getPageWidth=function(L){return ul(L=L||F)/at},Sf=f.setPageWidth=function(L,Y){Xh(L,Y*at)},Oo=f.getPageHeight=function(L){return Af(L=L||F)/at},Wc=f.setPageHeight=function(L,Y){Mi(L,Y*at)};return f.internal={pdfEscape:_r,getStyle:Vh,getFont:Gd,getFontSize:Ke,getCharSpace:Hc,getTextColor:Wh,getLineHeight:Vc,getLineHeightFactor:ql,getLineWidth:Wd,write:Te,getHorizontalCoordinate:Pi,getVerticalCoordinate:eo,getCoordinateString:bf,getVerticalCoordinateString:_n,collections:{},newObject:sn,newAdditionalObject:pe,newObjectDeferred:vn,newObjectDeferredBegin:ee,getFilters:Fe,putStream:He,events:Kt,scaleFactor:at,pageSize:{getWidth:function(){return ro(F)},setWidth:function(L){Sf(F,L)},getHeight:function(){return Oo(F)},setHeight:function(L){Wc(F,L)}},encryptionOptions:u,encryption:Cn,getEncryptor:function(L){return u!==null?Cn.encryptor(L,0):function(Y){return Y}},output:zl,getNumberOfPages:Di,get pages(){return ke},out:K,f2:A,f3:C,getPageInfo:Lo,getPageInfoByObjId:wf,getCurrentPageInfo:Hd,getPDFVersion:m,Point:Fi,Rectangle:Gc,Matrix:Ut,hasHotfix:ja},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return ro(F)},set:function(L){Sf(F,L)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Oo(F)},set:function(L){Wc(F,L)},enumerable:!0,configurable:!0}),(function(L){for(var Y=0,ve=Oe.length;Y<ve;Y++){var Ee=Hr.call(this,L[Y][0],L[Y][1],L[Y][2],Oe[Y][3],!0);h===!1&&(d[Ee]=!0);var Ie=L[Y][0].split("-");Zt({id:Ee,fontName:Ie[0],fontStyle:Ie[1]||""})}Kt.publish("addFonts",{fonts:Nt,dictionary:zt})}).call(f,Oe),gt="F1",Yi(a,r),Kt.publish("initialized"),f}m0.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},m0.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},m0.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},m0.prototype.processOwnerPassword=function(t,e){return Mw(Fw(e).substr(0,5),t)},m0.prototype.encryptor=function(t,e){var r=Fw(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Mw(r,n)}},Pv.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||tn(t)!==tn(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Vt.API={events:[]},Vt.version="4.1.0";var Kn=Vt.API,uE=1,Oh=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},r0=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Fv=function(t){return t.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var r=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(r.length===1?"0"+r:r)})},cr=function(t){return t.toFixed(2)},cu=function(t){return t.toFixed(5)};Kn.__acroform__={};var vs=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},K6=function(t){return t*uE},gl=function(t){var e=new kD,r=Dt.internal.getHeight(t)||0,n=Dt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(cr(n)),Number(cr(r))],e},RQ=Kn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},LQ=Kn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},DQ=Kn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},ua=Kn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return DQ(t,e-1)},fa=Kn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return RQ(t,e-1)},ha=Kn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return LQ(t,e-1)},OQ=Kn.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],i=t[1],s=t[2],o=t[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=r(a+s)||0,l.upperRight_Y=n(i)||0,[Number(cr(l.lowerLeft_X)),Number(cr(l.lowerLeft_Y)),Number(cr(l.upperRight_X)),Number(cr(l.upperRight_Y))]},PQ=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Bw(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+cr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=gl(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},Bw=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(A){return A.split(`
`)}):a.map(function(A){return[A]});var i=r,s=Dt.internal.getHeight(t)||0;s=s<0?-s:s;var o=Dt.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(A,C,k){if(A+1<a.length){var q=C+" "+a[A+1][0];return Mg(q,t,k).width<=o-4}return!1};i++;e:for(;i>0;){e="",i--;var c,u,h=Mg("3",t,i).height,d=t.multiline?s-i:(s-h)/2,f=d+=2,p=0,m=0,_=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Mg(e,t,i=12).width+", FieldWidth:"+o+`
`;break}for(var x="",T=0,w=0;w<a.length;w++)if(a.hasOwnProperty(w)){var I=!1;if(a[w].length!==1&&_!==a[w].length-1){if((h+2)*(T+2)+2>s)continue e;x+=a[w][_],I=!0,m=w,w--}else{x=(x+=a[w][_]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var j=parseInt(w),P=l(j,x,i),N=w>=a.length-1;if(P&&!N){x+=" ",_=0;continue}if(P||N){if(N)m=j;else if(t.multiline&&(h+2)*(T+2)+2>s)continue e}else{if(!t.multiline||(h+2)*(T+2)+2>s)continue e;m=j}}for(var E="",y=p;y<=m;y++){var R=a[y];if(t.multiline){if(y===m){E+=R[_]+" ",_=(_+1)%R.length;continue}if(y===p){E+=R[R.length-1]+" ";continue}}E+=R[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,u=Mg(E,t,i).width,t.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}e+=cr(c)+" "+cr(f)+` Td
`,e+="("+Oh(E)+`) Tj
`,e+=-cr(c)+` 0 Td
`,f=-(i+2),u=0,p=I?m:m+1,T++,x=""}break}return n.text=e,n.fontSize=i,n},Mg=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},FQ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},MQ=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},BQ=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(tl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(FQ)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");uE=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new CD,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&MQ(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=OQ(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Dt.createDefaultAppearanceStream(o),tn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=PQ(o);l.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var h="";for(var d in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(d)){var f=o.appearanceStreamContent[d];if(h+="/"+d+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var s in f)if(f.hasOwnProperty(s)){var p=f[s];typeof p=="function"&&(p=p.call(a,o)),h+="/"+s+" "+p+" ",a.internal.acroformPlugin.xForms.indexOf(p)>=0||a.internal.acroformPlugin.xForms.push(p)}}else typeof(p=f)=="function"&&(p=p.call(a,o)),h+="/"+s+" "+p,a.internal.acroformPlugin.xForms.indexOf(p)>=0||a.internal.acroformPlugin.xForms.push(p);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:o.objId}),a.internal.out("endobj")}i&&function(m,_){for(var x in m)if(m.hasOwnProperty(x)){var T=x,w=m[x];_.internal.newObjectDeferredBegin(w.objId,!0),tn(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete m[T]}}(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},TD=Kn.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),tn(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)==="/"?a+="/"+Fv(t[i].substr(1)):(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+Oh(n(t[i].toString()))+")")}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Fy=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Oh(n(t))+")"},Sl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Sl.prototype.toString=function(){return this.objId+" 0 R"},Sl.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Sl.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:TD(a,this.objId,this.scope)}):a instanceof Sl?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var kD=function(){Sl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};vs(kD,Sl);var CD=function(){Sl.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Oh(r(t))+")"}},set:function(r){t=r}})};vs(CD,Sl);var tl=function t(){Sl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ua(e,3)},set:function(x){x?this.F=fa(e,3):this.F=ha(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Mv)return;i="FieldObject"+t.FieldNum++}var x=function(T){return T};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Oh(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(x){s=x}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/uE:c},set:function(x){c=x}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(x){u=x}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof Mv||this instanceof Qf))return Fy(h,this.objId,this.scope)},set:function(x){x=x.toString(),h=x}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Ga==0?Fy(d,this.objId,this.scope):d},set:function(x){x=x.toString(),d=this instanceof Ga==0?x.substr(0,1)==="("?r0(x.substr(1,x.length-2)):r0(x):x}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ga==1?r0(d.substr(1,d.length-1)):d},set:function(x){x=x.toString(),d=this instanceof Ga==1?"/"+Fv(x):x}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ga==0?Fy(f,this.objId,this.scope):f},set:function(x){x=x.toString(),f=this instanceof Ga==0?x.substr(0,1)==="("?r0(x.substr(1,x.length-2)):r0(x):x}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ga==1?r0(f.substr(1,f.length-1)):f},set:function(x){x=x.toString(),f=this instanceof Ga==1?"/"+Fv(x):x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(x){x=!!x,m=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(x){p=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,1)},set:function(x){x?this.Ff=fa(this.Ff,1):this.Ff=ha(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,2)},set:function(x){x?this.Ff=fa(this.Ff,2):this.Ff=ha(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,3)},set:function(x){x?this.Ff=fa(this.Ff,3):this.Ff=ha(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');_=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(_){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:_=2;break;case"center":case 1:_=1;break;default:_=0}}})};vs(tl,Sl);var $0=function(){tl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return TD(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,o){o||(o=1);for(var l,c=[];l=s.exec(i);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,18)},set:function(r){r?this.Ff=fa(this.Ff,18):this.Ff=ha(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=fa(this.Ff,19):this.Ff=ha(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,20)},set:function(r){r?(this.Ff=fa(this.Ff,20),e.sort()):this.Ff=ha(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,22)},set:function(r){r?this.Ff=fa(this.Ff,22):this.Ff=ha(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,23)},set:function(r){r?this.Ff=fa(this.Ff,23):this.Ff=ha(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,27)},set:function(r){r?this.Ff=fa(this.Ff,27):this.Ff=ha(this.Ff,27)}}),this.hasAppearanceStream=!1};vs($0,tl);var X0=function(){$0.call(this),this.fontName="helvetica",this.combo=!1};vs(X0,$0);var K0=function(){X0.call(this),this.combo=!0};vs(K0,X0);var C2=function(){K0.call(this),this.edit=!0};vs(C2,K0);var Ga=function(){tl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,15)},set:function(r){r?this.Ff=fa(this.Ff,15):this.Ff=ha(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,16)},set:function(r){r?this.Ff=fa(this.Ff,16):this.Ff=ha(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,17)},set:function(r){r?this.Ff=fa(this.Ff,17):this.Ff=ha(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,26)},set:function(r){r?this.Ff=fa(this.Ff,26):this.Ff=ha(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+Oh(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){tn(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+Fv(r)}})};vs(Ga,tl);var N2=function(){Ga.call(this),this.pushButton=!0};vs(N2,Ga);var Y0=function(){Ga.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};vs(Y0,Ga);var Mv=function(){var t,e;tl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+Oh(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){tn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Dt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};vs(Mv,tl),Y0.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Y0.prototype.createOption=function(t){var e=new Mv;return e.Parent=this,e.optionName=t,this.Kids.push(e),UQ.call(this.scope,e),e};var I2=function(){Ga.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Dt.CheckBox.createAppearanceStream()};vs(I2,Ga);var Qf=function(){tl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,13)},set:function(e){e?this.Ff=fa(this.Ff,13):this.Ff=ha(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,21)},set:function(e){e?this.Ff=fa(this.Ff,21):this.Ff=ha(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,23)},set:function(e){e?this.Ff=fa(this.Ff,23):this.Ff=ha(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,24)},set:function(e){e?this.Ff=fa(this.Ff,24):this.Ff=ha(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,25)},set:function(e){e?this.Ff=fa(this.Ff,25):this.Ff=ha(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,26)},set:function(e){e?this.Ff=fa(this.Ff,26):this.Ff=ha(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};vs(Qf,tl);var R2=function(){Qf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,14)},set:function(t){t?this.Ff=fa(this.Ff,14):this.Ff=ha(this.Ff,14)}}),this.password=!0};vs(R2,Qf);var Dt={CheckBox:{createAppearanceStream:function(){return{N:{On:Dt.CheckBox.YesNormal},D:{On:Dt.CheckBox.YesPushDown,Off:Dt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=gl(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=Bw(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+cr(Dt.internal.getWidth(t))+" "+cr(Dt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+cr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=gl(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],i=Dt.internal.getHeight(t),s=Dt.internal.getWidth(t),o=Bw(t,t.caption);return a.push("1 g"),a.push("0 0 "+cr(s)+" "+cr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+cr(s-1)+" "+cr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+cr(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=gl(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+cr(Dt.internal.getWidth(t))+" "+cr(Dt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Dt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Dt.RadioButton.Circle.YesNormal,e.D[t]=Dt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=gl(t);e.scope=t.scope;var r=[],n=Dt.internal.getWidth(t)<=Dt.internal.getHeight(t)?Dt.internal.getWidth(t)/4:Dt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Dt.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+cu(Dt.internal.getWidth(t)/2)+" "+cu(Dt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=gl(t);e.scope=t.scope;var r=[],n=Dt.internal.getWidth(t)<=Dt.internal.getHeight(t)?Dt.internal.getWidth(t)/4:Dt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Dt.internal.Bezier_C).toFixed(5)),s=Number((n*Dt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+cu(Dt.internal.getWidth(t)/2)+" "+cu(Dt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+cu(Dt.internal.getWidth(t)/2)+" "+cu(Dt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=gl(t);e.scope=t.scope;var r=[],n=Dt.internal.getWidth(t)<=Dt.internal.getHeight(t)?Dt.internal.getWidth(t)/4:Dt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Dt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+cu(Dt.internal.getWidth(t)/2)+" "+cu(Dt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Dt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Dt.RadioButton.Cross.YesNormal,e.D[t]=Dt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=gl(t);e.scope=t.scope;var r=[],n=Dt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+cr(Dt.internal.getWidth(t)-2)+" "+cr(Dt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(cr(n.x1.x)+" "+cr(n.x1.y)+" m"),r.push(cr(n.x2.x)+" "+cr(n.x2.y)+" l"),r.push(cr(n.x4.x)+" "+cr(n.x4.y)+" m"),r.push(cr(n.x3.x)+" "+cr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=gl(t);e.scope=t.scope;var r=Dt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+cr(Dt.internal.getWidth(t))+" "+cr(Dt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+cr(Dt.internal.getWidth(t)-2)+" "+cr(Dt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(cr(r.x1.x)+" "+cr(r.x1.y)+" m"),n.push(cr(r.x2.x)+" "+cr(r.x2.y)+" l"),n.push(cr(r.x4.x)+" "+cr(r.x4.y)+" m"),n.push(cr(r.x3.x)+" "+cr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=gl(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+cr(Dt.internal.getWidth(t))+" "+cr(Dt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Dt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Dt.internal.getWidth(t),r=Dt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Dt.internal.getWidth=function(t){var e=0;return tn(t)==="object"&&(e=K6(t.Rect[2])),e},Dt.internal.getHeight=function(t){var e=0;return tn(t)==="object"&&(e=K6(t.Rect[3])),e};var UQ=Kn.addField=function(t){if(BQ(this,t),!(t instanceof tl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Kn.AcroFormChoiceField=$0,Kn.AcroFormListBox=X0,Kn.AcroFormComboBox=K0,Kn.AcroFormEditBox=C2,Kn.AcroFormButton=Ga,Kn.AcroFormPushButton=N2,Kn.AcroFormRadioButton=Y0,Kn.AcroFormCheckBox=I2,Kn.AcroFormTextField=Qf,Kn.AcroFormPasswordField=R2,Kn.AcroFormAppearance=Dt,Kn.AcroForm={ChoiceField:$0,ListBox:X0,ComboBox:K0,EditBox:C2,Button:Ga,PushButton:N2,RadioButton:Y0,CheckBox:I2,TextField:Qf,PasswordField:R2,Appearance:Dt},Vt.AcroForm={ChoiceField:$0,ListBox:X0,ComboBox:K0,EditBox:C2,Button:Ga,PushButton:N2,RadioButton:Y0,CheckBox:I2,TextField:Qf,PasswordField:R2,Appearance:Dt};Vt.AcroForm;function ND(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=t.__addimage__.getImageFileTypeByImageData=function(A,C){var k,q,X,V,H,ae=r;if((C=C||r)==="RGBA"||A.data!==void 0&&A.data instanceof Uint8ClampedArray&&"height"in A&&"width"in A)return"RGBA";if(P(A))for(H in n)for(X=n[H],k=0;k<X.length;k+=1){for(V=!0,q=0;q<X[k].length;q+=1)if(X[k][q]!==void 0&&X[k][q]!==A[q]){V=!1;break}if(V===!0){ae=H;break}}else for(H in n)for(X=n[H],k=0;k<X.length;k+=1){for(V=!0,q=0;q<X[k].length;q+=1)if(X[k][q]!==void 0&&X[k][q]!==A.charCodeAt(q)){V=!1;break}if(V===!0){ae=H;break}}return ae===r&&C!==r&&(ae=C),ae},i=function A(C){for(var k=this.internal.write,q=this.internal.putStream,X=(0,this.internal.getFilters)();X.indexOf("FlateEncode")!==-1;)X.splice(X.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var V=[];if(V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Image"}),V.push({key:"Width",value:C.width}),V.push({key:"Height",value:C.height}),C.colorSpace===x.INDEXED?V.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(V.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===x.DEVICE_CMYK&&V.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),V.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&V.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)&&C.transparency.length>0){for(var H="",ae=0,W=C.transparency.length;ae<W;ae++)H+=C.transparency[ae]+" "+C.transparency[ae]+" ";V.push({key:"Mask",value:"["+H+"]"})}C.sMask!==void 0&&V.push({key:"SMask",value:C.objectId+1+" 0 R"});var ge=C.filter!==void 0?["/"+C.filter]:void 0;if(q({data:C.data,additionalKeyValues:V,alreadyAppliedFilters:ge,objectId:C.objectId}),k("endobj"),"sMask"in C&&C.sMask!==void 0){var be,D=(be=C.sMaskBitsPerComponent)!==null&&be!==void 0?be:C.bitsPerComponent,F={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:D,data:C.sMask};"filter"in C&&(F.decodeParameters="/Predictor ".concat(C.predictor," /Colors 1 /BitsPerComponent ").concat(D," /Columns ").concat(C.width),F.filter=C.filter),A.call(this,F)}if(C.colorSpace===x.INDEXED){var U=this.internal.newObject();q({data:E(new Uint8Array(C.palette)),objectId:U}),k("endobj")}},s=function(){var A=this.internal.collections[e+"images"];for(var C in A)i.call(this,A[C])},o=function(){var A,C=this.internal.collections[e+"images"],k=this.internal.write;for(var q in C)k("/I"+(A=C[q]).index,A.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var A=this.internal.collections[e+"images"];return l.call(this),A},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},h=function(A){return typeof t["process"+A.toUpperCase()]=="function"},d=function(A){return tn(A)==="object"&&A.nodeType===1},f=function(A,C){if(A.nodeName==="IMG"&&A.hasAttribute("src")){var k=""+A.getAttribute("src");if(k.indexOf("data:image/")===0)return k2(unescape(k).split("base64,").pop());var q=t.loadFile(k,!0);if(q!==void 0)return q}if(A.nodeName==="CANVAS"){if(A.width===0||A.height===0)throw new Error("Given canvas must have data. Canvas width: "+A.width+", height: "+A.height);var X;switch(C){case"PNG":X="image/png";break;case"WEBP":X="image/webp";break;default:X="image/jpeg"}return k2(A.toDataURL(X,1).split("base64,").pop())}},p=function(A){var C=this.internal.collections[e+"images"];if(C){for(var k in C)if(A===C[k].alias)return C[k]}},m=function(A,C,k){return A||C||(A=-96,C=-96),A<0&&(A=-1*k.width*72/A/this.internal.scaleFactor),C<0&&(C=-1*k.height*72/C/this.internal.scaleFactor),A===0&&(A=C*k.width/k.height),C===0&&(C=A*k.height/k.width),[A,C]},_=function(A,C,k,q,X,V){var H=m.call(this,k,q,X),ae=this.internal.getCoordinateString,W=this.internal.getVerticalCoordinateString,ge=c.call(this);if(k=H[0],q=H[1],ge[X.index]=X,V){V*=Math.PI/180;var be=Math.cos(V),D=Math.sin(V),F=function(M){return M.toFixed(4)},U=[F(be),F(D),F(-1*D),F(be),0,0,"cm"]}this.internal.write("q"),V?(this.internal.write([1,"0","0",1,ae(A),W(C+q),"cm"].join(" ")),this.internal.write(U.join(" ")),this.internal.write([ae(k),"0","0",ae(q),"0","0","cm"].join(" "))):this.internal.write([ae(k),"0","0",ae(q),ae(A),W(C+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+X.index+" Do"),this.internal.write("Q")},x=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var T=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=t.__addimage__.sHashCode=function(A){var C,k,q=0;if(typeof A=="string")for(k=A.length,C=0;C<k;C++)q=(q<<5)-q+A.charCodeAt(C),q|=0;else if(P(A))for(k=A.byteLength/2,C=0;C<k;C++)q=(q<<5)-q+A[C],q|=0;return q},I=t.__addimage__.validateStringAsBase64=function(A){(A=A||"").toString().trim();var C=!0;return A.length===0&&(C=!1),A.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(A.substr(0,A.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(A.substr(-2))===!1&&(C=!1),C},j=t.__addimage__.extractImageFromDataUrl=function(A){if(A==null||!(A=A.trim()).startsWith("data:"))return null;var C=A.indexOf(",");return C<0?null:A.substring(0,C).trim().endsWith("base64")?A.substring(C+1):null};t.__addimage__.isArrayBuffer=function(A){return A instanceof ArrayBuffer};var P=t.__addimage__.isArrayBufferView=function(A){return A instanceof Int8Array||A instanceof Uint8Array||A instanceof Uint8ClampedArray||A instanceof Int16Array||A instanceof Uint16Array||A instanceof Int32Array||A instanceof Uint32Array||A instanceof Float32Array||A instanceof Float64Array},N=t.__addimage__.binaryStringToUint8Array=function(A){for(var C=A.length,k=new Uint8Array(C),q=0;q<C;q++)k[q]=A.charCodeAt(q);return k},E=t.__addimage__.arrayBufferToBinaryString=function(A){for(var C="",k=P(A)?A:new Uint8Array(A),q=0;q<k.length;q+=8192)C+=String.fromCharCode.apply(null,k.subarray(q,q+8192));return C};t.addImage=function(){var A,C,k,q,X,V,H,ae,W;if(typeof arguments[1]=="number"?(C=r,k=arguments[1],q=arguments[2],X=arguments[3],V=arguments[4],H=arguments[5],ae=arguments[6],W=arguments[7]):(C=arguments[1],k=arguments[2],q=arguments[3],X=arguments[4],V=arguments[5],H=arguments[6],ae=arguments[7],W=arguments[8]),tn(A=arguments[0])==="object"&&!d(A)&&"imageData"in A){var ge=A;A=ge.imageData,C=ge.format||C||r,k=ge.x||k||0,q=ge.y||q||0,X=ge.w||ge.width||X,V=ge.h||ge.height||V,H=ge.alias||H,ae=ge.compression||ae,W=ge.rotation||ge.angle||W}var be=this.internal.getFilters();if(ae===void 0&&be.indexOf("FlateEncode")!==-1&&(ae="SLOW"),isNaN(k)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var D=y.call(this,A,C,H,ae);return _.call(this,k,q,X,V,D,W),this};var y=function(A,C,k,q){var X,V,H;if(typeof A=="string"&&a(A)===r){A=unescape(A);var ae=R(A,!1);(ae!==""||(ae=t.loadFile(A,!0))!==void 0)&&(A=ae)}if(d(A)&&(A=f(A,C)),C=a(A,C),!h(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((H=k)==null||H.length===0)&&(k=function(W){return typeof W=="string"||P(W)?w(W):P(W.data)?w(W.data):null}(A)),(X=p.call(this,k))||(A instanceof Uint8Array||C==="RGBA"||(V=A,A=N(A)),X=this["process"+C.toUpperCase()](A,u.call(this),k,function(W){return W&&typeof W=="string"&&(W=W.toUpperCase()),W in t.image_compression?W:T.NONE}(q),V)),!X)throw new Error("An unknown error occurred whilst processing the image.");return X},R=t.__addimage__.convertBase64ToBinaryString=function(A,C){C=typeof C!="boolean"||C;var k,q="";if(typeof A=="string"){var X;k=(X=j(A))!==null&&X!==void 0?X:A;try{q=k2(k)}catch(V){if(C)throw I(k)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+V.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return q};t.getImageProperties=function(A){var C,k,q="";if(d(A)&&(A=f(A)),typeof A=="string"&&a(A)===r&&((q=R(A,!1))===""&&(q=t.loadFile(A)||""),A=q),k=a(A),!h(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(A instanceof Uint8Array||(A=N(A)),!(C=this["process"+k.toUpperCase()](A)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=k,C}})(Vt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Vt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,h=0;h<c.length&&!u;h++)switch((n=c[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var d=0;d<c.length;d++){n=c[d];var f=this.internal.pdfEscape,p=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(m.objId),T=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+f(x(n.contents))+")",i+=" /Popup "+_.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+f(x(T))+") >>",m.content=i;var w=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(i+=" /Open true"),i+=" >>",_.content=i,this.internal.write(m.objId,"0 R",_.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var I=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+f(p(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+I+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var j=this.annotations._nameMap[n.options.name];n.options.pageNumber=j.page,n.options.top=j.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+f(p(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var P=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+P+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+a),h:c(n+i)},options:s,type:"link"})},t.textWithLink=function(r,n,a,i){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var u=this.splitTextToSize(r,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(r,n,a,i),a+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,a-c,o,s,i),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Vt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(m){return e[m.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=t.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&a.indexOf(m.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&i(m)&&e[m.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(m){var _=0,x=r,T="",w=0;for(_=0;_<m.length;_+=1)x[m.charCodeAt(_)]!==void 0?(w++,typeof(x=x[m.charCodeAt(_)])=="number"&&(T+=String.fromCharCode(x),x=r,w=0),_===m.length-1&&(x=r,T+=m.charAt(_-(w-1)),_-=w-1,w=0)):(x=r,T+=m.charAt(_-w),_-=w,w=0);return T};t.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var d=t.__arabicParser__.getCorrectForm=function(m,_,x){return s(m)?i(m)===!1?-1:!c(m)||!s(_)&&!s(x)||!s(x)&&o(_)||o(m)&&!s(_)||o(m)&&l(_)||o(m)&&o(_)?0:u(m)&&s(_)&&!o(_)&&s(x)&&c(x)?3:o(m)||!s(x)?1:2:-1},f=function(m){var _=0,x=0,T=0,w="",I="",j="",P=(m=m||"").split("\\s+"),N=[];for(_=0;_<P.length;_+=1){for(N.push(""),x=0;x<P[_].length;x+=1)w=P[_][x],I=P[_][x-1],j=P[_][x+1],s(w)?(T=d(w,I,j),N[_]+=T!==-1?String.fromCharCode(e[w.charCodeAt(0)][T]):w):N[_]+=w;N[_]=h(N[_])}return N.join(" ")},p=t.__arabicParser__.processArabic=t.processArabic=function(){var m,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(_)){var T=0;for(x=[],T=0;T<_.length;T+=1)Array.isArray(_[T])?x.push([f(_[T][0]),_[T][1],_[T][2]]):x.push([f(_[T])]);m=x}else m=f(_);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};t.events.push(["preProcessText",p])}(Vt.API),Vt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Vt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(m){p=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),d=c.scaleFactor||this.internal.scaleFactor,f=0,p=0,m=0,_=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=c.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(w,I){return w.concat(_.splitTextToSize(I,x))},[])):l=Array.isArray(l)?l:[l];for(var T=0;T<l.length;T++)f<(m=this.getStringUnitWidth(l[T],{font:h})*u)&&(f=m);return f!==0&&(p=l.length),{w:f/=d,h:Math.max((p*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/d,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,d=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,f&&d&&(this.printHeaderRow(l.lineNumber,!0),l.y+=d[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,h,d){if(n.call(this),!u)throw new Error("No data for PDF table.");var f,p,m,_,x=[],T=[],w=[],I={},j={},P=[],N=[],E=(d=d||{}).autoSize||!1,y=d.printHeaders!==!1,R=d.css&&d.css["font-size"]!==void 0?16*d.css["font-size"]:d.fontSize||12,A=d.margins||Object.assign({width:this.getPageWidth()},e),C=typeof d.padding=="number"?d.padding:3,k=d.headerBackgroundColor||"#c8c8c8",q=d.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=y,this.internal.__cell__.margins=A,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=k,this.internal.__cell__.headerTextColor=q,this.setFontSize(R),h==null)T=x=Object.keys(u[0]),w=x.map(function(){return"left"});else if(Array.isArray(h)&&tn(h[0])==="object")for(x=h.map(function(ge){return ge.name}),T=h.map(function(ge){return ge.prompt||ge.name||""}),w=h.map(function(ge){return ge.align||"left"}),f=0;f<h.length;f+=1)j[h[f].name]=.7499990551181103*h[f].width;else Array.isArray(h)&&typeof h[0]=="string"&&(T=x=h,w=x.map(function(){return"left"}));if(E||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<x.length;f+=1){for(I[_=x[f]]=u.map(function(ge){return ge[_]}),this.setFont(void 0,"bold"),P.push(this.getTextDimensions(T[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=I[_],this.setFont(void 0,"normal"),m=0;m<p.length;m+=1)P.push(this.getTextDimensions(p[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);j[_]=Math.max.apply(null,P)+C+C,P=[]}if(y){var X={};for(f=0;f<x.length;f+=1)X[x[f]]={},X[x[f]].text=T[f],X[x[f]].align=w[f];var V=o.call(this,X,j);N=x.map(function(ge){return new i(l,c,j[ge],V,X[ge].text,void 0,X[ge].align)}),this.setTableHeaderRow(N),this.printHeaderRow(1,!1)}var H=h.reduce(function(ge,be){return ge[be.name]=be.align,ge},{});for(f=0;f<u.length;f+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:f,data:u[f]},this);var ae=o.call(this,u[f],j);for(m=0;m<x.length;m+=1){var W=u[f][x[m]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:f,col:m,data:W},this),s.call(this,new i(l,c,j[x[m]],ae,W,f+2,H[x[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(l).map(function(f){var p=l[f];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/d+u+u},this).reduce(function(f,p){return Math.max(f,p)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,d.push(u)),u.lineNumber=l;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(p)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),r=!1}}(Vt.API);var ID={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},RD=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Uw=ND(RD),LD=[100,200,300,400,500,600,700,800,900],jQ=ND(LD);function My(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return ID[i=i||"normal"]?i:"normal"}(t.style),n=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(t.weight),a=function(i){return typeof Uw[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function Y6(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var VQ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Q6={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function J6(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Z6(t){return t.trimLeft()}function zQ(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function HQ(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var n0,Bg,ek,tk,rk,By=["times"];function nk(t,e,r,n,a){var i=4,s=ik;switch(a){case Vt.API.image_compression.FAST:i=1,s=ak;break;case Vt.API.image_compression.MEDIUM:i=6,s=sk;break;case Vt.API.image_compression.SLOW:i=9,s=ok}t=function(l,c,u,h){for(var d,f=l.length/c,p=new Uint8Array(l.length+f),m=[qQ,ak,ik,sk,ok],_=0;_<f;_+=1){var x=_*c,T=l.subarray(x,x+c);if(h)p.set(h(T,u,d),x+_);else{for(var w=m.length,I=[],j=0;j<w;j+=1)I[j]=m[j](T,u,d);var P=WQ(I.concat());p.set(I[P],x+_)}d=T}return p}(t,e,Math.ceil(r*n/8),s);var o=Lw(t,{level:i});return Vt.API.__addimage__.arrayBufferToBinaryString(o)}function qQ(t){var e=Array.apply([],t);return e.unshift(0),e}function ak(t,e){var r=t.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var i=t[a-e]||0;n[a+1]=t[a]-i+256&255}return n}function ik(t,e,r){var n=t.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var s=r&&r[i]||0;a[i+1]=t[i]-s+256&255}return a}function sk(t,e,r){var n=t.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var s=t[i-e]||0,o=r&&r[i]||0;a[i+1]=t[i]+256-(s+o>>>1)&255}return a}function ok(t,e,r){var n=t.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var s=GQ(t[i-e]||0,r&&r[i]||0,r&&r[i-e]||0);a[i+1]=t[i]-s+256&255}return a}function GQ(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),a=Math.abs(t-r),i=Math.abs(t+e-r-r);return n<=a&&n<=i?t:a<=i?e:r}function WQ(t){var e=t.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function Uy(t,e,r){var n=e*r,a=Math.floor(n/8),i=16-(n-8*a+r),s=(1<<r)-1;return DD(t,a)>>i&s}function lk(t,e,r,n){var a=r*n,i=Math.floor(a/8),s=16-(a-8*i+n),o=(1<<n)-1,l=(e&o)<<s;(function(c,u,h){if(u+1<c.byteLength)c.setUint16(u,h,!1);else{var d=h>>8&255;c.setUint8(u,d)}})(t,i,DD(t,i)&~(o<<s)&65535|l)}function DD(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function $Q(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,s=1<<1+(7&a);t[e++],t[e++];var o=null,l=null;i&&(o=e,l=s,e+=3*s);var c=!0,u=[],h=0,d=null,f=0,p=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,p=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((A=t[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var m=t[e++];h=t[e++]|t[e++]<<8,d=t[e++],1&m||(d=null),f=m>>2&7,e++;break;case 254:for(;;){if(!((A=t[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var _=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,T=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,I=t[e++],j=I>>6&1,P=1<<1+(7&I),N=o,E=l,y=!1;I>>7&&(y=!0,N=e,E=P,e+=3*P);var R=e;for(e++;;){var A;if(!((A=t[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}u.push({x:_,y:x,width:T,height:w,has_local_palette:y,palette_offset:N,palette_size:E,data_offset:R,data_length:e-R,transparent_index:d,interlaced:!!j,delay:h,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return p},this.frameInfo=function(C){if(C<0||C>=u.length)throw new Error("Frame index out of range.");return u[C]},this.decodeAndBlitFrameBGRA=function(C,k){var q=this.frameInfo(C),X=q.width*q.height,V=new Uint8Array(X);ck(t,q.data_offset,V,X);var H=q.palette_offset,ae=q.transparent_index;ae===null&&(ae=256);var W=q.width,ge=r-W,be=W,D=4*(q.y*r+q.x),F=4*((q.y+q.height)*r+q.x),U=D,M=4*ge;q.interlaced===!0&&(M+=4*r*7);for(var Q=8,oe=0,de=V.length;oe<de;++oe){var he=V[oe];if(be===0&&(be=W,(U+=M)>=F&&(M=4*ge+4*r*(Q-1),U=D+(W+ge)*(Q<<1),Q>>=1)),he===ae)U+=4;else{var we=t[H+3*he],ke=t[H+3*he+1],ne=t[H+3*he+2];k[U++]=ne,k[U++]=ke,k[U++]=we,k[U++]=255}--be}},this.decodeAndBlitFrameRGBA=function(C,k){var q=this.frameInfo(C),X=q.width*q.height,V=new Uint8Array(X);ck(t,q.data_offset,V,X);var H=q.palette_offset,ae=q.transparent_index;ae===null&&(ae=256);var W=q.width,ge=r-W,be=W,D=4*(q.y*r+q.x),F=4*((q.y+q.height)*r+q.x),U=D,M=4*ge;q.interlaced===!0&&(M+=4*r*7);for(var Q=8,oe=0,de=V.length;oe<de;++oe){var he=V[oe];if(be===0&&(be=W,(U+=M)>=F&&(M=4*ge+4*r*(Q-1),U=D+(W+ge)*(Q<<1),Q>>=1)),he===ae)U+=4;else{var we=t[H+3*he],ke=t[H+3*he+1],ne=t[H+3*he+2];k[U++]=we,k[U++]=ke,k[U++]=ne,k[U++]=255}--be}}}function ck(t,e,r,n){for(var a=t[e++],i=1<<a,s=i+1,o=s+1,l=a+1,c=(1<<l)-1,u=0,h=0,d=0,f=t[e++],p=new Int32Array(4096),m=null;;){for(;u<16&&f!==0;)h|=t[e++]<<u,u+=8,f===1?f=t[e++]:--f;if(u<l)break;var _=h&c;if(h>>=l,u-=l,_!==i){if(_===s)break;for(var x=_<o?_:m,T=0,w=x;w>i;)w=p[w]>>8,++T;var I=w;if(d+T+(x!==_?1:0)>n)return void pn.log("Warning, gif stream longer than expected.");r[d++]=I;var j=d+=T;for(x!==_&&(r[d++]=I),w=x;T--;)w=p[w],r[--j]=255&w,w>>=8;m!==null&&o<4096&&(p[o++]=m<<8|I,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=_}else o=s+1,c=(1<<(l=a+1))-1,m=null}return d!==n&&pn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function jy(t){var e,r,n,a,i,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),d=new Array(65535),f=new Array(64),p=new Array(64),m=[],_=0,x=7,T=new Array(64),w=new Array(64),I=new Array(64),j=new Array(256),P=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],y=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function V(D,F){for(var U=0,M=0,Q=new Array,oe=1;oe<=16;oe++){for(var de=1;de<=D[oe];de++)Q[F[M]]=[],Q[F[M]][0]=U,Q[F[M]][1]=oe,M++,U++;U*=2}return Q}function H(D){for(var F=D[0],U=D[1]-1;U>=0;)F&1<<U&&(_|=1<<x),U--,--x<0&&(_==255?(ae(255),ae(0)):ae(_),x=7,_=0)}function ae(D){m.push(D)}function W(D){ae(D>>8&255),ae(255&D)}function ge(D,F,U,M,Q){for(var oe,de=Q[0],he=Q[240],we=function(Ne,Qe){var Ke,ht,ct,yt,mt,St,$t,Et,gt,at,it=0;for(gt=0;gt<8;++gt){Ke=Ne[it],ht=Ne[it+1],ct=Ne[it+2],yt=Ne[it+3],mt=Ne[it+4],St=Ne[it+5],$t=Ne[it+6];var Ft=Ke+(Et=Ne[it+7]),wt=Ke-Et,Nt=ht+$t,zt=ht-$t,vr=ct+St,Ot=ct-St,Pe=yt+mt,st=yt-mt,ut=Ft+Pe,Qt=Ft-Pe,Tt=Nt+vr,Ct=Nt-vr;Ne[it]=ut+Tt,Ne[it+4]=ut-Tt;var Kt=.707106781*(Ct+Qt);Ne[it+2]=Qt+Kt,Ne[it+6]=Qt-Kt;var Xr=.382683433*((ut=st+Ot)-(Ct=zt+wt)),Jt=.5411961*ut+Xr,gn=1.306562965*Ct+Xr,Mr=.707106781*(Tt=Ot+zt),Ut=wt+Mr,xs=wt-Mr;Ne[it+5]=xs+Jt,Ne[it+3]=xs-Jt,Ne[it+1]=Ut+gn,Ne[it+7]=Ut-gn,it+=8}for(it=0,gt=0;gt<8;++gt){Ke=Ne[it],ht=Ne[it+8],ct=Ne[it+16],yt=Ne[it+24],mt=Ne[it+32],St=Ne[it+40],$t=Ne[it+48];var hi=Ke+(Et=Ne[it+56]),Na=Ke-Et,Qa=ht+$t,sn=ht-$t,vn=ct+St,ee=ct-St,pe=yt+mt,le=yt-mt,ue=hi+pe,me=hi-pe,ye=Qa+vn,Fe=Qa-vn;Ne[it]=ue+ye,Ne[it+32]=ue-ye;var He=.707106781*(Fe+me);Ne[it+16]=me+He,Ne[it+48]=me-He;var Me=.382683433*((ue=le+ee)-(Fe=sn+Na)),Be=.5411961*ue+Me,je=1.306562965*Fe+Me,nt=.707106781*(ye=ee+sn),dt=Na+nt,_t=Na-nt;Ne[it+40]=_t+Be,Ne[it+24]=_t-Be,Ne[it+8]=dt+je,Ne[it+56]=dt-je,it++}for(gt=0;gt<64;++gt)at=Ne[gt]*Qe[gt],f[gt]=at>0?at+.5|0:at-.5|0;return f}(D,F),ke=0;ke<64;++ke)p[N[ke]]=we[ke];var ne=p[0]-U;U=p[0],ne==0?H(M[0]):(H(M[d[oe=32767+ne]]),H(h[oe]));for(var Z=63;Z>0&&p[Z]==0;)Z--;if(Z==0)return H(de),U;for(var Ae,K=1;K<=Z;){for(var Te=K;p[K]==0&&K<=Z;)++K;var Re=K-Te;if(Re>=16){Ae=Re>>4;for(var Oe=1;Oe<=Ae;++Oe)H(he);Re&=15}oe=32767+p[K],H(Q[(Re<<4)+d[oe]]),H(h[oe]),K++}return Z!=63&&H(de),U}function be(D){D=Math.min(Math.max(D,1),100),i!=D&&(function(F){for(var U=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],M=0;M<64;M++){var Q=s((U[M]*F+50)/100);Q=Math.min(Math.max(Q,1),255),o[N[M]]=Q}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var he=s((oe[de]*F+50)/100);he=Math.min(Math.max(he,1),255),l[N[de]]=he}for(var we=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,ne=0;ne<8;ne++)for(var Z=0;Z<8;Z++)c[ke]=1/(o[N[ke]]*we[ne]*we[Z]*8),u[ke]=1/(l[N[ke]]*we[ne]*we[Z]*8),ke++}(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),i=D)}this.encode=function(D,F){F&&be(F),m=new Array,_=0,x=7,W(65496),W(65504),W(16),ae(74),ae(70),ae(73),ae(70),ae(0),ae(1),ae(1),ae(0),W(1),W(1),ae(0),ae(0),function(){W(65499),W(132),ae(0);for(var ht=0;ht<64;ht++)ae(o[ht]);ae(1);for(var ct=0;ct<64;ct++)ae(l[ct])}(),function(ht,ct){W(65472),W(17),ae(8),W(ct),W(ht),ae(3),ae(1),ae(17),ae(0),ae(2),ae(17),ae(1),ae(3),ae(17),ae(1)}(D.width,D.height),function(){W(65476),W(418),ae(0);for(var ht=0;ht<16;ht++)ae(E[ht+1]);for(var ct=0;ct<=11;ct++)ae(y[ct]);ae(16);for(var yt=0;yt<16;yt++)ae(R[yt+1]);for(var mt=0;mt<=161;mt++)ae(A[mt]);ae(1);for(var St=0;St<16;St++)ae(C[St+1]);for(var $t=0;$t<=11;$t++)ae(k[$t]);ae(17);for(var Et=0;Et<16;Et++)ae(q[Et+1]);for(var gt=0;gt<=161;gt++)ae(X[gt])}(),W(65498),W(12),ae(3),ae(1),ae(0),ae(2),ae(17),ae(3),ae(17),ae(0),ae(63),ae(0);var U=0,M=0,Q=0;_=0,x=7,this.encode.displayName="_encode_";for(var oe,de,he,we,ke,ne,Z,Ae,K,Te=D.data,Re=D.width,Oe=D.height,Ne=4*Re,Qe=0;Qe<Oe;){for(oe=0;oe<Ne;){for(ke=Ne*Qe+oe,Z=-1,Ae=0,K=0;K<64;K++)ne=ke+(Ae=K>>3)*Ne+(Z=4*(7&K)),Qe+Ae>=Oe&&(ne-=Ne*(Qe+1+Ae-Oe)),oe+Z>=Ne&&(ne-=oe+Z-Ne+4),de=Te[ne++],he=Te[ne++],we=Te[ne++],T[K]=(P[de]+P[he+256|0]+P[we+512|0]>>16)-128,w[K]=(P[de+768|0]+P[he+1024|0]+P[we+1280|0]>>16)-128,I[K]=(P[de+1280|0]+P[he+1536|0]+P[we+1792|0]>>16)-128;U=ge(T,c,U,e,n),M=ge(w,u,M,r,a),Q=ge(I,u,Q,r,a),oe+=32}Qe+=8}if(x>=0){var Ke=[];Ke[1]=x+1,Ke[0]=(1<<x+1)-1,H(Ke)}return W(65497),new Uint8Array(m)},t=t||50,function(){for(var D=String.fromCharCode,F=0;F<256;F++)j[F]=D(F)}(),e=V(E,y),r=V(C,k),n=V(R,A),a=V(q,X),function(){for(var D=1,F=2,U=1;U<=15;U++){for(var M=D;M<F;M++)d[32767+M]=U,h[32767+M]=[],h[32767+M][1]=U,h[32767+M][0]=M;for(var Q=-(F-1);Q<=-D;Q++)d[32767+Q]=U,h[32767+Q]=[],h[32767+Q][1]=U,h[32767+Q][0]=F-1+Q;D<<=1,F<<=1}}(),function(){for(var D=0;D<256;D++)P[D]=19595*D,P[D+256|0]=38470*D,P[D+512|0]=7471*D+32768,P[D+768|0]=-11059*D,P[D+1024|0]=-21709*D,P[D+1280|0]=32768*D+8421375,P[D+1536|0]=-27439*D,P[D+1792|0]=-5329*D}(),be(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Uo(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function uk(t){function e(y){if(!y)throw Error("assert :P")}function r(y,R,A){for(var C=0;4>C;C++)if(y[R+C]!=A.charCodeAt(C))return!0;return!1}function n(y,R,A,C,k){for(var q=0;q<k;q++)y[R+q]=A[C+q]}function a(y,R,A,C){for(var k=0;k<C;k++)y[R+k]=A}function i(y){return new Int32Array(y)}function s(y,R){for(var A=[],C=0;C<y;C++)A.push(new R);return A}function o(y,R){var A=[];return function C(k,q,X){for(var V=X[q],H=0;H<V&&(k.push(X.length>q+1?[]:new R),!(X.length<q+1));H++)C(k[H],q+1,X)}(A,0,y),A}var l=function(){var y=this;function R(g,b){for(var O=1<<b-1>>>0;g&O;)O>>>=1;return O?(g&O-1)+O:g}function A(g,b,O,z,J){e(!(z%O));do g[b+(z-=O)]=J;while(0<z)}function C(g,b,O,z,J){if(e(2328>=J),512>=J)var te=i(512);else if((te=i(J))==null)return 0;return function(re,ie,ce,xe,Se,Ve){var _e,Ce,De=ie,Ge=1<<ce,Ue=i(16),$e=i(16);for(e(Se!=0),e(xe!=null),e(re!=null),e(0<ce),Ce=0;Ce<Se;++Ce){if(15<xe[Ce])return 0;++Ue[xe[Ce]]}if(Ue[0]==Se)return 0;for($e[1]=0,_e=1;15>_e;++_e){if(Ue[_e]>1<<_e)return 0;$e[_e+1]=$e[_e]+Ue[_e]}for(Ce=0;Ce<Se;++Ce)_e=xe[Ce],0<xe[Ce]&&(Ve[$e[_e]++]=Ce);if($e[15]==1)return(xe=new k).g=0,xe.value=Ve[0],A(re,De,1,Ge,xe),Ge;var Ye,lt=-1,rt=Ge-1,jt=0,Lt=1,pr=1,Mt=1<<ce;for(Ce=0,_e=1,Se=2;_e<=ce;++_e,Se<<=1){if(Lt+=pr<<=1,0>(pr-=Ue[_e]))return 0;for(;0<Ue[_e];--Ue[_e])(xe=new k).g=_e,xe.value=Ve[Ce++],A(re,De+jt,Se,Mt,xe),jt=R(jt,_e)}for(_e=ce+1,Se=2;15>=_e;++_e,Se<<=1){if(Lt+=pr<<=1,0>(pr-=Ue[_e]))return 0;for(;0<Ue[_e];--Ue[_e]){if(xe=new k,(jt&rt)!=lt){for(De+=Mt,Ye=1<<(lt=_e)-ce;15>lt&&!(0>=(Ye-=Ue[lt]));)++lt,Ye<<=1;Ge+=Mt=1<<(Ye=lt-ce),re[ie+(lt=jt&rt)].g=Ye+ce,re[ie+lt].value=De-ie-lt}xe.g=_e-ce,xe.value=Ve[Ce++],A(re,De+(jt>>ce),Se,Mt,xe),jt=R(jt,_e)}}return Lt!=2*$e[15]-1?0:Ge}(g,b,O,z,J,te)}function k(){this.value=this.g=0}function q(){this.value=this.g=0}function X(){this.G=s(5,k),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(kf,q)}function V(g,b,O,z){e(g!=null),e(b!=null),e(2147483648>z),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=b,g.pa=O,g.Jd=b,g.Yc=O+z,g.Zc=4<=z?O+z-4+1:O,de(g)}function H(g,b){for(var O=0;0<b--;)O|=we(g,128)<<b;return O}function ae(g,b){var O=H(g,b);return he(g)?-O:O}function W(g,b,O,z){var J,te=0;for(e(g!=null),e(b!=null),e(4294967288>z),g.Sb=z,g.Ra=0,g.u=0,g.h=0,4<z&&(z=4),J=0;J<z;++J)te+=b[O+J]<<8*J;g.Ra=te,g.bb=z,g.oa=b,g.pa=O}function ge(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<Xc-8>>>0,++g.bb,g.u-=8;M(g)&&(g.h=1,g.u=0)}function be(g,b){if(e(0<=b),!g.h&&b<=bs){var O=U(g)&ws[b];return g.u+=b,ge(g),O}return g.h=1,g.u=0}function D(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function U(g){return g.Ra>>>(g.u&Xc-1)>>>0}function M(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>Xc}function Q(g,b){g.u=b,g.h=M(g)}function oe(g){g.u>=$l&&(e(g.u>=$l),ge(g))}function de(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function he(g){return H(g,1)}function we(g,b){var O=g.Ca;0>g.b&&de(g);var z=g.b,J=O*b>>>8,te=(g.I>>>z>J)+0;for(te?(O-=J,g.I-=J+1<<z>>>0):O=J+1,z=O,J=0;256<=z;)J+=8,z>>=8;return z=7^J+Kc[z],g.b-=z,g.Ca=(O<<z)-1,te}function ke(g,b,O){g[b+0]=O>>24&255,g[b+1]=O>>16&255,g[b+2]=O>>8&255,g[b+3]=255&O}function ne(g,b){return g[b+0]|g[b+1]<<8}function Z(g,b){return ne(g,b)|g[b+2]<<16}function Ae(g,b){return ne(g,b)|ne(g,b+2)<<16}function K(g,b){var O=1<<b;return e(g!=null),e(0<b),g.X=i(O),g.X==null?0:(g.Mb=32-b,g.Xa=b,1)}function Te(g,b){e(g!=null),e(b!=null),e(g.Xa==b.Xa),n(b.X,0,g.X,0,1<<b.Xa)}function Re(){this.X=[],this.Xa=this.Mb=0}function Oe(g,b,O,z){e(O!=null),e(z!=null);var J=O[0],te=z[0];return J==0&&(J=(g*te+b/2)/b),te==0&&(te=(b*J+g/2)/g),0>=J||0>=te?0:(O[0]=J,z[0]=te,1)}function Ne(g,b){return g+(1<<b)-1>>>b}function Qe(g,b){return((4278255360&g)+(4278255360&b)>>>0&4278255360)+((16711935&g)+(16711935&b)>>>0&16711935)>>>0}function Ke(g,b){y[b]=function(O,z,J,te,re,ie,ce){var xe;for(xe=0;xe<re;++xe){var Se=y[g](ie[ce+xe-1],J,te+xe);ie[ce+xe]=Qe(O[z+xe],Se)}}}function ht(){this.ud=this.hd=this.jd=0}function ct(g,b){return((4278124286&(g^b))>>>1)+(g&b)>>>0}function yt(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function mt(g,b){return yt(g+(g-b+.5>>1))}function St(g,b,O){return Math.abs(b-O)-Math.abs(g-O)}function $t(g,b,O,z,J,te,re){for(z=te[re-1],O=0;O<J;++O)te[re+O]=z=Qe(g[b+O],z)}function Et(g,b,O,z,J){var te;for(te=0;te<O;++te){var re=g[b+te],ie=re>>8&255,ce=16711935&(ce=(ce=16711935&re)+((ie<<16)+ie));z[J+te]=(4278255360&re)+ce>>>0}}function gt(g,b){b.jd=255&g,b.hd=g>>8&255,b.ud=g>>16&255}function at(g,b,O,z,J,te){var re;for(re=0;re<z;++re){var ie=b[O+re],ce=ie>>>8,xe=ie,Se=255&(Se=(Se=ie>>>16)+((g.jd<<24>>24)*(ce<<24>>24)>>>5));xe=255&(xe=(xe+=(g.hd<<24>>24)*(ce<<24>>24)>>>5)+((g.ud<<24>>24)*(Se<<24>>24)>>>5)),J[te+re]=(4278255360&ie)+(Se<<16)+xe}}function it(g,b,O,z,J){y[b]=function(te,re,ie,ce,xe,Se,Ve,_e,Ce){for(ce=Ve;ce<_e;++ce)for(Ve=0;Ve<Ce;++Ve)xe[Se++]=J(ie[z(te[re++])])},y[g]=function(te,re,ie,ce,xe,Se,Ve){var _e=8>>te.b,Ce=te.Ea,De=te.K[0],Ge=te.w;if(8>_e)for(te=(1<<te.b)-1,Ge=(1<<_e)-1;re<ie;++re){var Ue,$e=0;for(Ue=0;Ue<Ce;++Ue)Ue&te||($e=z(ce[xe++])),Se[Ve++]=J(De[$e&Ge]),$e>>=_e}else y["VP8LMapColor"+O](ce,xe,De,Ge,Se,Ve,re,ie,Ce)}}function Ft(g,b,O,z,J){for(O=b+O;b<O;){var te=g[b++];z[J++]=te>>16&255,z[J++]=te>>8&255,z[J++]=255&te}}function wt(g,b,O,z,J){for(O=b+O;b<O;){var te=g[b++];z[J++]=te>>16&255,z[J++]=te>>8&255,z[J++]=255&te,z[J++]=te>>24&255}}function Nt(g,b,O,z,J){for(O=b+O;b<O;){var te=(re=g[b++])>>16&240|re>>12&15,re=240&re|re>>28&15;z[J++]=te,z[J++]=re}}function zt(g,b,O,z,J){for(O=b+O;b<O;){var te=(re=g[b++])>>16&248|re>>13&7,re=re>>5&224|re>>3&31;z[J++]=te,z[J++]=re}}function vr(g,b,O,z,J){for(O=b+O;b<O;){var te=g[b++];z[J++]=255&te,z[J++]=te>>8&255,z[J++]=te>>16&255}}function Ot(g,b,O,z,J,te){if(te==0)for(O=b+O;b<O;)ke(z,((te=g[b++])[0]>>24|te[1]>>8&65280|te[2]<<8&16711680|te[3]<<24)>>>0),J+=32;else n(z,J,g,b,O)}function Pe(g,b){y[b][0]=y[g+"0"],y[b][1]=y[g+"1"],y[b][2]=y[g+"2"],y[b][3]=y[g+"3"],y[b][4]=y[g+"4"],y[b][5]=y[g+"5"],y[b][6]=y[g+"6"],y[b][7]=y[g+"7"],y[b][8]=y[g+"8"],y[b][9]=y[g+"9"],y[b][10]=y[g+"10"],y[b][11]=y[g+"11"],y[b][12]=y[g+"12"],y[b][13]=y[g+"13"],y[b][14]=y[g+"0"],y[b][15]=y[g+"0"]}function st(g){return g==s_||g==o_||g==Km||g==l_}function ut(){this.eb=[],this.size=this.A=this.fb=0}function Qt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Tt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ut,this.f.kb=new Qt,this.sd=null}function Ct(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Kt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Xr(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Jt(g,b){var O=g.T,z=b.ba.f.RGBA,J=z.eb,te=z.fb+g.ka*z.A,re=oo[b.ba.S],ie=g.y,ce=g.O,xe=g.f,Se=g.N,Ve=g.ea,_e=g.W,Ce=b.cc,De=b.dc,Ge=b.Mc,Ue=b.Nc,$e=g.ka,Ye=g.ka+g.T,lt=g.U,rt=lt+1>>1;for($e==0?re(ie,ce,null,null,xe,Se,Ve,_e,xe,Se,Ve,_e,J,te,null,null,lt):(re(b.ec,b.fc,ie,ce,Ce,De,Ge,Ue,xe,Se,Ve,_e,J,te-z.A,J,te,lt),++O);$e+2<Ye;$e+=2)Ce=xe,De=Se,Ge=Ve,Ue=_e,Se+=g.Rc,_e+=g.Rc,te+=2*z.A,re(ie,(ce+=2*g.fa)-g.fa,ie,ce,Ce,De,Ge,Ue,xe,Se,Ve,_e,J,te-z.A,J,te,lt);return ce+=g.fa,g.j+Ye<g.o?(n(b.ec,b.fc,ie,ce,lt),n(b.cc,b.dc,xe,Se,rt),n(b.Mc,b.Nc,Ve,_e,rt),O--):1&Ye||re(ie,ce,null,null,xe,Se,Ve,_e,xe,Se,Ve,_e,J,te+z.A,null,null,lt),O}function gn(g,b,O){var z=g.F,J=[g.J];if(z!=null){var te=g.U,re=b.ba.S,ie=re==Xm||re==Km;b=b.ba.f.RGBA;var ce=[0],xe=g.ka;ce[0]=g.T,g.Kb&&(xe==0?--ce[0]:(--xe,J[0]-=g.width),g.j+g.ka+g.T==g.o&&(ce[0]=g.o-g.j-xe));var Se=b.eb;xe=b.fb+xe*b.A,g=l3(z,J[0],g.width,te,ce,Se,xe+(ie?0:3),b.A),e(O==ce),g&&st(re)&&r1(Se,xe,ie,te,ce,b.A)}return 0}function Mr(g){var b=g.ma,O=b.ba.S,z=11>O,J=O==Wm||O==$m||O==Xm||O==i_||O==12||st(O);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Xd(b.Oa,g,J?11:12))return 0;if(J&&st(O)&&or(),g.da)alert("todo:use_scaling");else{if(z){if(b.Ib=Xr,g.Kb){if(O=g.U+1>>1,b.memory=i(g.U+2*O),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+g.U,b.Mc=b.cc,b.Nc=b.dc+O,b.Ib=Jt,or()}}else alert("todo:EmitYUV");J&&(b.Jb=gn,z&&ze())}if(z&&!A3){for(g=0;256>g;++g)bF[g]=89858*(g-128)+Qm>>Ym,SF[g]=-22014*(g-128)+Qm,AF[g]=-45773*(g-128),EF[g]=113618*(g-128)+Qm>>Ym;for(g=a1;g<f_;++g)b=76283*(g-16)+Qm>>Ym,TF[g-a1]=Gn(b,255),kF[g-a1]=Gn(b+8>>4,15);A3=1}return 1}function Ut(g){var b=g.ma,O=g.U,z=g.T;return e(!(1&g.ka)),0>=O||0>=z?0:(O=b.Ib(g,b),b.Jb!=null&&b.Jb(g,b,O),b.Dc+=O,1)}function xs(g){g.ma.memory=null}function hi(g,b,O,z){return be(g,8)!=47?0:(b[0]=be(g,14)+1,O[0]=be(g,14)+1,z[0]=be(g,1),be(g,3)!=0?0:!g.h)}function Na(g,b){if(4>g)return g+1;var O=g-2>>1;return(2+(1&g)<<O)+be(b,O)+1}function Qa(g,b){return 120<b?b-120:1<=(O=((O=lF[b-1])>>4)*g+(8-(15&O)))?O:1;var O}function sn(g,b,O){var z=U(O),J=g[b+=255&z].g-8;return 0<J&&(Q(O,O.u+8),z=U(O),b+=g[b].value,b+=z&(1<<J)-1),Q(O,O.u+g[b].g),g[b].value}function vn(g,b,O){return O.g+=g.g,O.value+=g.value<<b>>>0,e(8>=O.g),g.g}function ee(g,b,O){var z=g.xc;return e((b=z==0?0:g.vc[g.md*(O>>z)+(b>>z)])<g.Wb),g.Ya[b]}function pe(g,b,O,z){var J=g.ab,te=g.c*b,re=g.C;b=re+b;var ie=O,ce=z;for(z=g.Ta,O=g.Ua;0<J--;){var xe=g.gc[J],Se=re,Ve=b,_e=ie,Ce=ce,De=(ce=z,ie=O,xe.Ea);switch(e(Se<Ve),e(Ve<=xe.nc),xe.hc){case 2:na(_e,Ce,(Ve-Se)*De,ce,ie);break;case 0:var Ge=Se,Ue=Ve,$e=ce,Ye=ie,lt=(Mt=xe).Ea;Ge==0&&(Yd(_e,Ce,null,null,1,$e,Ye),$t(_e,Ce+1,0,0,lt-1,$e,Ye+1),Ce+=lt,Ye+=lt,++Ge);for(var rt=1<<Mt.b,jt=rt-1,Lt=Ne(lt,Mt.b),pr=Mt.K,Mt=Mt.w+(Ge>>Mt.b)*Lt;Ge<Ue;){var Rr=pr,Ra=Mt,mr=1;for(Yh(_e,Ce,$e,Ye-lt,1,$e,Ye);mr<lt;){var Bt=(mr&~jt)+rt;Bt>lt&&(Bt=lt),(0,Jd[Rr[Ra++]>>8&15])(_e,Ce+ +mr,$e,Ye+mr-lt,Bt-mr,$e,Ye+mr),mr=Bt}Ce+=lt,Ye+=lt,++Ge&jt||(Mt+=Lt)}Ve!=xe.nc&&n(ce,ie-De,ce,ie+(Ve-Se-1)*De,De);break;case 1:for(De=_e,Ue=Ce,lt=(_e=xe.Ea)-(Ye=_e&~($e=(Ce=1<<xe.b)-1)),Ge=Ne(_e,xe.b),rt=xe.K,xe=xe.w+(Se>>xe.b)*Ge;Se<Ve;){for(jt=rt,Lt=xe,pr=new ht,Mt=Ue+Ye,Rr=Ue+_e;Ue<Mt;)gt(jt[Lt++],pr),Zd(pr,De,Ue,Ce,ce,ie),Ue+=Ce,ie+=Ce;Ue<Rr&&(gt(jt[Lt++],pr),Zd(pr,De,Ue,lt,ce,ie),Ue+=lt,ie+=lt),++Se&$e||(xe+=Ge)}break;case 3:if(_e==ce&&Ce==ie&&0<xe.b){for(Ue=ce,_e=De=ie+(Ve-Se)*De-(Ye=(Ve-Se)*Ne(xe.Ea,xe.b)),Ce=ce,$e=ie,Ge=[],Ye=(lt=Ye)-1;0<=Ye;--Ye)Ge[Ye]=Ce[$e+Ye];for(Ye=lt-1;0<=Ye;--Ye)Ue[_e+Ye]=Ge[Ye];zm(xe,Se,Ve,ce,De,ce,ie)}else zm(xe,Se,Ve,_e,Ce,ce,ie)}ie=z,ce=O}ce!=O&&n(z,O,ie,ce,te)}function le(g,b){var O=g.V,z=g.Ba+g.c*g.C,J=b-g.C;if(e(b<=g.l.o),e(16>=J),0<J){var te=g.l,re=g.Ta,ie=g.Ua,ce=te.width;if(pe(g,J,O,z),J=ie=[ie],e((O=g.C)<(z=b)),e(te.v<te.va),z>te.o&&(z=te.o),O<te.j){var xe=te.j-O;O=te.j,J[0]+=xe*ce}if(O>=z?O=0:(J[0]+=4*te.v,te.ka=O-te.j,te.U=te.va-te.v,te.T=z-O,O=1),O){if(ie=ie[0],11>(O=g.ca).S){var Se=O.f.RGBA,Ve=(z=O.S,J=te.U,te=te.T,xe=Se.eb,Se.A),_e=te;for(Se=Se.fb+g.Ma*Se.A;0<_e--;){var Ce=re,De=ie,Ge=J,Ue=xe,$e=Se;switch(z){case Gm:e1(Ce,De,Ge,Ue,$e);break;case Wm:Yc(Ce,De,Ge,Ue,$e);break;case s_:Yc(Ce,De,Ge,Ue,$e),r1(Ue,$e,0,Ge,1,0);break;case m3:Cf(Ce,De,Ge,Ue,$e);break;case $m:Ot(Ce,De,Ge,Ue,$e,1);break;case o_:Ot(Ce,De,Ge,Ue,$e,1),r1(Ue,$e,0,Ge,1,0);break;case Xm:Ot(Ce,De,Ge,Ue,$e,0);break;case Km:Ot(Ce,De,Ge,Ue,$e,0),r1(Ue,$e,1,Ge,1,0);break;case i_:Qc(Ce,De,Ge,Ue,$e);break;case l_:Qc(Ce,De,Ge,Ue,$e),o3(Ue,$e,Ge,1,0);break;case g3:Jc(Ce,De,Ge,Ue,$e);break;default:e(0)}ie+=ce,Se+=Ve}g.Ma+=te}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=O.height)}}g.C=b,e(g.C<=g.i)}function ue(g){var b;if(0<g.ua)return 0;for(b=0;b<g.Wb;++b){var O=g.Ya[b].G,z=g.Ya[b].H;if(0<O[1][z[1]+0].g||0<O[2][z[2]+0].g||0<O[3][z[3]+0].g)return 0}return 1}function me(g,b,O,z,J,te){if(g.Z!=0){var re=g.qd,ie=g.rd;for(e(tu[g.Z]!=null);b<O;++b)tu[g.Z](re,ie,z,J,z,J,te),re=z,ie=J,J+=te;g.qd=re,g.rd=ie}}function ye(g,b){var O=g.l.ma,z=O.Z==0||O.Z==1?g.l.j:g.C;if(z=g.C<z?z:g.C,e(b<=g.l.o),b>z){var J=g.l.width,te=O.ca,re=O.tb+J*z,ie=g.V,ce=g.Ba+g.c*z,xe=g.gc;e(g.ab==1),e(xe[0].hc==3),hl(xe[0],z,b,ie,ce,te,re),me(O,z,b,te,re,J)}g.C=g.Ma=b}function Fe(g,b,O,z,J,te,re){var ie=g.$/z,ce=g.$%z,xe=g.m,Se=g.s,Ve=O+g.$,_e=Ve;J=O+z*J;var Ce=O+z*te,De=280+Se.ua,Ge=g.Pb?ie:16777216,Ue=0<Se.ua?Se.Wa:null,$e=Se.wc,Ye=Ve<Ce?ee(Se,ce,ie):null;e(g.C<te),e(Ce<=J);var lt=!1;e:for(;;){for(;lt||Ve<Ce;){var rt=0;if(ie>=Ge){var jt=Ve-O;e((Ge=g).Pb),Ge.wd=Ge.m,Ge.xd=jt,0<Ge.s.ua&&Te(Ge.s.Wa,Ge.s.vb),Ge=ie+uF}if(ce&$e||(Ye=ee(Se,ce,ie)),e(Ye!=null),Ye.Qb&&(b[Ve]=Ye.qb,lt=!0),!lt)if(oe(xe),Ye.jc){rt=xe,jt=b;var Lt=Ve,pr=Ye.pd[U(rt)&kf-1];e(Ye.jc),256>pr.g?(Q(rt,rt.u+pr.g),jt[Lt]=pr.value,rt=0):(Q(rt,rt.u+pr.g-256),e(256<=pr.value),rt=pr.value),rt==0&&(lt=!0)}else rt=sn(Ye.G[0],Ye.H[0],xe);if(xe.h)break;if(lt||256>rt){if(!lt)if(Ye.nd)b[Ve]=(Ye.qb|rt<<8)>>>0;else{if(oe(xe),lt=sn(Ye.G[1],Ye.H[1],xe),oe(xe),jt=sn(Ye.G[2],Ye.H[2],xe),Lt=sn(Ye.G[3],Ye.H[3],xe),xe.h)break;b[Ve]=(Lt<<24|lt<<16|rt<<8|jt)>>>0}if(lt=!1,++Ve,++ce>=z&&(ce=0,++ie,re!=null&&ie<=te&&!(ie%16)&&re(g,ie),Ue!=null))for(;_e<Ve;)rt=b[_e++],Ue.X[(506832829*rt&4294967295)>>>Ue.Mb]=rt}else if(280>rt){if(rt=Na(rt-256,xe),jt=sn(Ye.G[4],Ye.H[4],xe),oe(xe),jt=Qa(z,jt=Na(jt,xe)),xe.h)break;if(Ve-O<jt||J-Ve<rt)break e;for(Lt=0;Lt<rt;++Lt)b[Ve+Lt]=b[Ve+Lt-jt];for(Ve+=rt,ce+=rt;ce>=z;)ce-=z,++ie,re!=null&&ie<=te&&!(ie%16)&&re(g,ie);if(e(Ve<=J),ce&$e&&(Ye=ee(Se,ce,ie)),Ue!=null)for(;_e<Ve;)rt=b[_e++],Ue.X[(506832829*rt&4294967295)>>>Ue.Mb]=rt}else{if(!(rt<De))break e;for(lt=rt-280,e(Ue!=null);_e<Ve;)rt=b[_e++],Ue.X[(506832829*rt&4294967295)>>>Ue.Mb]=rt;rt=Ve,e(!(lt>>>(jt=Ue).Xa)),b[rt]=jt.X[lt],lt=!0}lt||e(xe.h==M(xe))}if(g.Pb&&xe.h&&Ve<J)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Te(g.s.vb,g.s.Wa);else{if(xe.h)break e;re!=null&&re(g,ie>te?te:ie),g.a=0,g.$=Ve-O}return 1}return g.a=3,0}function He(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var b=g.Wa;b!=null&&(b.X=null),g.vb=null,e(g!=null)}function Me(){var g=new Yt;return g==null?null:(g.a=0,g.xb=_3,Pe("Predictor","VP8LPredictors"),Pe("Predictor","VP8LPredictors_C"),Pe("PredictorAdd","VP8LPredictorsAdd"),Pe("PredictorAdd","VP8LPredictorsAdd_C"),na=Et,Zd=at,e1=Ft,Yc=wt,Qc=Nt,Jc=zt,Cf=vr,y.VP8LMapColor32b=fl,y.VP8LMapColor8b=Qd,g)}function Be(g,b,O,z,J){var te=1,re=[g],ie=[b],ce=z.m,xe=z.s,Se=null,Ve=0;e:for(;;){if(O)for(;te&&be(ce,1);){var _e=re,Ce=ie,De=z,Ge=1,Ue=De.m,$e=De.gc[De.ab],Ye=be(Ue,2);if(De.Oc&1<<Ye)te=0;else{switch(De.Oc|=1<<Ye,$e.hc=Ye,$e.Ea=_e[0],$e.nc=Ce[0],$e.K=[null],++De.ab,e(4>=De.ab),Ye){case 0:case 1:$e.b=be(Ue,3)+2,Ge=Be(Ne($e.Ea,$e.b),Ne($e.nc,$e.b),0,De,$e.K),$e.K=$e.K[0];break;case 3:var lt,rt=be(Ue,8)+1,jt=16<rt?0:4<rt?1:2<rt?2:3;if(_e[0]=Ne($e.Ea,jt),$e.b=jt,lt=Ge=Be(rt,1,0,De,$e.K)){var Lt,pr=rt,Mt=$e,Rr=1<<(8>>Mt.b),Ra=i(Rr);if(Ra==null)lt=0;else{var mr=Mt.K[0],Bt=Mt.w;for(Ra[0]=Mt.K[0][0],Lt=1;Lt<1*pr;++Lt)Ra[Lt]=Qe(mr[Bt+Lt],Ra[Lt-1]);for(;Lt<4*Rr;++Lt)Ra[Lt]=0;Mt.K[0]=null,Mt.K[0]=Ra,lt=1}}Ge=lt;break;case 2:break;default:e(0)}te=Ge}}if(re=re[0],ie=ie[0],te&&be(ce,1)&&!(te=1<=(Ve=be(ce,4))&&11>=Ve)){z.a=3;break e}var bt;if(bt=te)t:{var ia,ur,Or,Nn=z,Ja=re,Ui=ie,Wn=Ve,mi=O,ji=Nn.m,La=Nn.s,Br=[null],Kr=1,$n=0,Yr=cF[Wn];r:for(;;){if(mi&&be(ji,1)){var Za=be(ji,3)+2,Fo=Ne(Ja,Za),sa=Ne(Ui,Za),rs=Fo*sa;if(!Be(Fo,sa,0,Nn,Br))break r;for(Br=Br[0],La.xc=Za,ia=0;ia<rs;++ia){var dn=Br[ia]>>8&65535;Br[ia]=dn,dn>=Kr&&(Kr=dn+1)}}if(ji.h)break r;for(ur=0;5>ur;++ur){var Da=v3[ur];!ur&&0<Wn&&(Da+=1<<Wn),$n<Da&&($n=Da)}var As=s(Kr*Yr,k),Vi=Kr,Ss=s(Vi,X);if(Ss==null)var Ts=null;else e(65536>=Vi),Ts=Ss;var ns=i($n);if(Ts==null||ns==null||As==null){Nn.a=1;break r}var ks=As;for(ia=Or=0;ia<Kr;++ia){var An=Ts[ia],Cs=An.G,Mo=An.H,If=0,Yl=1,ei=0;for(ur=0;5>ur;++ur){Da=v3[ur],Cs[ur]=ks,Mo[ur]=Or,!ur&&0<Wn&&(Da+=1<<Wn);a:{var Zm,h_=Da,eg=Nn,i1=ns,IF=ks,RF=Or,d_=0,ru=eg.m,LF=be(ru,1);if(a(i1,0,0,h_),LF){var DF=be(ru,1)+1,OF=be(ru,1),k3=be(ru,OF==0?1:8);i1[k3]=1,DF==2&&(i1[k3=be(ru,8)]=1);var tg=1}else{var C3=i(19),N3=be(ru,4)+4;if(19<N3){eg.a=3;var rg=0;break a}for(Zm=0;Zm<N3;++Zm)C3[oF[Zm]]=be(ru,3);var p_=void 0,s1=void 0,I3=eg,PF=C3,ng=h_,R3=i1,m_=0,nu=I3.m,L3=8,D3=s(128,k);n:for(;C(D3,0,7,PF,19);){if(be(nu,1)){var FF=2+2*be(nu,3);if((p_=2+be(nu,FF))>ng)break n}else p_=ng;for(s1=0;s1<ng&&p_--;){oe(nu);var O3=D3[0+(127&U(nu))];Q(nu,nu.u+O3.g);var Jh=O3.value;if(16>Jh)R3[s1++]=Jh,Jh!=0&&(L3=Jh);else{var MF=Jh==16,P3=Jh-16,BF=iF[P3],F3=be(nu,aF[P3])+BF;if(s1+F3>ng)break n;for(var UF=MF?L3:0;0<F3--;)R3[s1++]=UF}}m_=1;break n}m_||(I3.a=3),tg=m_}(tg=tg&&!ru.h)&&(d_=C(IF,RF,8,i1,h_)),tg&&d_!=0?rg=d_:(eg.a=3,rg=0)}if(rg==0)break r;if(Yl&&sF[ur]==1&&(Yl=ks[Or].g==0),If+=ks[Or].g,Or+=rg,3>=ur){var o1,g_=ns[0];for(o1=1;o1<Da;++o1)ns[o1]>g_&&(g_=ns[o1]);ei+=g_}}if(An.nd=Yl,An.Qb=0,Yl&&(An.qb=(Cs[3][Mo[3]+0].value<<24|Cs[1][Mo[1]+0].value<<16|Cs[2][Mo[2]+0].value)>>>0,If==0&&256>Cs[0][Mo[0]+0].value&&(An.Qb=1,An.qb+=Cs[0][Mo[0]+0].value<<8)),An.jc=!An.Qb&&6>ei,An.jc){var ag,Ql=An;for(ag=0;ag<kf;++ag){var au=ag,iu=Ql.pd[au],ig=Ql.G[0][Ql.H[0]+au];256<=ig.value?(iu.g=ig.g+256,iu.value=ig.value):(iu.g=0,iu.value=0,au>>=vn(ig,8,iu),au>>=vn(Ql.G[1][Ql.H[1]+au],16,iu),au>>=vn(Ql.G[2][Ql.H[2]+au],0,iu),vn(Ql.G[3][Ql.H[3]+au],24,iu))}}}La.vc=Br,La.Wb=Kr,La.Ya=Ts,La.yc=As,bt=1;break t}bt=0}if(!(te=bt)){z.a=3;break e}if(0<Ve){if(xe.ua=1<<Ve,!K(xe.Wa,Ve)){z.a=1,te=0;break e}}else xe.ua=0;var v_=z,M3=re,jF=ie,x_=v_.s,__=x_.xc;if(v_.c=M3,v_.i=jF,x_.md=Ne(M3,__),x_.wc=__==0?-1:(1<<__)-1,O){z.xb=vF;break e}if((Se=i(re*ie))==null){z.a=1,te=0;break e}te=(te=Fe(z,Se,0,re,ie,ie,null))&&!ce.h;break e}return te?(J!=null?J[0]=Se:(e(Se==null),e(O)),z.$=0,O||He(xe)):He(xe),te}function je(g,b){var O=g.c*g.i,z=O+b+16*b;return e(g.c<=b),g.V=i(z),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+O+b,1)}function nt(g,b){var O=g.C,z=b-O,J=g.V,te=g.Ba+g.c*O;for(e(b<=g.l.o);0<z;){var re=16<z?16:z,ie=g.l.ma,ce=g.l.width,xe=ce*re,Se=ie.ca,Ve=ie.tb+ce*O,_e=g.Ta,Ce=g.Ua;pe(g,re,J,te),c3(_e,Ce,Se,Ve,xe),me(ie,O,O+re,Se,Ve,ce),z-=re,J+=re*g.c,O+=re}e(O==b),g.C=g.Ma=b}function dt(){this.ub=this.yd=this.td=this.Rb=0}function _t(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ot(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function xt(){this.Yb=function(){var g=[];return function b(O,z,J){for(var te=J[z],re=0;re<te&&(O.push(J.length>z+1?[]:0),!(J.length<z+1));re++)b(O[re],z+1,J)}(g,0,[3,11]),g}()}function Zt(){this.jb=i(3),this.Wc=o([4,8],xt),this.Xc=o([4,17],xt)}function Hr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function _r(){this.ld=this.La=this.dd=this.tc=0}function kn(){this.Na=this.la=0}function Yi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Li(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function _s(){this.uc=this.M=this.Nb=0,this.wa=Array(new _r),this.Y=0,this.ya=Array(new Li),this.aa=0,this.l=new Oi}function Di(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Ro(){this.cb=this.a=0,this.sc="",this.m=new D,this.Od=new dt,this.Kc=new _t,this.ed=new Hr,this.Qa=new ot,this.Ic=this.$c=this.Aa=0,this.D=new _s,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,D),this.ia=0,this.pb=s(4,Yi),this.Pa=new Zt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Di),this.Hd=0,this.rb=Array(new kn),this.sb=0,this.wa=Array(new _r),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Li),this.L=this.aa=0,this.gd=o([4,2],_r),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Gn(g,b){return 0>g?0:g>b?b:g}function Oi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Qi(){var g=new Ro;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,n1||(n1=Vr)),g}function xn(g,b,O){return g.a==0&&(g.a=b,g.sc=O,g.cb=0),0}function nl(g,b,O){return 3<=O&&g[b+0]==157&&g[b+1]==1&&g[b+2]==42}function Ji(g,b){if(g==null)return 0;if(g.a=0,g.sc="OK",b==null)return xn(g,2,"null VP8Io passed to VP8GetHeaders()");var O=b.data,z=b.w,J=b.ha;if(4>J)return xn(g,7,"Truncated header.");var te=O[z+0]|O[z+1]<<8|O[z+2]<<16,re=g.Od;if(re.Rb=!(1&te),re.td=te>>1&7,re.yd=te>>4&1,re.ub=te>>5,3<re.td)return xn(g,3,"Incorrect keyframe parameters.");if(!re.yd)return xn(g,4,"Frame not displayable.");z+=3,J-=3;var ie=g.Kc;if(re.Rb){if(7>J)return xn(g,7,"cannot parse picture header");if(!nl(O,z,J))return xn(g,3,"Bad code word");ie.c=16383&(O[z+4]<<8|O[z+3]),ie.Td=O[z+4]>>6,ie.i=16383&(O[z+6]<<8|O[z+5]),ie.Ud=O[z+6]>>6,z+=7,J-=7,g.za=ie.c+15>>4,g.Ub=ie.i+15>>4,b.width=ie.c,b.height=ie.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,a((te=g.Pa).jb,0,255,te.jb.length),e((te=g.Qa)!=null),te.Cb=0,te.Bb=0,te.Fb=1,a(te.Zb,0,0,te.Zb.length),a(te.Lb,0,0,te.Lb)}if(re.ub>J)return xn(g,7,"bad partition length");V(te=g.m,O,z,re.ub),z+=re.ub,J-=re.ub,re.Rb&&(ie.Ld=he(te),ie.Kd=he(te)),ie=g.Qa;var ce,xe=g.Pa;if(e(te!=null),e(ie!=null),ie.Cb=he(te),ie.Cb){if(ie.Bb=he(te),he(te)){for(ie.Fb=he(te),ce=0;4>ce;++ce)ie.Zb[ce]=he(te)?ae(te,7):0;for(ce=0;4>ce;++ce)ie.Lb[ce]=he(te)?ae(te,6):0}if(ie.Bb)for(ce=0;3>ce;++ce)xe.jb[ce]=he(te)?H(te,8):255}else ie.Bb=0;if(te.Ka)return xn(g,3,"cannot parse segment header");if((ie=g.ed).zd=he(te),ie.Tb=H(te,6),ie.wb=H(te,3),ie.Pc=he(te),ie.Pc&&he(te)){for(xe=0;4>xe;++xe)he(te)&&(ie.vd[xe]=ae(te,6));for(xe=0;4>xe;++xe)he(te)&&(ie.od[xe]=ae(te,6))}if(g.L=ie.Tb==0?0:ie.zd?1:2,te.Ka)return xn(g,3,"cannot parse filter header");var Se=J;if(J=ce=z,z=ce+Se,ie=Se,g.Xb=(1<<H(g.m,2))-1,Se<3*(xe=g.Xb))O=7;else{for(ce+=3*xe,ie-=3*xe,Se=0;Se<xe;++Se){var Ve=O[J+0]|O[J+1]<<8|O[J+2]<<16;Ve>ie&&(Ve=ie),V(g.Jc[+Se],O,ce,Ve),ce+=Ve,ie-=Ve,J+=3}V(g.Jc[+xe],O,ce,ie),O=ce<z?0:5}if(O!=0)return xn(g,O,"cannot parse partitions");for(O=H(ce=g.m,7),J=he(ce)?ae(ce,4):0,z=he(ce)?ae(ce,4):0,ie=he(ce)?ae(ce,4):0,xe=he(ce)?ae(ce,4):0,ce=he(ce)?ae(ce,4):0,Se=g.Qa,Ve=0;4>Ve;++Ve){if(Se.Cb){var _e=Se.Zb[Ve];Se.Fb||(_e+=O)}else{if(0<Ve){g.pb[Ve]=g.pb[0];continue}_e=O}var Ce=g.pb[Ve];Ce.Sc[0]=c_[Gn(_e+J,127)],Ce.Sc[1]=u_[Gn(_e+0,127)],Ce.Eb[0]=2*c_[Gn(_e+z,127)],Ce.Eb[1]=101581*u_[Gn(_e+ie,127)]>>16,8>Ce.Eb[1]&&(Ce.Eb[1]=8),Ce.Qc[0]=c_[Gn(_e+xe,117)],Ce.Qc[1]=u_[Gn(_e+ce,127)],Ce.lc=_e+ce}if(!re.Rb)return xn(g,4,"Not a key frame.");for(he(te),re=g.Pa,O=0;4>O;++O){for(J=0;8>J;++J)for(z=0;3>z;++z)for(ie=0;11>ie;++ie)xe=we(te,mF[O][J][z][ie])?H(te,8):dF[O][J][z][ie],re.Wc[O][J].Yb[z][ie]=xe;for(J=0;17>J;++J)re.Xc[O][J]=re.Wc[O][gF[J]]}return g.kc=he(te),g.kc&&(g.Bd=H(te,8)),g.cb=1}function Vr(g,b,O,z,J,te,re){var ie=b[J].Yb[O];for(O=0;16>J;++J){if(!we(g,ie[O+0]))return J;for(;!we(g,ie[O+1]);)if(ie=b[++J].Yb[0],O=0,J==16)return 16;var ce=b[J+1].Yb;if(we(g,ie[O+2])){var xe=g,Se=0;if(we(xe,(_e=ie)[(Ve=O)+3]))if(we(xe,_e[Ve+6])){for(ie=0,Ve=2*(Se=we(xe,_e[Ve+8]))+(_e=we(xe,_e[Ve+9+Se])),Se=0,_e=fF[Ve];_e[ie];++ie)Se+=Se+we(xe,_e[ie]);Se+=3+(8<<Ve)}else we(xe,_e[Ve+7])?(Se=7+2*we(xe,165),Se+=we(xe,145)):Se=5+we(xe,159);else Se=we(xe,_e[Ve+4])?3+we(xe,_e[Ve+5]):2;ie=ce[2]}else Se=1,ie=ce[1];ce=re+hF[J],0>(xe=g).b&&de(xe);var Ve,_e=xe.b,Ce=(Ve=xe.Ca>>1)-(xe.I>>_e)>>31;--xe.b,xe.Ca+=Ce,xe.Ca|=1,xe.I-=(Ve+1&Ce)<<_e,te[ce]=((Se^Ce)-Ce)*z[(0<J)+0]}return 16}function zl(g){var b=g.rb[g.sb-1];b.la=0,b.Na=0,a(g.zc,0,0,g.zc.length),g.ja=0}function ja(g,b,O,z,J){J=g[b+O+32*z]+(J>>3),g[b+O+32*z]=-256&J?0>J?0:255:J}function Cn(g,b,O,z,J,te){ja(g,b,0,O,z+J),ja(g,b,1,O,z+te),ja(g,b,2,O,z-te),ja(g,b,3,O,z-J)}function Lo(g){return(20091*g>>16)+g}function wf(g,b,O,z){var J,te=0,re=i(16);for(J=0;4>J;++J){var ie=g[b+0]+g[b+8],ce=g[b+0]-g[b+8],xe=(35468*g[b+4]>>16)-Lo(g[b+12]),Se=Lo(g[b+4])+(35468*g[b+12]>>16);re[te+0]=ie+Se,re[te+1]=ce+xe,re[te+2]=ce-xe,re[te+3]=ie-Se,te+=4,b++}for(J=te=0;4>J;++J)ie=(g=re[te+0]+4)+re[te+8],ce=g-re[te+8],xe=(35468*re[te+4]>>16)-Lo(re[te+12]),ja(O,z,0,0,ie+(Se=Lo(re[te+4])+(35468*re[te+12]>>16))),ja(O,z,1,0,ce+xe),ja(O,z,2,0,ce-xe),ja(O,z,3,0,ie-Se),te++,z+=32}function Hd(g,b,O,z){var J=g[b+0]+4,te=35468*g[b+4]>>16,re=Lo(g[b+4]),ie=35468*g[b+1]>>16;Cn(O,z,0,J+re,g=Lo(g[b+1]),ie),Cn(O,z,1,J+te,g,ie),Cn(O,z,2,J-te,g,ie),Cn(O,z,3,J-re,g,ie)}function qd(g,b,O,z,J){wf(g,b,O,z),J&&wf(g,b+16,O,z+4)}function Zs(g,b,O,z){Nf(g,b+0,O,z,1),Nf(g,b+32,O,z+128,1)}function Vh(g,b,O,z){var J;for(g=g[b+0]+4,J=0;4>J;++J)for(b=0;4>b;++b)ja(O,z,b,J,g)}function al(g,b,O,z){g[b+0]&&$r(g,b+0,O,z),g[b+16]&&$r(g,b+16,O,z+4),g[b+32]&&$r(g,b+32,O,z+128),g[b+48]&&$r(g,b+48,O,z+128+4)}function Zi(g,b,O,z){var J,te=i(16);for(J=0;4>J;++J){var re=g[b+0+J]+g[b+12+J],ie=g[b+4+J]+g[b+8+J],ce=g[b+4+J]-g[b+8+J],xe=g[b+0+J]-g[b+12+J];te[0+J]=re+ie,te[8+J]=re-ie,te[4+J]=xe+ce,te[12+J]=xe-ce}for(J=0;4>J;++J)re=(g=te[0+4*J]+3)+te[3+4*J],ie=te[1+4*J]+te[2+4*J],ce=te[1+4*J]-te[2+4*J],xe=g-te[3+4*J],O[z+0]=re+ie>>3,O[z+16]=xe+ce>>3,O[z+32]=re-ie>>3,O[z+48]=xe-ce>>3,z+=64}function il(g,b,O){var z,J=b-32,te=Es,re=255-g[J-1];for(z=0;z<O;++z){var ie,ce=te,xe=re+g[b-1];for(ie=0;ie<O;++ie)g[b+ie]=ce[xe+g[J+ie]];b+=32}}function zh(g,b){il(g,b,4)}function Hh(g,b){il(g,b,8)}function qh(g,b){il(g,b,16)}function jc(g,b){var O;for(O=0;16>O;++O)n(g,b+32*O,g,b-32,16)}function Do(g,b){var O;for(O=16;0<O;--O)a(g,b,g[b-1],16),b+=32}function ys(g,b,O){var z;for(z=0;16>z;++z)a(b,O+32*z,g,16)}function Gd(g,b){var O,z=16;for(O=0;16>O;++O)z+=g[b-1+32*O]+g[b+O-32];ys(z>>5,g,b)}function Hl(g,b){var O,z=8;for(O=0;16>O;++O)z+=g[b-1+32*O];ys(z>>4,g,b)}function es(g,b){var O,z=8;for(O=0;16>O;++O)z+=g[b+O-32];ys(z>>4,g,b)}function Wd(g,b){ys(128,g,b)}function tr(g,b,O){return g+2*b+O+2>>2}function Vc(g,b){var O,z=b-32;for(z=new Uint8Array([tr(g[z-1],g[z+0],g[z+1]),tr(g[z+0],g[z+1],g[z+2]),tr(g[z+1],g[z+2],g[z+3]),tr(g[z+2],g[z+3],g[z+4])]),O=0;4>O;++O)n(g,b+32*O,z,0,z.length)}function Gh(g,b){var O=g[b-1],z=g[b-1+32],J=g[b-1+64],te=g[b-1+96];ke(g,b+0,16843009*tr(g[b-1-32],O,z)),ke(g,b+32,16843009*tr(O,z,J)),ke(g,b+64,16843009*tr(z,J,te)),ke(g,b+96,16843009*tr(J,te,te))}function ql(g,b){var O,z=4;for(O=0;4>O;++O)z+=g[b+O-32]+g[b-1+32*O];for(z>>=3,O=0;4>O;++O)a(g,b+32*O,z,4)}function Pi(g,b){var O=g[b-1+0],z=g[b-1+32],J=g[b-1+64],te=g[b-1-32],re=g[b+0-32],ie=g[b+1-32],ce=g[b+2-32],xe=g[b+3-32];g[b+0+96]=tr(z,J,g[b-1+96]),g[b+1+96]=g[b+0+64]=tr(O,z,J),g[b+2+96]=g[b+1+64]=g[b+0+32]=tr(te,O,z),g[b+3+96]=g[b+2+64]=g[b+1+32]=g[b+0+0]=tr(re,te,O),g[b+3+64]=g[b+2+32]=g[b+1+0]=tr(ie,re,te),g[b+3+32]=g[b+2+0]=tr(ce,ie,re),g[b+3+0]=tr(xe,ce,ie)}function eo(g,b){var O=g[b+1-32],z=g[b+2-32],J=g[b+3-32],te=g[b+4-32],re=g[b+5-32],ie=g[b+6-32],ce=g[b+7-32];g[b+0+0]=tr(g[b+0-32],O,z),g[b+1+0]=g[b+0+32]=tr(O,z,J),g[b+2+0]=g[b+1+32]=g[b+0+64]=tr(z,J,te),g[b+3+0]=g[b+2+32]=g[b+1+64]=g[b+0+96]=tr(J,te,re),g[b+3+32]=g[b+2+64]=g[b+1+96]=tr(te,re,ie),g[b+3+64]=g[b+2+96]=tr(re,ie,ce),g[b+3+96]=tr(ie,ce,ce)}function bf(g,b){var O=g[b-1+0],z=g[b-1+32],J=g[b-1+64],te=g[b-1-32],re=g[b+0-32],ie=g[b+1-32],ce=g[b+2-32],xe=g[b+3-32];g[b+0+0]=g[b+1+64]=te+re+1>>1,g[b+1+0]=g[b+2+64]=re+ie+1>>1,g[b+2+0]=g[b+3+64]=ie+ce+1>>1,g[b+3+0]=ce+xe+1>>1,g[b+0+96]=tr(J,z,O),g[b+0+64]=tr(z,O,te),g[b+0+32]=g[b+1+96]=tr(O,te,re),g[b+1+32]=g[b+2+96]=tr(te,re,ie),g[b+2+32]=g[b+3+96]=tr(re,ie,ce),g[b+3+32]=tr(ie,ce,xe)}function _n(g,b){var O=g[b+0-32],z=g[b+1-32],J=g[b+2-32],te=g[b+3-32],re=g[b+4-32],ie=g[b+5-32],ce=g[b+6-32],xe=g[b+7-32];g[b+0+0]=O+z+1>>1,g[b+1+0]=g[b+0+64]=z+J+1>>1,g[b+2+0]=g[b+1+64]=J+te+1>>1,g[b+3+0]=g[b+2+64]=te+re+1>>1,g[b+0+32]=tr(O,z,J),g[b+1+32]=g[b+0+96]=tr(z,J,te),g[b+2+32]=g[b+1+96]=tr(J,te,re),g[b+3+32]=g[b+2+96]=tr(te,re,ie),g[b+3+64]=tr(re,ie,ce),g[b+3+96]=tr(ie,ce,xe)}function zc(g,b){var O=g[b-1+0],z=g[b-1+32],J=g[b-1+64],te=g[b-1+96];g[b+0+0]=O+z+1>>1,g[b+2+0]=g[b+0+32]=z+J+1>>1,g[b+2+32]=g[b+0+64]=J+te+1>>1,g[b+1+0]=tr(O,z,J),g[b+3+0]=g[b+1+32]=tr(z,J,te),g[b+3+32]=g[b+1+64]=tr(J,te,te),g[b+3+64]=g[b+2+64]=g[b+0+96]=g[b+1+96]=g[b+2+96]=g[b+3+96]=te}function Ef(g,b){var O=g[b-1+0],z=g[b-1+32],J=g[b-1+64],te=g[b-1+96],re=g[b-1-32],ie=g[b+0-32],ce=g[b+1-32],xe=g[b+2-32];g[b+0+0]=g[b+2+32]=O+re+1>>1,g[b+0+32]=g[b+2+64]=z+O+1>>1,g[b+0+64]=g[b+2+96]=J+z+1>>1,g[b+0+96]=te+J+1>>1,g[b+3+0]=tr(ie,ce,xe),g[b+2+0]=tr(re,ie,ce),g[b+1+0]=g[b+3+32]=tr(O,re,ie),g[b+1+32]=g[b+3+64]=tr(z,O,re),g[b+1+64]=g[b+3+96]=tr(J,z,O),g[b+1+96]=tr(te,J,z)}function sl(g,b){var O;for(O=0;8>O;++O)n(g,b+32*O,g,b-32,8)}function Wh(g,b){var O;for(O=0;8>O;++O)a(g,b,g[b-1],8),b+=32}function to(g,b,O){var z;for(z=0;8>z;++z)a(b,O+32*z,g,8)}function Hc(g,b){var O,z=8;for(O=0;8>O;++O)z+=g[b+O-32]+g[b-1+32*O];to(z>>4,g,b)}function ts(g,b){var O,z=4;for(O=0;8>O;++O)z+=g[b+O-32];to(z>>3,g,b)}function qc(g,b){var O,z=4;for(O=0;8>O;++O)z+=g[b-1+32*O];to(z>>3,g,b)}function $h(g,b){to(128,g,b)}function Fi(g,b,O){var z=g[b-O],J=g[b+0],te=3*(J-z)+a_[1020+g[b-2*O]-g[b+O]],re=qm[112+(te+4>>3)];g[b-O]=Es[255+z+qm[112+(te+3>>3)]],g[b+0]=Es[255+J-re]}function Gc(g,b,O,z){var J=g[b+0],te=g[b+O];return so[255+g[b-2*O]-g[b-O]]>z||so[255+te-J]>z}function ol(g,b,O,z){return 4*so[255+g[b-O]-g[b+0]]+so[255+g[b-2*O]-g[b+O]]<=z}function ll(g,b,O,z,J){var te=g[b-3*O],re=g[b-2*O],ie=g[b-O],ce=g[b+0],xe=g[b+O],Se=g[b+2*O],Ve=g[b+3*O];return 4*so[255+ie-ce]+so[255+re-xe]>z?0:so[255+g[b-4*O]-te]<=J&&so[255+te-re]<=J&&so[255+re-ie]<=J&&so[255+Ve-Se]<=J&&so[255+Se-xe]<=J&&so[255+xe-ce]<=J}function cl(g,b,O,z){var J=2*z+1;for(z=0;16>z;++z)ol(g,b+z,O,J)&&Fi(g,b+z,O)}function ul(g,b,O,z){var J=2*z+1;for(z=0;16>z;++z)ol(g,b+z*O,1,J)&&Fi(g,b+z*O,1)}function Xh(g,b,O,z){var J;for(J=3;0<J;--J)cl(g,b+=4*O,O,z)}function Af(g,b,O,z){var J;for(J=3;0<J;--J)ul(g,b+=4,O,z)}function Mi(g,b,O,z,J,te,re,ie){for(te=2*te+1;0<J--;){if(ll(g,b,O,te,re))if(Gc(g,b,O,ie))Fi(g,b,O);else{var ce=g,xe=b,Se=O,Ve=ce[xe-2*Se],_e=ce[xe-Se],Ce=ce[xe+0],De=ce[xe+Se],Ge=ce[xe+2*Se],Ue=27*(Ye=a_[1020+3*(Ce-_e)+a_[1020+Ve-De]])+63>>7,$e=18*Ye+63>>7,Ye=9*Ye+63>>7;ce[xe-3*Se]=Es[255+ce[xe-3*Se]+Ye],ce[xe-2*Se]=Es[255+Ve+$e],ce[xe-Se]=Es[255+_e+Ue],ce[xe+0]=Es[255+Ce-Ue],ce[xe+Se]=Es[255+De-$e],ce[xe+2*Se]=Es[255+Ge-Ye]}b+=z}}function ro(g,b,O,z,J,te,re,ie){for(te=2*te+1;0<J--;){if(ll(g,b,O,te,re))if(Gc(g,b,O,ie))Fi(g,b,O);else{var ce=g,xe=b,Se=O,Ve=ce[xe-Se],_e=ce[xe+0],Ce=ce[xe+Se],De=qm[112+(4+(Ge=3*(_e-Ve))>>3)],Ge=qm[112+(Ge+3>>3)],Ue=De+1>>1;ce[xe-2*Se]=Es[255+ce[xe-2*Se]+Ue],ce[xe-Se]=Es[255+Ve+Ge],ce[xe+0]=Es[255+_e-De],ce[xe+Se]=Es[255+Ce-Ue]}b+=z}}function Sf(g,b,O,z,J,te){Mi(g,b,O,1,16,z,J,te)}function Oo(g,b,O,z,J,te){Mi(g,b,1,O,16,z,J,te)}function Wc(g,b,O,z,J,te){var re;for(re=3;0<re;--re)ro(g,b+=4*O,O,1,16,z,J,te)}function L(g,b,O,z,J,te){var re;for(re=3;0<re;--re)ro(g,b+=4,1,O,16,z,J,te)}function Y(g,b,O,z,J,te,re,ie){Mi(g,b,J,1,8,te,re,ie),Mi(O,z,J,1,8,te,re,ie)}function ve(g,b,O,z,J,te,re,ie){Mi(g,b,1,J,8,te,re,ie),Mi(O,z,1,J,8,te,re,ie)}function Ee(g,b,O,z,J,te,re,ie){ro(g,b+4*J,J,1,8,te,re,ie),ro(O,z+4*J,J,1,8,te,re,ie)}function Ie(g,b,O,z,J,te,re,ie){ro(g,b+4,1,J,8,te,re,ie),ro(O,z+4,1,J,8,te,re,ie)}function We(){this.ba=new Tt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Kt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function et(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Rt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Pt(){this.ua=0,this.Wa=new Re,this.vb=new Re,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new X,this.yc=new k}function Yt(){this.xb=this.a=0,this.l=new Oi,this.ca=new Tt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Pt,this.ab=0,this.gc=s(4,Rt),this.Oc=0}function Ht(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Oi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ar(g,b,O,z,J,te,re){for(g=g==null?0:g[b+0],b=0;b<re;++b)J[te+b]=g+O[z+b]&255,g=J[te+b]}function yn(g,b,O,z,J,te,re){var ie;if(g==null)Ar(null,null,O,z,J,te,re);else for(ie=0;ie<re;++ie)J[te+ie]=g[b+ie]+O[z+ie]&255}function fn(g,b,O,z,J,te,re){if(g==null)Ar(null,null,O,z,J,te,re);else{var ie,ce=g[b+0],xe=ce,Se=ce;for(ie=0;ie<re;++ie)xe=Se+(ce=g[b+ie])-xe,Se=O[z+ie]+(-256&xe?0>xe?0:255:xe)&255,xe=ce,J[te+ie]=Se}}function v(g,b,O,z){var J=b.width,te=b.o;if(e(g!=null&&b!=null),0>O||0>=z||O+z>te)return null;if(!g.Cc){if(g.ga==null){var re;if(g.ga=new Ht,(re=g.ga==null)||(re=b.width*b.o,e(g.Gb.length==0),g.Gb=i(re),g.Uc=0,g.Gb==null?re=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,re=1),re=!re),!re){re=g.ga;var ie=g.Fa,ce=g.P,xe=g.qc,Se=g.mb,Ve=g.nb,_e=ce+1,Ce=xe-1,De=re.l;if(e(ie!=null&&Se!=null&&b!=null),tu[0]=null,tu[1]=Ar,tu[2]=yn,tu[3]=fn,re.ca=Se,re.tb=Ve,re.c=b.width,re.i=b.height,e(0<re.c&&0<re.i),1>=xe)b=0;else if(re.$a=3&ie[ce+0],re.Z=ie[ce+0]>>2&3,re.Lc=ie[ce+0]>>4&3,ce=ie[ce+0]>>6&3,0>re.$a||1<re.$a||4<=re.Z||1<re.Lc||ce)b=0;else if(De.put=Ut,De.ac=Mr,De.bc=xs,De.ma=re,De.width=b.width,De.height=b.height,De.Da=b.Da,De.v=b.v,De.va=b.va,De.j=b.j,De.o=b.o,re.$a)e:{e(re.$a==1),b=Me();t:for(;;){if(b==null){b=0;break e}if(e(re!=null),re.mc=b,b.c=re.c,b.i=re.i,b.l=re.l,b.l.ma=re,b.l.width=re.c,b.l.height=re.i,b.a=0,W(b.m,ie,_e,Ce),!Be(re.c,re.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&ue(b.s)?(re.ic=1,ie=b.c*b.i,b.Ta=null,b.Ua=0,b.V=i(ie),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(re.ic=0,b=je(b,re.c)),!b))break t;b=1;break e}re.mc=null,b=0}else b=Ce>=re.c*re.i;re=!b}if(re)return null;g.ga.Lc!=1?g.Ga=0:z=te-O}e(g.ga!=null),e(O+z<=te);e:{if(b=(ie=g.ga).c,te=ie.l.o,ie.$a==0){if(_e=g.rc,Ce=g.Vc,De=g.Fa,ce=g.P+1+O*b,xe=g.mb,Se=g.nb+O*b,e(ce<=g.P+g.qc),ie.Z!=0)for(e(tu[ie.Z]!=null),re=0;re<z;++re)tu[ie.Z](_e,Ce,De,ce,xe,Se,b),_e=xe,Ce=Se,Se+=b,ce+=b;else for(re=0;re<z;++re)n(xe,Se,De,ce,b),_e=xe,Ce=Se,Se+=b,ce+=b;g.rc=_e,g.Vc=Ce}else{if(e(ie.mc!=null),b=O+z,e((re=ie.mc)!=null),e(b<=re.i),re.C>=b)b=1;else if(ie.ic||ze(),ie.ic){ie=re.V,_e=re.Ba,Ce=re.c;var Ge=re.i,Ue=(De=1,ce=re.$/Ce,xe=re.$%Ce,Se=re.m,Ve=re.s,re.$),$e=Ce*Ge,Ye=Ce*b,lt=Ve.wc,rt=Ue<Ye?ee(Ve,xe,ce):null;e(Ue<=$e),e(b<=Ge),e(ue(Ve));t:for(;;){for(;!Se.h&&Ue<Ye;){if(xe&lt||(rt=ee(Ve,xe,ce)),e(rt!=null),oe(Se),256>(Ge=sn(rt.G[0],rt.H[0],Se)))ie[_e+Ue]=Ge,++Ue,++xe>=Ce&&(xe=0,++ce<=b&&!(ce%16)&&ye(re,ce));else{if(!(280>Ge)){De=0;break t}Ge=Na(Ge-256,Se);var jt,Lt=sn(rt.G[4],rt.H[4],Se);if(oe(Se),!(Ue>=(Lt=Qa(Ce,Lt=Na(Lt,Se)))&&$e-Ue>=Ge)){De=0;break t}for(jt=0;jt<Ge;++jt)ie[_e+Ue+jt]=ie[_e+Ue+jt-Lt];for(Ue+=Ge,xe+=Ge;xe>=Ce;)xe-=Ce,++ce<=b&&!(ce%16)&&ye(re,ce);Ue<Ye&&xe&lt&&(rt=ee(Ve,xe,ce))}e(Se.h==M(Se))}ye(re,ce>b?b:ce);break t}!De||Se.h&&Ue<$e?(De=0,re.a=Se.h?5:3):re.$=Ue,b=De}else b=Fe(re,re.V,re.Ba,re.c,re.i,b,nt);if(!b){z=0;break e}}O+z>=te&&(g.Cc=1),z=1}if(!z)return null;if(g.Cc&&((z=g.ga)!=null&&(z.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+O*J}function B(g,b,O,z,J,te){for(;0<J--;){var re,ie=g,ce=b+(O?1:0),xe=g,Se=b+(O?0:3);for(re=0;re<z;++re){var Ve=xe[Se+4*re];Ve!=255&&(Ve*=32897,ie[ce+4*re+0]=ie[ce+4*re+0]*Ve>>23,ie[ce+4*re+1]=ie[ce+4*re+1]*Ve>>23,ie[ce+4*re+2]=ie[ce+4*re+2]*Ve>>23)}b+=te}}function G(g,b,O,z,J){for(;0<z--;){var te;for(te=0;te<O;++te){var re=g[b+2*te+0],ie=15&(xe=g[b+2*te+1]),ce=4369*ie,xe=(240&xe|xe>>4)*ce>>16;g[b+2*te+0]=(240&re|re>>4)*ce>>16&240|(15&re|re<<4)*ce>>16>>4&15,g[b+2*te+1]=240&xe|ie}b+=J}}function se(g,b,O,z,J,te,re,ie){var ce,xe,Se=255;for(xe=0;xe<J;++xe){for(ce=0;ce<z;++ce){var Ve=g[b+ce];te[re+4*ce]=Ve,Se&=Ve}b+=O,re+=ie}return Se!=255}function Le(g,b,O,z,J){var te;for(te=0;te<J;++te)O[z+te]=g[b+te]>>8}function ze(){r1=B,o3=G,l3=se,c3=Le}function ft(g,b,O){y[g]=function(z,J,te,re,ie,ce,xe,Se,Ve,_e,Ce,De,Ge,Ue,$e,Ye,lt){var rt,jt=lt-1>>1,Lt=ie[ce+0]|xe[Se+0]<<16,pr=Ve[_e+0]|Ce[De+0]<<16;e(z!=null);var Mt=3*Lt+pr+131074>>2;for(b(z[J+0],255&Mt,Mt>>16,Ge,Ue),te!=null&&(Mt=3*pr+Lt+131074>>2,b(te[re+0],255&Mt,Mt>>16,$e,Ye)),rt=1;rt<=jt;++rt){var Rr=ie[ce+rt]|xe[Se+rt]<<16,Ra=Ve[_e+rt]|Ce[De+rt]<<16,mr=Lt+Rr+pr+Ra+524296,Bt=mr+2*(Rr+pr)>>3;Mt=Bt+Lt>>1,Lt=(mr=mr+2*(Lt+Ra)>>3)+Rr>>1,b(z[J+2*rt-1],255&Mt,Mt>>16,Ge,Ue+(2*rt-1)*O),b(z[J+2*rt-0],255&Lt,Lt>>16,Ge,Ue+(2*rt-0)*O),te!=null&&(Mt=mr+pr>>1,Lt=Bt+Ra>>1,b(te[re+2*rt-1],255&Mt,Mt>>16,$e,Ye+(2*rt-1)*O),b(te[re+2*rt+0],255&Lt,Lt>>16,$e,Ye+(2*rt+0)*O)),Lt=Rr,pr=Ra}1&lt||(Mt=3*Lt+pr+131074>>2,b(z[J+lt-1],255&Mt,Mt>>16,Ge,Ue+(lt-1)*O),te!=null&&(Mt=3*pr+Lt+131074>>2,b(te[re+lt-1],255&Mt,Mt>>16,$e,Ye+(lt-1)*O)))}}function or(){oo[Gm]=xF,oo[Wm]=y3,oo[m3]=_F,oo[$m]=w3,oo[Xm]=b3,oo[i_]=E3,oo[g3]=yF,oo[s_]=y3,oo[o_]=w3,oo[Km]=b3,oo[l_]=E3}function wn(g){return g&-16384?0>g?0:255:g>>wF}function Sr(g,b){return wn((19077*g>>8)+(26149*b>>8)-14234)}function bn(g,b,O){return wn((19077*g>>8)-(6419*b>>8)-(13320*O>>8)+8708)}function Va(g,b){return wn((19077*g>>8)+(33050*b>>8)-17685)}function di(g,b,O,z,J){z[J+0]=Sr(g,O),z[J+1]=bn(g,b,O),z[J+2]=Va(g,b)}function En(g,b,O,z,J){z[J+0]=Va(g,b),z[J+1]=bn(g,b,O),z[J+2]=Sr(g,O)}function pi(g,b,O,z,J){var te=bn(g,b,O);b=te<<3&224|Va(g,b)>>3,z[J+0]=248&Sr(g,O)|te>>5,z[J+1]=b}function no(g,b,O,z,J){var te=240&Va(g,b)|15;z[J+0]=240&Sr(g,O)|bn(g,b,O)>>4,z[J+1]=te}function Gl(g,b,O,z,J){z[J+0]=255,di(g,b,O,z,J+1)}function $d(g,b,O,z,J){En(g,b,O,z,J),z[J+3]=255}function Bi(g,b,O,z,J){di(g,b,O,z,J),z[J+3]=255}function Wl(g,b,O){y[g]=function(z,J,te,re,ie,ce,xe,Se,Ve){for(var _e=Se+(-2&Ve)*O;Se!=_e;)b(z[J+0],te[re+0],ie[ce+0],xe,Se),b(z[J+1],te[re+0],ie[ce+0],xe,Se+O),J+=2,++re,++ce,Se+=2*O;1&Ve&&b(z[J+0],te[re+0],ie[ce+0],xe,Se)}}function Kh(g,b,O){return O==0?g==0?b==0?6:5:b==0?4:0:O}function Vm(g,b,O,z,J){switch(g>>>30){case 3:Nf(b,O,z,J,0);break;case 2:io(b,O,z,J);break;case 1:$r(b,O,z,J)}}function ao(g,b){var O,z,J=b.M,te=b.Nb,re=g.oc,ie=g.pc+40,ce=g.oc,xe=g.pc+584,Se=g.oc,Ve=g.pc+600;for(O=0;16>O;++O)re[ie+32*O-1]=129;for(O=0;8>O;++O)ce[xe+32*O-1]=129,Se[Ve+32*O-1]=129;for(0<J?re[ie-1-32]=ce[xe-1-32]=Se[Ve-1-32]=129:(a(re,ie-32-1,127,21),a(ce,xe-32-1,127,9),a(Se,Ve-32-1,127,9)),z=0;z<g.za;++z){var _e=b.ya[b.aa+z];if(0<z){for(O=-1;16>O;++O)n(re,ie+32*O-4,re,ie+32*O+12,4);for(O=-1;8>O;++O)n(ce,xe+32*O-4,ce,xe+32*O+4,4),n(Se,Ve+32*O-4,Se,Ve+32*O+4,4)}var Ce=g.Gd,De=g.Hd+z,Ge=_e.ad,Ue=_e.Hc;if(0<J&&(n(re,ie-32,Ce[De].y,0,16),n(ce,xe-32,Ce[De].f,0,8),n(Se,Ve-32,Ce[De].ea,0,8)),_e.Za){var $e=re,Ye=ie-32+16;for(0<J&&(z>=g.za-1?a($e,Ye,Ce[De].y[15],4):n($e,Ye,Ce[De+1].y,0,4)),O=0;4>O;O++)$e[Ye+128+O]=$e[Ye+256+O]=$e[Ye+384+O]=$e[Ye+0+O];for(O=0;16>O;++O,Ue<<=2)$e=re,Ye=ie+S3[O],Po[_e.Ob[O]]($e,Ye),Vm(Ue,Ge,16*+O,$e,Ye)}else if($e=Kh(z,J,_e.Ob[0]),eu[$e](re,ie),Ue!=0)for(O=0;16>O;++O,Ue<<=2)Vm(Ue,Ge,16*+O,re,ie+S3[O]);for(O=_e.Gc,$e=Kh(z,J,_e.Dd),Kl[$e](ce,xe),Kl[$e](Se,Ve),Ue=Ge,$e=ce,Ye=xe,255&(_e=0|O)&&(170&_e?dl(Ue,256,$e,Ye):hn(Ue,256,$e,Ye)),_e=Se,Ue=Ve,255&(O>>=8)&&(170&O?dl(Ge,320,_e,Ue):hn(Ge,320,_e,Ue)),J<g.Ub-1&&(n(Ce[De].y,0,re,ie+480,16),n(Ce[De].f,0,ce,xe+224,8),n(Ce[De].ea,0,Se,Ve+224,8)),O=8*te*g.B,Ce=g.sa,De=g.ta+16*z+16*te*g.R,Ge=g.qa,_e=g.ra+8*z+O,Ue=g.Ha,$e=g.Ia+8*z+O,O=0;16>O;++O)n(Ce,De+O*g.R,re,ie+32*O,16);for(O=0;8>O;++O)n(Ge,_e+O*g.B,ce,xe+32*O,8),n(Ue,$e+O*g.B,Se,Ve+32*O,8)}}function Tf(g,b,O,z,J,te,re,ie,ce){var xe=[0],Se=[0],Ve=0,_e=ce!=null?ce.kd:0,Ce=ce??new et;if(g==null||12>O)return 7;Ce.data=g,Ce.w=b,Ce.ha=O,b=[b],O=[O],Ce.gb=[Ce.gb];e:{var De=b,Ge=O,Ue=Ce.gb;if(e(g!=null),e(Ge!=null),e(Ue!=null),Ue[0]=0,12<=Ge[0]&&!r(g,De[0],"RIFF")){if(r(g,De[0]+8,"WEBP")){Ue=3;break e}var $e=Ae(g,De[0]+4);if(12>$e||4294967286<$e){Ue=3;break e}if(_e&&$e>Ge[0]-8){Ue=7;break e}Ue[0]=$e,De[0]+=12,Ge[0]-=12}Ue=0}if(Ue!=0)return Ue;for($e=0<Ce.gb[0],O=O[0];;){e:{var Ye=g;Ge=b,Ue=O;var lt=xe,rt=Se,jt=De=[0];if((Mt=Ve=[Ve])[0]=0,8>Ue[0])Ue=7;else{if(!r(Ye,Ge[0],"VP8X")){if(Ae(Ye,Ge[0]+4)!=10){Ue=3;break e}if(18>Ue[0]){Ue=7;break e}var Lt=Ae(Ye,Ge[0]+8),pr=1+Z(Ye,Ge[0]+12);if(2147483648<=pr*(Ye=1+Z(Ye,Ge[0]+15))){Ue=3;break e}jt!=null&&(jt[0]=Lt),lt!=null&&(lt[0]=pr),rt!=null&&(rt[0]=Ye),Ge[0]+=18,Ue[0]-=18,Mt[0]=1}Ue=0}}if(Ve=Ve[0],De=De[0],Ue!=0)return Ue;if(Ge=!!(2&De),!$e&&Ve)return 3;if(te!=null&&(te[0]=!!(16&De)),re!=null&&(re[0]=Ge),ie!=null&&(ie[0]=0),re=xe[0],De=Se[0],Ve&&Ge&&ce==null){Ue=0;break}if(4>O){Ue=7;break}if($e&&Ve||!$e&&!Ve&&!r(g,b[0],"ALPH")){O=[O],Ce.na=[Ce.na],Ce.P=[Ce.P],Ce.Sa=[Ce.Sa];e:{Lt=g,Ue=b,$e=O;var Mt=Ce.gb;lt=Ce.na,rt=Ce.P,jt=Ce.Sa,pr=22,e(Lt!=null),e($e!=null),Ye=Ue[0];var Rr=$e[0];for(e(lt!=null),e(jt!=null),lt[0]=null,rt[0]=null,jt[0]=0;;){if(Ue[0]=Ye,$e[0]=Rr,8>Rr){Ue=7;break e}var Ra=Ae(Lt,Ye+4);if(4294967286<Ra){Ue=3;break e}var mr=8+Ra+1&-2;if(pr+=mr,0<Mt&&pr>Mt){Ue=3;break e}if(!r(Lt,Ye,"VP8 ")||!r(Lt,Ye,"VP8L")){Ue=0;break e}if(Rr[0]<mr){Ue=7;break e}r(Lt,Ye,"ALPH")||(lt[0]=Lt,rt[0]=Ye+8,jt[0]=Ra),Ye+=mr,Rr-=mr}}if(O=O[0],Ce.na=Ce.na[0],Ce.P=Ce.P[0],Ce.Sa=Ce.Sa[0],Ue!=0)break}O=[O],Ce.Ja=[Ce.Ja],Ce.xa=[Ce.xa];e:if(Mt=g,Ue=b,$e=O,lt=Ce.gb[0],rt=Ce.Ja,jt=Ce.xa,Lt=Ue[0],Ye=!r(Mt,Lt,"VP8 "),pr=!r(Mt,Lt,"VP8L"),e(Mt!=null),e($e!=null),e(rt!=null),e(jt!=null),8>$e[0])Ue=7;else{if(Ye||pr){if(Mt=Ae(Mt,Lt+4),12<=lt&&Mt>lt-12){Ue=3;break e}if(_e&&Mt>$e[0]-8){Ue=7;break e}rt[0]=Mt,Ue[0]+=8,$e[0]-=8,jt[0]=pr}else jt[0]=5<=$e[0]&&Mt[Lt+0]==47&&!(Mt[Lt+4]>>5),rt[0]=$e[0];Ue=0}if(O=O[0],Ce.Ja=Ce.Ja[0],Ce.xa=Ce.xa[0],b=b[0],Ue!=0)break;if(4294967286<Ce.Ja)return 3;if(ie==null||Ge||(ie[0]=Ce.xa?2:1),re=[re],De=[De],Ce.xa){if(5>O){Ue=7;break}ie=re,_e=De,Ge=te,g==null||5>O?g=0:5<=O&&g[b+0]==47&&!(g[b+4]>>5)?($e=[0],Mt=[0],lt=[0],W(rt=new F,g,b,O),hi(rt,$e,Mt,lt)?(ie!=null&&(ie[0]=$e[0]),_e!=null&&(_e[0]=Mt[0]),Ge!=null&&(Ge[0]=lt[0]),g=1):g=0):g=0}else{if(10>O){Ue=7;break}ie=De,g==null||10>O||!nl(g,b+3,O-3)?g=0:(_e=g[b+0]|g[b+1]<<8|g[b+2]<<16,Ge=16383&(g[b+7]<<8|g[b+6]),g=16383&(g[b+9]<<8|g[b+8]),1&_e||3<(_e>>1&7)||!(_e>>4&1)||_e>>5>=Ce.Ja||!Ge||!g?g=0:(re&&(re[0]=Ge),ie&&(ie[0]=g),g=1))}if(!g||(re=re[0],De=De[0],Ve&&(xe[0]!=re||Se[0]!=De)))return 3;ce!=null&&(ce[0]=Ce,ce.offset=b-ce.w,e(4294967286>b-ce.w),e(ce.offset==ce.ha-O));break}return Ue==0||Ue==7&&Ve&&ce==null?(te!=null&&(te[0]|=Ce.na!=null&&0<Ce.na.length),z!=null&&(z[0]=re),J!=null&&(J[0]=De),0):Ue}function Xd(g,b,O){var z=b.width,J=b.height,te=0,re=0,ie=z,ce=J;if(b.Da=g!=null&&0<g.Da,b.Da&&(ie=g.cd,ce=g.bd,te=g.v,re=g.j,11>O||(te&=-2,re&=-2),0>te||0>re||0>=ie||0>=ce||te+ie>z||re+ce>J))return 0;if(b.v=te,b.j=re,b.va=te+ie,b.o=re+ce,b.U=ie,b.T=ce,b.da=g!=null&&0<g.da,b.da){if(!Oe(ie,ce,O=[g.ib],te=[g.hb]))return 0;b.ib=O[0],b.hb=te[0]}return b.ob=g!=null&&g.ob,b.Kb=g==null||!g.Sd,b.da&&(b.ob=b.ib<3*z/4&&b.hb<3*J/4,b.Kb=0),1}function Kd(g){if(g==null)return 2;if(11>g.S){var b=g.f.RGBA;b.fb+=(g.height-1)*b.A,b.A=-b.A}else b=g.f.kb,g=g.height,b.O+=(g-1)*b.fa,b.fa=-b.fa,b.N+=(g-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(g-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(g-1)*b.lb,b.lb=-b.lb);return 0}function $c(g,b,O,z){if(z==null||0>=g||0>=b)return 2;if(O!=null){if(O.Da){var J=O.cd,te=O.bd,re=-2&O.v,ie=-2&O.j;if(0>re||0>ie||0>=J||0>=te||re+J>g||ie+te>b)return 2;g=J,b=te}if(O.da){if(!Oe(g,b,J=[O.ib],te=[O.hb]))return 2;g=J[0],b=te[0]}}z.width=g,z.height=b;e:{var ce=z.width,xe=z.height;if(g=z.S,0>=ce||0>=xe||!(g>=Gm&&13>g))g=2;else{if(0>=z.Rd&&z.sd==null){re=te=J=b=0;var Se=(ie=ce*T3[g])*xe;if(11>g||(te=(xe+1)/2*(b=(ce+1)/2),g==12&&(re=(J=ce)*xe)),(xe=i(Se+2*te+re))==null){g=1;break e}z.sd=xe,11>g?((ce=z.f.RGBA).eb=xe,ce.fb=0,ce.A=ie,ce.size=Se):((ce=z.f.kb).y=xe,ce.O=0,ce.fa=ie,ce.Fd=Se,ce.f=xe,ce.N=0+Se,ce.Ab=b,ce.Cd=te,ce.ea=xe,ce.W=0+Se+te,ce.Db=b,ce.Ed=te,g==12&&(ce.F=xe,ce.J=0+Se+2*te),ce.Tc=re,ce.lb=J)}if(b=1,J=z.S,te=z.width,re=z.height,J>=Gm&&13>J)if(11>J)g=z.f.RGBA,b&=(ie=Math.abs(g.A))*(re-1)+te<=g.size,b&=ie>=te*T3[J],b&=g.eb!=null;else{g=z.f.kb,ie=(te+1)/2,Se=(re+1)/2,ce=Math.abs(g.fa),xe=Math.abs(g.Ab);var Ve=Math.abs(g.Db),_e=Math.abs(g.lb),Ce=_e*(re-1)+te;b&=ce*(re-1)+te<=g.Fd,b&=xe*(Se-1)+ie<=g.Cd,b=(b&=Ve*(Se-1)+ie<=g.Ed)&ce>=te&xe>=ie&Ve>=ie,b&=g.y!=null,b&=g.f!=null,b&=g.ea!=null,J==12&&(b&=_e>=te,b&=Ce<=g.Tc,b&=g.F!=null)}else b=0;g=b?0:2}}return g!=0||O!=null&&O.fd&&(g=Kd(z)),g}var kf=64,ws=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],bs=24,Xc=32,$l=8,Kc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ke("Predictor0","PredictorAdd0"),y.Predictor0=function(){return 4278190080},y.Predictor1=function(g){return g},y.Predictor2=function(g,b,O){return b[O+0]},y.Predictor3=function(g,b,O){return b[O+1]},y.Predictor4=function(g,b,O){return b[O-1]},y.Predictor5=function(g,b,O){return ct(ct(g,b[O+1]),b[O+0])},y.Predictor6=function(g,b,O){return ct(g,b[O-1])},y.Predictor7=function(g,b,O){return ct(g,b[O+0])},y.Predictor8=function(g,b,O){return ct(b[O-1],b[O+0])},y.Predictor9=function(g,b,O){return ct(b[O+0],b[O+1])},y.Predictor10=function(g,b,O){return ct(ct(g,b[O-1]),ct(b[O+0],b[O+1]))},y.Predictor11=function(g,b,O){var z=b[O+0];return 0>=St(z>>24&255,g>>24&255,(b=b[O-1])>>24&255)+St(z>>16&255,g>>16&255,b>>16&255)+St(z>>8&255,g>>8&255,b>>8&255)+St(255&z,255&g,255&b)?z:g},y.Predictor12=function(g,b,O){var z=b[O+0];return(yt((g>>24&255)+(z>>24&255)-((b=b[O-1])>>24&255))<<24|yt((g>>16&255)+(z>>16&255)-(b>>16&255))<<16|yt((g>>8&255)+(z>>8&255)-(b>>8&255))<<8|yt((255&g)+(255&z)-(255&b)))>>>0},y.Predictor13=function(g,b,O){var z=b[O-1];return(mt((g=ct(g,b[O+0]))>>24&255,z>>24&255)<<24|mt(g>>16&255,z>>16&255)<<16|mt(g>>8&255,z>>8&255)<<8|mt(255&g,255&z))>>>0};var Yd=y.PredictorAdd0;y.PredictorAdd1=$t,Ke("Predictor2","PredictorAdd2"),Ke("Predictor3","PredictorAdd3"),Ke("Predictor4","PredictorAdd4"),Ke("Predictor5","PredictorAdd5"),Ke("Predictor6","PredictorAdd6"),Ke("Predictor7","PredictorAdd7"),Ke("Predictor8","PredictorAdd8"),Ke("Predictor9","PredictorAdd9"),Ke("Predictor10","PredictorAdd10"),Ke("Predictor11","PredictorAdd11"),Ke("Predictor12","PredictorAdd12"),Ke("Predictor13","PredictorAdd13");var Yh=y.PredictorAdd2;it("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),it("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var na,zm=y.ColorIndexInverseTransform,fl=y.MapARGB,hl=y.VP8LColorIndexInverseTransformAlpha,Qd=y.MapAlpha,Jd=y.VP8LPredictorsAdd=[];Jd.length=16,(y.VP8LPredictors=[]).length=16,(y.VP8LPredictorsAdd_C=[]).length=16,(y.VP8LPredictors_C=[]).length=16;var Zd,e1,Yc,Qc,Jc,Cf,Zc,Nf,io,dl,$r,hn,aa,Ia,Xl,t1,Qh,Hm,t3,r3,n3,a3,i3,s3,r1,o3,l3,c3,u3=i(511),f3=i(2041),h3=i(225),d3=i(767),p3=0,a_=f3,qm=h3,Es=d3,so=u3,Gm=0,Wm=1,m3=2,$m=3,Xm=4,i_=5,g3=6,s_=7,o_=8,Km=9,l_=10,aF=[2,3,7],iF=[3,3,11],v3=[280,256,256,256,40],sF=[0,1,1,1,0],oF=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],lF=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],cF=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],uF=8,c_=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],u_=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],n1=null,fF=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],hF=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],x3=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],dF=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],pF=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],mF=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],gF=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],eu=[],Po=[],Kl=[],vF=1,_3=2,tu=[],oo=[];ft("UpsampleRgbLinePair",di,3),ft("UpsampleBgrLinePair",En,3),ft("UpsampleRgbaLinePair",Bi,4),ft("UpsampleBgraLinePair",$d,4),ft("UpsampleArgbLinePair",Gl,4),ft("UpsampleRgba4444LinePair",no,2),ft("UpsampleRgb565LinePair",pi,2);var xF=y.UpsampleRgbLinePair,_F=y.UpsampleBgrLinePair,y3=y.UpsampleRgbaLinePair,w3=y.UpsampleBgraLinePair,b3=y.UpsampleArgbLinePair,E3=y.UpsampleRgba4444LinePair,yF=y.UpsampleRgb565LinePair,Ym=16,Qm=1<<Ym-1,a1=-227,f_=482,wF=6,A3=0,bF=i(256),EF=i(256),AF=i(256),SF=i(256),TF=i(f_-a1),kF=i(f_-a1);Wl("YuvToRgbRow",di,3),Wl("YuvToBgrRow",En,3),Wl("YuvToRgbaRow",Bi,4),Wl("YuvToBgraRow",$d,4),Wl("YuvToArgbRow",Gl,4),Wl("YuvToRgba4444Row",no,2),Wl("YuvToRgb565Row",pi,2);var S3=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Jm=[0,2,8],CF=[8,7,6,4,4,2,2,2,1,1,1,1],NF=1;this.WebPDecodeRGBA=function(g,b,O,z,J){var te=Wm,re=new We,ie=new Tt;re.ba=ie,ie.S=te,ie.width=[ie.width],ie.height=[ie.height];var ce=ie.width,xe=ie.height,Se=new Ct;if(Se==null||g==null)var Ve=2;else e(Se!=null),Ve=Tf(g,b,O,Se.width,Se.height,Se.Pd,Se.Qd,Se.format,null);if(Ve!=0?ce=0:(ce!=null&&(ce[0]=Se.width[0]),xe!=null&&(xe[0]=Se.height[0]),ce=1),ce){ie.width=ie.width[0],ie.height=ie.height[0],z!=null&&(z[0]=ie.width),J!=null&&(J[0]=ie.height);e:{if(z=new Oi,(J=new et).data=g,J.w=b,J.ha=O,J.kd=1,b=[0],e(J!=null),((g=Tf(J.data,J.w,J.ha,null,null,null,b,null,J))==0||g==7)&&b[0]&&(g=4),(b=g)==0){if(e(re!=null),z.data=J.data,z.w=J.w+J.offset,z.ha=J.ha-J.offset,z.put=Ut,z.ac=Mr,z.bc=xs,z.ma=re,J.xa){if((g=Me())==null){re=1;break e}if(function(_e,Ce){var De=[0],Ge=[0],Ue=[0];t:for(;;){if(_e==null)return 0;if(Ce==null)return _e.a=2,0;if(_e.l=Ce,_e.a=0,W(_e.m,Ce.data,Ce.w,Ce.ha),!hi(_e.m,De,Ge,Ue)){_e.a=3;break t}if(_e.xb=_3,Ce.width=De[0],Ce.height=Ge[0],!Be(De[0],Ge[0],1,_e,null))break t;return 1}return e(_e.a!=0),0}(g,z)){if(z=(b=$c(z.width,z.height,re.Oa,re.ba))==0){t:{z=g;r:for(;;){if(z==null){z=0;break t}if(e(z.s.yc!=null),e(z.s.Ya!=null),e(0<z.s.Wb),e((O=z.l)!=null),e((J=O.ma)!=null),z.xb!=0){if(z.ca=J.ba,z.tb=J.tb,e(z.ca!=null),!Xd(J.Oa,O,$m)){z.a=2;break r}if(!je(z,O.width)||O.da)break r;if((O.da||st(z.ca.S))&&ze(),11>z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),z.ca.f.kb.F!=null&&ze()),z.Pb&&0<z.s.ua&&z.s.vb.X==null&&!K(z.s.vb,z.s.Wa.Xa)){z.a=1;break r}z.xb=0}if(!Fe(z,z.V,z.Ba,z.c,z.i,O.o,le))break r;J.Dc=z.Ma,z=1;break t}e(z.a!=0),z=0}z=!z}z&&(b=g.a)}else b=g.a}else{if((g=new Qi)==null){re=1;break e}if(g.Fa=J.na,g.P=J.P,g.qc=J.Sa,Ji(g,z)){if((b=$c(z.width,z.height,re.Oa,re.ba))==0){if(g.Aa=0,O=re.Oa,e((J=g)!=null),O!=null){if(0<(ce=0>(ce=O.Md)?0:100<ce?255:255*ce/100)){for(xe=Se=0;4>xe;++xe)12>(Ve=J.pb[xe]).lc&&(Ve.ia=ce*CF[0>Ve.lc?0:Ve.lc]>>3),Se|=Ve.ia;Se&&(alert("todo:VP8InitRandom"),J.ia=1)}J.Ga=O.Id,100<J.Ga?J.Ga=100:0>J.Ga&&(J.Ga=0)}(function(_e,Ce){if(_e==null)return 0;if(Ce==null)return xn(_e,2,"NULL VP8Io parameter in VP8Decode().");if(!_e.cb&&!Ji(_e,Ce))return 0;if(e(_e.cb),Ce.ac==null||Ce.ac(Ce)){Ce.ob&&(_e.L=0);var De=Jm[_e.L];if(_e.L==2?(_e.yb=0,_e.zb=0):(_e.yb=Ce.v-De>>4,_e.zb=Ce.j-De>>4,0>_e.yb&&(_e.yb=0),0>_e.zb&&(_e.zb=0)),_e.Va=Ce.o+15+De>>4,_e.Hb=Ce.va+15+De>>4,_e.Hb>_e.za&&(_e.Hb=_e.za),_e.Va>_e.Ub&&(_e.Va=_e.Ub),0<_e.L){var Ge=_e.ed;for(De=0;4>De;++De){var Ue;if(_e.Qa.Cb){var $e=_e.Qa.Lb[De];_e.Qa.Fb||($e+=Ge.Tb)}else $e=Ge.Tb;for(Ue=0;1>=Ue;++Ue){var Ye=_e.gd[De][Ue],lt=$e;if(Ge.Pc&&(lt+=Ge.vd[0],Ue&&(lt+=Ge.od[0])),0<(lt=0>lt?0:63<lt?63:lt)){var rt=lt;0<Ge.wb&&(rt=4<Ge.wb?rt>>2:rt>>1)>9-Ge.wb&&(rt=9-Ge.wb),1>rt&&(rt=1),Ye.dd=rt,Ye.tc=2*lt+rt,Ye.ld=40<=lt?2:15<=lt?1:0}else Ye.tc=0;Ye.La=Ue}}}De=0}else xn(_e,6,"Frame setup failed"),De=_e.a;if(De=De==0){if(De){_e.$c=0,0<_e.Aa||(_e.Ic=NF);t:{De=_e.Ic,Ge=4*(rt=_e.za);var jt=32*rt,Lt=rt+1,pr=0<_e.L?rt*(0<_e.Aa?2:1):0,Mt=(_e.Aa==2?2:1)*rt;if((Ye=Ge+832+(Ue=3*(16*De+Jm[_e.L])/2*jt)+($e=_e.Fa!=null&&0<_e.Fa.length?_e.Kc.c*_e.Kc.i:0))!=Ye)De=0;else{if(Ye>_e.Vb){if(_e.Vb=0,_e.Ec=i(Ye),_e.Fc=0,_e.Ec==null){De=xn(_e,1,"no memory during frame initialization.");break t}_e.Vb=Ye}Ye=_e.Ec,lt=_e.Fc,_e.Ac=Ye,_e.Bc=lt,lt+=Ge,_e.Gd=s(jt,Di),_e.Hd=0,_e.rb=s(Lt+1,kn),_e.sb=1,_e.wa=pr?s(pr,_r):null,_e.Y=0,_e.D.Nb=0,_e.D.wa=_e.wa,_e.D.Y=_e.Y,0<_e.Aa&&(_e.D.Y+=rt),e(!0),_e.oc=Ye,_e.pc=lt,lt+=832,_e.ya=s(Mt,Li),_e.aa=0,_e.D.ya=_e.ya,_e.D.aa=_e.aa,_e.Aa==2&&(_e.D.aa+=rt),_e.R=16*rt,_e.B=8*rt,rt=(jt=Jm[_e.L])*_e.R,jt=jt/2*_e.B,_e.sa=Ye,_e.ta=lt+rt,_e.qa=_e.sa,_e.ra=_e.ta+16*De*_e.R+jt,_e.Ha=_e.qa,_e.Ia=_e.ra+8*De*_e.B+jt,_e.$c=0,lt+=Ue,_e.mb=$e?Ye:null,_e.nb=$e?lt:null,e(lt+$e<=_e.Fc+_e.Vb),zl(_e),a(_e.Ac,_e.Bc,0,Ge),De=1}}if(De){if(Ce.ka=0,Ce.y=_e.sa,Ce.O=_e.ta,Ce.f=_e.qa,Ce.N=_e.ra,Ce.ea=_e.Ha,Ce.Vd=_e.Ia,Ce.fa=_e.R,Ce.Rc=_e.B,Ce.F=null,Ce.J=0,!p3){for(De=-255;255>=De;++De)u3[255+De]=0>De?-De:De;for(De=-1020;1020>=De;++De)f3[1020+De]=-128>De?-128:127<De?127:De;for(De=-112;112>=De;++De)h3[112+De]=-16>De?-16:15<De?15:De;for(De=-255;510>=De;++De)d3[255+De]=0>De?0:255<De?255:De;p3=1}Zc=Zi,Nf=qd,dl=Zs,$r=Vh,hn=al,io=Hd,aa=Sf,Ia=Oo,Xl=Y,t1=ve,Qh=Wc,Hm=L,t3=Ee,r3=Ie,n3=cl,a3=ul,i3=Xh,s3=Af,Po[0]=ql,Po[1]=zh,Po[2]=Vc,Po[3]=Gh,Po[4]=Pi,Po[5]=bf,Po[6]=eo,Po[7]=_n,Po[8]=Ef,Po[9]=zc,eu[0]=Gd,eu[1]=qh,eu[2]=jc,eu[3]=Do,eu[4]=Hl,eu[5]=es,eu[6]=Wd,Kl[0]=Hc,Kl[1]=Hh,Kl[2]=sl,Kl[3]=Wh,Kl[4]=qc,Kl[5]=ts,Kl[6]=$h,De=1}else De=0}De&&(De=function(Rr,Ra){for(Rr.M=0;Rr.M<Rr.Va;++Rr.M){var mr,Bt=Rr.Jc[Rr.M&Rr.Xb],bt=Rr.m,ia=Rr;for(mr=0;mr<ia.za;++mr){var ur=bt,Or=ia,Nn=Or.Ac,Ja=Or.Bc+4*mr,Ui=Or.zc,Wn=Or.ya[Or.aa+mr];if(Or.Qa.Bb?Wn.$b=we(ur,Or.Pa.jb[0])?2+we(ur,Or.Pa.jb[2]):we(ur,Or.Pa.jb[1]):Wn.$b=0,Or.kc&&(Wn.Ad=we(ur,Or.Bd)),Wn.Za=!we(ur,145)+0,Wn.Za){var mi=Wn.Ob,ji=0;for(Or=0;4>Or;++Or){var La,Br=Ui[0+Or];for(La=0;4>La;++La){Br=pF[Nn[Ja+La]][Br];for(var Kr=x3[we(ur,Br[0])];0<Kr;)Kr=x3[2*Kr+we(ur,Br[Kr])];Br=-Kr,Nn[Ja+La]=Br}n(mi,ji,Nn,Ja,4),ji+=4,Ui[0+Or]=Br}}else Br=we(ur,156)?we(ur,128)?1:3:we(ur,163)?2:0,Wn.Ob[0]=Br,a(Nn,Ja,Br,4),a(Ui,0,Br,4);Wn.Dd=we(ur,142)?we(ur,114)?we(ur,183)?1:3:2:0}if(ia.m.Ka)return xn(Rr,7,"Premature end-of-partition0 encountered.");for(;Rr.ja<Rr.za;++Rr.ja){if(ia=Bt,ur=(bt=Rr).rb[bt.sb-1],Nn=bt.rb[bt.sb+bt.ja],mr=bt.ya[bt.aa+bt.ja],Ja=bt.kc?mr.Ad:0)ur.la=Nn.la=0,mr.Za||(ur.Na=Nn.Na=0),mr.Hc=0,mr.Gc=0,mr.ia=0;else{var $n,Yr;if(ur=Nn,Nn=ia,Ja=bt.Pa.Xc,Ui=bt.ya[bt.aa+bt.ja],Wn=bt.pb[Ui.$b],Or=Ui.ad,mi=0,ji=bt.rb[bt.sb-1],Br=La=0,a(Or,mi,0,384),Ui.Za)var Za=0,Fo=Ja[3];else{Kr=i(16);var sa=ur.Na+ji.Na;if(sa=n1(Nn,Ja[1],sa,Wn.Eb,0,Kr,0),ur.Na=ji.Na=(0<sa)+0,1<sa)Zc(Kr,0,Or,mi);else{var rs=Kr[0]+3>>3;for(Kr=0;256>Kr;Kr+=16)Or[mi+Kr]=rs}Za=1,Fo=Ja[0]}var dn=15&ur.la,Da=15&ji.la;for(Kr=0;4>Kr;++Kr){var As=1&Da;for(rs=Yr=0;4>rs;++rs)dn=dn>>1|(As=(sa=n1(Nn,Fo,sa=As+(1&dn),Wn.Sc,Za,Or,mi))>Za)<<7,Yr=Yr<<2|(3<sa?3:1<sa?2:Or[mi+0]!=0),mi+=16;dn>>=4,Da=Da>>1|As<<7,La=(La<<8|Yr)>>>0}for(Fo=dn,Za=Da>>4,$n=0;4>$n;$n+=2){for(Yr=0,dn=ur.la>>4+$n,Da=ji.la>>4+$n,Kr=0;2>Kr;++Kr){for(As=1&Da,rs=0;2>rs;++rs)sa=As+(1&dn),dn=dn>>1|(As=0<(sa=n1(Nn,Ja[2],sa,Wn.Qc,0,Or,mi)))<<3,Yr=Yr<<2|(3<sa?3:1<sa?2:Or[mi+0]!=0),mi+=16;dn>>=2,Da=Da>>1|As<<5}Br|=Yr<<4*$n,Fo|=dn<<4<<$n,Za|=(240&Da)<<$n}ur.la=Fo,ji.la=Za,Ui.Hc=La,Ui.Gc=Br,Ui.ia=43690&Br?0:Wn.ia,Ja=!(La|Br)}if(0<bt.L&&(bt.wa[bt.Y+bt.ja]=bt.gd[mr.$b][mr.Za],bt.wa[bt.Y+bt.ja].La|=!Ja),ia.Ka)return xn(Rr,7,"Premature end-of-file encountered.")}if(zl(Rr),bt=Ra,ia=1,mr=(Bt=Rr).D,ur=0<Bt.L&&Bt.M>=Bt.zb&&Bt.M<=Bt.Va,Bt.Aa==0)t:{if(mr.M=Bt.M,mr.uc=ur,ao(Bt,mr),ia=1,mr=(Yr=Bt.D).Nb,ur=(Br=Jm[Bt.L])*Bt.R,Nn=Br/2*Bt.B,Kr=16*mr*Bt.R,rs=8*mr*Bt.B,Ja=Bt.sa,Ui=Bt.ta-ur+Kr,Wn=Bt.qa,Or=Bt.ra-Nn+rs,mi=Bt.Ha,ji=Bt.Ia-Nn+rs,Da=(dn=Yr.M)==0,La=dn>=Bt.Va-1,Bt.Aa==2&&ao(Bt,Yr),Yr.uc)for(As=(sa=Bt).D.M,e(sa.D.uc),Yr=sa.yb;Yr<sa.Hb;++Yr){Za=Yr,Fo=As;var Vi=(Ss=(ei=sa).D).Nb;$n=ei.R;var Ss=Ss.wa[Ss.Y+Za],Ts=ei.sa,ns=ei.ta+16*Vi*$n+16*Za,ks=Ss.dd,An=Ss.tc;if(An!=0)if(e(3<=An),ei.L==1)0<Za&&a3(Ts,ns,$n,An+4),Ss.La&&s3(Ts,ns,$n,An),0<Fo&&n3(Ts,ns,$n,An+4),Ss.La&&i3(Ts,ns,$n,An);else{var Cs=ei.B,Mo=ei.qa,If=ei.ra+8*Vi*Cs+8*Za,Yl=ei.Ha,ei=ei.Ia+8*Vi*Cs+8*Za;Vi=Ss.ld,0<Za&&(Ia(Ts,ns,$n,An+4,ks,Vi),t1(Mo,If,Yl,ei,Cs,An+4,ks,Vi)),Ss.La&&(Hm(Ts,ns,$n,An,ks,Vi),r3(Mo,If,Yl,ei,Cs,An,ks,Vi)),0<Fo&&(aa(Ts,ns,$n,An+4,ks,Vi),Xl(Mo,If,Yl,ei,Cs,An+4,ks,Vi)),Ss.La&&(Qh(Ts,ns,$n,An,ks,Vi),t3(Mo,If,Yl,ei,Cs,An,ks,Vi))}}if(Bt.ia&&alert("todo:DitherRow"),bt.put!=null){if(Yr=16*dn,dn=16*(dn+1),Da?(bt.y=Bt.sa,bt.O=Bt.ta+Kr,bt.f=Bt.qa,bt.N=Bt.ra+rs,bt.ea=Bt.Ha,bt.W=Bt.Ia+rs):(Yr-=Br,bt.y=Ja,bt.O=Ui,bt.f=Wn,bt.N=Or,bt.ea=mi,bt.W=ji),La||(dn-=Br),dn>bt.o&&(dn=bt.o),bt.F=null,bt.J=null,Bt.Fa!=null&&0<Bt.Fa.length&&Yr<dn&&(bt.J=v(Bt,bt,Yr,dn-Yr),bt.F=Bt.mb,bt.F==null&&bt.F.length==0)){ia=xn(Bt,3,"Could not decode alpha data.");break t}Yr<bt.j&&(Br=bt.j-Yr,Yr=bt.j,e(!(1&Br)),bt.O+=Bt.R*Br,bt.N+=Bt.B*(Br>>1),bt.W+=Bt.B*(Br>>1),bt.F!=null&&(bt.J+=bt.width*Br)),Yr<dn&&(bt.O+=bt.v,bt.N+=bt.v>>1,bt.W+=bt.v>>1,bt.F!=null&&(bt.J+=bt.v),bt.ka=Yr-bt.j,bt.U=bt.va-bt.v,bt.T=dn-Yr,ia=bt.put(bt))}mr+1!=Bt.Ic||La||(n(Bt.sa,Bt.ta-ur,Ja,Ui+16*Bt.R,ur),n(Bt.qa,Bt.ra-Nn,Wn,Or+8*Bt.B,Nn),n(Bt.Ha,Bt.Ia-Nn,mi,ji+8*Bt.B,Nn))}if(!ia)return xn(Rr,6,"Output aborted.")}return 1}(_e,Ce)),Ce.bc!=null&&Ce.bc(Ce),De&=1}return De?(_e.cb=0,De):0})(g,z)||(b=g.a)}}else b=g.a}b==0&&re.Oa!=null&&re.Oa.fd&&(b=Kd(re.ba))}re=b}te=re!=0?null:11>te?ie.f.RGBA.eb:ie.f.kb.y}else te=null;return te};var T3=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(y,R){for(var A="",C=0;C<4;C++)A+=String.fromCharCode(y[R++]);return A}function u(y,R){return y[R+0]|y[R+1]<<8}function h(y,R){return(y[R+0]|y[R+1]<<8|y[R+2]<<16)>>>0}function d(y,R){return(y[R+0]|y[R+1]<<8|y[R+2]<<16|y[R+3]<<24)>>>0}new l;var f=[0],p=[0],m=[],_=new l,x=t,T=function(y,R){var A={},C=0,k=!1,q=0,X=0;if(A.frames=[],!function(D,F){for(var U=0;U<4;U++)if(D[F+U]!="RIFF".charCodeAt(U))return!0;return!1}(y,R)){for(d(y,R+=4),R+=8;R<y.length;){var V=c(y,R),H=d(y,R+=4);R+=4;var ae=H+(1&H);switch(V){case"VP8 ":case"VP8L":A.frames[C]===void 0&&(A.frames[C]={}),(be=A.frames[C]).src_off=k?X:R-8,be.src_size=q+H+8,C++,k&&(k=!1,q=0,X=0);break;case"VP8X":(be=A.header={}).feature_flags=y[R];var W=R+4;be.canvas_width=1+h(y,W),W+=3,be.canvas_height=1+h(y,W),W+=3;break;case"ALPH":k=!0,q=ae+8,X=R-8;break;case"ANIM":(be=A.header).bgcolor=d(y,R),W=R+4,be.loop_count=u(y,W),W+=2;break;case"ANMF":var ge,be;(be=A.frames[C]={}).offset_x=2*h(y,R),R+=3,be.offset_y=2*h(y,R),R+=3,be.width=1+h(y,R),R+=3,be.height=1+h(y,R),R+=3,be.duration=h(y,R),R+=3,ge=y[R++],be.dispose=1&ge,be.blend=ge>>1&1}V!="ANMF"&&(R+=ae)}return A}}(x,0);T.response=x,T.rgbaoutput=!0,T.dataurl=!1;var w=T.header?T.header:null,I=T.frames?T.frames:null;if(w){w.loop_counter=w.loop_count,f=[w.canvas_height],p=[w.canvas_width];for(var j=0;j<I.length&&I[j].blend!=0;j++);}var P=I[0],N=_.WebPDecodeRGBA(x,P.src_off,P.src_size,p,f);P.rgba=N,P.imgwidth=p[0],P.imgheight=f[0];for(var E=0;E<p[0]*f[0]*4;E++)m[E]=N[E];return this.width=p,this.height=f,this.data=m,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function XQ(){var t,e=this.internal.__metadata__.metadata,r=unescape(encodeURIComponent(e));t=this.internal.__metadata__.rawXml?r:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+t.length+" >>"),this.internal.write("stream"),this.internal.write(t),this.internal.write("endstream"),this.internal.write("endobj")}function KQ(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(t){var e,r,n,a,i,s,o,l,c,u=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new l,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new s,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new s,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var F=D;Object.defineProperty(this,"pdf",{get:function(){return F}});var U=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return U},set:function(K){U=!!K}});var M=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return M},set:function(K){M=!!K}});var Q=0;Object.defineProperty(this,"posX",{get:function(){return Q},set:function(K){isNaN(K)||(Q=K)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(K){isNaN(K)||(oe=K)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(K){var Te;typeof K=="number"?Te=[K,K,K,K]:((Te=new Array(4))[0]=K[0],Te[1]=K.length>=2?K[1]:Te[0],Te[2]=K.length>=3?K[2]:Te[0],Te[3]=K.length>=4?K[3]:Te[1]),c.margin=Te}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(K){de=K}});var he=0;Object.defineProperty(this,"lastBreak",{get:function(){return he},set:function(K){he=K}});var we=[];Object.defineProperty(this,"pageBreaks",{get:function(){return we},set:function(K){we=K}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(K){K instanceof u&&(c=K)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(K){c.path=K}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(K){ke=K}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(K){var Te;Te=d(K),this.ctx.fillStyle=Te.style,this.ctx.isFillTransparent=Te.a===0,this.ctx.fillOpacity=Te.a,this.pdf.setFillColor(Te.r,Te.g,Te.b,{a:Te.a}),this.pdf.setTextColor(Te.r,Te.g,Te.b,{a:Te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(K){var Te=d(K);this.ctx.strokeStyle=Te.style,this.ctx.isStrokeTransparent=Te.a===0,this.ctx.strokeOpacity=Te.a,Te.a===0?this.pdf.setDrawColor(255,255,255):(Te.a,this.pdf.setDrawColor(Te.r,Te.g,Te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(K){["butt","round","square"].indexOf(K)!==-1&&(this.ctx.lineCap=K,this.pdf.setLineCap(K))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(K){isNaN(K)||(this.ctx.lineWidth=K,this.pdf.setLineWidth(K))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(K){["bevel","round","miter"].indexOf(K)!==-1&&(this.ctx.lineJoin=K,this.pdf.setLineJoin(K))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(K){isNaN(K)||(this.ctx.miterLimit=K,this.pdf.setMiterLimit(K))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(K){this.ctx.textBaseline=K}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(K){["right","end","center","left","start"].indexOf(K)!==-1&&(this.ctx.textAlign=K)}});var ne=null,Z=null,Ae=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ae},set:function(K){ne=null,Z=null,Ae=K}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(K){var Te;if(this.ctx.font=K,(Te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(K))!==null){var Re=Te[1];Te[2];var Oe=Te[3],Ne=Te[4];Te[5];var Qe=Te[6],Ke=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ne)[2];Ne=Math.floor(Ke==="px"?parseFloat(Ne)*this.pdf.internal.scaleFactor:Ke==="em"?parseFloat(Ne)*this.pdf.getFontSize():parseFloat(Ne)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ne);var ht=function(it){var Ft,wt,Nt=[],zt=it.trim();if(zt==="")return By;if(zt in Q6)return[Q6[zt]];for(;zt!=="";){switch(wt=null,Ft=(zt=Z6(zt)).charAt(0)){case'"':case"'":wt=zQ(zt.substring(1),Ft);break;default:wt=HQ(zt)}if(wt===null||(Nt.push(wt[0]),(zt=Z6(wt[1]))!==""&&zt.charAt(0)!==","))return By;zt=zt.replace(/^,/,"")}return Nt}(Qe);if(this.fontFaces){var ct=function(it,Ft){var wt=it.getFontList(),Nt=JSON.stringify(wt);if(ne===null||Z!==Nt){var zt=function(vr){var Ot=[];return Object.keys(vr).forEach(function(Pe){vr[Pe].forEach(function(st){var ut=null;switch(st){case"bold":ut={family:Pe,weight:"bold"};break;case"italic":ut={family:Pe,style:"italic"};break;case"bolditalic":ut={family:Pe,weight:"bold",style:"italic"};break;case"":case"normal":ut={family:Pe}}ut!==null&&(ut.ref={name:Pe,style:st},Ot.push(ut))})}),Ot}(wt);ne=function(vr){for(var Ot={},Pe=0;Pe<vr.length;++Pe){var st=My(vr[Pe]),ut=st.family,Qt=st.stretch,Tt=st.style,Ct=st.weight;Ot[ut]=Ot[ut]||{},Ot[ut][Qt]=Ot[ut][Qt]||{},Ot[ut][Qt][Tt]=Ot[ut][Qt][Tt]||{},Ot[ut][Qt][Tt][Ct]=st}return Ot}(zt.concat(Ft)),Z=Nt}return ne}(this.pdf,this.fontFaces),yt=ht.map(function(it){return{family:it,stretch:"normal",weight:Oe,style:Re}}),mt=function(it,Ft,wt){for(var Nt=(wt=wt||{}).defaultFontFamily||"times",zt=Object.assign({},VQ,wt.genericFontFamilies||{}),vr=null,Ot=null,Pe=0;Pe<Ft.length;++Pe)if(zt[(vr=My(Ft[Pe])).family]&&(vr.family=zt[vr.family]),it.hasOwnProperty(vr.family)){Ot=it[vr.family];break}if(!(Ot=Ot||it[Nt]))throw new Error("Could not find a font-family for the rule '"+J6(vr)+"' and default family '"+Nt+"'.");if(Ot=function(st,ut){if(ut[st])return ut[st];var Qt=Uw[st],Tt=Qt<=Uw.normal?-1:1,Ct=Y6(ut,RD,Qt,Tt);if(!Ct)throw new Error("Could not find a matching font-stretch value for "+st);return Ct}(vr.stretch,Ot),Ot=function(st,ut){if(ut[st])return ut[st];for(var Qt=ID[st],Tt=0;Tt<Qt.length;++Tt)if(ut[Qt[Tt]])return ut[Qt[Tt]];throw new Error("Could not find a matching font-style for "+st)}(vr.style,Ot),!(Ot=function(st,ut){if(ut[st])return ut[st];if(st===400&&ut[500])return ut[500];if(st===500&&ut[400])return ut[400];var Qt=jQ[st],Tt=Y6(ut,LD,Qt,st<400?-1:1);if(!Tt)throw new Error("Could not find a matching font-weight for value "+st);return Tt}(vr.weight,Ot)))throw new Error("Failed to resolve a font for the rule '"+J6(vr)+"'.");return Ot}(ct,yt);this.pdf.setFont(mt.ref.name,mt.ref.style)}else{var St="";(Oe==="bold"||parseInt(Oe,10)>=700||Re==="bold")&&(St="bold"),Re==="italic"&&(St+="italic"),St.length===0&&(St="normal");for(var $t="",Et={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},gt=0;gt<ht.length;gt++){if(this.pdf.internal.getFont(ht[gt],St,{noFallback:!0,disableWarning:!0})!==void 0){$t=ht[gt];break}if(St==="bolditalic"&&this.pdf.internal.getFont(ht[gt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)$t=ht[gt],St="bold";else if(this.pdf.internal.getFont(ht[gt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){$t=ht[gt],St="normal";break}}if($t===""){for(var at=0;at<ht.length;at++)if(Et[ht[at]]){$t=Et[ht[at]];break}}$t=$t===""?"Times":$t,this.pdf.setFont($t,St)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(K){this.ctx.globalCompositeOperation=K}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(K){this.ctx.globalAlpha=K}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(K){this.ctx.lineDashOffset=K,be.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(K){this.ctx.lineDash=K,be.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(K){this.ctx.ignoreClearRect=!!K}})};h.prototype.setLineDash=function(D){this.lineDash=D},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){I.call(this,"fill",!1)},h.prototype.stroke=function(){I.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(D,F){if(isNaN(D)||isNaN(F))throw pn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var U=this.ctx.transform.applyToPoint(new s(D,F));this.path.push({type:"mt",x:U.x,y:U.y}),this.ctx.lastPoint=new s(D,F)},h.prototype.closePath=function(){var D=new s(0,0),F=0;for(F=this.path.length-1;F!==-1;F--)if(this.path[F].type==="begin"&&tn(this.path[F+1])==="object"&&typeof this.path[F+1].x=="number"){D=new s(this.path[F+1].x,this.path[F+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(D.x,D.y)},h.prototype.lineTo=function(D,F){if(isNaN(D)||isNaN(F))throw pn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var U=this.ctx.transform.applyToPoint(new s(D,F));this.path.push({type:"lt",x:U.x,y:U.y}),this.ctx.lastPoint=new s(U.x,U.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),I.call(this,null,!0)},h.prototype.quadraticCurveTo=function(D,F,U,M){if(isNaN(U)||isNaN(M)||isNaN(D)||isNaN(F))throw pn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Q=this.ctx.transform.applyToPoint(new s(U,M)),oe=this.ctx.transform.applyToPoint(new s(D,F));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new s(Q.x,Q.y)},h.prototype.bezierCurveTo=function(D,F,U,M,Q,oe){if(isNaN(Q)||isNaN(oe)||isNaN(D)||isNaN(F)||isNaN(U)||isNaN(M))throw pn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new s(Q,oe)),he=this.ctx.transform.applyToPoint(new s(D,F)),we=this.ctx.transform.applyToPoint(new s(U,M));this.path.push({type:"bct",x1:he.x,y1:he.y,x2:we.x,y2:we.y,x:de.x,y:de.y}),this.ctx.lastPoint=new s(de.x,de.y)},h.prototype.arc=function(D,F,U,M,Q,oe){if(isNaN(D)||isNaN(F)||isNaN(U)||isNaN(M)||isNaN(Q))throw pn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new s(D,F));D=de.x,F=de.y;var he=this.ctx.transform.applyToPoint(new s(0,U)),we=this.ctx.transform.applyToPoint(new s(0,0));U=Math.sqrt(Math.pow(he.x-we.x,2)+Math.pow(he.y-we.y,2))}Math.abs(Q-M)>=2*Math.PI&&(M=0,Q=2*Math.PI),this.path.push({type:"arc",x:D,y:F,radius:U,startAngle:M,endAngle:Q,counterclockwise:oe})},h.prototype.arcTo=function(D,F,U,M,Q){throw new Error("arcTo not implemented.")},h.prototype.rect=function(D,F,U,M){if(isNaN(D)||isNaN(F)||isNaN(U)||isNaN(M))throw pn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,F),this.lineTo(D+U,F),this.lineTo(D+U,F+M),this.lineTo(D,F+M),this.lineTo(D,F),this.lineTo(D+U,F),this.lineTo(D,F)},h.prototype.fillRect=function(D,F,U,M){if(isNaN(D)||isNaN(F)||isNaN(U)||isNaN(M))throw pn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var Q={};this.lineCap!=="butt"&&(Q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,F,U,M),this.fill(),Q.hasOwnProperty("lineCap")&&(this.lineCap=Q.lineCap),Q.hasOwnProperty("lineJoin")&&(this.lineJoin=Q.lineJoin)}},h.prototype.strokeRect=function(D,F,U,M){if(isNaN(D)||isNaN(F)||isNaN(U)||isNaN(M))throw pn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(D,F,U,M),this.stroke())},h.prototype.clearRect=function(D,F,U,M){if(isNaN(D)||isNaN(F)||isNaN(U)||isNaN(M))throw pn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,F,U,M))},h.prototype.save=function(D){D=typeof D!="boolean"||D;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("q");if(this.pdf.setPage(F),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var M=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=M}},h.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("Q");this.pdf.setPage(F),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(D){var F,U,M,Q;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))F=0,U=0,M=0,Q=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(oe!==null)F=parseInt(oe[1]),U=parseInt(oe[2]),M=parseInt(oe[3]),Q=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)F=parseInt(oe[1]),U=parseInt(oe[2]),M=parseInt(oe[3]),Q=parseFloat(oe[4]);else{if(Q=1,typeof D=="string"&&D.charAt(0)!=="#"){var de=new ED(D);D=de.ok?de.toHex():"#000000"}D.length===4?(F=D.substring(1,2),F+=F,U=D.substring(2,3),U+=U,M=D.substring(3,4),M+=M):(F=D.substring(1,3),U=D.substring(3,5),M=D.substring(5,7)),F=parseInt(F,16),U=parseInt(U,16),M=parseInt(M,16)}}return{r:F,g:U,b:M,a:Q,style:D}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(D,F,U,M){if(isNaN(F)||isNaN(U)||typeof D!="string")throw pn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(M=isNaN(M)?void 0:M,!f.call(this)){var Q=ae(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;C.call(this,{text:D,x:F,y:U,scale:oe,angle:Q,align:this.textAlign,maxWidth:M})}},h.prototype.strokeText=function(D,F,U,M){if(isNaN(F)||isNaN(U)||typeof D!="string")throw pn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){M=isNaN(M)?void 0:M;var Q=ae(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;C.call(this,{text:D,x:F,y:U,scale:oe,renderingMode:"stroke",angle:Q,align:this.textAlign,maxWidth:M})}},h.prototype.measureText=function(D){if(typeof D!="string")throw pn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var F=this.pdf,U=this.pdf.internal.scaleFactor,M=F.internal.getFontSize(),Q=F.getStringUnitWidth(D)*M/F.internal.scaleFactor;return new function(oe){var de=(oe=oe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this}({width:Q*=Math.round(96*U/72*1e4)/1e4})},h.prototype.scale=function(D,F){if(isNaN(D)||isNaN(F))throw pn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var U=new l(D,0,0,F,0,0);this.ctx.transform=this.ctx.transform.multiply(U)},h.prototype.rotate=function(D){if(isNaN(D))throw pn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var F=new l(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(F)},h.prototype.translate=function(D,F){if(isNaN(D)||isNaN(F))throw pn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var U=new l(1,0,0,1,D,F);this.ctx.transform=this.ctx.transform.multiply(U)},h.prototype.transform=function(D,F,U,M,Q,oe){if(isNaN(D)||isNaN(F)||isNaN(U)||isNaN(M)||isNaN(Q)||isNaN(oe))throw pn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new l(D,F,U,M,Q,oe);this.ctx.transform=this.ctx.transform.multiply(de)},h.prototype.setTransform=function(D,F,U,M,Q,oe){D=isNaN(D)?1:D,F=isNaN(F)?0:F,U=isNaN(U)?0:U,M=isNaN(M)?1:M,Q=isNaN(Q)?0:Q,oe=isNaN(oe)?0:oe,this.ctx.transform=new l(D,F,U,M,Q,oe)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(D,F,U,M,Q,oe,de,he,we){var ke=this.pdf.getImageProperties(D),ne=1,Z=1,Ae=1,K=1;M!==void 0&&he!==void 0&&(Ae=he/M,K=we/Q,ne=ke.width/M*he/M,Z=ke.height/Q*we/Q),oe===void 0&&(oe=F,de=U,F=0,U=0),M!==void 0&&he===void 0&&(he=M,we=Q),M===void 0&&he===void 0&&(he=ke.width,we=ke.height);var Te=this.ctx.transform.decompose(),Re=ae(Te.rotate.shx),Oe=new l,Ne=(Oe=(Oe=(Oe=Oe.multiply(Te.translate)).multiply(Te.skew)).multiply(Te.scale)).applyToRectangle(new o(oe-F*Ae,de-U*K,M*ne,Q*Z));if(this.autoPaging){for(var Qe,Ke=_.call(this,Ne),ht=[],ct=0;ct<Ke.length;ct+=1)ht.indexOf(Ke[ct])===-1&&ht.push(Ke[ct]);w(ht);for(var yt=ht[0],mt=ht[ht.length-1],St=yt;St<mt+1;St++){this.pdf.setPage(St);var $t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Et=St===1?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=St===1?0:gt+(St-2)*at;if(this.ctx.clip_path.length!==0){var Ft=this.path;Qe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(Qe,this.posX+this.margin[3],-it+Et+this.ctx.prevPageLastElemOffset),j.call(this,"fill",!0),this.path=Ft}var wt=JSON.parse(JSON.stringify(Ne));wt=T([wt],this.posX+this.margin[3],-it+Et+this.ctx.prevPageLastElemOffset)[0];var Nt=(St>yt||St<mt)&&m.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$t,at,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",wt.x,wt.y,wt.w,wt.h,null,null,Re),Nt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(D,"JPEG",Ne.x,Ne.y,Ne.w,Ne.h,null,null,Re)};var _=function(D,F,U){var M=[];F=F||this.pdf.internal.pageSize.width,U=U||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Q=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":M.push(Math.floor((D.y+Q)/U)+1);break;case"arc":M.push(Math.floor((D.y+Q-D.radius)/U)+1),M.push(Math.floor((D.y+Q+D.radius)/U)+1);break;case"qct":var oe=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);M.push(Math.floor((oe.y+Q)/U)+1),M.push(Math.floor((oe.y+oe.h+Q)/U)+1);break;case"bct":var de=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);M.push(Math.floor((de.y+Q)/U)+1),M.push(Math.floor((de.y+de.h+Q)/U)+1);break;case"rect":M.push(Math.floor((D.y+Q)/U)+1),M.push(Math.floor((D.y+D.h+Q)/U)+1)}for(var he=0;he<M.length;he+=1)for(;this.pdf.internal.getNumberOfPages()<M[he];)x.call(this);return M},x=function(){var D=this.fillStyle,F=this.strokeStyle,U=this.font,M=this.lineCap,Q=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=F,this.font=U,this.lineCap=M,this.lineWidth=Q,this.lineJoin=oe},T=function(D,F,U){for(var M=0;M<D.length;M++)switch(D[M].type){case"bct":D[M].x2+=F,D[M].y2+=U;case"qct":D[M].x1+=F,D[M].y1+=U;default:D[M].x+=F,D[M].y+=U}return D},w=function(D){return D.sort(function(F,U){return F-U})},I=function(D,F){var U=this.fillStyle,M=this.strokeStyle,Q=this.lineCap,oe=this.lineWidth,de=Math.abs(oe*this.ctx.transform.scaleX),he=this.lineJoin;if(this.autoPaging){for(var we,ke,ne=JSON.parse(JSON.stringify(this.path)),Z=JSON.parse(JSON.stringify(this.path)),Ae=[],K=0;K<Z.length;K++)if(Z[K].x!==void 0)for(var Te=_.call(this,Z[K]),Re=0;Re<Te.length;Re+=1)Ae.indexOf(Te[Re])===-1&&Ae.push(Te[Re]);for(var Oe=0;Oe<Ae.length;Oe++)for(;this.pdf.internal.getNumberOfPages()<Ae[Oe];)x.call(this);w(Ae);for(var Ne=Ae[0],Qe=Ae[Ae.length-1],Ke=Ne;Ke<Qe+1;Ke++){this.pdf.setPage(Ke),this.fillStyle=U,this.strokeStyle=M,this.lineCap=Q,this.lineWidth=de,this.lineJoin=he;var ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ct=Ke===1?this.posY+this.margin[0]:this.margin[0],yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],St=Ke===1?0:yt+(Ke-2)*mt;if(this.ctx.clip_path.length!==0){var $t=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(we,this.posX+this.margin[3],-St+ct+this.ctx.prevPageLastElemOffset),j.call(this,D,!0),this.path=$t}if(ke=JSON.parse(JSON.stringify(ne)),this.path=T(ke,this.posX+this.margin[3],-St+ct+this.ctx.prevPageLastElemOffset),F===!1||Ke===0){var Et=(Ke>Ne||Ke<Qe)&&m.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,mt,null).clip().discardPath()),j.call(this,D,F),Et&&this.pdf.restoreGraphicsState()}this.lineWidth=oe}this.path=ne}else this.lineWidth=de,j.call(this,D,F),this.lineWidth=oe},j=function(D,F){if((D!=="stroke"||F||!p.call(this))&&(D==="stroke"||F||!f.call(this))){for(var U,M,Q=[],oe=this.path,de=0;de<oe.length;de++){var he=oe[de];switch(he.type){case"begin":Q.push({begin:!0});break;case"close":Q.push({close:!0});break;case"mt":Q.push({start:he,deltas:[],abs:[]});break;case"lt":var we=Q.length;if(oe[de-1]&&!isNaN(oe[de-1].x)&&(U=[he.x-oe[de-1].x,he.y-oe[de-1].y],we>0)){for(;we>=0;we--)if(Q[we-1].close!==!0&&Q[we-1].begin!==!0){Q[we-1].deltas.push(U),Q[we-1].abs.push(he);break}}break;case"bct":U=[he.x1-oe[de-1].x,he.y1-oe[de-1].y,he.x2-oe[de-1].x,he.y2-oe[de-1].y,he.x-oe[de-1].x,he.y-oe[de-1].y],Q[Q.length-1].deltas.push(U);break;case"qct":var ke=oe[de-1].x+2/3*(he.x1-oe[de-1].x),ne=oe[de-1].y+2/3*(he.y1-oe[de-1].y),Z=he.x+2/3*(he.x1-he.x),Ae=he.y+2/3*(he.y1-he.y),K=he.x,Te=he.y;U=[ke-oe[de-1].x,ne-oe[de-1].y,Z-oe[de-1].x,Ae-oe[de-1].y,K-oe[de-1].x,Te-oe[de-1].y],Q[Q.length-1].deltas.push(U);break;case"arc":Q.push({deltas:[],abs:[],arc:!0}),Array.isArray(Q[Q.length-1].abs)&&Q[Q.length-1].abs.push(he)}}M=F?null:D==="stroke"?"stroke":"fill";for(var Re=!1,Oe=0;Oe<Q.length;Oe++)if(Q[Oe].arc)for(var Ne=Q[Oe].abs,Qe=0;Qe<Ne.length;Qe++){var Ke=Ne[Qe];Ke.type==="arc"?E.call(this,Ke.x,Ke.y,Ke.radius,Ke.startAngle,Ke.endAngle,Ke.counterclockwise,void 0,F,!Re):k.call(this,Ke.x,Ke.y),Re=!0}else if(Q[Oe].close===!0)this.pdf.internal.out("h"),Re=!1;else if(Q[Oe].begin!==!0){var ht=Q[Oe].start.x,ct=Q[Oe].start.y;q.call(this,Q[Oe].deltas,ht,ct),Re=!0}M&&y.call(this,M),F&&R.call(this)}},P=function(D){var F=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,U=F*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-U;case"top":return D+F-U;case"hanging":return D+F-2*U;case"middle":return D+F/2-U;default:return D}},N=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(F,U){this.colorStops.push([F,U])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(D,F,U,M,Q,oe,de,he,we){for(var ke=V.call(this,U,M,Q,oe),ne=0;ne<ke.length;ne++){var Z=ke[ne];ne===0&&(we?A.call(this,Z.x1+D,Z.y1+F):k.call(this,Z.x1+D,Z.y1+F)),X.call(this,D,F,Z.x2,Z.y2,Z.x3,Z.y3,Z.x4,Z.y4)}he?R.call(this):y.call(this,de)},y=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(D,F){this.pdf.internal.out(r(D)+" "+n(F)+" m")},C=function(D){var F;switch(D.align){case"right":case"end":F="right";break;case"center":F="center";break;default:F="left"}var U,M,Q,oe=this.pdf.getTextDimensions(D.text),de=P.call(this,D.y),he=N.call(this,de)-oe.h,we=this.ctx.transform.applyToPoint(new s(D.x,de));if(this.autoPaging){var ke=this.ctx.transform.decompose(),ne=new l;ne=(ne=(ne=ne.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale);for(var Z=this.ctx.transform.applyToRectangle(new o(D.x,de,oe.w,oe.h)),Ae=ne.applyToRectangle(new o(D.x,he,oe.w,oe.h)),K=_.call(this,Ae),Te=[],Re=0;Re<K.length;Re+=1)Te.indexOf(K[Re])===-1&&Te.push(K[Re]);w(Te);for(var Oe=Te[0],Ne=Te[Te.length-1],Qe=Oe;Qe<Ne+1;Qe++){this.pdf.setPage(Qe);var Ke=Qe===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ct=this.pdf.internal.pageSize.height-this.margin[2],yt=ct-this.margin[0],mt=this.pdf.internal.pageSize.width-this.margin[1],St=mt-this.margin[3],$t=Qe===1?0:ht+(Qe-2)*yt;if(this.ctx.clip_path.length!==0){var Et=this.path;U=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(U,this.posX+this.margin[3],-1*$t+Ke),j.call(this,"fill",!0),this.path=Et}var gt=T([JSON.parse(JSON.stringify(Ae))],this.posX+this.margin[3],-$t+Ke+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(M=this.pdf.internal.getFontSize(),this.pdf.setFontSize(M*D.scale),Q=this.lineWidth,this.lineWidth=Q*D.scale);var at=this.autoPaging!=="text";if(at||gt.y+gt.h<=ct){if(at||gt.y>=Ke&&gt.x<=mt){var it=at?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||mt-gt.x)[0],Ft=T([JSON.parse(JSON.stringify(Z))],this.posX+this.margin[3],-$t+Ke+this.ctx.prevPageLastElemOffset)[0],wt=at&&(Qe>Oe||Qe<Ne)&&m.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,yt,null).clip().discardPath()),this.pdf.text(it,Ft.x,Ft.y,{angle:D.angle,align:F,renderingMode:D.renderingMode}),wt&&this.pdf.restoreGraphicsState()}}else gt.y<ct&&(this.ctx.prevPageLastElemOffset+=ct-gt.y);D.scale>=.01&&(this.pdf.setFontSize(M),this.lineWidth=Q)}}else D.scale>=.01&&(M=this.pdf.internal.getFontSize(),this.pdf.setFontSize(M*D.scale),Q=this.lineWidth,this.lineWidth=Q*D.scale),this.pdf.text(D.text,we.x+this.posX,we.y+this.posY,{angle:D.angle,align:F,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(M),this.lineWidth=Q)},k=function(D,F,U,M){U=U||0,M=M||0,this.pdf.internal.out(r(D+U)+" "+n(F+M)+" l")},q=function(D,F,U){return this.pdf.lines(D,F,U,null,null)},X=function(D,F,U,M,Q,oe,de,he){this.pdf.internal.out([e(a(U+D)),e(i(M+F)),e(a(Q+D)),e(i(oe+F)),e(a(de+D)),e(i(he+F)),"c"].join(" "))},V=function(D,F,U,M){for(var Q=2*Math.PI,oe=Math.PI/2;F>U;)F-=Q;var de=Math.abs(U-F);de<Q&&M&&(de=Q-de);for(var he=[],we=M?-1:1,ke=F;de>1e-5;){var ne=ke+we*Math.min(de,oe);he.push(H.call(this,D,ke,ne)),de-=Math.abs(ne-ke),ke=ne}return he},H=function(D,F,U){var M=(U-F)/2,Q=D*Math.cos(M),oe=D*Math.sin(M),de=Q,he=-oe,we=de*de+he*he,ke=we+de*Q+he*oe,ne=4/3*(Math.sqrt(2*we*ke)-ke)/(de*oe-he*Q),Z=de-ne*he,Ae=he+ne*de,K=Z,Te=-Ae,Re=M+F,Oe=Math.cos(Re),Ne=Math.sin(Re);return{x1:D*Math.cos(F),y1:D*Math.sin(F),x2:Z*Oe-Ae*Ne,y2:Z*Ne+Ae*Oe,x3:K*Oe-Te*Ne,y3:K*Ne+Te*Oe,x4:D*Math.cos(U),y4:D*Math.sin(U)}},ae=function(D){return 180*D/Math.PI},W=function(D,F,U,M,Q,oe){var de=D+.5*(U-D),he=F+.5*(M-F),we=Q+.5*(U-Q),ke=oe+.5*(M-oe),ne=Math.min(D,Q,de,we),Z=Math.max(D,Q,de,we),Ae=Math.min(F,oe,he,ke),K=Math.max(F,oe,he,ke);return new o(ne,Ae,Z-ne,K-Ae)},ge=function(D,F,U,M,Q,oe,de,he){var we,ke,ne,Z,Ae,K,Te,Re,Oe,Ne,Qe,Ke,ht,ct,yt=U-D,mt=M-F,St=Q-U,$t=oe-M,Et=de-Q,gt=he-oe;for(ke=0;ke<41;ke++)Oe=(Te=(ne=D+(we=ke/40)*yt)+we*((Ae=U+we*St)-ne))+we*(Ae+we*(Q+we*Et-Ae)-Te),Ne=(Re=(Z=F+we*mt)+we*((K=M+we*$t)-Z))+we*(K+we*(oe+we*gt-K)-Re),ke==0?(Qe=Oe,Ke=Ne,ht=Oe,ct=Ne):(Qe=Math.min(Qe,Oe),Ke=Math.min(Ke,Ne),ht=Math.max(ht,Oe),ct=Math.max(ct,Ne));return new o(Math.round(Qe),Math.round(Ke),Math.round(ht-Qe),Math.round(ct-Ke))},be=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,F,U=(D=this.ctx.lineDash,F=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:F}));this.prevLineDash!==U&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=U)}}})(Vt.API),function(t){var e=function(s){var o,l,c,u,h,d,f,p,m,_;for(l=[],c=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(h=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(d=(h=((h=((h=((h=(h-(_=h%85))/85)-(m=h%85))/85)-(p=h%85))/85)-(f=h%85))/85)%85,l.push(d+33,f+33,p+33,m+33,_+33)):l.push(122);return function(x,T){for(var w=T;w>0;w--)x.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(s){var o,l,c,u,h,d=String,f="length",p=255,m="charCodeAt",_="slice",x="replace";for(s[_](-2),s=s[_](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),c=[],u=0,h=(s+=o="uuuuu"[_](s[f]%5||5))[f];h>u;u+=5)l=52200625*(s[m](u)-33)+614125*(s[m](u+1)-33)+7225*(s[m](u+2)-33)+85*(s[m](u+3)-33)+(s[m](u+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(T,w){for(var I=w;I>0;I--)T.pop()}(c,o[f]),d.fromCharCode.apply(d,c)},n=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},i=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=Lw(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,o){var l=0,c=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=a(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Vt.API),function(t){t.loadFile=function(e,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var h=new XMLHttpRequest,d=0,f=function(p){var m=p.length,_=[],x=String.fromCharCode;for(d=0;d<m;d+=1)_.push(x(255&p.charCodeAt(d)));return _.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?u(f(this.responseText)):u(void 0)}),h.send(null),c&&h.status===200)return f(h.responseText)}(a,i,s)}catch{}return o}(e,r,n)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile}(Vt.API),function(t){function e(){return(sr.html2canvas?Promise.resolve(sr.html2canvas):_y(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(sr.DOMPurify?Promise.resolve(sr.DOMPurify):_y(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=tn(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},i=function o(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),h=l.firstChild;h;h=h.nextSibling)c!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||u.appendChild(o(h,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},s=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return(u=u.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var p=u[f],m=p.src.find(function(_){return _.format==="truetype"});m&&c.addFont(m.url,p.ref.name,p.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,c.context2d.save(!0),l(this.prop.container,d)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||Vt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,h){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(d){return c.updateProgress(null,u),d}).then(u,h).then(function(d){return c.updateProgress(1),d})})},s.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),l&&(l=l.bind(u));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:s.convert(Object.assign({},u),Promise.prototype),d=c.call(h,o,l);return s.convert(d,u.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Vt.getPageSize=function(o,l,c){if(tn(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var h,d=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var p,m=0,_=0;if(f.hasOwnProperty(d))m=f[d][1]/h,_=f[d][0]/h;else try{m=c[1],_=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",_>m&&(p=_,_=m,m=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",m>_&&(p=_,_=m,m=p)}return{width:_,height:m,unit:l,k:h,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(My):null;var c=new s(l);return l.worker?c:c.from(o).doCallback()}}(Vt.API),Vt.API.addJS=function(t){var e,r,n=t;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&r!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var h=r.internal.newObject();u.push(h);var d=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(Vt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,i,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(h){for(var d,f=256*h.charCodeAt(4)+h.charCodeAt(5),p=h.length,m={width:0,height:0,numcomponents:1},_=4;_<p;_+=2){if(_+=f,e.indexOf(h.charCodeAt(_+1))!==-1){d=256*h.charCodeAt(_+5)+h.charCodeAt(_+6),m={width:256*h.charCodeAt(_+7)+h.charCodeAt(_+8),height:d,numcomponents:h.charCodeAt(_+9)};break}f=256*h.charCodeAt(_+2)+h.charCodeAt(_+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:a}}return u}}(Vt.API),Vt.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var a,i=TQ(t,{checkCrc:!0}),s=i.width,o=i.height,l=i.channels,c=i.palette,u=i.depth;a=c&&l===1?function(E){for(var y=E.width,R=E.height,A=E.data,C=E.palette,k=E.depth,q=!1,X=[],V=[],H=void 0,ae=!1,W=0,ge=0;ge<C.length;ge++){var be=i6(C[ge],4),D=be[0],F=be[1],U=be[2],M=be[3];X.push(D,F,U),M!=null&&(M===0?(W++,V.length<1&&V.push(ge)):M<255&&(ae=!0))}if(ae||W>1){q=!0,V=void 0;var Q=y*R;H=new Uint8Array(Q);for(var oe=new DataView(A.buffer),de=0;de<Q;de++){var he=Uy(oe,de,k),we=i6(C[he],4)[3];H[de]=we}}else W===0&&(V=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:q?8:void 0,colorBytes:A,alphaBytes:H,needSMask:q,palette:X,mask:V}}(i):l===2||l===4?function(E){for(var y=E.data,R=E.width,A=E.height,C=E.channels,k=E.depth,q=C===2?"DeviceGray":"DeviceRGB",X=C-1,V=R*A,H=X,ae=V*H,W=1*V,ge=Math.ceil(ae*k/8),be=Math.ceil(W*k/8),D=new Uint8Array(ge),F=new Uint8Array(be),U=new DataView(y.buffer),M=new DataView(D.buffer),Q=new DataView(F.buffer),oe=!1,de=0;de<V;de++){for(var he=de*C,we=0;we<H;we++)lk(M,Uy(U,he+we,k),de*H+we,k);var ke=Uy(U,he+H,k);ke<(1<<k)-1&&(oe=!0),lk(Q,ke,1*de,k)}return{colorSpace:q,colorsPerPixel:X,sMaskBitsPerComponent:oe?k:void 0,colorBytes:D,alphaBytes:F,needSMask:oe}}(i):function(E){var y=E.data,R=E.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:R,colorsPerPixel:R==="DeviceGray"?1:3,colorBytes:y instanceof Uint16Array?function(A){for(var C=A.length,k=new Uint8Array(2*C),q=new DataView(k.buffer,k.byteOffset,k.byteLength),X=0;X<C;X++)q.setUint16(2*X,A[X],!1);return k}(y):y,needSMask:!1}}(i);var h,d,f,p=a,m=p.colorSpace,_=p.colorsPerPixel,x=p.sMaskBitsPerComponent,T=p.colorBytes,w=p.alphaBytes,I=p.needSMask,j=p.palette,P=p.mask,N=null;return n!==Vt.API.image_compression.NONE&&typeof Lw=="function"?(N=function(E){var y;switch(E){case Vt.API.image_compression.FAST:y=11;break;case Vt.API.image_compression.MEDIUM:y=13;break;case Vt.API.image_compression.SLOW:y=14;break;default:y=12}return y}(n),h=this.decode.FLATE_DECODE,d="/Predictor ".concat(N," /Colors ").concat(_," /BitsPerComponent ").concat(u," /Columns ").concat(s),t=nk(T,Math.ceil(s*_*u/8),_,u,n),I&&(f=nk(w,Math.ceil(s*x/8),1,x,n))):(h=void 0,d=void 0,t=T,I&&(f=w)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:t,index:e,filter:h,decodeParameters:d,transparency:P,palette:j,sMask:f,predictor:N,width:s,height:o,bitsPerComponent:u,sMaskBitsPerComponent:x,colorSpace:m}}},function(t){t.processGIF89A=function(e,r,n,a){var i=new $Q(e),s=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new jy(100).encode(c,100);return t.processJPEG.call(this,u,r,n,a)},t.processGIF87A=t.processGIF89A}(Vt.API),Uo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Uo.prototype.parseBGR=function(){this.pos=this.offset;var t="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[t]()}catch(r){pn.log("bit decode error:"+r)}},Uo.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Uo.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Uo.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Uo.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&e)/e*255|0,o=(i>>5&e)/e*255|0,l=(i>>10&e)/e*255|0,c=i>>15?255:0,u=n*this.width*4+4*a;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=t}},Uo.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/e*255|0,u=a*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=t}},Uo.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Uo.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},Uo.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,a){var i=new Uo(e,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new jy(100).encode(l,100);return t.processJPEG.call(this,c,r,n,a)}}(Vt.API),uk.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,a){var i=new uk(e),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new jy(100).encode(l,100);return t.processJPEG.call(this,c,r,n,a)}}(Vt.API),Vt.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,l=0,c=0;c<a;c+=4){var u=n[c],h=n[c+1],d=n[c+2],f=n[c+3];i[o++]=u,i[o++]=h,i[o++]=d,s[l++]=f}var p=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:p,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Vt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},n0=Vt.API,Bg=n0.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:a.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=e.doKerning!==!1,d=0,f=t.length,p=0,m=o[0]||l,_=[];for(r=0;r<f;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?_.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(d=h&&tn(c[n])==="object"&&!isNaN(parseInt(c[n][p],10))?c[n][p]/u:0,_.push((o[n]||m)/l+d)),p=n;return _},ek=n0.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return n0.processArabic&&(t=n0.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:Bg.apply(this,arguments).reduce(function(i,s){return i+s},0)},tk=function(t,e,r,n){for(var a=[],i=0,s=t.length,o=0;i!==s&&o+e[i]<r;)o+=e[i],i++;a.push(t.slice(0,i));var l=i;for(o=0;i!==s;)o+e[i]>n&&(a.push(t.slice(l,i)),o=0,l=i),o+=e[i],i++;return l!==i&&a.push(t.slice(l,i)),a},rk=function(t,e,r){r||(r={});var n,a,i,s,o,l,c,u=[],h=[u],d=r.textIndent||0,f=0,p=0,m=t.split(" "),_=Bg.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var x=Array(l).join(" "),T=[];m.map(function(I){(I=I.split(/\s*\n/)).length>1?T=T.concat(I.map(function(j,P){return(P&&j.length?`
`:"")+j})):T.push(I[0])}),m=T,l=ek.apply(this,[x,r])}for(i=0,s=m.length;i<s;i++){var w=0;if(n=m[i],l&&n[0]==`
`&&(n=n.substr(1),w=1),d+f+(p=(a=Bg.apply(this,[n,r])).reduce(function(I,j){return I+j},0))>e||w){if(p>e){for(o=tk.apply(this,[n,a,e-(d+f),e]),u.push(o.shift()),u=[o.pop()];o.length;)h.push([o.shift()]);p=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(I,j){return I+j},0)}else u=[n];h.push(u),d=p+l,f=_}else u.push(n),d+=f+p,f=_}return c=l?function(I,j){return(j?x:"")+I.join(" ")}:function(I){return I.join(" ")},h.map(c)},n0.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle),d="Unicode";return h.metadata[d]?{widths:h.metadata[d].widths||{0:1},kerning:h.metadata[d].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(rk.apply(this,[n[o],s,i]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[r[i]]=e[i],a[e[i]]=r[i];var s=function(d){return"0x"+parseInt(d,10).toString(16)},o=t.__fontmetrics__.compress=function(d){var f,p,m,_,x=["{"];for(var T in d){if(f=d[T],isNaN(parseInt(T,10))?p="'"+T+"'":(T=parseInt(T,10),p=(p=s(T).slice(2)).slice(0,-1)+a[p.slice(-1)]),typeof f=="number")f<0?(m=s(f).slice(3),_="-"):(m=s(f).slice(2),_=""),m=_+m.slice(0,-1)+a[m.slice(-1)];else{if(tn(f)!=="object")throw new Error("Don't know what to do with value type "+tn(f)+".");m=o(f)}x.push(p+m)}return x.push("}"),x.join("")},l=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,p,m,_,x={},T=1,w=x,I=[],j="",P="",N=d.length-1,E=1;E<N;E+=1)(_=d[E])=="'"?f?(m=f.join(""),f=void 0):f=[]:f?f.push(_):_=="{"?(I.push([w,m]),w={},m=void 0):_=="}"?((p=I.pop())[0][p[1]]=w,m=void 0,w=p[0]):_=="-"?T=-1:m===void 0?n.hasOwnProperty(_)?(j+=n[_],m=parseInt(j,16)*T,T=1,j=""):j+=_:n.hasOwnProperty(_)?(P+=n[_],w[m]=parseInt(P,16)*T,T=1,m=void 0,P=""):P+=_;return x},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var f=d.font,p=h.Unicode[f.postScriptName];p&&(f.metadata.Unicode={},f.metadata.Unicode.widths=p.widths,f.metadata.Unicode.kerning=p.kerning);var m=u.Unicode[f.postScriptName];m&&(f.metadata.Unicode.encoding=m,f.encoding=m.codePages[0])}])}(Vt.API),function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(k2(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(Vt),Vt.API.addSvgAsImage=function(t,e,r,n,a,i,s,o){if(isNaN(e)||isNaN(r))throw pn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw pn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=a;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(sr.canvg?Promise.resolve(sr.canvg):_y(()=>import("./index.es-DTmaOjy4.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load canvg: "+d))}).then(function(d){return d.default?d.default:d}).then(function(d){return d.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(d){return d.render(u)}).then(function(){h.addImage(l.toDataURL("image/jpeg",1),e,r,n,a,s,o)})},Vt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},Vt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,h=0;function d(p,m){var _,x=!1;for(_=0;_<p.length;_+=1)p[_]===m&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=o.length;for(h=0;h<f;h+=1)r[o[h]].value=r[o[h]].defaultValue,r[o[h]].explicitSet=!1}if(tn(t)==="object"){for(a in t)if(i=t[a],d(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&d(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,m=[];for(p in r)r[p].explicitSet===!0&&(r[p].type==="name"?m.push("/"+p+" /"+r[p].value):m.push("/"+p+" "+r[p].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},Vt.API.addMetadata=function(t,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:t,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",KQ),this.internal.events.subscribe("postPutResources",XQ)),this},function(t){var e=t.API,r=e.pdfEscape16=function(i,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],h=0,d=i.length;h<d;++h){if(o=s.metadata.characterToGlyph(i.charCodeAt(h)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(h),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(i){var s,o,l,c,u,h,d;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,d=(o=Object.keys(i).sort(function(f,p){return f-p})).length;h<d;h++)s=o[h],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(c=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,d=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",p=0;p<d.length;p++)f+=String.fromCharCode(d[p]);var m=c();u({data:f,addLength1:!0,objectId:m}),l("endobj");var _=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var x=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+g0(o.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var T=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+g0(o.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+_+" 0 R"),l("/BaseFont /"+g0(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+T+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,d="",f=0;f<h.length;f++)d+=String.fromCharCode(h[f]);var p=c();u({data:d,addLength1:!0,objectId:p}),l("endobj");var m=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var _=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+p+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+g0(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var x=0;x<o.metadata.hmtx.widths.length;x++)o.metadata.hmtx.widths[x]=parseInt(o.metadata.hmtx.widths[x]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+g0(o.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",l=i.x,c=i.y,u=i.options||{},h=i.mutex||{},d=h.pdfEscape,f=h.activeFontKey,p=h.fonts,m=f,_="",x=0,T="",w=p[m].encoding;if(p[m].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:h};for(T=o,m=f,Array.isArray(o)&&(T=o[0]),x=0;x<T.length;x+=1)p[m].metadata.hasOwnProperty("cmap")&&(s=p[m].metadata.cmap.unicode.codeMap[T[x].charCodeAt(0)]),s||T[x].charCodeAt(0)<256&&p[m].metadata.hasOwnProperty("Unicode")?_+=T[x]:_+="";var I="";return parseInt(m.slice(1))<14||w==="WinAnsiEncoding"?I=d(_,m).split("").map(function(j){return j.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(I=r(_,p[m])),h.isHex=!0,{text:I,x:l,y:c,options:u,mutex:h}};e.events.push(["postProcessText",function(i){var s=i.text||"",o=[],l={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([a(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(a(Object.assign({},l,{text:s[c]})).text);i.text=o}else i.text=a(Object.assign({},l,{text:s})).text}])}(Vt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Vt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,i,s,o,l,c,u,h=e,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),T=!1,w=0;this.__bidiEngine__={};var I=function(A){var C=A.charCodeAt(),k=C>>8,q=m[k];return q!==void 0?h[256*q+(255&C)]:k===252||k===253?"AL":x.test(k)?"L":k===8?"R":"N"},j=function(A){for(var C,k=0;k<A.length;k++){if((C=I(A.charAt(k)))==="L")return!1;if(C==="R")return!0}return!1},P=function(A,C,k,q){var X,V,H,ae,W=C[q];switch(W){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":T=!1;break;case"N":case"AN":break;case"EN":T&&(W="AN");break;case"AL":T=!0,W="R";break;case"WS":case"BN":W="N";break;case"CS":q<1||q+1>=C.length||(X=k[q-1])!=="EN"&&X!=="AN"||(V=C[q+1])!=="EN"&&V!=="AN"?W="N":T&&(V="AN"),W=V===X?V:"N";break;case"ES":W=(X=q>0?k[q-1]:"B")==="EN"&&q+1<C.length&&C[q+1]==="EN"?"EN":"N";break;case"ET":if(q>0&&k[q-1]==="EN"){W="EN";break}if(T){W="N";break}for(H=q+1,ae=C.length;H<ae&&C[H]==="ET";)H++;W=H<ae&&C[H]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(ae=C.length,H=q+1;H<ae&&C[H]==="NSM";)H++;if(H<ae){var ge=A[q],be=ge>=1425&&ge<=2303||ge===64286;if(X=C[H],be&&(X==="R"||X==="AL")){W="R";break}}}W=q<1||(X=C[q-1])==="B"?"N":k[q-1];break;case"B":T=!1,a=!0,W=w;break;case"S":i=!0,W="N"}return W},N=function(A,C,k){var q=A.split("");return k&&E(q,k,{hiLevel:w}),q.reverse(),C&&C.reverse(),q.join("")},E=function(A,C,k){var q,X,V,H,ae,W=-1,ge=A.length,be=0,D=[],F=w?f:d,U=[];for(T=!1,a=!1,i=!1,X=0;X<ge;X++)U[X]=I(A[X]);for(V=0;V<ge;V++){if(ae=be,D[V]=P(A,U,D,V),q=240&(be=F[ae][p[D[V]]]),be&=15,C[V]=H=F[be][5],q>0)if(q===16){for(X=W;X<V;X++)C[X]=1;W=-1}else W=-1;if(F[be][6])W===-1&&(W=V);else if(W>-1){for(X=W;X<V;X++)C[X]=H;W=-1}U[V]==="B"&&(C[V]=0),k.hiLevel|=H}i&&function(M,Q,oe){for(var de=0;de<oe;de++)if(M[de]==="S"){Q[de]=w;for(var he=de-1;he>=0&&M[he]==="WS";he--)Q[he]=w}}(U,C,ge)},y=function(A,C,k,q,X){if(!(X.hiLevel<A)){if(A===1&&w===1&&!a)return C.reverse(),void(k&&k.reverse());for(var V,H,ae,W,ge=C.length,be=0;be<ge;){if(q[be]>=A){for(ae=be+1;ae<ge&&q[ae]>=A;)ae++;for(W=be,H=ae-1;W<H;W++,H--)V=C[W],C[W]=C[H],C[H]=V,k&&(V=k[W],k[W]=k[H],k[H]=V);be=ae}be++}}},R=function(A,C,k){var q=A.split(""),X={hiLevel:w};return k||(k=[]),E(q,k,X),function(V,H,ae){if(ae.hiLevel!==0&&u)for(var W,ge=0;ge<V.length;ge++)H[ge]===1&&(W=_.indexOf(V[ge]))>=0&&(V[ge]=_[W+1])}(q,k,X),y(2,q,C,k,X),y(1,q,C,k,X),q.join("")};return this.__bidiEngine__.doBidiReorder=function(A,C,k){if(function(X,V){if(V)for(var H=0;H<X.length;H++)V[H]=H;o===void 0&&(o=j(X)),c===void 0&&(c=j(X))}(A,C),s||!l||c)if(s&&l&&o^c)w=o?1:0,A=N(A,C,k);else if(!s&&l&&c)w=o?1:0,A=R(A,C,k),A=N(A,C);else if(!s||o||l||c){if(s&&!l&&o^c)A=N(A,C),o?(w=0,A=R(A,C,k)):(w=1,A=R(A,C,k),A=N(A,C));else if(s&&o&&!l&&c)w=1,A=R(A,C,k),A=N(A,C);else if(!s&&!l&&o^c){var q=u;o?(w=1,A=R(A,C,k),w=0,u=!1,A=R(A,C,k),u=q):(w=0,A=R(A,C,k),A=N(A,C),w=1,u=!1,A=R(A,C,k),u=q,A=N(A,C))}}else w=0,A=R(A,C,k);else w=o?1:0,A=R(A,C,k);return A},this.__bidiEngine__.setOptions=function(A){A&&(s=A.isInputVisual,l=A.isOutputVisual,o=A.isInputRtl,c=A.isOutputRtl,u=A.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Vt),Vt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new sf(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new uJ(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new YQ(this.contents),this.head=new JQ(this),this.name=new nJ(this),this.cmap=new OD(this),this.toUnicode={},this.hhea=new ZQ(this),this.maxp=new aJ(this),this.hmtx=new iJ(this),this.post=new tJ(this),this.os2=new eJ(this),this.loca=new cJ(this),this.glyf=new sJ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)e=l[s],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,i,s,o;for(s=0,i=0,o=(e=""+e).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=e.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var rl,sf=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,i,s,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,i;for(i=[],n=0,a=e.length;n<a;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),YQ=function(){var t;function e(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,i,s,o,l,c,u,h,d,f,p,m;for(m in f=Object.keys(r).length,l=Math.log(2),h=16*Math.floor(Math.log(f)/l),s=Math.floor(h/l),u=16*f-h,(a=new sf).writeInt(this.scalarType),a.writeShort(f),a.writeShort(h),a.writeShort(s),a.writeShort(u),i=16*f,c=a.pos+i,o=null,p=[],r)for(d=r[m],a.writeString(m),a.writeInt(t(d)),a.writeInt(c),a.writeInt(d.length),p=p.concat(d),m==="head"&&(o=c),c+=d.length;c%4;)p.push(0),c++;return a.write(p),n=2981146554-t(a.data),a.pos=o+8,a.writeUInt32(n),a.data},t=function(r){var n,a,i,s;for(r=PD.call(r);r.length%4;)r.push(0);for(i=new sf(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},e}(),QQ={}.hasOwnProperty,Ul=function(t,e){for(var r in e)QQ.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};rl=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var JQ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,rl),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new sf).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),fk=function(){function t(e,r){var n,a,i,s,o,l,c,u,h,d,f,p,m,_,x,T,w;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),d=f/2,e.pos+=6,i=function(){var I,j;for(j=[],l=I=0;0<=d?I<d:I>d;l=0<=d?++I:--I)j.push(e.readUInt16());return j}(),e.pos+=2,m=function(){var I,j;for(j=[],l=I=0;0<=d?I<d:I>d;l=0<=d?++I:--I)j.push(e.readUInt16());return j}(),c=function(){var I,j;for(j=[],l=I=0;0<=d?I<d:I>d;l=0<=d?++I:--I)j.push(e.readUInt16());return j}(),u=function(){var I,j;for(j=[],l=I=0;0<=d?I<d:I>d;l=0<=d?++I:--I)j.push(e.readUInt16());return j}(),a=(this.length-e.pos+this.offset)/2,o=function(){var I,j;for(j=[],l=I=0;0<=a?I<a:I>a;l=0<=a?++I:--I)j.push(e.readUInt16());return j}(),l=x=0,w=i.length;x<w;l=++x)for(_=i[l],n=T=p=m[l];p<=_?T<=_:T>=_;n=p<=_?++T:--T)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-p)-(d-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}e.pos=h}return t.encode=function(e,r){var n,a,i,s,o,l,c,u,h,d,f,p,m,_,x,T,w,I,j,P,N,E,y,R,A,C,k,q,X,V,H,ae,W,ge,be,D,F,U,M,Q,oe,de,he,we,ke,ne;switch(q=new sf,s=Object.keys(e).sort(function(Z,Ae){return Z-Ae}),r){case"macroman":for(m=0,_=function(){var Z=[];for(p=0;p<256;++p)Z.push(0);return Z}(),T={0:0},i={},X=0,W=s.length;X<W;X++)T[he=e[a=s[X]]]==null&&(T[he]=++m),i[a]={old:e[a],new:T[e[a]]},_[a]=T[e[a]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(_),{charMap:i,subtable:q.data,maxGlyphID:m+1};case"unicode":for(C=[],h=[],w=0,T={},n={},x=c=null,V=0,ge=s.length;V<ge;V++)T[j=e[a=s[V]]]==null&&(T[j]=++w),n[a]={old:j,new:T[j]},o=T[j]-a,x!=null&&o===c||(x&&h.push(x),C.push(a),c=o),x=a;for(x&&h.push(x),h.push(65535),C.push(65535),R=2*(y=C.length),E=2*Math.pow(Math.log(y)/Math.LN2,2),d=Math.log(E/2)/Math.LN2,N=2*y-E,l=[],P=[],f=[],p=H=0,be=C.length;H<be;p=++H){if(A=C[p],u=h[p],A===65535){l.push(0),P.push(0);break}if(A-(k=n[A].new)>=32768)for(l.push(0),P.push(2*(f.length+y-p)),a=ae=A;A<=u?ae<=u:ae>=u;a=A<=u?++ae:--ae)f.push(n[a].new);else l.push(k-A),P.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*y+2*f.length),q.writeUInt16(0),q.writeUInt16(R),q.writeUInt16(E),q.writeUInt16(d),q.writeUInt16(N),oe=0,D=h.length;oe<D;oe++)a=h[oe],q.writeUInt16(a);for(q.writeUInt16(0),de=0,F=C.length;de<F;de++)a=C[de],q.writeUInt16(a);for(we=0,U=l.length;we<U;we++)o=l[we],q.writeUInt16(o);for(ke=0,M=P.length;ke<M;ke++)I=P[ke],q.writeUInt16(I);for(ne=0,Q=f.length;ne<Q;ne++)m=f[ne],q.writeUInt16(m);return{charMap:n,subtable:q.data,maxGlyphID:w+1}}},t}(),OD=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,rl),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new fk(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,a;return r==null&&(r="macroman"),n=fk.encode(e,r),(a=new sf).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},t}(),ZQ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,rl),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),eJ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,rl),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),tJ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,rl),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)r=e.readByte(),a.push(this.names.push(e.readString(r)));return a;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var s,o,l;for(l=[],i=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;i=0<=o?++s:--s)l.push(e.readUInt32());return l}).call(this)}},t}(),rJ=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},nJ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,rl),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,a,i,s,o,l,c,u,h,d;for(e.pos=this.offset,e.readShort(),r=e.readShort(),o=e.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},i=u=0,h=n.length;u<h;i=++u)a=n[i],e.pos=a.offset,c=e.readString(a.length),s=new rJ(c,a),l[d=a.nameID]==null&&(l[d]=[]),l[a.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),aJ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,rl),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),iJ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,rl),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,a,i,s,o,l;for(e.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],r=c=0;0<=a?c<a:c>a;r=0<=a?++c:--c)u.push(e.readInt16());return u}(),this.widths=(function(){var c,u,h,d;for(d=[],c=0,u=(h=this.metrics).length;c<u;c++)i=h[c],d.push(i.advance);return d}).call(this),n=this.widths[this.widths.length-1],l=[],r=s=0;0<=a?s<a:s>a;r=0<=a?++s:--s)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),PD=[].slice,sJ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,rl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,a,i,s,o,l,c,u,h;return e in this.cache?this.cache[e]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(e),(a=i.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,s=(o=new sf(r.read(a))).readShort(),c=o.readShort(),h=o.readShort(),l=o.readShort(),u=o.readShort(),this.cache[e]=s===-1?new lJ(o,c,h,l,u):new oJ(o,s,c,h,l,u),this.cache[e]))},t.prototype.encode=function(e,r,n){var a,i,s,o,l;for(s=[],i=[],o=0,l=r.length;o<l;o++)a=e[r[o]],i.push(s.length),a&&(s=s.concat(a.encode(n)));return i.push(s.length),{table:s,offsets:i}},t}(),oJ=function(){function t(e,r,n,a,i,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),lJ=function(){function t(e,r,n,a,i){var s,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new sf(PD.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),cJ=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ul(t,rl),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,s=0;s<n.length;++s)if(n[s]=a,i<r.length&&r[i]==s){++i,n[s]=a;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(a+=l)}for(var c=new Array(4*n.length),u=0;u<n.length;++u)c[4*u+3]=255&n[u],c[4*u+2]=(65280&n[u])>>8,c[4*u+1]=(16711680&n[u])>>16,c[4*u]=(4278190080&n[u])>>24;return c},t}(),uJ=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,i,s,o,l;for(a={},s=0,o=e.length;s<o;s++)a[i=e[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],a[i]=n;return a},t.prototype.encode=function(e,r){var n,a,i,s,o,l,c,u,h,d,f,p,m,_,x;for(a in n=OD.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),f={0:0},x=n.charMap)f[(l=x[a]).old]=l.new;for(p in d=n.maxGlyphID,s)p in f||(f[p]=d++);return u=function(T){var w,I;for(w in I={},T)I[T[w]]=w;return I}(f),h=Object.keys(u).sort(function(T,w){return T-w}),m=function(){var T,w,I;for(I=[],T=0,w=h.length;T<w;T++)o=h[T],I.push(u[o]);return I}(),i=this.font.glyf.encode(s,m,f),c=this.font.loca.encode(i.offsets,m),_={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},t}();Vt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+e.convert(s));return i.push(">>"),i.join(`
`)}return""+r},e}();/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Bv={};Bv.version="0.18.5";var FD=1252,fJ=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],fE={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},hE=function(t){fJ.indexOf(t)!=-1&&(FD=fE[0]=t)};function hJ(){hE(1252)}var Go=function(t){hE(t)};function dE(){Go(1200),hJ()}function hk(t){for(var e=[],r=0,n=t.length;r<n;++r)e[r]=t.charCodeAt(r);return e}function dJ(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return e.join("")}function MD(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return e.join("")}var R1=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1);return e==255&&r==254?dJ(t.slice(2)):e==254&&r==255?MD(t.slice(2)):e==65279?t.slice(1):t},Ug=function(e){return String.fromCharCode(e)},dk=function(e){return String.fromCharCode(e)},jp,Ru="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Vp(t){for(var e="",r=0,n=0,a=0,i=0,s=0,o=0,l=0,c=0;c<t.length;)r=t.charCodeAt(c++),i=r>>2,n=t.charCodeAt(c++),s=(r&3)<<4|n>>4,a=t.charCodeAt(c++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),e+=Ru.charAt(i)+Ru.charAt(s)+Ru.charAt(o)+Ru.charAt(l);return e}function Ys(t){var e="",r=0,n=0,a=0,i=0,s=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)i=Ru.indexOf(t.charAt(c++)),s=Ru.indexOf(t.charAt(c++)),r=i<<2|s>>4,e+=String.fromCharCode(r),o=Ru.indexOf(t.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=Ru.indexOf(t.charAt(c++)),a=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(a));return e}var yr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Mc=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function of(t){return yr?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function pk(t){return yr?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Ms=function(e){return yr?Mc(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function Xx(t){if(typeof ArrayBuffer>"u")return Ms(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function xf(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function pJ(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function pE(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return pE(new Uint8Array(t));for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=t[r];return e}var Xa=yr?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Mc(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),a=0;for(e=0,r=0;e<t.length;r+=a,++e)if(a=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function mJ(t){for(var e=[],r=0,n=t.length+250,a=of(t.length+255),i=0;i<t.length;++i){var s=t.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=t.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(e.push(a.slice(0,r)),r=0,a=of(65535),n=65530)}return e.push(a.slice(0,r)),Xa(e)}var Xi=/\u0000/g,L1=/[\u0001-\u0006]/g;function Q0(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Wo(t,e){var r=""+t;return r.length>=e?r:Yn("0",e-r.length)+r}function mE(t,e){var r=""+t;return r.length>=e?r:Yn(" ",e-r.length)+r}function Uv(t,e){var r=""+t;return r.length>=e?r:r+Yn(" ",e-r.length)}function gJ(t,e){var r=""+Math.round(t);return r.length>=e?r:Yn("0",e-r.length)+r}function vJ(t,e){var r=""+t;return r.length>=e?r:Yn("0",e-r.length)+r}var mk=Math.pow(2,32);function a0(t,e){if(t>mk||t<-mk)return gJ(t,e);var r=Math.round(t);return vJ(r,e)}function jv(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var gk=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Vy=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function xJ(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var er={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},vk={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},_J={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Vv(t,e,r){for(var n=t<0?-1:1,a=t*n,i=0,s=1,o=0,l=1,c=0,u=0,h=Math.floor(a);c<e&&(h=Math.floor(a),o=h*s+i,u=h*c+l,!(a-h<5e-8));)a=1/(a-h),i=s,s=o,l=c,c=u;if(u>e&&(c>e?(u=l,o=i):(u=c,o=s)),!r)return[0,n*o,u];var d=Math.floor(n*o/u);return[d,n*o-d*u,u]}function Vf(t,e,r){if(t>2958465||t<0)return null;var n=t|0,a=Math.floor(86400*(t-n)),i=0,s=[],o={D:n,T:a,u:86400*(t-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=SJ(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var BD=new Date(1899,11,31,0,0,0),yJ=BD.getTime(),wJ=new Date(1900,2,1,0,0,0);function UD(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=wJ&&(r+=24*60*60*1e3),(r-(yJ+(t.getTimezoneOffset()-BD.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function gE(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function bJ(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function EJ(t){var e=t<0?12:11,r=gE(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function AJ(t){var e=gE(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function zp(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=EJ(t):e===10?r=t.toFixed(10).substr(0,12):r=AJ(t),gE(bJ(r.toUpperCase()))}function _h(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):zp(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Co(14,UD(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function SJ(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function TJ(t,e,r,n){var a="",i=0,s=0,o=r.y,l,c=0;switch(t){case 98:o=r.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=r.m,c=e.length;break;case 3:return Vy[r.m-1][1];case 5:return Vy[r.m-1][0];default:return Vy[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=r.d,c=e.length;break;case 3:return gk[r.q][0];default:return gk[r.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(r.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=r.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=r.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Wo(r.S,e.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),e==="s"?i===0?"0":""+i/s:(a=Wo(i,2+n),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?Wo(l,c):"";return u}function Lu(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var jD=/%/g;function kJ(t,e,r){var n=e.replace(jD,""),a=e.length-n.length;return yc(t,n,r*Math.pow(10,2*a))+Yn("%",a)}function CJ(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return yc(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function VD(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+VD(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(e/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var zD=/# (\?+)( ?)\/( ?)(\d+)/;function NJ(t,e,r){var n=parseInt(t[4],10),a=Math.round(e*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?Yn(" ",t[1].length+1+t[4].length):mE(s,t[1].length)+t[2]+"/"+t[3]+Wo(o,t[4].length))}function IJ(t,e,r){return r+(e===0?"":""+e)+Yn(" ",t[1].length+2+t[4].length)}var HD=/^#*0*\.([0#]+)/,qD=/\).*[0#]/,GD=/\(###\) ###\\?-####/;function qi(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function xk(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function _k(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function RJ(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function LJ(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function co(t,e,r){if(t.charCodeAt(0)===40&&!e.match(qD)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?co("n",n,r):"("+co("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return CJ(t,e,r);if(e.indexOf("%")!==-1)return kJ(t,e,r);if(e.indexOf("E")!==-1)return VD(e,r);if(e.charCodeAt(0)===36)return"$"+co(t,e.substr(e.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+a0(l,e.length);if(e.match(/^[#?]+$/))return a=a0(r,0),a==="0"&&(a=""),a.length>e.length?a:qi(e.substr(0,e.length-a.length))+a;if(i=e.match(zD))return NJ(i,l,c);if(e.match(/^#+0+$/))return c+a0(l,e.length-e.indexOf("0"));if(i=e.match(HD))return a=xk(r,i[1].length).replace(/^([^\.]+)$/,"$1."+qi(i[1])).replace(/\.$/,"."+qi(i[1])).replace(/\.(\d*)$/,function(p,m){return"."+m+Yn("0",qi(i[1]).length-m.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return c+xk(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return c+Lu(a0(l,0));if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+co(t,e,-r):Lu(""+(Math.floor(r)+RJ(r,i[1].length)))+"."+Wo(_k(r,i[1].length),i[1].length);if(i=e.match(/^#,#*,#0/))return co(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Q0(co(t,e.replace(/[\\-]/g,""),r)),s=0,Q0(Q0(e.replace(/\\/g,"")).replace(/[0#]/g,function(p){return s<a.length?a.charAt(s++):p==="0"?"0":""}));if(e.match(GD))return a=co(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Vv(l,Math.pow(10,s)-1,!1),a=""+c,u=yc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=Uv(o[2],s),u.length<i[4].length&&(u=qi(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Vv(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?mE(o[1],s)+i[2]+"/"+i[3]+Uv(o[2],s):Yn(" ",2*s+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return a=a0(r,0),e.length<=a.length?a:qi(e.substr(0,e.length-a.length))+a;if(i=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var h=e.indexOf(".")-s,d=e.length-a.length-h;return qi(e.substr(0,h)+a+e.substr(e.length-d))}if(i=e.match(/^00,000\.([#0]*0)$/))return s=_k(r,i[1].length),r<0?"-"+co(t,e,-r):Lu(LJ(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Wo(0,3-p.length):"")+p})+"."+Wo(s,i[1].length);switch(e){case"###,##0.00":return co(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var f=Lu(a0(l,0));return f!=="0"?c+f:"";case"###,###.00":return co(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return co(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function DJ(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return yc(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function OJ(t,e,r){var n=e.replace(jD,""),a=e.length-n.length;return yc(t,n,r*Math.pow(10,2*a))+Yn("%",a)}function WD(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+WD(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(e/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function vl(t,e,r){if(t.charCodeAt(0)===40&&!e.match(qD)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?vl("n",n,r):"("+vl("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return DJ(t,e,r);if(e.indexOf("%")!==-1)return OJ(t,e,r);if(e.indexOf("E")!==-1)return WD(e,r);if(e.charCodeAt(0)===36)return"$"+vl(t,e.substr(e.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+Wo(l,e.length);if(e.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>e.length?a:qi(e.substr(0,e.length-a.length))+a;if(i=e.match(zD))return IJ(i,l,c);if(e.match(/^#+0+$/))return c+Wo(l,e.length-e.indexOf("0"));if(i=e.match(HD))return a=(""+r).replace(/^([^\.]+)$/,"$1."+qi(i[1])).replace(/\.$/,"."+qi(i[1])),a=a.replace(/\.(\d*)$/,function(p,m){return"."+m+Yn("0",qi(i[1]).length-m.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return c+Lu(""+l);if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+vl(t,e,-r):Lu(""+r)+"."+Yn("0",i[1].length);if(i=e.match(/^#,#*,#0/))return vl(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Q0(vl(t,e.replace(/[\\-]/g,""),r)),s=0,Q0(Q0(e.replace(/\\/g,"")).replace(/[0#]/g,function(p){return s<a.length?a.charAt(s++):p==="0"?"0":""}));if(e.match(GD))return a=vl(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Vv(l,Math.pow(10,s)-1,!1),a=""+c,u=yc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=Uv(o[2],s),u.length<i[4].length&&(u=qi(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Vv(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?mE(o[1],s)+i[2]+"/"+i[3]+Uv(o[2],s):Yn(" ",2*s+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return a=""+r,e.length<=a.length?a:qi(e.substr(0,e.length-a.length))+a;if(i=e.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var h=e.indexOf(".")-s,d=e.length-a.length-h;return qi(e.substr(0,h)+a+e.substr(e.length-d))}if(i=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+vl(t,e,-r):Lu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Wo(0,3-p.length):"")+p})+"."+Wo(0,i[1].length);switch(e){case"###,###":case"##,###":case"#,###":var f=Lu(""+l);return f!=="0"?c+f:"";default:if(e.match(/\.[0#?]*$/))return vl(t,e.slice(0,e.lastIndexOf(".")),r)+qi(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function yc(t,e,r){return(r|0)===r?vl(t,e,r):co(t,e,r)}function PJ(t){for(var e=[],r=!1,n=0,a=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(a,n-a),a=n+1}if(e[e.length]=t.substr(a),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var $D=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Ud(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":jv(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match($D))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function FJ(t,e,r,n){for(var a=[],i="",s=0,o="",l="t",c,u,h,d="H";s<t.length;)switch(o=t.charAt(s)){case"G":if(!jv(t,s))throw new Error("unrecognized character "+o+" in "+t);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(h=t.charCodeAt(++s))!==34&&s<t.length;)i+=String.fromCharCode(h);a[a.length]={t:"t",v:i},++s;break;case"\\":var f=t.charAt(++s),p=f==="("||f===")"?f:"t";a[a.length]={t:p,v:f},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:e},++s;break;case"B":case"b":if(t.charAt(s+1)==="1"||t.charAt(s+1)==="2"){if(c==null&&(c=Vf(e,r,t.charAt(s+1)==="2"),c==null))return"";a[a.length]={t:"X",v:t.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=Vf(e,r),c==null))return"";for(i=o;++s<t.length&&t.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=d),a[a.length]={t:o,v:i},l=o;break;case"A":case"a":case"":var m={t:o,v:o};if(c==null&&(c=Vf(e,r)),t.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(m.v=c.H>=12?"P":"A"),m.t="T",d="h",s+=3):t.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(m.v=c.H>=12?"PM":"AM"),m.t="T",s+=5,d="h"):t.substr(s,5).toUpperCase()==="/"?(c!=null&&(m.v=c.H>=12?"":""),m.t="T",s+=5,d="h"):(m.t="t",++s),c==null&&m.t==="T")return"";a[a.length]=m,l=o;break;case"[":for(i=o;t.charAt(s++)!=="]"&&s<t.length;)i+=t.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match($D)){if(c==null&&(c=Vf(e,r),c==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Ud(t)||(a[a.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=o;++s<t.length&&(o=t.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;t.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},l=o;break;case"*":++s,(t.charAt(s)==" "||t.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<t.length&&"0123456789".indexOf(t.charAt(++s))>-1;)i+=t.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);a[a.length]={t:"t",v:o},++s;break}var _=0,x=0,T;for(s=a.length-1,l="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=d,l="h",_<1&&(_=1);break;case"s":(T=a[s].v.match(/\.0+$/))&&(x=Math.max(x,T[0].length-1)),_<3&&(_=3);case"d":case"y":case"M":case"e":l=a[s].t;break;case"m":l==="s"&&(a[s].t="M",_<2&&(_=2));break;case"X":break;case"Z":_<1&&a[s].v.match(/[Hh]/)&&(_=1),_<2&&a[s].v.match(/[Mm]/)&&(_=2),_<3&&a[s].v.match(/[Ss]/)&&(_=3)}switch(_){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var w="",I;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=TJ(a[s].t.charCodeAt(0),a[s].v,c,x),a[s].t="t";break;case"n":case"?":for(I=s+1;a[I]!=null&&((o=a[I].t)==="?"||o==="D"||(o===" "||o==="t")&&a[I+1]!=null&&(a[I+1].t==="?"||a[I+1].t==="t"&&a[I+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[I].v==="/"||a[I].v===" "&&a[I+1]!=null&&a[I+1].t=="?"));)a[s].v+=a[I].v,a[I]={v:"",t:";"},++I;w+=a[s].v,s=I-1;break;case"G":a[s].t="t",a[s].v=_h(e,r);break}var j="",P,N;if(w.length>0){w.charCodeAt(0)==40?(P=e<0&&w.charCodeAt(0)===45?-e:e,N=yc("n",w,P)):(P=e<0&&n>1?-e:e,N=yc("n",w,P),P<0&&a[0]&&a[0].t=="t"&&(N=N.substr(1),a[0].v="-"+a[0].v)),I=N.length-1;var E=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){E=s;break}var y=a.length;if(E===a.length&&N.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(I>=a[s].v.length-1?(I-=a[s].v.length,a[s].v=N.substr(I+1,a[s].v.length)):I<0?a[s].v="":(a[s].v=N.substr(0,I+1),I=-1),a[s].t="t",y=s);I>=0&&y<a.length&&(a[y].v=N.substr(0,I+1)+a[y].v)}else if(E!==a.length&&N.indexOf("E")===-1){for(I=N.indexOf(".")-1,s=E;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(u=a[s].v.indexOf(".")>-1&&s===E?a[s].v.indexOf(".")-1:a[s].v.length-1,j=a[s].v.substr(u+1);u>=0;--u)I>=0&&(a[s].v.charAt(u)==="0"||a[s].v.charAt(u)==="#")&&(j=N.charAt(I--)+j);a[s].v=j,a[s].t="t",y=s}for(I>=0&&y<a.length&&(a[y].v=N.substr(0,I+1)+a[y].v),I=N.indexOf(".")+1,s=E;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==E)){for(u=a[s].v.indexOf(".")>-1&&s===E?a[s].v.indexOf(".")+1:0,j=a[s].v.substr(0,u);u<a[s].v.length;++u)I<N.length&&(j+=N.charAt(I++));a[s].v=j,a[s].t="t",y=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(P=n>1&&e<0&&s>0&&a[s-1].v==="-"?-e:e,a[s].v=yc(a[s].t,a[s].v,P),a[s].t="t");var R="";for(s=0;s!==a.length;++s)a[s]!=null&&(R+=a[s].v);return R}var yk=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function wk(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function MJ(t,e){var r=PJ(t),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(yk),o=r[1].match(yk);return wk(e,s)?[n,r[0]]:wk(e,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function Co(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:er)[t],n==null&&(n=r.table&&r.table[vk[t]]||er[vk[t]]),n==null&&(n=_J[t]||"General");break}if(jv(n,0))return _h(e,r);e instanceof Date&&(e=UD(e,r.date1904));var a=MJ(n,e);if(jv(a[1]))return _h(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return FJ(a[1],e,r,a[0])}function wc(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(er[r]==null){e<0&&(e=r);continue}if(er[r]==t){e=r;break}}e<0&&(e=391)}return er[e]=t,e}function Kx(t){for(var e=0;e!=392;++e)t[e]!==void 0&&wc(t[e],e)}function jd(){er=xJ()}var BJ={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},XD=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function UJ(t){var e=typeof t=="number"?er[t]:t;return e=e.replace(XD,"(\\d+)"),new RegExp("^"+e+"$")}function jJ(t,e,r){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(e.match(XD)||[]).forEach(function(h,d){var f=parseInt(r[d+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=f;break;case"d":i=f;break;case"h":s=f;break;case"s":l=f;break;case"m":s>=0?o=f:a=f;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&a==-1&&i==-1?u:c+"T"+u}var VJ=function(){var t={};t.version="1.2.0";function e(){for(var N=0,E=new Array(256),y=0;y!=256;++y)N=y,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,E[y]=N;return typeof Int32Array<"u"?new Int32Array(E):E}var r=e();function n(N){var E=0,y=0,R=0,A=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(R=0;R!=256;++R)A[R]=N[R];for(R=0;R!=256;++R)for(y=N[R],E=256+R;E<4096;E+=256)y=A[E]=y>>>8^N[y&255];var C=[];for(R=1;R!=16;++R)C[R-1]=typeof Int32Array<"u"?A.subarray(R*256,R*256+256):A.slice(R*256,R*256+256);return C}var a=n(r),i=a[0],s=a[1],o=a[2],l=a[3],c=a[4],u=a[5],h=a[6],d=a[7],f=a[8],p=a[9],m=a[10],_=a[11],x=a[12],T=a[13],w=a[14];function I(N,E){for(var y=E^-1,R=0,A=N.length;R<A;)y=y>>>8^r[(y^N.charCodeAt(R++))&255];return~y}function j(N,E){for(var y=E^-1,R=N.length-15,A=0;A<R;)y=w[N[A++]^y&255]^T[N[A++]^y>>8&255]^x[N[A++]^y>>16&255]^_[N[A++]^y>>>24]^m[N[A++]]^p[N[A++]]^f[N[A++]]^d[N[A++]]^h[N[A++]]^u[N[A++]]^c[N[A++]]^l[N[A++]]^o[N[A++]]^s[N[A++]]^i[N[A++]]^r[N[A++]];for(R+=15;A<R;)y=y>>>8^r[(y^N[A++])&255];return~y}function P(N,E){for(var y=E^-1,R=0,A=N.length,C=0,k=0;R<A;)C=N.charCodeAt(R++),C<128?y=y>>>8^r[(y^C)&255]:C<2048?(y=y>>>8^r[(y^(192|C>>6&31))&255],y=y>>>8^r[(y^(128|C&63))&255]):C>=55296&&C<57344?(C=(C&1023)+64,k=N.charCodeAt(R++)&1023,y=y>>>8^r[(y^(240|C>>8&7))&255],y=y>>>8^r[(y^(128|C>>2&63))&255],y=y>>>8^r[(y^(128|k>>6&15|(C&3)<<4))&255],y=y>>>8^r[(y^(128|k&63))&255]):(y=y>>>8^r[(y^(224|C>>12&15))&255],y=y>>>8^r[(y^(128|C>>6&63))&255],y=y>>>8^r[(y^(128|C&63))&255]);return~y}return t.table=r,t.bstr=I,t.buf=j,t.str=P,t}(),Gt=function(){var e={};e.version="1.2.1";function r(ee,pe){for(var le=ee.split("/"),ue=pe.split("/"),me=0,ye=0,Fe=Math.min(le.length,ue.length);me<Fe;++me){if(ye=le[me].length-ue[me].length)return ye;if(le[me]!=ue[me])return le[me]<ue[me]?-1:1}return le.length-ue.length}function n(ee){if(ee.charAt(ee.length-1)=="/")return ee.slice(0,-1).indexOf("/")===-1?ee:n(ee.slice(0,-1));var pe=ee.lastIndexOf("/");return pe===-1?ee:ee.slice(0,pe+1)}function a(ee){if(ee.charAt(ee.length-1)=="/")return a(ee.slice(0,-1));var pe=ee.lastIndexOf("/");return pe===-1?ee:ee.slice(pe+1)}function i(ee,pe){typeof pe=="string"&&(pe=new Date(pe));var le=pe.getHours();le=le<<6|pe.getMinutes(),le=le<<5|pe.getSeconds()>>>1,ee.write_shift(2,le);var ue=pe.getFullYear()-1980;ue=ue<<4|pe.getMonth()+1,ue=ue<<5|pe.getDate(),ee.write_shift(2,ue)}function s(ee){var pe=ee.read_shift(2)&65535,le=ee.read_shift(2)&65535,ue=new Date,me=le&31;le>>>=5;var ye=le&15;le>>>=4,ue.setMilliseconds(0),ue.setFullYear(le+1980),ue.setMonth(ye-1),ue.setDate(me);var Fe=pe&31;pe>>>=5;var He=pe&63;return pe>>>=6,ue.setHours(pe),ue.setMinutes(He),ue.setSeconds(Fe<<1),ue}function o(ee){ai(ee,0);for(var pe={},le=0;ee.l<=ee.length-4;){var ue=ee.read_shift(2),me=ee.read_shift(2),ye=ee.l+me,Fe={};switch(ue){case 21589:le=ee.read_shift(1),le&1&&(Fe.mtime=ee.read_shift(4)),me>5&&(le&2&&(Fe.atime=ee.read_shift(4)),le&4&&(Fe.ctime=ee.read_shift(4))),Fe.mtime&&(Fe.mt=new Date(Fe.mtime*1e3));break}ee.l=ye,pe[ue]=Fe}return pe}var l;function c(){return l||(l={})}function u(ee,pe){if(ee[0]==80&&ee[1]==75)return ut(ee,pe);if((ee[0]|32)==109&&(ee[1]|32)==105)return Ut(ee,pe);if(ee.length<512)throw new Error("CFB file size "+ee.length+" < 512");var le=3,ue=512,me=0,ye=0,Fe=0,He=0,Me=0,Be=[],je=ee.slice(0,512);ai(je,0);var nt=h(je);switch(le=nt[0],le){case 3:ue=512;break;case 4:ue=4096;break;case 0:if(nt[1]==0)return ut(ee,pe);default:throw new Error("Major Version: Expected 3 or 4 saw "+le)}ue!==512&&(je=ee.slice(0,ue),ai(je,28));var dt=ee.slice(0,ue);d(je,le);var _t=je.read_shift(4,"i");if(le===3&&_t!==0)throw new Error("# Directory Sectors: Expected 0 saw "+_t);je.l+=4,Fe=je.read_shift(4,"i"),je.l+=4,je.chk("00100000","Mini Stream Cutoff Size: "),He=je.read_shift(4,"i"),me=je.read_shift(4,"i"),Me=je.read_shift(4,"i"),ye=je.read_shift(4,"i");for(var ot=-1,xt=0;xt<109&&(ot=je.read_shift(4,"i"),!(ot<0));++xt)Be[xt]=ot;var Zt=f(ee,ue);_(Me,ye,Zt,ue,Be);var Hr=T(Zt,Fe,Be,ue);Hr[Fe].name="!Directory",me>0&&He!==k&&(Hr[He].name="!MiniFAT"),Hr[Be[0]].name="!FAT",Hr.fat_addrs=Be,Hr.ssz=ue;var _r={},kn=[],Yi=[],Li=[];w(Fe,Hr,Zt,kn,me,_r,Yi,He),p(Yi,Li,kn),kn.shift();var _s={FileIndex:Yi,FullPaths:Li};return pe&&pe.raw&&(_s.raw={header:dt,sectors:Zt}),_s}function h(ee){if(ee[ee.l]==80&&ee[ee.l+1]==75)return[0,0];ee.chk(q,"Header Signature: "),ee.l+=16;var pe=ee.read_shift(2,"u");return[ee.read_shift(2,"u"),pe]}function d(ee,pe){var le=9;switch(ee.l+=2,le=ee.read_shift(2)){case 9:if(pe!=3)throw new Error("Sector Shift: Expected 9 saw "+le);break;case 12:if(pe!=4)throw new Error("Sector Shift: Expected 12 saw "+le);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+le)}ee.chk("0600","Mini Sector Shift: "),ee.chk("000000000000","Reserved: ")}function f(ee,pe){for(var le=Math.ceil(ee.length/pe)-1,ue=[],me=1;me<le;++me)ue[me-1]=ee.slice(me*pe,(me+1)*pe);return ue[le-1]=ee.slice(le*pe),ue}function p(ee,pe,le){for(var ue=0,me=0,ye=0,Fe=0,He=0,Me=le.length,Be=[],je=[];ue<Me;++ue)Be[ue]=je[ue]=ue,pe[ue]=le[ue];for(;He<je.length;++He)ue=je[He],me=ee[ue].L,ye=ee[ue].R,Fe=ee[ue].C,Be[ue]===ue&&(me!==-1&&Be[me]!==me&&(Be[ue]=Be[me]),ye!==-1&&Be[ye]!==ye&&(Be[ue]=Be[ye])),Fe!==-1&&(Be[Fe]=ue),me!==-1&&ue!=Be[ue]&&(Be[me]=Be[ue],je.lastIndexOf(me)<He&&je.push(me)),ye!==-1&&ue!=Be[ue]&&(Be[ye]=Be[ue],je.lastIndexOf(ye)<He&&je.push(ye));for(ue=1;ue<Me;++ue)Be[ue]===ue&&(ye!==-1&&Be[ye]!==ye?Be[ue]=Be[ye]:me!==-1&&Be[me]!==me&&(Be[ue]=Be[me]));for(ue=1;ue<Me;++ue)if(ee[ue].type!==0){if(He=ue,He!=Be[He])do He=Be[He],pe[ue]=pe[He]+"/"+pe[ue];while(He!==0&&Be[He]!==-1&&He!=Be[He]);Be[ue]=-1}for(pe[0]+="/",ue=1;ue<Me;++ue)ee[ue].type!==2&&(pe[ue]+="/")}function m(ee,pe,le){for(var ue=ee.start,me=ee.size,ye=[],Fe=ue;le&&me>0&&Fe>=0;)ye.push(pe.slice(Fe*C,Fe*C+C)),me-=C,Fe=Uf(le,Fe*4);return ye.length===0?qe(0):Xa(ye).slice(0,ee.size)}function _(ee,pe,le,ue,me){var ye=k;if(ee===k){if(pe!==0)throw new Error("DIFAT chain shorter than expected")}else if(ee!==-1){var Fe=le[ee],He=(ue>>>2)-1;if(!Fe)return;for(var Me=0;Me<He&&(ye=Uf(Fe,Me*4))!==k;++Me)me.push(ye);_(Uf(Fe,ue-4),pe-1,le,ue,me)}}function x(ee,pe,le,ue,me){var ye=[],Fe=[];me||(me=[]);var He=ue-1,Me=0,Be=0;for(Me=pe;Me>=0;){me[Me]=!0,ye[ye.length]=Me,Fe.push(ee[Me]);var je=le[Math.floor(Me*4/ue)];if(Be=Me*4&He,ue<4+Be)throw new Error("FAT boundary crossed: "+Me+" 4 "+ue);if(!ee[je])break;Me=Uf(ee[je],Be)}return{nodes:ye,data:Dk([Fe])}}function T(ee,pe,le,ue){var me=ee.length,ye=[],Fe=[],He=[],Me=[],Be=ue-1,je=0,nt=0,dt=0,_t=0;for(je=0;je<me;++je)if(He=[],dt=je+pe,dt>=me&&(dt-=me),!Fe[dt]){Me=[];var ot=[];for(nt=dt;nt>=0;){ot[nt]=!0,Fe[nt]=!0,He[He.length]=nt,Me.push(ee[nt]);var xt=le[Math.floor(nt*4/ue)];if(_t=nt*4&Be,ue<4+_t)throw new Error("FAT boundary crossed: "+nt+" 4 "+ue);if(!ee[xt]||(nt=Uf(ee[xt],_t),ot[nt]))break}ye[dt]={nodes:He,data:Dk([Me])}}return ye}function w(ee,pe,le,ue,me,ye,Fe,He){for(var Me=0,Be=ue.length?2:0,je=pe[ee].data,nt=0,dt=0,_t;nt<je.length;nt+=128){var ot=je.slice(nt,nt+128);ai(ot,64),dt=ot.read_shift(2),_t=EE(ot,0,dt-Be),ue.push(_t);var xt={name:_t,type:ot.read_shift(1),color:ot.read_shift(1),L:ot.read_shift(4,"i"),R:ot.read_shift(4,"i"),C:ot.read_shift(4,"i"),clsid:ot.read_shift(16),state:ot.read_shift(4,"i"),start:0,size:0},Zt=ot.read_shift(2)+ot.read_shift(2)+ot.read_shift(2)+ot.read_shift(2);Zt!==0&&(xt.ct=I(ot,ot.l-8));var Hr=ot.read_shift(2)+ot.read_shift(2)+ot.read_shift(2)+ot.read_shift(2);Hr!==0&&(xt.mt=I(ot,ot.l-8)),xt.start=ot.read_shift(4,"i"),xt.size=ot.read_shift(4,"i"),xt.size<0&&xt.start<0&&(xt.size=xt.type=0,xt.start=k,xt.name=""),xt.type===5?(Me=xt.start,me>0&&Me!==k&&(pe[Me].name="!StreamData")):xt.size>=4096?(xt.storage="fat",pe[xt.start]===void 0&&(pe[xt.start]=x(le,xt.start,pe.fat_addrs,pe.ssz)),pe[xt.start].name=xt.name,xt.content=pe[xt.start].data.slice(0,xt.size)):(xt.storage="minifat",xt.size<0?xt.size=0:Me!==k&&xt.start!==k&&pe[Me]&&(xt.content=m(xt,pe[Me].data,(pe[He]||{}).data))),xt.content&&ai(xt.content,0),ye[_t]=xt,Fe.push(xt)}}function I(ee,pe){return new Date((Ds(ee,pe+4)/1e7*Math.pow(2,32)+Ds(ee,pe)/1e7-11644473600)*1e3)}function j(ee,pe){return c(),u(l.readFileSync(ee),pe)}function P(ee,pe){var le=pe&&pe.type;switch(le||yr&&Buffer.isBuffer(ee)&&(le="buffer"),le||"base64"){case"file":return j(ee,pe);case"base64":return u(Ms(Ys(ee)),pe);case"binary":return u(Ms(ee),pe)}return u(ee,pe)}function N(ee,pe){var le=pe||{},ue=le.root||"Root Entry";if(ee.FullPaths||(ee.FullPaths=[]),ee.FileIndex||(ee.FileIndex=[]),ee.FullPaths.length!==ee.FileIndex.length)throw new Error("inconsistent CFB structure");ee.FullPaths.length===0&&(ee.FullPaths[0]=ue+"/",ee.FileIndex[0]={name:ue,type:5}),le.CLSID&&(ee.FileIndex[0].clsid=le.CLSID),E(ee)}function E(ee){var pe="Sh33tJ5";if(!Gt.find(ee,"/"+pe)){var le=qe(4);le[0]=55,le[1]=le[3]=50,le[2]=54,ee.FileIndex.push({name:pe,type:2,content:le,size:4,L:69,R:69,C:69}),ee.FullPaths.push(ee.FullPaths[0]+pe),y(ee)}}function y(ee,pe){N(ee);for(var le=!1,ue=!1,me=ee.FullPaths.length-1;me>=0;--me){var ye=ee.FileIndex[me];switch(ye.type){case 0:ue?le=!0:(ee.FileIndex.pop(),ee.FullPaths.pop());break;case 1:case 2:case 5:ue=!0,isNaN(ye.R*ye.L*ye.C)&&(le=!0),ye.R>-1&&ye.L>-1&&ye.R==ye.L&&(le=!0);break;default:le=!0;break}}if(!(!le&&!pe)){var Fe=new Date(1987,1,19),He=0,Me=Object.create?Object.create(null):{},Be=[];for(me=0;me<ee.FullPaths.length;++me)Me[ee.FullPaths[me]]=!0,ee.FileIndex[me].type!==0&&Be.push([ee.FullPaths[me],ee.FileIndex[me]]);for(me=0;me<Be.length;++me){var je=n(Be[me][0]);ue=Me[je],ue||(Be.push([je,{name:a(je).replace("/",""),type:1,clsid:V,ct:Fe,mt:Fe,content:null}]),Me[je]=!0)}for(Be.sort(function(_t,ot){return r(_t[0],ot[0])}),ee.FullPaths=[],ee.FileIndex=[],me=0;me<Be.length;++me)ee.FullPaths[me]=Be[me][0],ee.FileIndex[me]=Be[me][1];for(me=0;me<Be.length;++me){var nt=ee.FileIndex[me],dt=ee.FullPaths[me];if(nt.name=a(dt).replace("/",""),nt.L=nt.R=nt.C=-(nt.color=1),nt.size=nt.content?nt.content.length:0,nt.start=0,nt.clsid=nt.clsid||V,me===0)nt.C=Be.length>1?1:-1,nt.size=0,nt.type=5;else if(dt.slice(-1)=="/"){for(He=me+1;He<Be.length&&n(ee.FullPaths[He])!=dt;++He);for(nt.C=He>=Be.length?-1:He,He=me+1;He<Be.length&&n(ee.FullPaths[He])!=n(dt);++He);nt.R=He>=Be.length?-1:He,nt.type=1}else n(ee.FullPaths[me+1]||"")==n(dt)&&(nt.R=me+1),nt.type=2}}}function R(ee,pe){var le=pe||{};if(le.fileType=="mad")return xs(ee,le);switch(y(ee),le.fileType){case"zip":return Tt(ee,le)}var ue=function(_t){for(var ot=0,xt=0,Zt=0;Zt<_t.FileIndex.length;++Zt){var Hr=_t.FileIndex[Zt];if(Hr.content){var _r=Hr.content.length;_r>0&&(_r<4096?ot+=_r+63>>6:xt+=_r+511>>9)}}for(var kn=_t.FullPaths.length+3>>2,Yi=ot+7>>3,Li=ot+127>>7,_s=Yi+xt+kn+Li,Di=_s+127>>7,Ro=Di<=109?0:Math.ceil((Di-109)/127);_s+Di+Ro+127>>7>Di;)Ro=++Di<=109?0:Math.ceil((Di-109)/127);var Gn=[1,Ro,Di,Li,kn,xt,ot,0];return _t.FileIndex[0].size=ot<<6,Gn[7]=(_t.FileIndex[0].start=Gn[0]+Gn[1]+Gn[2]+Gn[3]+Gn[4]+Gn[5])+(Gn[6]+7>>3),Gn}(ee),me=qe(ue[7]<<9),ye=0,Fe=0;{for(ye=0;ye<8;++ye)me.write_shift(1,X[ye]);for(ye=0;ye<8;++ye)me.write_shift(2,0);for(me.write_shift(2,62),me.write_shift(2,3),me.write_shift(2,65534),me.write_shift(2,9),me.write_shift(2,6),ye=0;ye<3;++ye)me.write_shift(2,0);for(me.write_shift(4,0),me.write_shift(4,ue[2]),me.write_shift(4,ue[0]+ue[1]+ue[2]+ue[3]-1),me.write_shift(4,0),me.write_shift(4,4096),me.write_shift(4,ue[3]?ue[0]+ue[1]+ue[2]-1:k),me.write_shift(4,ue[3]),me.write_shift(-4,ue[1]?ue[0]-1:k),me.write_shift(4,ue[1]),ye=0;ye<109;++ye)me.write_shift(-4,ye<ue[2]?ue[1]+ye:-1)}if(ue[1])for(Fe=0;Fe<ue[1];++Fe){for(;ye<236+Fe*127;++ye)me.write_shift(-4,ye<ue[2]?ue[1]+ye:-1);me.write_shift(-4,Fe===ue[1]-1?k:Fe+1)}var He=function(_t){for(Fe+=_t;ye<Fe-1;++ye)me.write_shift(-4,ye+1);_t&&(++ye,me.write_shift(-4,k))};for(Fe=ye=0,Fe+=ue[1];ye<Fe;++ye)me.write_shift(-4,H.DIFSECT);for(Fe+=ue[2];ye<Fe;++ye)me.write_shift(-4,H.FATSECT);He(ue[3]),He(ue[4]);for(var Me=0,Be=0,je=ee.FileIndex[0];Me<ee.FileIndex.length;++Me)je=ee.FileIndex[Me],je.content&&(Be=je.content.length,!(Be<4096)&&(je.start=Fe,He(Be+511>>9)));for(He(ue[6]+7>>3);me.l&511;)me.write_shift(-4,H.ENDOFCHAIN);for(Fe=ye=0,Me=0;Me<ee.FileIndex.length;++Me)je=ee.FileIndex[Me],je.content&&(Be=je.content.length,!(!Be||Be>=4096)&&(je.start=Fe,He(Be+63>>6)));for(;me.l&511;)me.write_shift(-4,H.ENDOFCHAIN);for(ye=0;ye<ue[4]<<2;++ye){var nt=ee.FullPaths[ye];if(!nt||nt.length===0){for(Me=0;Me<17;++Me)me.write_shift(4,0);for(Me=0;Me<3;++Me)me.write_shift(4,-1);for(Me=0;Me<12;++Me)me.write_shift(4,0);continue}je=ee.FileIndex[ye],ye===0&&(je.start=je.size?je.start-1:k);var dt=ye===0&&le.root||je.name;if(Be=2*(dt.length+1),me.write_shift(64,dt,"utf16le"),me.write_shift(2,Be),me.write_shift(1,je.type),me.write_shift(1,je.color),me.write_shift(-4,je.L),me.write_shift(-4,je.R),me.write_shift(-4,je.C),je.clsid)me.write_shift(16,je.clsid,"hex");else for(Me=0;Me<4;++Me)me.write_shift(4,0);me.write_shift(4,je.state||0),me.write_shift(4,0),me.write_shift(4,0),me.write_shift(4,0),me.write_shift(4,0),me.write_shift(4,je.start),me.write_shift(4,je.size),me.write_shift(4,0)}for(ye=1;ye<ee.FileIndex.length;++ye)if(je=ee.FileIndex[ye],je.size>=4096)if(me.l=je.start+1<<9,yr&&Buffer.isBuffer(je.content))je.content.copy(me,me.l,0,je.size),me.l+=je.size+511&-512;else{for(Me=0;Me<je.size;++Me)me.write_shift(1,je.content[Me]);for(;Me&511;++Me)me.write_shift(1,0)}for(ye=1;ye<ee.FileIndex.length;++ye)if(je=ee.FileIndex[ye],je.size>0&&je.size<4096)if(yr&&Buffer.isBuffer(je.content))je.content.copy(me,me.l,0,je.size),me.l+=je.size+63&-64;else{for(Me=0;Me<je.size;++Me)me.write_shift(1,je.content[Me]);for(;Me&63;++Me)me.write_shift(1,0)}if(yr)me.l=me.length;else for(;me.l<me.length;)me.write_shift(1,0);return me}function A(ee,pe){var le=ee.FullPaths.map(function(Me){return Me.toUpperCase()}),ue=le.map(function(Me){var Be=Me.split("/");return Be[Be.length-(Me.slice(-1)=="/"?2:1)]}),me=!1;pe.charCodeAt(0)===47?(me=!0,pe=le[0].slice(0,-1)+pe):me=pe.indexOf("/")!==-1;var ye=pe.toUpperCase(),Fe=me===!0?le.indexOf(ye):ue.indexOf(ye);if(Fe!==-1)return ee.FileIndex[Fe];var He=!ye.match(L1);for(ye=ye.replace(Xi,""),He&&(ye=ye.replace(L1,"!")),Fe=0;Fe<le.length;++Fe)if((He?le[Fe].replace(L1,"!"):le[Fe]).replace(Xi,"")==ye||(He?ue[Fe].replace(L1,"!"):ue[Fe]).replace(Xi,"")==ye)return ee.FileIndex[Fe];return null}var C=64,k=-2,q="d0cf11e0a1b11ae1",X=[208,207,17,224,161,177,26,225],V="00000000000000000000000000000000",H={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:k,FREESECT:-1,HEADER_SIGNATURE:q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:V,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ae(ee,pe,le){c();var ue=R(ee,le);l.writeFileSync(pe,ue)}function W(ee){for(var pe=new Array(ee.length),le=0;le<ee.length;++le)pe[le]=String.fromCharCode(ee[le]);return pe.join("")}function ge(ee,pe){var le=R(ee,pe);switch(pe&&pe.type||"buffer"){case"file":return c(),l.writeFileSync(pe.filename,le),le;case"binary":return typeof le=="string"?le:W(le);case"base64":return Vp(typeof le=="string"?le:W(le));case"buffer":if(yr)return Buffer.isBuffer(le)?le:Mc(le);case"array":return typeof le=="string"?Ms(le):le}return le}var be;function D(ee){try{var pe=ee.InflateRaw,le=new pe;if(le._processChunk(new Uint8Array([3,0]),le._finishFlushFlag),le.bytesRead)be=ee;else throw new Error("zlib does not expose bytesRead")}catch(ue){console.error("cannot use native zlib: "+(ue.message||ue))}}function F(ee,pe){if(!be)return Pe(ee,pe);var le=be.InflateRaw,ue=new le,me=ue._processChunk(ee.slice(ee.l),ue._finishFlushFlag);return ee.l+=ue.bytesRead,me}function U(ee){return be?be.deflateRawSync(ee):at(ee)}var M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function de(ee){var pe=(ee<<1|ee<<11)&139536|(ee<<5|ee<<15)&558144;return(pe>>16|pe>>8|pe)&255}for(var he=typeof Uint8Array<"u",we=he?new Uint8Array(256):[],ke=0;ke<256;++ke)we[ke]=de(ke);function ne(ee,pe){var le=we[ee&255];return pe<=8?le>>>8-pe:(le=le<<8|we[ee>>8&255],pe<=16?le>>>16-pe:(le=le<<8|we[ee>>16&255],le>>>24-pe))}function Z(ee,pe){var le=pe&7,ue=pe>>>3;return(ee[ue]|(le<=6?0:ee[ue+1]<<8))>>>le&3}function Ae(ee,pe){var le=pe&7,ue=pe>>>3;return(ee[ue]|(le<=5?0:ee[ue+1]<<8))>>>le&7}function K(ee,pe){var le=pe&7,ue=pe>>>3;return(ee[ue]|(le<=4?0:ee[ue+1]<<8))>>>le&15}function Te(ee,pe){var le=pe&7,ue=pe>>>3;return(ee[ue]|(le<=3?0:ee[ue+1]<<8))>>>le&31}function Re(ee,pe){var le=pe&7,ue=pe>>>3;return(ee[ue]|(le<=1?0:ee[ue+1]<<8))>>>le&127}function Oe(ee,pe,le){var ue=pe&7,me=pe>>>3,ye=(1<<le)-1,Fe=ee[me]>>>ue;return le<8-ue||(Fe|=ee[me+1]<<8-ue,le<16-ue)||(Fe|=ee[me+2]<<16-ue,le<24-ue)||(Fe|=ee[me+3]<<24-ue),Fe&ye}function Ne(ee,pe,le){var ue=pe&7,me=pe>>>3;return ue<=5?ee[me]|=(le&7)<<ue:(ee[me]|=le<<ue&255,ee[me+1]=(le&7)>>8-ue),pe+3}function Qe(ee,pe,le){var ue=pe&7,me=pe>>>3;return le=(le&1)<<ue,ee[me]|=le,pe+1}function Ke(ee,pe,le){var ue=pe&7,me=pe>>>3;return le<<=ue,ee[me]|=le&255,le>>>=8,ee[me+1]=le,pe+8}function ht(ee,pe,le){var ue=pe&7,me=pe>>>3;return le<<=ue,ee[me]|=le&255,le>>>=8,ee[me+1]=le&255,ee[me+2]=le>>>8,pe+16}function ct(ee,pe){var le=ee.length,ue=2*le>pe?2*le:pe+5,me=0;if(le>=pe)return ee;if(yr){var ye=pk(ue);if(ee.copy)ee.copy(ye);else for(;me<ee.length;++me)ye[me]=ee[me];return ye}else if(he){var Fe=new Uint8Array(ue);if(Fe.set)Fe.set(ee);else for(;me<le;++me)Fe[me]=ee[me];return Fe}return ee.length=ue,ee}function yt(ee){for(var pe=new Array(ee),le=0;le<ee;++le)pe[le]=0;return pe}function mt(ee,pe,le){var ue=1,me=0,ye=0,Fe=0,He=0,Me=ee.length,Be=he?new Uint16Array(32):yt(32);for(ye=0;ye<32;++ye)Be[ye]=0;for(ye=Me;ye<le;++ye)ee[ye]=0;Me=ee.length;var je=he?new Uint16Array(Me):yt(Me);for(ye=0;ye<Me;++ye)Be[me=ee[ye]]++,ue<me&&(ue=me),je[ye]=0;for(Be[0]=0,ye=1;ye<=ue;++ye)Be[ye+16]=He=He+Be[ye-1]<<1;for(ye=0;ye<Me;++ye)He=ee[ye],He!=0&&(je[ye]=Be[He+16]++);var nt=0;for(ye=0;ye<Me;++ye)if(nt=ee[ye],nt!=0)for(He=ne(je[ye],ue)>>ue-nt,Fe=(1<<ue+4-nt)-1;Fe>=0;--Fe)pe[He|Fe<<nt]=nt&15|ye<<4;return ue}var St=he?new Uint16Array(512):yt(512),$t=he?new Uint16Array(32):yt(32);if(!he){for(var Et=0;Et<512;++Et)St[Et]=0;for(Et=0;Et<32;++Et)$t[Et]=0}(function(){for(var ee=[],pe=0;pe<32;pe++)ee.push(5);mt(ee,$t,32);var le=[];for(pe=0;pe<=143;pe++)le.push(8);for(;pe<=255;pe++)le.push(9);for(;pe<=279;pe++)le.push(7);for(;pe<=287;pe++)le.push(8);mt(le,St,288)})();var gt=function(){for(var pe=he?new Uint8Array(32768):[],le=0,ue=0;le<oe.length-1;++le)for(;ue<oe[le+1];++ue)pe[ue]=le;for(;ue<32768;++ue)pe[ue]=29;var me=he?new Uint8Array(259):[];for(le=0,ue=0;le<Q.length-1;++le)for(;ue<Q[le+1];++ue)me[ue]=le;function ye(He,Me){for(var Be=0;Be<He.length;){var je=Math.min(65535,He.length-Be),nt=Be+je==He.length;for(Me.write_shift(1,+nt),Me.write_shift(2,je),Me.write_shift(2,~je&65535);je-- >0;)Me[Me.l++]=He[Be++]}return Me.l}function Fe(He,Me){for(var Be=0,je=0,nt=he?new Uint16Array(32768):[];je<He.length;){var dt=Math.min(65535,He.length-je);if(dt<10){for(Be=Ne(Me,Be,+(je+dt==He.length)),Be&7&&(Be+=8-(Be&7)),Me.l=Be/8|0,Me.write_shift(2,dt),Me.write_shift(2,~dt&65535);dt-- >0;)Me[Me.l++]=He[je++];Be=Me.l*8;continue}Be=Ne(Me,Be,+(je+dt==He.length)+2);for(var _t=0;dt-- >0;){var ot=He[je];_t=(_t<<5^ot)&32767;var xt=-1,Zt=0;if((xt=nt[_t])&&(xt|=je&-32768,xt>je&&(xt-=32768),xt<je))for(;He[xt+Zt]==He[je+Zt]&&Zt<250;)++Zt;if(Zt>2){ot=me[Zt],ot<=22?Be=Ke(Me,Be,we[ot+1]>>1)-1:(Ke(Me,Be,3),Be+=5,Ke(Me,Be,we[ot-23]>>5),Be+=3);var Hr=ot<8?0:ot-4>>2;Hr>0&&(ht(Me,Be,Zt-Q[ot]),Be+=Hr),ot=pe[je-xt],Be=Ke(Me,Be,we[ot]>>3),Be-=3;var _r=ot<4?0:ot-2>>1;_r>0&&(ht(Me,Be,je-xt-oe[ot]),Be+=_r);for(var kn=0;kn<Zt;++kn)nt[_t]=je&32767,_t=(_t<<5^He[je])&32767,++je;dt-=Zt-1}else ot<=143?ot=ot+48:Be=Qe(Me,Be,1),Be=Ke(Me,Be,we[ot]),nt[_t]=je&32767,++je}Be=Ke(Me,Be,0)-1}return Me.l=(Be+7)/8|0,Me.l}return function(Me,Be){return Me.length<8?ye(Me,Be):Fe(Me,Be)}}();function at(ee){var pe=qe(50+Math.floor(ee.length*1.1)),le=gt(ee,pe);return pe.slice(0,le)}var it=he?new Uint16Array(32768):yt(32768),Ft=he?new Uint16Array(32768):yt(32768),wt=he?new Uint16Array(128):yt(128),Nt=1,zt=1;function vr(ee,pe){var le=Te(ee,pe)+257;pe+=5;var ue=Te(ee,pe)+1;pe+=5;var me=K(ee,pe)+4;pe+=4;for(var ye=0,Fe=he?new Uint8Array(19):yt(19),He=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Me=1,Be=he?new Uint8Array(8):yt(8),je=he?new Uint8Array(8):yt(8),nt=Fe.length,dt=0;dt<me;++dt)Fe[M[dt]]=ye=Ae(ee,pe),Me<ye&&(Me=ye),Be[ye]++,pe+=3;var _t=0;for(Be[0]=0,dt=1;dt<=Me;++dt)je[dt]=_t=_t+Be[dt-1]<<1;for(dt=0;dt<nt;++dt)(_t=Fe[dt])!=0&&(He[dt]=je[_t]++);var ot=0;for(dt=0;dt<nt;++dt)if(ot=Fe[dt],ot!=0){_t=we[He[dt]]>>8-ot;for(var xt=(1<<7-ot)-1;xt>=0;--xt)wt[_t|xt<<ot]=ot&7|dt<<3}var Zt=[];for(Me=1;Zt.length<le+ue;)switch(_t=wt[Re(ee,pe)],pe+=_t&7,_t>>>=3){case 16:for(ye=3+Z(ee,pe),pe+=2,_t=Zt[Zt.length-1];ye-- >0;)Zt.push(_t);break;case 17:for(ye=3+Ae(ee,pe),pe+=3;ye-- >0;)Zt.push(0);break;case 18:for(ye=11+Re(ee,pe),pe+=7;ye-- >0;)Zt.push(0);break;default:Zt.push(_t),Me<_t&&(Me=_t);break}var Hr=Zt.slice(0,le),_r=Zt.slice(le);for(dt=le;dt<286;++dt)Hr[dt]=0;for(dt=ue;dt<30;++dt)_r[dt]=0;return Nt=mt(Hr,it,286),zt=mt(_r,Ft,30),pe}function Ot(ee,pe){if(ee[0]==3&&!(ee[1]&3))return[of(pe),2];for(var le=0,ue=0,me=pk(pe||1<<18),ye=0,Fe=me.length>>>0,He=0,Me=0;!(ue&1);){if(ue=Ae(ee,le),le+=3,ue>>>1)ue>>1==1?(He=9,Me=5):(le=vr(ee,le),He=Nt,Me=zt);else{le&7&&(le+=8-(le&7));var Be=ee[le>>>3]|ee[(le>>>3)+1]<<8;if(le+=32,Be>0)for(!pe&&Fe<ye+Be&&(me=ct(me,ye+Be),Fe=me.length);Be-- >0;)me[ye++]=ee[le>>>3],le+=8;continue}for(;;){!pe&&Fe<ye+32767&&(me=ct(me,ye+32767),Fe=me.length);var je=Oe(ee,le,He),nt=ue>>>1==1?St[je]:it[je];if(le+=nt&15,nt>>>=4,!(nt>>>8&255))me[ye++]=nt;else{if(nt==256)break;nt-=257;var dt=nt<8?0:nt-4>>2;dt>5&&(dt=0);var _t=ye+Q[nt];dt>0&&(_t+=Oe(ee,le,dt),le+=dt),je=Oe(ee,le,Me),nt=ue>>>1==1?$t[je]:Ft[je],le+=nt&15,nt>>>=4;var ot=nt<4?0:nt-2>>1,xt=oe[nt];for(ot>0&&(xt+=Oe(ee,le,ot),le+=ot),!pe&&Fe<_t&&(me=ct(me,_t+100),Fe=me.length);ye<_t;)me[ye]=me[ye-xt],++ye}}}return pe?[me,le+7>>>3]:[me.slice(0,ye),le+7>>>3]}function Pe(ee,pe){var le=ee.slice(ee.l||0),ue=Ot(le,pe);return ee.l+=ue[1],ue[0]}function st(ee,pe){if(ee)typeof console<"u"&&console.error(pe);else throw new Error(pe)}function ut(ee,pe){var le=ee;ai(le,0);var ue=[],me=[],ye={FileIndex:ue,FullPaths:me};N(ye,{root:pe.root});for(var Fe=le.length-4;(le[Fe]!=80||le[Fe+1]!=75||le[Fe+2]!=5||le[Fe+3]!=6)&&Fe>=0;)--Fe;le.l=Fe+4,le.l+=4;var He=le.read_shift(2);le.l+=6;var Me=le.read_shift(4);for(le.l=Me,Fe=0;Fe<He;++Fe){le.l+=20;var Be=le.read_shift(4),je=le.read_shift(4),nt=le.read_shift(2),dt=le.read_shift(2),_t=le.read_shift(2);le.l+=8;var ot=le.read_shift(4),xt=o(le.slice(le.l+nt,le.l+nt+dt));le.l+=nt+dt+_t;var Zt=le.l;le.l=ot+4,Qt(le,Be,je,ye,xt),le.l=Zt}return ye}function Qt(ee,pe,le,ue,me){ee.l+=2;var ye=ee.read_shift(2),Fe=ee.read_shift(2),He=s(ee);if(ye&8257)throw new Error("Unsupported ZIP encryption");for(var Me=ee.read_shift(4),Be=ee.read_shift(4),je=ee.read_shift(4),nt=ee.read_shift(2),dt=ee.read_shift(2),_t="",ot=0;ot<nt;++ot)_t+=String.fromCharCode(ee[ee.l++]);if(dt){var xt=o(ee.slice(ee.l,ee.l+dt));(xt[21589]||{}).mt&&(He=xt[21589].mt),((me||{})[21589]||{}).mt&&(He=me[21589].mt)}ee.l+=dt;var Zt=ee.slice(ee.l,ee.l+Be);switch(Fe){case 8:Zt=F(ee,je);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Fe)}var Hr=!1;ye&8&&(Me=ee.read_shift(4),Me==134695760&&(Me=ee.read_shift(4),Hr=!0),Be=ee.read_shift(4),je=ee.read_shift(4)),Be!=pe&&st(Hr,"Bad compressed size: "+pe+" != "+Be),je!=le&&st(Hr,"Bad uncompressed size: "+le+" != "+je),Na(ue,_t,Zt,{unsafe:!0,mt:He})}function Tt(ee,pe){var le=pe||{},ue=[],me=[],ye=qe(1),Fe=le.compression?8:0,He=0,Me=0,Be=0,je=0,nt=0,dt=ee.FullPaths[0],_t=dt,ot=ee.FileIndex[0],xt=[],Zt=0;for(Me=1;Me<ee.FullPaths.length;++Me)if(_t=ee.FullPaths[Me].slice(dt.length),ot=ee.FileIndex[Me],!(!ot.size||!ot.content||_t=="Sh33tJ5")){var Hr=je,_r=qe(_t.length);for(Be=0;Be<_t.length;++Be)_r.write_shift(1,_t.charCodeAt(Be)&127);_r=_r.slice(0,_r.l),xt[nt]=VJ.buf(ot.content,0);var kn=ot.content;Fe==8&&(kn=U(kn)),ye=qe(30),ye.write_shift(4,67324752),ye.write_shift(2,20),ye.write_shift(2,He),ye.write_shift(2,Fe),ot.mt?i(ye,ot.mt):ye.write_shift(4,0),ye.write_shift(-4,xt[nt]),ye.write_shift(4,kn.length),ye.write_shift(4,ot.content.length),ye.write_shift(2,_r.length),ye.write_shift(2,0),je+=ye.length,ue.push(ye),je+=_r.length,ue.push(_r),je+=kn.length,ue.push(kn),ye=qe(46),ye.write_shift(4,33639248),ye.write_shift(2,0),ye.write_shift(2,20),ye.write_shift(2,He),ye.write_shift(2,Fe),ye.write_shift(4,0),ye.write_shift(-4,xt[nt]),ye.write_shift(4,kn.length),ye.write_shift(4,ot.content.length),ye.write_shift(2,_r.length),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(4,0),ye.write_shift(4,Hr),Zt+=ye.l,me.push(ye),Zt+=_r.length,me.push(_r),++nt}return ye=qe(22),ye.write_shift(4,101010256),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,nt),ye.write_shift(2,nt),ye.write_shift(4,Zt),ye.write_shift(4,je),ye.write_shift(2,0),Xa([Xa(ue),Xa(me),ye])}var Ct={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Kt(ee,pe){if(ee.ctype)return ee.ctype;var le=ee.name||"",ue=le.match(/\.([^\.]+)$/);return ue&&Ct[ue[1]]||pe&&(ue=(le=pe).match(/[\.\\]([^\.\\])+$/),ue&&Ct[ue[1]])?Ct[ue[1]]:"application/octet-stream"}function Xr(ee){for(var pe=Vp(ee),le=[],ue=0;ue<pe.length;ue+=76)le.push(pe.slice(ue,ue+76));return le.join(`\r
`)+`\r
`}function Jt(ee){var pe=ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Be){var je=Be.charCodeAt(0).toString(16).toUpperCase();return"="+(je.length==1?"0"+je:je)});pe=pe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),pe.charAt(0)==`
`&&(pe="=0D"+pe.slice(1)),pe=pe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var le=[],ue=pe.split(`\r
`),me=0;me<ue.length;++me){var ye=ue[me];if(ye.length==0){le.push("");continue}for(var Fe=0;Fe<ye.length;){var He=76,Me=ye.slice(Fe,Fe+He);Me.charAt(He-1)=="="?He--:Me.charAt(He-2)=="="?He-=2:Me.charAt(He-3)=="="&&(He-=3),Me=ye.slice(Fe,Fe+He),Fe+=He,Fe<ye.length&&(Me+="="),le.push(Me)}}return le.join(`\r
`)}function gn(ee){for(var pe=[],le=0;le<ee.length;++le){for(var ue=ee[le];le<=ee.length&&ue.charAt(ue.length-1)=="=";)ue=ue.slice(0,ue.length-1)+ee[++le];pe.push(ue)}for(var me=0;me<pe.length;++me)pe[me]=pe[me].replace(/[=][0-9A-Fa-f]{2}/g,function(ye){return String.fromCharCode(parseInt(ye.slice(1),16))});return Ms(pe.join(`\r
`))}function Mr(ee,pe,le){for(var ue="",me="",ye="",Fe,He=0;He<10;++He){var Me=pe[He];if(!Me||Me.match(/^\s*$/))break;var Be=Me.match(/^(.*?):\s*([^\s].*)$/);if(Be)switch(Be[1].toLowerCase()){case"content-location":ue=Be[2].trim();break;case"content-type":ye=Be[2].trim();break;case"content-transfer-encoding":me=Be[2].trim();break}}switch(++He,me.toLowerCase()){case"base64":Fe=Ms(Ys(pe.slice(He).join("")));break;case"quoted-printable":Fe=gn(pe.slice(He));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+me)}var je=Na(ee,ue.slice(le.length),Fe,{unsafe:!0});ye&&(je.ctype=ye)}function Ut(ee,pe){if(W(ee.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var le=pe&&pe.root||"",ue=(yr&&Buffer.isBuffer(ee)?ee.toString("binary"):W(ee)).split(`\r
`),me=0,ye="";for(me=0;me<ue.length;++me)if(ye=ue[me],!!/^Content-Location:/i.test(ye)&&(ye=ye.slice(ye.indexOf("file")),le||(le=ye.slice(0,ye.lastIndexOf("/")+1)),ye.slice(0,le.length)!=le))for(;le.length>0&&(le=le.slice(0,le.length-1),le=le.slice(0,le.lastIndexOf("/")+1),ye.slice(0,le.length)!=le););var Fe=(ue[1]||"").match(/boundary="(.*?)"/);if(!Fe)throw new Error("MAD cannot find boundary");var He="--"+(Fe[1]||""),Me=[],Be=[],je={FileIndex:Me,FullPaths:Be};N(je);var nt,dt=0;for(me=0;me<ue.length;++me){var _t=ue[me];_t!==He&&_t!==He+"--"||(dt++&&Mr(je,ue.slice(nt,me),le),nt=me)}return je}function xs(ee,pe){var le=pe||{},ue=le.boundary||"SheetJS";ue="------="+ue;for(var me=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ue.slice(2)+'"',"","",""],ye=ee.FullPaths[0],Fe=ye,He=ee.FileIndex[0],Me=1;Me<ee.FullPaths.length;++Me)if(Fe=ee.FullPaths[Me].slice(ye.length),He=ee.FileIndex[Me],!(!He.size||!He.content||Fe=="Sh33tJ5")){Fe=Fe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Zt){return"_x"+Zt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Zt){return"_u"+Zt.charCodeAt(0).toString(16)+"_"});for(var Be=He.content,je=yr&&Buffer.isBuffer(Be)?Be.toString("binary"):W(Be),nt=0,dt=Math.min(1024,je.length),_t=0,ot=0;ot<=dt;++ot)(_t=je.charCodeAt(ot))>=32&&_t<128&&++nt;var xt=nt>=dt*4/5;me.push(ue),me.push("Content-Location: "+(le.root||"file:///C:/SheetJS/")+Fe),me.push("Content-Transfer-Encoding: "+(xt?"quoted-printable":"base64")),me.push("Content-Type: "+Kt(He,Fe)),me.push(""),me.push(xt?Jt(je):Xr(je))}return me.push(ue+`--\r
`),me.join(`\r
`)}function hi(ee){var pe={};return N(pe,ee),pe}function Na(ee,pe,le,ue){var me=ue&&ue.unsafe;me||N(ee);var ye=!me&&Gt.find(ee,pe);if(!ye){var Fe=ee.FullPaths[0];pe.slice(0,Fe.length)==Fe?Fe=pe:(Fe.slice(-1)!="/"&&(Fe+="/"),Fe=(Fe+pe).replace("//","/")),ye={name:a(pe),type:2},ee.FileIndex.push(ye),ee.FullPaths.push(Fe),me||Gt.utils.cfb_gc(ee)}return ye.content=le,ye.size=le?le.length:0,ue&&(ue.CLSID&&(ye.clsid=ue.CLSID),ue.mt&&(ye.mt=ue.mt),ue.ct&&(ye.ct=ue.ct)),ye}function Qa(ee,pe){N(ee);var le=Gt.find(ee,pe);if(le){for(var ue=0;ue<ee.FileIndex.length;++ue)if(ee.FileIndex[ue]==le)return ee.FileIndex.splice(ue,1),ee.FullPaths.splice(ue,1),!0}return!1}function sn(ee,pe,le){N(ee);var ue=Gt.find(ee,pe);if(ue){for(var me=0;me<ee.FileIndex.length;++me)if(ee.FileIndex[me]==ue)return ee.FileIndex[me].name=a(le),ee.FullPaths[me]=le,!0}return!1}function vn(ee){y(ee,!0)}return e.find=A,e.read=P,e.parse=u,e.write=ge,e.writeFile=ae,e.utils={cfb_new:hi,cfb_add:Na,cfb_del:Qa,cfb_mov:sn,cfb_gc:vn,ReadShift:ap,CheckField:gO,prep_blob:ai,bconcat:Xa,use_zlib:D,_deflateRaw:at,_inflateRaw:Pe,consts:H},e}();function zJ(t){return typeof t=="string"?Xx(t):Array.isArray(t)?pJ(t):t}function Dm(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=Xx(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?Tl(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var a=new Blob([zJ(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,t);if(typeof saveAs<"u")return saveAs(a,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:t,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=t,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=xf(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function HJ(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var r=e.read();return e.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+t)}function ta(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function bk(t,e){for(var r=[],n=ta(t),a=0;a!==n.length;++a)r[t[n[a]][e]]==null&&(r[t[n[a]][e]]=n[a]);return r}function Yx(t){for(var e=[],r=ta(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function Qx(t){for(var e=[],r=ta(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function qJ(t){for(var e=[],r=ta(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var zv=new Date(1899,11,30,0,0,0);function Ua(t,e){var r=t.getTime(),n=zv.getTime()+(t.getTimezoneOffset()-zv.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var KD=new Date,GJ=zv.getTime()+(KD.getTimezoneOffset()-zv.getTimezoneOffset())*6e4,Ek=KD.getTimezoneOffset();function Jx(t){var e=new Date;return e.setTime(t*24*60*60*1e3+GJ),e.getTimezoneOffset()!==Ek&&e.setTime(e.getTime()+(e.getTimezoneOffset()-Ek)*6e4),e}function WJ(t){var e=0,r=0,n=!1,a=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=r*parseInt(a[i],10)}return e}var Ak=new Date("2017-02-19T19:06:09.000Z"),YD=isNaN(Ak.getFullYear())?new Date("2/19/17"):Ak,$J=YD.getFullYear()==2017;function Fn(t,e){var r=new Date(t);if($J)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(YD.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=t.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return t.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function yh(t,e){if(yr&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return Tl(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return Tl(MD(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return Tl(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return Tl(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=t.length;++a)n.push(String.fromCharCode(t[a]));return n.join("")}function Mn(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Mn(t[r]));return e}function Yn(t,e){for(var r="";r.length<e;)r+=t;return r}function Xo(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(e=Number(n)))?e/r:e}var XJ=["january","february","march","april","may","june","july","august","september","october","november","december"];function vd(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),a=e.getMonth(),i=e.getDate();if(isNaN(i))return r;var s=t.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&XJ.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}var KJ=function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(t||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(a),s.push(i[o]);return s}}();function QD(t){return t?t.content&&t.type?yh(t.content,!0):t.data?R1(t.data):t.asNodeBuffer&&yr?R1(t.asNodeBuffer().toString("binary")):t.asBinary?R1(t.asBinary()):t._data&&t._data.getContent?R1(yh(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function JD(t){if(!t)return null;if(t.data)return hk(t.data);if(t.asNodeBuffer&&yr)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?hk(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function YJ(t){return t&&t.name.slice(-4)===".bin"?JD(t):QD(t)}function ho(t,e){for(var r=t.FullPaths||ta(t.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return t.files?t.files[r[i]]:t.FileIndex[i]}return null}function vE(t,e){var r=ho(t,e);if(r==null)throw new Error("Cannot find file "+e+" in zip");return r}function _a(t,e,r){if(!r)return YJ(vE(t,e));if(!e)return null;try{return _a(t,e)}catch{return null}}function Bs(t,e,r){if(!r)return QD(vE(t,e));if(!e)return null;try{return Bs(t,e)}catch{return null}}function QJ(t,e,r){return JD(vE(t,e))}function Sk(t){for(var e=t.FullPaths||ta(t.files),r=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&r.push(e[n].replace(/^Root Entry[\/]/,""));return r.sort()}function gr(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return yr?n=Mc(r):n=mJ(r),Gt.utils.cfb_add(t,e,n)}Gt.utils.cfb_add(t,e,r)}else t.file(e,r)}function xE(){return Gt.utils.cfb_new()}function ZD(t,e){switch(e.type){case"base64":return Gt.read(t,{type:"base64"});case"binary":return Gt.read(t,{type:"binary"});case"buffer":case"array":return Gt.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function D1(t,e){if(t.charAt(0)=="/")return t.slice(1);var r=e.split("/");e.slice(-1)!="/"&&r.pop();for(var n=t.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var ga=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,JJ=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,Tk=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,ZJ=/<[^>]*>/g,Ri=ga.match(Tk)?Tk:ZJ,eZ=/<\w*:/,tZ=/<(\/?)\w+:/;function ar(t,e,r){for(var n={},a=0,i=0;a!==t.length&&!((i=t.charCodeAt(a))===32||i===10||i===13);++a);if(e||(n[0]=t.slice(0,a)),a===t.length)return n;var s=t.match(JJ),o=0,l="",c=0,u="",h="",d=1;if(s)for(c=0;c!=s.length;++c){for(h=s[c],i=0;i!=h.length&&h.charCodeAt(i)!==61;++i);for(u=h.slice(0,i).trim();h.charCodeAt(i+1)==32;)++i;for(d=(a=h.charCodeAt(i+1))==34||a==39?1:0,l=h.slice(i+1+d,h.length-d),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var f=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[f]&&u.slice(o-3,o)=="ext")continue;n[f]=l,n[f.toLowerCase()]=l}}return n}function jl(t){return t.replace(tZ,"<$1")}var eO={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},_E=Yx(eO),Ur=function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(t,function(o,l){return eO[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),yE=/[&<>'"]/g,rZ=/[\u0000-\u0008\u000b-\u001f]/g;function an(t){var e=t+"";return e.replace(yE,function(r){return _E[r]}).replace(rZ,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function kk(t){return an(t).replace(/ /g,"_x0020_")}var tO=/[\u0000-\u001f]/g;function wE(t){var e=t+"";return e.replace(yE,function(r){return _E[r]}).replace(/\n/g,"<br/>").replace(tO,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function nZ(t){var e=t+"";return e.replace(yE,function(r){return _E[r]}).replace(tO,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var Ck=function(){var t=/&#(\d+);/g;function e(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(t,e)}}();function aZ(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function Ln(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function zy(t){for(var e="",r=0,n=0,a=0,i=0,s=0,o=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(a=t.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,e+=String.fromCharCode(s);continue}if(i=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=t.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function Nk(t){var e=of(2*t.length),r,n,a=1,i=0,s=0,o;for(n=0;n<t.length;n+=a)a=1,(o=t.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(t.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(e[i++]=s&255,e[i++]=s>>>8,s=0),e[i++]=r%256,e[i++]=r>>>8;return e.slice(0,i).toString("ucs2")}function Ik(t){return Mc(t,"binary").toString("utf8")}var jg="foo bar baz",un=yr&&(Ik(jg)==zy(jg)&&Ik||Nk(jg)==zy(jg)&&Nk)||zy,Tl=yr?function(t){return Mc(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,a=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},Hp=function(){var t={};return function(r,n){var a=r+"|"+(n||"");return t[a]?t[a]:t[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),rO=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<t.length;++a)n=n.replace(t[a][0],t[a][1]);return n}}(),iZ=function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),sZ=/<\/?(?:vt:)?variant>/g,oZ=/<(?:vt:)([^>]*)>([\s\S]*)</;function Rk(t,e){var r=ar(t),n=t.match(iZ(r.baseType))||[],a=[];if(n.length!=r.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(sZ,"").match(oZ);s&&a.push({v:un(s[2]),t:s[1]})}),a}var nO=/(^\s|\s$|\n)/;function li(t,e){return"<"+t+(e.match(nO)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function qp(t){return ta(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function pt(t,e,r){return"<"+t+(r!=null?qp(r):"")+(e!=null?(e.match(nO)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function jw(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function lZ(t,e){switch(typeof t){case"string":var r=pt("vt:lpwstr",an(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return pt((t|0)==t?"vt:i4":"vt:r8",an(String(t)));case"boolean":return pt("vt:bool",t?"true":"false")}if(t instanceof Date)return pt("vt:filetime",jw(t));throw new Error("Unable to serialize "+t)}function bE(t){if(yr&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return un(xf(pE(t)));throw new Error("Bad input format: expected Buffer or string")}var Gp=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Fa={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Ph=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ls={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function cZ(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),a=t[e+6]&15,i=5;i>=0;--i)a=a*256+t[e+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function uZ(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,a=0,i=0,s=n?-e:e;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(e)?26985:0);for(var o=0;o<=5;++o,i/=256)t[r+o]=i&255;t[r+6]=(a&15)<<4|i&15,t[r+7]=a>>4|n}var Lk=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var a=0,i=t[0][n].length;a<i;a+=r)e.push.apply(e,t[0][n].slice(a,a+r));return e},Dk=yr?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Mc(e)})):Lk(t)}:Lk,Ok=function(t,e,r){for(var n=[],a=e;a<r;a+=2)n.push(String.fromCharCode(dc(t,a)));return n.join("").replace(Xi,"")},EE=yr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(Xi,""):Ok(t,e,r)}:Ok,Pk=function(t,e,r){for(var n=[],a=e;a<e+r;++a)n.push(("0"+t[a].toString(16)).slice(-2));return n.join("")},aO=yr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):Pk(t,e,r)}:Pk,Fk=function(t,e,r){for(var n=[],a=e;a<r;a++)n.push(String.fromCharCode(v0(t,a)));return n.join("")},Om=yr?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):Fk(e,r,n)}:Fk,iO=function(t,e){var r=Ds(t,e);return r>0?Om(t,e+4,e+4+r-1):""},sO=iO,oO=function(t,e){var r=Ds(t,e);return r>0?Om(t,e+4,e+4+r-1):""},lO=oO,cO=function(t,e){var r=2*Ds(t,e);return r>0?Om(t,e+4,e+4+r-1):""},uO=cO,fO=function(e,r){var n=Ds(e,r);return n>0?EE(e,r+4,r+4+n):""},hO=fO,dO=function(t,e){var r=Ds(t,e);return r>0?Om(t,e+4,e+4+r):""},pO=dO,mO=function(t,e){return cZ(t,e)},Hv=mO,AE=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};yr&&(sO=function(e,r){if(!Buffer.isBuffer(e))return iO(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},lO=function(e,r){if(!Buffer.isBuffer(e))return oO(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},uO=function(e,r){if(!Buffer.isBuffer(e))return cO(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},hO=function(e,r){if(!Buffer.isBuffer(e))return fO(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},pO=function(e,r){if(!Buffer.isBuffer(e))return dO(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},Hv=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):mO(e,r)},AE=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var v0=function(t,e){return t[e]},dc=function(t,e){return t[e+1]*256+t[e]},fZ=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Ds=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Uf=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},hZ=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function ap(t,e){var r="",n,a,i=[],s,o,l,c;switch(e){case"dbcs":if(c=this.l,yr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)r+=String.fromCharCode(dc(this,c)),c+=2;t*=2;break;case"utf8":r=Om(this,this.l,this.l+t);break;case"utf16le":t*=2,r=EE(this,this.l,this.l+t);break;case"wstr":return ap.call(this,t,"dbcs");case"lpstr-ansi":r=sO(this,this.l),t=4+Ds(this,this.l);break;case"lpstr-cp":r=lO(this,this.l),t=4+Ds(this,this.l);break;case"lpwstr":r=uO(this,this.l),t=4+2*Ds(this,this.l);break;case"lpp4":t=4+Ds(this,this.l),r=hO(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Ds(this,this.l),r=pO(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(s=v0(this,this.l+t++))!==0;)i.push(Ug(s));r=i.join("");break;case"_wstr":for(t=0,r="";(s=dc(this,this.l+t))!==0;)i.push(Ug(s)),t+=2;t+=2,r=i.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=v0(this,c),this.l=c+1,o=ap.call(this,t-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Ug(dc(this,c))),c+=2}r=i.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=v0(this,c),this.l=c+1,o=ap.call(this,t-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Ug(v0(this,c))),c+=1}r=i.join("");break;default:switch(t){case 1:return n=v0(this,this.l),this.l++,n;case 2:return n=(e==="i"?fZ:dc)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(n=(t>0?Uf:hZ)(this,this.l),this.l+=4,n):(a=Ds(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return t==8?a=Hv(this,this.l):a=Hv([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;t=8;case 16:r=aO(this,this.l,t);break}}return this.l+=t,r}var dZ=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},pZ=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},mZ=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function gZ(t,e,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=e.length;++a)mZ(this,e.charCodeAt(a),this.l+2*a);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;n=e.length}else if(r==="hex"){for(;a<t;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+t,this.length);for(a=0;a<Math.min(e.length,t);++a){var s=e.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,dZ(this,e,this.l);break;case 8:if(n=8,r==="f"){uZ(this,e,this.l);break}case 16:break;case-4:n=4,pZ(this,e,this.l);break}return this.l+=n,this}function gO(t,e){var r=aO(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function ai(t,e){t.l=e,t.read_shift=ap,t.chk=gO,t.write_shift=gZ}function Ii(t,e){t.l+=e}function qe(t){var e=of(t);return ai(e,0),e}function Bc(t,e,r){if(t){var n,a,i;ai(t,t.l||0);for(var s=t.length,o=0,l=0;t.l<s;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var c=Qp[o]||Qp[65535];for(n=t.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=t.read_shift(1))&127)<<7*a;l=t.l+i;var u=c.f&&c.f(t,i,r);if(t.l=l,e(u,c,o))return}}}function ds(){var t=[],e=yr?256:2048,r=function(c){var u=qe(c);return ai(u,0),u},n=r(e),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},i=function(c){return n&&c<n.length-n.l?n:(a(),n=r(Math.max(c+1,e)))},s=function(){return a(),Xa(t)},o=function(c){a(),n=c,n.l==null&&(n.l=n.length),i(e)};return{next:i,push:o,end:s,_bufs:t}}function tt(t,e,r,n){var a=+e,i;if(!isNaN(a)){n||(n=Qp[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var s=t.next(i);a<=127?s.write_shift(1,a):(s.write_shift(1,(a&127)+128),s.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&AE(r)&&t.push(r)}}function ip(t,e,r){var n=Mn(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function Mk(t,e,r){var n=Mn(t);return n.s=ip(n.s,e.s,r),n.e=ip(n.e,e.s,r),n}function sp(t,e){if(t.cRel&&t.c<0)for(t=Mn(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Mn(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=nr(t);return!t.cRel&&t.cRel!=null&&(r=_Z(r)),!t.rRel&&t.rRel!=null&&(r=vZ(r)),r}function Hy(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+zn(t.s.c)+":"+(t.e.cRel?"":"$")+zn(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+ma(t.s.r)+":"+(t.e.rRel?"":"$")+ma(t.e.r):sp(t.s,e.biff)+":"+sp(t.e,e.biff)}function SE(t){return parseInt(xZ(t),10)-1}function ma(t){return""+(t+1)}function vZ(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function xZ(t){return t.replace(/\$(\d+)$/,"$1")}function TE(t){for(var e=yZ(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function zn(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function _Z(t){return t.replace(/^([A-Z])/,"$$$1")}function yZ(t){return t.replace(/^\$([A-Z])/,"$1")}function wZ(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Hn(t){for(var e=0,r=0,n=0;n<t.length;++n){var a=t.charCodeAt(n);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:e-1}}function nr(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function ms(t){var e=t.indexOf(":");return e==-1?{s:Hn(t),e:Hn(t)}:{s:Hn(t.slice(0,e)),e:Hn(t.slice(e+1))}}function dr(t,e){return typeof e>"u"||typeof e=="number"?dr(t.s,t.e):(typeof t!="string"&&(t=nr(t)),typeof e!="string"&&(e=nr(e)),t==e?t:t+":"+e)}function jr(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=t.length;for(r=0;n<i&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(e.s.c=--r,r=0;n<i&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(e.s.r=--r,n===i||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=i&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(e.e.c=--r,r=0;n!=i&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return e.e.r=--r,e}function Bk(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Co(t.z,r?Ua(e):e)}catch{}try{return t.w=Co((t.XF||{}).numFmtId||(r?14:0),r?Ua(e):e)}catch{return""+e}}function Dc(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Uc[t.v]||t.v:e==null?Bk(t,t.v):Bk(t,e))}function _f(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function vO(t,e,r){var n=r||{},a=t?Array.isArray(t):n.dense,i=t||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Hn(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=jr(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var h=0;h!=e.length;++h)if(e[h]){if(!Array.isArray(e[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=e[h].length;++d)if(!(typeof e[h][d]>"u")){var f={v:e[h][d]},p=s+h,m=o+d;if(c.s.r>p&&(c.s.r=p),c.s.c>m&&(c.s.c=m),c.e.r<p&&(c.e.r=p),c.e.c<m&&(c.e.c=m),e[h][d]&&typeof e[h][d]=="object"&&!Array.isArray(e[h][d])&&!(e[h][d]instanceof Date))f=e[h][d];else if(Array.isArray(f.v)&&(f.f=e[h][d][1],f.v=f.v[0]),f.v===null)if(f.f)f.t="n";else if(n.nullError)f.t="e",f.v=0;else if(n.sheetStubs)f.t="z";else continue;else typeof f.v=="number"?f.t="n":typeof f.v=="boolean"?f.t="b":f.v instanceof Date?(f.z=n.dateNF||er[14],n.cellDates?(f.t="d",f.w=Co(f.z,Ua(f.v))):(f.t="n",f.v=Ua(f.v),f.w=Co(f.z,f.v))):f.t="s";if(a)i[p]||(i[p]=[]),i[p][m]&&i[p][m].z&&(f.z=i[p][m].z),i[p][m]=f;else{var _=nr({c:m,r:p});i[_]&&i[_].z&&(f.z=i[_].z),i[_]=f}}}return c.s.c<1e7&&(i["!ref"]=dr(c)),i}function Vd(t,e){return vO(null,t,e)}function bZ(t){return t.read_shift(4,"i")}function Ko(t,e){return e||(e=qe(4)),e.write_shift(4,t),e}function Ci(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Ka(t,e){var r=!1;return e==null&&(r=!0,e=qe(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function EZ(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function AZ(t,e){return e||(e=qe(4)),e.write_shift(2,0),e.write_shift(2,0),e}function kE(t,e){var r=t.l,n=t.read_shift(1),a=Ci(t),i=[],s={t:a,h:a};if(n&1){for(var o=t.read_shift(4),l=0;l!=o;++l)i.push(EZ(t));s.r=i}else s.r=[{ich:0,ifnt:0}];return t.l=r+e,s}function SZ(t,e){var r=!1;return e==null&&(r=!0,e=qe(15+4*t.t.length)),e.write_shift(1,0),Ka(t.t,e),r?e.slice(0,e.l):e}var TZ=kE;function kZ(t,e){var r=!1;return e==null&&(r=!0,e=qe(23+4*t.t.length)),e.write_shift(1,1),Ka(t.t,e),e.write_shift(4,1),AZ({},e),r?e.slice(0,e.l):e}function Io(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Fh(t,e){return e==null&&(e=qe(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Mh(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Bh(t,e){return e==null&&(e=qe(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var CZ=Ci,xO=Ka;function CE(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function qv(t,e){var r=!1;return e==null&&(r=!0,e=qe(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var NZ=Ci,Vw=CE,NE=qv;function IE(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var a=n===0?Hv([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Uf(e,0)>>2;return r?a/100:a}function _O(t,e){e==null&&(e=qe(4));var r=0,n=0,a=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?a:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function yO(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function IZ(t,e){return e||(e=qe(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Uh=yO,zd=IZ;function ki(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function wh(t,e){return(e||qe(8)).write_shift(8,t,"f")}function RZ(t){var e={},r=t.read_shift(1),n=r>>>1,a=t.read_shift(1),i=t.read_shift(2,"i"),s=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=a;var c=Jf[a];c&&(e.rgb=$p(c));break;case 2:e.rgb=$p([s,o,l]);break;case 3:e.theme=a;break}return i!=0&&(e.tint=i>0?i/32767:i/32768),e}function Gv(t,e){if(e||(e=qe(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function LZ(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function DZ(t,e){e||(e=qe(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}function wO(t,e){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=t.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function OZ(t){return wO(t,1)}function PZ(t){return wO(t,2)}var RE=2,ls=3,Vg=11,Uk=12,Wv=19,zg=64,FZ=65,MZ=71,BZ=4108,UZ=4126,Ha=80,bO=81,jZ=[Ha,bO],zw={1:{n:"CodePage",t:RE},2:{n:"Category",t:Ha},3:{n:"PresentationFormat",t:Ha},4:{n:"ByteCount",t:ls},5:{n:"LineCount",t:ls},6:{n:"ParagraphCount",t:ls},7:{n:"SlideCount",t:ls},8:{n:"NoteCount",t:ls},9:{n:"HiddenCount",t:ls},10:{n:"MultimediaClipCount",t:ls},11:{n:"ScaleCrop",t:Vg},12:{n:"HeadingPairs",t:BZ},13:{n:"TitlesOfParts",t:UZ},14:{n:"Manager",t:Ha},15:{n:"Company",t:Ha},16:{n:"LinksUpToDate",t:Vg},17:{n:"CharacterCount",t:ls},19:{n:"SharedDoc",t:Vg},22:{n:"HyperlinksChanged",t:Vg},23:{n:"AppVersion",t:ls,p:"version"},24:{n:"DigSig",t:FZ},26:{n:"ContentType",t:Ha},27:{n:"ContentStatus",t:Ha},28:{n:"Language",t:Ha},29:{n:"Version",t:Ha},255:{},2147483648:{n:"Locale",t:Wv},2147483651:{n:"Behavior",t:Wv},1919054434:{}},Hw={1:{n:"CodePage",t:RE},2:{n:"Title",t:Ha},3:{n:"Subject",t:Ha},4:{n:"Author",t:Ha},5:{n:"Keywords",t:Ha},6:{n:"Comments",t:Ha},7:{n:"Template",t:Ha},8:{n:"LastAuthor",t:Ha},9:{n:"RevNumber",t:Ha},10:{n:"EditTime",t:zg},11:{n:"LastPrinted",t:zg},12:{n:"CreatedDate",t:zg},13:{n:"ModifiedDate",t:zg},14:{n:"PageCount",t:ls},15:{n:"WordCount",t:ls},16:{n:"CharCount",t:ls},17:{n:"Thumbnail",t:MZ},18:{n:"Application",t:Ha},19:{n:"DocSecurity",t:ls},255:{},2147483648:{n:"Locale",t:Wv},2147483651:{n:"Behavior",t:Wv},1919054434:{}},jk={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},VZ=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function zZ(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var HZ=zZ([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Jf=Mn(HZ),Uc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},EO={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},qw={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Hg={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function LE(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function qZ(t){var e=LE();if(!t||!t.match)return e;var r={};if((t.match(Ri)||[]).forEach(function(n){var a=ar(n);switch(a[0].replace(eZ,"<")){case"<?xml":break;case"<Types":e.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":e[qw[a.ContentType]]!==void 0&&e[qw[a.ContentType]].push(a.PartName);break}}),e.xmlns!==Fa.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=r,delete e.calcchains,e}function AO(t,e){var r=qJ(qw),n=[],a;n[n.length]=ga,n[n.length]=pt("Types",null,{xmlns:Fa.CT,"xmlns:xsd":Fa.xsd,"xmlns:xsi":Fa.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return pt("Default",null,{Extension:l[0],ContentType:l[1]})}));var i=function(l){t[l]&&t[l].length>0&&(a=t[l][0],n[n.length]=pt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Hg[l][e.bookType]||Hg[l].xlsx}))},s=function(l){(t[l]||[]).forEach(function(c){n[n.length]=pt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:Hg[l][e.bookType]||Hg[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(c){n[n.length]=pt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:r[l][0]})})};return i("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var wr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Wp(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function op(t,e){var r={"!id":{}};if(!t)return r;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(t.match(Ri)||[]).forEach(function(a){var i=ar(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:D1(i.Target,e);r[o]=s,n[i.Id]=s}}),r["!id"]=n,r}function J0(t){var e=[ga,pt("Relationships",null,{xmlns:Fa.RELS})];return ta(t["!id"]).forEach(function(r){e[e.length]=pt("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function en(t,e,r,n,a,i){if(a||(a={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,a.Id="rId"+e,a.Type=n,a.Target=r,[wr.HLINK,wr.XPATH,wr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),t["!id"][a.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][a.Id]=a,t[("/"+a.Target).replace("//","/")]=a,e}var GZ="application/vnd.oasis.opendocument.spreadsheet";function WZ(t,e){for(var r=bE(t),n,a;n=Gp.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=ar(n[0],!1),a.path=="/"&&a.type!==GZ)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}function $Z(t){var e=[ga];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function Vk(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function XZ(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function KZ(t){var e=[ga];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(Vk(t[r][0],t[r][1])),e.push(XZ("",t[r][0]));return e.push(Vk("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function SO(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Bv.version+"</meta:generator></office:meta></office:document-meta>"}var Ao=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],YZ=function(){for(var t=new Array(Ao.length),e=0;e<Ao.length;++e){var r=Ao[e],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return t}();function TO(t){var e={};t=un(t);for(var r=0;r<Ao.length;++r){var n=Ao[r],a=t.match(YZ[r]);a!=null&&a.length>0&&(e[n[1]]=Ur(a[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=Fn(e[n[1]]))}return e}function qy(t,e,r,n,a){a[t]!=null||e==null||e===""||(a[t]=e,e=an(e),n[n.length]=r?pt(t,e,r):li(t,e))}function kO(t,e){var r=e||{},n=[ga,pt("cp:coreProperties",null,{"xmlns:cp":Fa.CORE_PROPS,"xmlns:dc":Fa.dc,"xmlns:dcterms":Fa.dcterms,"xmlns:dcmitype":Fa.dcmitype,"xmlns:xsi":Fa.xsi})],a={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&qy("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:jw(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),t.ModifiedDate!=null&&qy("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:jw(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Ao.length;++i){var s=Ao[i],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:t?t[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&qy(s[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Zf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],CO=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function NO(t,e,r,n){var a=[];if(typeof t=="string")a=Rk(t,n);else for(var i=0;i<t.length;++i)a=a.concat(t[i].map(function(u){return{v:u}}));var s=typeof e=="string"?Rk(e,n).map(function(u){return u.v}):e,o=0,l=0;if(s.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=s.slice(o,o+l);break}o+=l}}function QZ(t,e,r){var n={};return e||(e={}),t=un(t),Zf.forEach(function(a){var i=(t.match(Hp(a[0]))||[])[1];switch(a[2]){case"string":i&&(e[a[1]]=Ur(i));break;case"bool":e[a[1]]=i==="true";break;case"raw":var s=t.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&NO(n.HeadingPairs,n.TitlesOfParts,e,r),e}function IO(t){var e=[],r=pt;return t||(t={}),t.Application="SheetJS",e[e.length]=ga,e[e.length]=pt("Properties",null,{xmlns:Fa.EXT_PROPS,"xmlns:vt":Fa.vt}),Zf.forEach(function(n){if(t[n[1]]!==void 0){var a;switch(n[2]){case"string":a=an(String(t[n[1]]));break;case"bool":a=t[n[1]]?"true":"false";break}a!==void 0&&(e[e.length]=r(n[0],a))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+an(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var JZ=/<[^>]+>[^<]*/g;function ZZ(t,e){var r={},n="",a=t.match(JZ);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=ar(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Ur(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=Ur(u);break;case"bool":r[n]=Ln(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=Fn(u);break;case"cy":case"error":r[n]=Ur(u);break;default:if(c.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(e.WTF)throw new Error(s)}}}return r}function RO(t){var e=[ga,pt("Properties",null,{xmlns:Fa.CUST_PROPS,"xmlns:vt":Fa.vt})];if(!t)return e.join("");var r=1;return ta(t).forEach(function(a){++r,e[e.length]=pt("property",lZ(t[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:an(a)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var Gw={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Gy;function eee(t,e,r){Gy||(Gy=Yx(Gw)),e=Gy[e]||e,t[e]=r}function tee(t,e){var r=[];return ta(Gw).map(function(n){for(var a=0;a<Ao.length;++a)if(Ao[a][1]==n)return Ao[a];for(a=0;a<Zf.length;++a)if(Zf[a][1]==n)return Zf[a];throw n}).forEach(function(n){if(t[n[1]]!=null){var a=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(li(Gw[n[1]]||n[1],a))}}),pt("DocumentProperties",r.join(""),{xmlns:Ls.o})}function ree(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return t&&ta(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)){for(var s=0;s<Ao.length;++s)if(i==Ao[s][1])return;for(s=0;s<Zf.length;++s)if(i==Zf[s][1])return;for(s=0;s<r.length;++s)if(i==r[s])return;var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),a.push(pt(kk(i),o,{"dt:dt":l}))}}),e&&ta(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)&&!(t&&Object.prototype.hasOwnProperty.call(t,i))){var s=e[i],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),a.push(pt(kk(i),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Ls.o+'">'+a.join("")+"</"+n+">"}function DE(t){var e=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function nee(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var s=qe(8);return s.write_shift(4,n),s.write_shift(4,a),s}function LO(t,e,r){var n=t.l,a=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-n&3;)++t.l;return a}function DO(t,e,r){var n=t.read_shift(0,"lpwstr");return n}function OO(t,e,r){return e===31?DO(t):LO(t,e,r)}function Ww(t,e,r){return OO(t,e,r===!1?0:4)}function aee(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return OO(t,e,0)}function iee(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n){var a=t.l;r[n]=t.read_shift(0,"lpwstr").replace(Xi,""),t.l-a&2&&(t.l+=2)}return r}function see(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n)r[n]=t.read_shift(0,"lpstr-cp").replace(Xi,"");return r}function oee(t){var e=t.l,r=$v(t,bO);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var n=$v(t,ls);return[r,n]}function lee(t){for(var e=t.read_shift(4),r=[],n=0;n<e/2;++n)r.push(oee(t));return r}function zk(t,e){for(var r=t.read_shift(4),n={},a=0;a!=r;++a){var i=t.read_shift(4),s=t.read_shift(4);n[i]=t.read_shift(s,e===1200?"utf16le":"utf8").replace(Xi,"").replace(L1,"!"),e===1200&&s%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),n}function PO(t){var e=t.read_shift(4),r=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),r}function cee(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function $v(t,e,r){var n=t.read_shift(2),a,i=r||{};if(t.l+=2,e!==Uk&&n!==e&&jZ.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===Uk?n:e){case 2:return a=t.read_shift(2,"i"),i.raw||(t.l+=2),a;case 3:return a=t.read_shift(4,"i"),a;case 11:return t.read_shift(4)!==0;case 19:return a=t.read_shift(4),a;case 30:return LO(t,n,4).replace(Xi,"");case 31:return DO(t);case 64:return DE(t);case 65:return PO(t);case 71:return cee(t);case 80:return Ww(t,n,!i.raw).replace(Xi,"");case 81:return aee(t,n).replace(Xi,"");case 4108:return lee(t);case 4126:case 4127:return n==4127?iee(t):see(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function Hk(t,e){var r=qe(4),n=qe(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=qe(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=nee(e);break;case 31:case 80:for(n=qe(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Xa([r,n])}function qk(t,e){var r=t.l,n=t.read_shift(4),a=t.read_shift(4),i=[],s=0,o=0,l=-1,c={};for(s=0;s!=a;++s){var u=t.read_shift(4),h=t.read_shift(4);i[s]=[u,h+r]}i.sort(function(T,w){return T[1]-w[1]});var d={};for(s=0;s!=a;++s){if(t.l!==i[s][1]){var f=!0;if(s>0&&e)switch(e[i[s-1][0]].t){case 2:t.l+2===i[s][1]&&(t.l+=2,f=!1);break;case 80:t.l<=i[s][1]&&(t.l=i[s][1],f=!1);break;case 4108:t.l<=i[s][1]&&(t.l=i[s][1],f=!1);break}if((!e||s==0)&&t.l<=i[s][1]&&(f=!1,t.l=i[s][1]),f)throw new Error("Read Error: Expected address "+i[s][1]+" at "+t.l+" :"+s)}if(e){var p=e[i[s][0]];if(d[p.n]=$v(t,p.t,{raw:!0}),p.p==="version"&&(d[p.n]=String(d[p.n]>>16)+"."+("0000"+String(d[p.n]&65535)).slice(-4)),p.n=="CodePage")switch(d[p.n]){case 0:d[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Go(o=d[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+d[p.n])}}else if(i[s][0]===1){if(o=d.CodePage=$v(t,RE),Go(o),l!==-1){var m=t.l;t.l=i[l][1],c=zk(t,o),t.l=m}}else if(i[s][0]===0){if(o===0){l=s,t.l=i[s+1][1];continue}c=zk(t,o)}else{var _=c[i[s][0]],x;switch(t[t.l]){case 65:t.l+=4,x=PO(t);break;case 30:t.l+=4,x=Ww(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,x=Ww(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,x=t.read_shift(4,"i");break;case 19:t.l+=4,x=t.read_shift(4);break;case 5:t.l+=4,x=t.read_shift(8,"f");break;case 11:t.l+=4,x=oa(t,4);break;case 64:t.l+=4,x=Fn(DE(t));break;default:throw new Error("unparsed value: "+t[t.l])}d[_]=x}}return t.l=r+n,d}var FO=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function uee(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function Gk(t,e,r){var n=qe(8),a=[],i=[],s=8,o=0,l=qe(8),c=qe(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),i.push(l),a.push(c),s+=8+l.length,!e){c=qe(8),c.write_shift(4,0),a.unshift(c);var u=[qe(4)];for(u[0].write_shift(4,t.length),o=0;o<t.length;++o){var h=t[o][0];for(l=qe(8+2*(h.length+1)+(h.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,h.length+1),l.write_shift(0,h,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=Xa(u),i.unshift(l),s+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(FO.indexOf(t[o][0])>-1||CO.indexOf(t[o][0])>-1)&&t[o][1]!=null){var d=t[o][1],f=0;if(e){f=+e[t[o][0]];var p=r[f];if(p.p=="version"&&typeof d=="string"){var m=d.split(".");d=(+m[0]<<16)+(+m[1]||0)}l=Hk(p.t,d)}else{var _=uee(d);_==-1&&(_=31,d=String(d)),l=Hk(_,d)}i.push(l),c=qe(8),c.write_shift(4,e?f:2+o),a.push(c),s+=8+l.length}var x=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,x),x+=i[o].length;return n.write_shift(4,s),n.write_shift(4,i.length),Xa([n].concat(a).concat(i))}function Wk(t,e,r){var n=t.content;if(!n)return{};ai(n,0);var a,i,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==Gt.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(s=n.read_shift(16),l=n.read_shift(4));var h=qk(n,e),d={SystemIdentifier:c};for(var f in h)d[f]=h[f];if(d.FMTID=i,a===1)return d;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var p;try{p=qk(n,null)}catch{}for(f in p)d[f]=p[f];return d.FMTID=[i,s],d}function $k(t,e,r,n,a,i){var s=qe(a?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,Gt.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,a?2:1),s.write_shift(16,e,"hex"),s.write_shift(4,a?68:48);var l=Gk(t,r,n);if(o.push(l),a){var c=Gk(a,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+l.length),o.push(c)}return Xa(o)}function uu(t,e){return t.read_shift(e),null}function fee(t,e){e||(e=qe(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function hee(t,e,r){for(var n=[],a=t.l+e;t.l<a;)n.push(r(t,a-t.l));if(a!==t.l)throw new Error("Slurp error");return n}function oa(t,e){return t.read_shift(e)===1}function Gi(t,e){return e||(e=qe(2)),e.write_shift(2,+!!t),e}function ya(t){return t.read_shift(2,"u")}function mo(t,e){return e||(e=qe(2)),e.write_shift(2,t),e}function MO(t,e){return hee(t,e,ya)}function dee(t){var e=t.read_shift(1),r=t.read_shift(1);return r===1?e:e===1}function BO(t,e,r){return r||(r=qe(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function Pm(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=t.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?t.read_shift(n,a):"";return s}function pee(t){var e=t.read_shift(2),r=t.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,o,l={};a&&(s=t.read_shift(2)),n&&(o=t.read_shift(4));var c=i==2?"dbcs-cont":"sbcs-cont",u=e===0?"":t.read_shift(e,c);return a&&(t.l+=4*s),n&&(t.l+=o),l.t=u,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function mee(t){var e=t.t||"",r=qe(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=qe(2*e.length);n.write_shift(2*e.length,e,"utf16le");var a=[r,n];return Xa(a)}function bh(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var a=t.read_shift(1);return a===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function Fm(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):bh(t,n,r)}function jh(t,e,r){if(r.biff>5)return Fm(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function UO(t,e,r){return r||(r=qe(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function gee(t){var e=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[e,r]}function vee(t){var e=t.read_shift(4),r=t.l,n=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),t.l=r);var a=t.read_shift((n?e-24:e)>>1,"utf16le").replace(Xi,"");return n&&(t.l+=24),a}function xee(t){for(var e=t.read_shift(2),r="";e-- >0;)r+="../";var n=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=t.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=t.read_shift(i>>1,"utf16le").replace(Xi,"");return r+s}function _ee(t,e){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return vee(t);case"0303000000000000c000000000000046":return xee(t);default:throw new Error("Unsupported Moniker "+r)}}function qg(t){var e=t.read_shift(4),r=e>0?t.read_shift(e,"utf16le").replace(Xi,""):"";return r}function Xk(t,e){e||(e=qe(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function yee(t,e){var r=t.l+e,n=t.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=t.read_shift(2);t.l+=2;var i,s,o,l,c="",u,h;a&16&&(i=qg(t,r-t.l)),a&128&&(s=qg(t,r-t.l)),(a&257)===257&&(o=qg(t,r-t.l)),(a&257)===1&&(l=_ee(t,r-t.l)),a&8&&(c=qg(t,r-t.l)),a&32&&(u=t.read_shift(16)),a&64&&(h=DE(t)),t.l=r;var d=s||o||l||"";d&&c&&(d+="#"+c),d||(d="#"+c),a&2&&d.charAt(0)=="/"&&d.charAt(1)!="/"&&(d="file://"+d);var f={Target:d};return u&&(f.guid=u),h&&(f.time=h),i&&(f.Tooltip=i),f}function wee(t){var e=qe(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}e.write_shift(4,2),e.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)e.write_shift(4,s[r]);if(i==28)n=n.slice(1),Xk(n,e);else if(i&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)e.write_shift(1,parseInt(s[r],16));var o=a>-1?n.slice(0,a):n;for(e.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)e.write_shift(2,o.charCodeAt(r));e.write_shift(2,0),i&8&&Xk(a>-1?n.slice(a+1):"",e)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)e.write_shift(1,parseInt(s[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)e.write_shift(1,n.charCodeAt(r+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function jO(t){var e=t.read_shift(1),r=t.read_shift(1),n=t.read_shift(1),a=t.read_shift(1);return[e,r,n,a]}function VO(t,e){var r=jO(t);return r[3]=0,r}function Vl(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return{r:e,c:r,ixfe:n}}function Eh(t,e,r,n){return n||(n=qe(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function bee(t){var e=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:e,flags:r}}function Eee(t,e,r){return e===0?"":jh(t,e,r)}function Aee(t,e,r){var n=r.biff>8?4:2,a=t.read_shift(n),i=t.read_shift(n,"i"),s=t.read_shift(n,"i");return[a,i,s]}function zO(t){var e=t.read_shift(2),r=IE(t);return[e,r]}function See(t,e,r){t.l+=4,e-=4;var n=t.l+e,a=Pm(t,e,r),i=t.read_shift(2);if(n-=t.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return t.l+=i,a}function Zx(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(2);return{s:{c:n,r:e},e:{c:a,r}}}function HO(t,e){return e||(e=qe(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function qO(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(1),a=t.read_shift(1);return{s:{c:n,r:e},e:{c:a,r}}}var Tee=qO;function GO(t){t.l+=4;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return t.l+=12,[r,e,n]}function kee(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function Cee(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function wi(t){t.l+=2,t.l+=t.read_shift(2)}var Nee={0:wi,4:wi,5:wi,6:wi,7:Cee,8:wi,9:wi,10:wi,11:wi,12:wi,13:kee,14:wi,15:wi,16:wi,17:wi,18:wi,19:wi,20:wi,21:GO};function Iee(t,e){for(var r=t.l+e,n=[];t.l<r;){var a=t.read_shift(2);t.l-=2;try{n.push(Nee[a](t,r-t.l))}catch{return t.l=r,n}}return t.l!=r&&(t.l=r),n}function Gg(t,e){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),e-=2,e>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(e),r}function OE(t,e,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=qe(a);return i.write_shift(2,n),i.write_shift(2,e),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function Ree(t,e){return e===0||t.read_shift(2),1200}function Lee(t,e,r){if(r.enc)return t.l+=e,"";var n=t.l,a=jh(t,0,r);return t.read_shift(e+n-t.l),a}function Dee(t,e){var r=!e||e.biff==8,n=qe(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function Oee(t,e,r){var n=r&&r.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Pee(t,e,r){var n=t.read_shift(4),a=t.read_shift(1)&3,i=t.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=Pm(t,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function Fee(t,e){var r=!e||e.biff>=8?2:1,n=qe(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function Mee(t,e){for(var r=t.l+e,n=t.read_shift(4),a=t.read_shift(4),i=[],s=0;s!=a&&t.l<r;++s)i.push(pee(t));return i.Count=n,i.Unique=a,i}function Bee(t,e){var r=qe(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],a=0;a<t.length;++a)n[a]=mee(t[a]);var i=Xa([r].concat(n));return i.parts=[r.length].concat(n.map(function(s){return s.length})),i}function Uee(t,e){var r={};return r.dsst=t.read_shift(2),t.l+=e-2,r}function jee(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var r=t.read_shift(2);t.l+=4;var n=t.read_shift(1);return t.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=r/20),e}function Vee(t){var e=bee(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var r=t.read_shift(4);return r!==0}function zee(t){return t.read_shift(2),t.read_shift(4)}function Kk(t,e,r){var n=0;r&&r.biff==2||(n=t.read_shift(2));var a=t.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function Hee(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),c=t.read_shift(2);return{Pos:[e,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:o,Selected:l,TabRatio:c}}function qee(){var t=qe(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function Gee(t,e,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=t.read_shift(2);return{RTL:n&64}}function Wee(t){var e=qe(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function $ee(){}function Xee(t,e,r){var n={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return n.name=Pm(t,0,r),n}function Kee(t,e){var r=t.name||"Arial",n=e&&e.biff==5,a=n?15+r.length:16+2*r.length,i=qe(a);return i.write_shift(2,t.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function Yee(t){var e=Vl(t);return e.isst=t.read_shift(4),e}function Qee(t,e,r,n){var a=qe(10);return Eh(t,e,n,a),a.write_shift(4,r),a}function Jee(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=t.l+e,a=Vl(t);r.biff==2&&t.l++;var i=Fm(t,n-t.l,r);return a.val=i,a}function Zee(t,e,r,n,a){var i=!a||a.biff==8,s=qe(8+ +i+(1+i)*r.length);return Eh(t,e,n,s),s.write_shift(2,r.length),i&&s.write_shift(1,1),s.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),s}function ete(t,e,r){var n=t.read_shift(2),a=jh(t,0,r);return[n,a]}function tte(t,e,r,n){var a=r&&r.biff==5;n||(n=qe(a?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(a?1:2,e.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*e.length,e,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}var rte=jh;function Yk(t,e,r){var n=t.l+e,a=r.biff==8||!r.biff?4:2,i=t.read_shift(a),s=t.read_shift(a),o=t.read_shift(2),l=t.read_shift(2);return t.l=n,{s:{r:i,c:o},e:{r:s,c:l}}}function nte(t,e){var r=e.biff==8||!e.biff?4:2,n=qe(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function ate(t){var e=t.read_shift(2),r=t.read_shift(2),n=zO(t);return{r:e,c:r,ixfe:n[0],rknum:n[1]}}function ite(t,e){for(var r=t.l+e-2,n=t.read_shift(2),a=t.read_shift(2),i=[];t.l<r;)i.push(zO(t));if(t.l!==r)throw new Error("MulRK read error");var s=t.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function ste(t,e){for(var r=t.l+e-2,n=t.read_shift(2),a=t.read_shift(2),i=[];t.l<r;)i.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var s=t.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function ote(t,e,r,n){var a={},i=t.read_shift(4),s=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(2);return a.patternType=VZ[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function lte(t,e,r){var n={};return n.ifnt=t.read_shift(2),n.numFmtId=t.read_shift(2),n.flags=t.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=ote(t,e,n.fStyle,r),n}function Qk(t,e,r,n){var a=r&&r.biff==5;n||(n=qe(a?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var i=0;return t.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function cte(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function ute(t){var e=qe(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function Jk(t,e,r){var n=Vl(t);(r.biff==2||e==9)&&++t.l;var a=dee(t);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function fte(t,e,r,n,a,i){var s=qe(8);return Eh(t,e,n,s),BO(r,i,s),s}function hte(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Vl(t),a=ki(t);return n.val=a,n}function dte(t,e,r,n){var a=qe(14);return Eh(t,e,n,a),wh(r,a),a}var Zk=Eee;function pte(t,e,r){var n=t.l+e,a=t.read_shift(2),i=t.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=bh(t,i),o=[];n>t.l;)o.push(Fm(t));return[i,a,s,o]}function eC(t,e,r){var n=t.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=See(t,e-2,r)),i.body=a||t.read_shift(e-2),typeof a=="string"&&(i.Name=a),i}var mte=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function tC(t,e,r){var n=t.l+e,a=t.read_shift(2),i=t.read_shift(1),s=t.read_shift(1),o=t.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),l=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var c=bh(t,s,r);a&32&&(c=mte[c.charCodeAt(0)]);var u=n-t.l;r&&r.biff==2&&--u;var h=n==t.l||o===0||!(u>0)?[]:Iie(t,u,r,o);return{chKey:i,Name:c,itab:l,rgce:h}}function WO(t,e,r){if(r.biff<8)return gte(t,e,r);for(var n=[],a=t.l+e,i=t.read_shift(r.biff>8?4:2);i--!==0;)n.push(Aee(t,r.biff>8?12:6,r));if(t.l!=a)throw new Error("Bad ExternSheet: "+t.l+" != "+a);return n}function gte(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=Pm(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function vte(t,e,r){if(r.biff<8){t.l+=e;return}var n=t.read_shift(2),a=t.read_shift(2),i=bh(t,n,r),s=bh(t,a,r);return[i,s]}function xte(t,e,r){var n=qO(t);t.l++;var a=t.read_shift(1);return e-=8,[Rie(t,e,r),a,n]}function rC(t,e,r){var n=Tee(t);switch(r.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[n,Cie(t,e,r)]}function _te(t){var e=t.read_shift(4)!==0,r=t.read_shift(4)!==0,n=t.read_shift(4);return[e,r,n]}function yte(t,e,r){if(!(r.biff<8)){var n=t.read_shift(2),a=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),o=jh(t,0,r);return r.biff<8&&t.read_shift(1),[{r:n,c:a},o,s,i]}}function wte(t,e,r){return yte(t,e,r)}function bte(t,e){for(var r=[],n=t.read_shift(2);n--;)r.push(Zx(t));return r}function Ete(t){var e=qe(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)HO(t[r],e);return e}function Ate(t,e,r){if(r&&r.biff<8)return Tte(t,e,r);var n=GO(t),a=Iee(t,e-22,n[1]);return{cmo:n,ft:a}}var Ste={8:function(t,e){var r=t.l+e;t.l+=10;var n=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var a=t.read_shift(1);return t.l+=a,t.l=r,{fmt:n}}};function Tte(t,e,r){t.l+=4;var n=t.read_shift(2),a=t.read_shift(2),i=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var s=[];return s.push((Ste[n]||Ii)(t,e,r)),{cmo:[a,n,i],ft:s}}function kte(t,e,r){var n=t.l,a="";try{t.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?t.l+=6:s=gee(t,6,r);var o=t.read_shift(2);t.read_shift(2),ya(t,2);var l=t.read_shift(2);t.l+=l;for(var c=1;c<t.lens.length-1;++c){if(t.l-n!=t.lens[c])throw new Error("TxO: bad continue record");var u=t[t.l],h=bh(t,t.lens[c+1]-t.lens[c]-1);if(a+=h,a.length>=(u?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return t.l=n+e,{t:a}}catch{return t.l=n+e,{t:a}}}function Cte(t,e){var r=Zx(t);t.l+=16;var n=yee(t,e-24);return[r,n]}function Nte(t){var e=qe(24),r=Hn(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)e.write_shift(1,parseInt(n[a],16));return Xa([e,wee(t[1])])}function Ite(t,e){t.read_shift(2);var r=Zx(t),n=t.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(Xi,""),[r,n]}function Rte(t){var e=t[1].Tooltip,r=qe(10+2*(e.length+1));r.write_shift(2,2048);var n=Hn(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<e.length;++a)r.write_shift(2,e.charCodeAt(a));return r.write_shift(2,0),r}function Lte(t){var e=[0,0],r;return r=t.read_shift(2),e[0]=jk[r]||r,r=t.read_shift(2),e[1]=jk[r]||r,e}function Dte(t){return t||(t=qe(4)),t.write_shift(2,1),t.write_shift(2,1),t}function Ote(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(VO(t));return r}function Pte(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(VO(t));return r}function Fte(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function $O(t,e,r){if(!r.cellStyles)return Ii(t,e);var n=r&&r.biff>=12?4:2,a=t.read_shift(n),i=t.read_shift(n),s=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(2);n==2&&(t.l+=2);var c={s:a,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function Mte(t,e){var r=qe(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function Bte(t,e){var r={};return e<32||(t.l+=16,r.header=ki(t),r.footer=ki(t),t.l+=2),r}function Ute(t,e,r){var n={area:!1};if(r.biff!=5)return t.l+=e,n;var a=t.read_shift(1);return t.l+=3,a&16&&(n.area=!0),n}function jte(t){for(var e=qe(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}var Vte=Vl,zte=MO,Hte=Fm;function qte(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),a={fmt:e,env:r,len:n,data:t.slice(t.l,t.l+n)};return t.l+=n,a}function Gte(t,e,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Vl(t);++t.l;var a=jh(t,e-7,r);return n.t="str",n.val=a,n}function Wte(t){var e=Vl(t);++t.l;var r=ki(t);return e.t="n",e.val=r,e}function $te(t,e,r){var n=qe(15);return jm(n,t,e),n.write_shift(8,r,"f"),n}function Xte(t){var e=Vl(t);++t.l;var r=t.read_shift(2);return e.t="n",e.val=r,e}function Kte(t,e,r){var n=qe(9);return jm(n,t,e),n.write_shift(2,r),n}function Yte(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function Qte(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function Jte(t,e,r){var n=t.l+e,a=Vl(t),i=t.read_shift(2),s=bh(t,i,r);return t.l=n,a.t="str",a.val=s,a}var Zte=[2,3,48,49,131,139,140,245],$w=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Yx({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=of(1);switch(l.type){case"base64":u=Ms(Ys(o));break;case"binary":u=Ms(o);break;case"buffer":case"array":u=o;break}ai(u,0);var h=u.read_shift(1),d=!!(h&136),f=!1,p=!1;switch(h){case 2:break;case 3:break;case 48:f=!0,d=!0;break;case 49:f=!0,d=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var m=0,_=521;h==2&&(m=u.read_shift(2)),u.l+=3,h!=2&&(m=u.read_shift(4)),m>1048576&&(m=1e6),h!=2&&(_=u.read_shift(2));var x=u.read_shift(2),T=l.codepage||1252;h!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(T=t[u[u.l]]),u.l+=1,u.l+=2),p&&(u.l+=36);for(var w=[],I={},j=Math.min(u.length,h==2?521:_-10-(f?264:0)),P=p?32:11;u.l<j&&u[u.l]!=13;)switch(I={},I.name=jp.utils.decode(T,u.slice(u.l,u.l+P)).replace(/[\u0000\r\n].*$/g,""),u.l+=P,I.type=String.fromCharCode(u.read_shift(1)),h!=2&&!p&&(I.offset=u.read_shift(4)),I.len=u.read_shift(1),h==2&&(I.offset=u.read_shift(2)),I.dec=u.read_shift(1),I.name.length&&w.push(I),h!=2&&(u.l+=p?13:14),I.type){case"B":(!f||I.len!=8)&&l.WTF&&console.log("Skipping "+I.name+":"+I.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+I.name+":"+I.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+I.type)}if(u[u.l]!==13&&(u.l=_-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=_;var N=0,E=0;for(c[0]=[],E=0;E!=w.length;++E)c[0][E]=w[E].name;for(;m-- >0;){if(u[u.l]===42){u.l+=x;continue}for(++u.l,c[++N]=[],E=0,E=0;E!=w.length;++E){var y=u.slice(u.l,u.l+w[E].len);u.l+=w[E].len,ai(y,0);var R=jp.utils.decode(T,y);switch(w[E].type){case"C":R.trim().length&&(c[N][E]=R.replace(/\s+$/,""));break;case"D":R.length===8?c[N][E]=new Date(+R.slice(0,4),+R.slice(4,6)-1,+R.slice(6,8)):c[N][E]=R;break;case"F":c[N][E]=parseFloat(R.trim());break;case"+":case"I":c[N][E]=p?y.read_shift(-4,"i")^2147483648:y.read_shift(4,"i");break;case"L":switch(R.trim().toUpperCase()){case"Y":case"T":c[N][E]=!0;break;case"N":case"F":c[N][E]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+R+"|")}break;case"M":if(!d)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));c[N][E]="##MEMO##"+(p?parseInt(R.trim(),10):y.read_shift(4));break;case"N":R=R.replace(/\u0000/g,"").trim(),R&&R!="."&&(c[N][E]=+R||0);break;case"@":c[N][E]=new Date(y.read_shift(-8,"f")-621356832e5);break;case"T":c[N][E]=new Date((y.read_shift(4)-2440588)*864e5+y.read_shift(4));break;case"Y":c[N][E]=y.read_shift(4,"i")/1e4+y.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[N][E]=-y.read_shift(-8,"f");break;case"B":if(f&&w[E].len==8){c[N][E]=y.read_shift(8,"f");break}case"G":case"P":y.l+=w[E].len;break;case"0":if(w[E].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[E].type)}}}if(h!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=w,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=Vd(r(o,c),c);return u["!cols"]=c.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete c.DBF,u}function a(o,l){try{return _f(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&Go(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=ds(),h=Yv(o,{header:1,raw:!0,cellDates:!0}),d=h[0],f=h.slice(1),p=o["!cols"]||[],m=0,_=0,x=0,T=1;for(m=0;m<d.length;++m){if(((p[m]||{}).DBF||{}).name){d[m]=p[m].DBF.name,++x;continue}if(d[m]!=null){if(++x,typeof d[m]=="number"&&(d[m]=d[m].toString(10)),typeof d[m]!="string")throw new Error("DBF Invalid column name "+d[m]+" |"+typeof d[m]+"|");if(d.indexOf(d[m])!==m){for(_=0;_<1024;++_)if(d.indexOf(d[m]+"_"+_)==-1){d[m]+="_"+_;break}}}}var w=jr(o["!ref"]),I=[],j=[],P=[];for(m=0;m<=w.e.c-w.s.c;++m){var N="",E="",y=0,R=[];for(_=0;_<f.length;++_)f[_][m]!=null&&R.push(f[_][m]);if(R.length==0||d[m]==null){I[m]="?";continue}for(_=0;_<R.length;++_){switch(typeof R[_]){case"number":E="B";break;case"string":E="C";break;case"boolean":E="L";break;case"object":E=R[_]instanceof Date?"D":"C";break;default:E="C"}y=Math.max(y,String(R[_]).length),N=N&&N!=E?"C":E}y>250&&(y=250),E=((p[m]||{}).DBF||{}).type,E=="C"&&p[m].DBF.len>y&&(y=p[m].DBF.len),N=="B"&&E=="N"&&(N="N",P[m]=p[m].DBF.dec,y=p[m].DBF.len),j[m]=N=="C"||E=="N"?y:i[N]||0,T+=j[m],I[m]=N}var A=u.next(32);for(A.write_shift(4,318902576),A.write_shift(4,f.length),A.write_shift(2,296+32*x),A.write_shift(2,T),m=0;m<4;++m)A.write_shift(4,0);for(A.write_shift(4,0|(+e[FD]||3)<<8),m=0,_=0;m<d.length;++m)if(d[m]!=null){var C=u.next(32),k=(d[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);C.write_shift(1,k,"sbcs"),C.write_shift(1,I[m]=="?"?"C":I[m],"sbcs"),C.write_shift(4,_),C.write_shift(1,j[m]||i[I[m]]||0),C.write_shift(1,P[m]||0),C.write_shift(1,2),C.write_shift(4,0),C.write_shift(1,0),C.write_shift(4,0),C.write_shift(4,0),_+=j[m]||i[I[m]]||0}var q=u.next(264);for(q.write_shift(4,13),m=0;m<65;++m)q.write_shift(4,0);for(m=0;m<f.length;++m){var X=u.next(T);for(X.write_shift(1,0),_=0;_<d.length;++_)if(d[_]!=null)switch(I[_]){case"L":X.write_shift(1,f[m][_]==null?63:f[m][_]?84:70);break;case"B":X.write_shift(8,f[m][_]||0,"f");break;case"N":var V="0";for(typeof f[m][_]=="number"&&(V=f[m][_].toFixed(P[_]||0)),x=0;x<j[_]-V.length;++x)X.write_shift(1,32);X.write_shift(1,V,"sbcs");break;case"D":f[m][_]?(X.write_shift(4,("0000"+f[m][_].getFullYear()).slice(-4),"sbcs"),X.write_shift(2,("00"+(f[m][_].getMonth()+1)).slice(-2),"sbcs"),X.write_shift(2,("00"+f[m][_].getDate()).slice(-2),"sbcs")):X.write_shift(8,"00000000","sbcs");break;case"C":var H=String(f[m][_]!=null?f[m][_]:"").slice(0,j[_]);for(X.write_shift(1,H,"sbcs"),x=0;x<j[_]-H.length;++x)X.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),XO=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+ta(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(d,f){var p=t[f];return typeof p=="number"?dk(p):p},n=function(d,f,p){var m=f.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return m==59?d:dk(m)};t["|"]=254;function a(d,f){switch(f.type){case"base64":return i(Ys(d),f);case"binary":return i(d,f);case"buffer":return i(yr&&Buffer.isBuffer(d)?d.toString("binary"):xf(d),f);case"array":return i(yh(d),f)}throw new Error("Unrecognized type "+f.type)}function i(d,f){var p=d.split(/[\n\r]+/),m=-1,_=-1,x=0,T=0,w=[],I=[],j=null,P={},N=[],E=[],y=[],R=0,A;for(+f.codepage>=0&&Go(+f.codepage);x!==p.length;++x){R=0;var C=p[x].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),k=C.replace(/;;/g,"\0").split(";").map(function(M){return M.replace(/\u0000/g,";")}),q=k[0],X;if(C.length>0)switch(q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":k[1].charAt(0)=="P"&&I.push(C.slice(3).replace(/;;/g,";"));break;case"C":var V=!1,H=!1,ae=!1,W=!1,ge=-1,be=-1;for(T=1;T<k.length;++T)switch(k[T].charAt(0)){case"A":break;case"X":_=parseInt(k[T].slice(1))-1,H=!0;break;case"Y":for(m=parseInt(k[T].slice(1))-1,H||(_=0),A=w.length;A<=m;++A)w[A]=[];break;case"K":X=k[T].slice(1),X.charAt(0)==='"'?X=X.slice(1,X.length-1):X==="TRUE"?X=!0:X==="FALSE"?X=!1:isNaN(Xo(X))?isNaN(vd(X).getDate())||(X=Fn(X)):(X=Xo(X),j!==null&&Ud(j)&&(X=Jx(X))),V=!0;break;case"E":W=!0;var D=Z0(k[T].slice(1),{r:m,c:_});w[m][_]=[w[m][_],D];break;case"S":ae=!0,w[m][_]=[w[m][_],"S5S"];break;case"G":break;case"R":ge=parseInt(k[T].slice(1))-1;break;case"C":be=parseInt(k[T].slice(1))-1;break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+C)}if(V&&(w[m][_]&&w[m][_].length==2?w[m][_][0]=X:w[m][_]=X,j=null),ae){if(W)throw new Error("SYLK shared formula cannot have own formula");var F=ge>-1&&w[ge][be];if(!F||!F[1])throw new Error("SYLK shared formula cannot find base");w[m][_][1]=hP(F[1],{r:m-ge,c:_-be})}break;case"F":var U=0;for(T=1;T<k.length;++T)switch(k[T].charAt(0)){case"X":_=parseInt(k[T].slice(1))-1,++U;break;case"Y":for(m=parseInt(k[T].slice(1))-1,A=w.length;A<=m;++A)w[A]=[];break;case"M":R=parseInt(k[T].slice(1))/20;break;case"F":break;case"G":break;case"P":j=I[parseInt(k[T].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(y=k[T].slice(1).split(" "),A=parseInt(y[0],10);A<=parseInt(y[1],10);++A)R=parseInt(y[2],10),E[A-1]=R===0?{hidden:!0}:{wch:R},lf(E[A-1]);break;case"C":_=parseInt(k[T].slice(1))-1,E[_]||(E[_]={});break;case"R":m=parseInt(k[T].slice(1))-1,N[m]||(N[m]={}),R>0?(N[m].hpt=R,N[m].hpx=_d(R)):R===0&&(N[m].hidden=!0);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+C)}U<1&&(j=null);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+C)}}return N.length>0&&(P["!rows"]=N),E.length>0&&(P["!cols"]=E),f&&f.sheetRows&&(w=w.slice(0,f.sheetRows)),[w,P]}function s(d,f){var p=a(d,f),m=p[0],_=p[1],x=Vd(m,f);return ta(_).forEach(function(T){x[T]=_[T]}),x}function o(d,f){return _f(s(d,f),f)}function l(d,f,p,m){var _="C;Y"+(p+1)+";X"+(m+1)+";K";switch(d.t){case"n":_+=d.v||0,d.f&&!d.F&&(_+=";E"+jE(d.f,{r:p,c:m}));break;case"b":_+=d.v?"TRUE":"FALSE";break;case"e":_+=d.w||d.v;break;case"d":_+='"'+(d.w||d.v)+'"';break;case"s":_+='"'+d.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return _}function c(d,f){f.forEach(function(p,m){var _="F;W"+(m+1)+" "+(m+1)+" ";p.hidden?_+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=Xp(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=Kp(p.wpx)),typeof p.wch=="number"&&(_+=Math.round(p.wch))),_.charAt(_.length-1)!=" "&&d.push(_)})}function u(d,f){f.forEach(function(p,m){var _="F;";p.hidden?_+="M0;":p.hpt?_+="M"+20*p.hpt+";":p.hpx&&(_+="M"+20*Yp(p.hpx)+";"),_.length>2&&d.push(_+"R"+(m+1))})}function h(d,f){var p=["ID;PWXL;N;E"],m=[],_=jr(d["!ref"]),x,T=Array.isArray(d),w=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),d["!cols"]&&c(p,d["!cols"]),d["!rows"]&&u(p,d["!rows"]),p.push("B;Y"+(_.e.r-_.s.r+1)+";X"+(_.e.c-_.s.c+1)+";D"+[_.s.c,_.s.r,_.e.c,_.e.r].join(" "));for(var I=_.s.r;I<=_.e.r;++I)for(var j=_.s.c;j<=_.e.c;++j){var P=nr({r:I,c:j});x=T?(d[I]||[])[j]:d[P],!(!x||x.v==null&&(!x.f||x.F))&&m.push(l(x,d,I,j))}return p.join(w)+w+m.join(w)+w+"E"+w}return{to_workbook:o,to_sheet:s,from_sheet:h}}(),KO=function(){function t(i,s){switch(s.type){case"base64":return e(Ys(i),s);case"binary":return e(i,s);case"buffer":return e(yr&&Buffer.isBuffer(i)?i.toString("binary"):xf(i),s);case"array":return e(yh(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){for(var o=i.split(`
`),l=-1,c=-1,u=0,h=[];u!==o.length;++u){if(o[u].trim()==="BOT"){h[++l]=[],c=0;continue}if(!(l<0)){var d=o[u].trim().split(","),f=d[0],p=d[1];++u;for(var m=o[u]||"";(m.match(/["]/g)||[]).length&1&&u<o.length-1;)m+=`
`+o[++u];switch(m=m.trim(),+f){case-1:if(m==="BOT"){h[++l]=[],c=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?h[l][c]=!0:m==="FALSE"?h[l][c]=!1:isNaN(Xo(p))?isNaN(vd(p).getDate())?h[l][c]=p:h[l][c]=Fn(p):h[l][c]=Xo(p),++c;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),h[l][c++]=m!==""?m:null;break}if(m==="EOD")break}}return s&&s.sheetRows&&(h=h.slice(0,s.sheetRows)),h}function r(i,s){return Vd(t(i,s),s)}function n(i,s){return _f(r(i,s),s)}var a=function(){var i=function(l,c,u,h,d){l.push(c),l.push(u+","+h),l.push('"'+d.replace(/"/g,'""')+'"')},s=function(l,c,u,h){l.push(c+","+u),l.push(c==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(l){var c=[],u=jr(l["!ref"]),h,d=Array.isArray(l);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,u.e.r-u.s.r+1,""),i(c,"TUPLES",0,u.e.c-u.s.c+1,""),i(c,"DATA",0,0,"");for(var f=u.s.r;f<=u.e.r;++f){s(c,-1,0,"BOT");for(var p=u.s.c;p<=u.e.c;++p){var m=nr({r:f,c:p});if(h=d?(l[f]||[])[p]:l[m],!h){s(c,1,0,"");continue}switch(h.t){case"n":var _=h.w;!_&&h.v!=null&&(_=h.v),_==null?h.f&&!h.F?s(c,1,0,"="+h.f):s(c,1,0,""):s(c,0,_,"V");break;case"b":s(c,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=Co(h.z||er[14],Ua(Fn(h.v)))),s(c,0,h.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var x=`\r
`,T=c.join(x);return T}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),YO=function(){function t(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,d){for(var f=h.split(`
`),p=-1,m=-1,_=0,x=[];_!==f.length;++_){var T=f[_].trim().split(":");if(T[0]==="cell"){var w=Hn(T[1]);if(x.length<=w.r)for(p=x.length;p<=w.r;++p)x[p]||(x[p]=[]);switch(p=w.r,m=w.c,T[2]){case"t":x[p][m]=t(T[3]);break;case"v":x[p][m]=+T[3];break;case"vtf":var I=T[T.length-1];case"vtc":switch(T[3]){case"nl":x[p][m]=!!+T[4];break;default:x[p][m]=+T[4];break}T[2]=="vtf"&&(x[p][m]=[x[p][m],I])}}}return d&&d.sheetRows&&(x=x.slice(0,d.sheetRows)),x}function n(h,d){return Vd(r(h,d),d)}function a(h,d){return _f(n(h,d),d)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(h){if(!h||!h["!ref"])return"";for(var d=[],f=[],p,m="",_=ms(h["!ref"]),x=Array.isArray(h),T=_.s.r;T<=_.e.r;++T)for(var w=_.s.c;w<=_.e.c;++w)if(m=nr({r:T,c:w}),p=x?(h[T]||[])[w]:h[m],!(!p||p.v==null||p.t==="z")){switch(f=["cell",m,"t"],p.t){case"s":case"str":f.push(e(p.v));break;case"n":p.f?(f[2]="vtf",f[3]="n",f[4]=p.v,f[5]=e(p.f)):(f[2]="v",f[3]=p.v);break;case"b":f[2]="vt"+(p.f?"f":"c"),f[3]="nl",f[4]=p.v?"1":"0",f[5]=e(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var I=Ua(Fn(p.v));f[2]="vtc",f[3]="nd",f[4]=""+I,f[5]=p.w||Co(p.z||er[14],I);break;case"e":continue}d.push(f.join(":"))}return d.push("sheet:c:"+(_.e.c-_.s.c+1)+":r:"+(_.e.r-_.s.r+1)+":tvf:1"),d.push("valueformat:1:text-wiki"),d.join(`
`)}function u(h){return[i,s,o,s,c(h),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}}(),xd=function(){function t(u,h,d,f,p){p.raw?h[d][f]=u:u===""||(u==="TRUE"?h[d][f]=!0:u==="FALSE"?h[d][f]=!1:isNaN(Xo(u))?isNaN(vd(u).getDate())?h[d][f]=u:h[d][f]=Fn(u):h[d][f]=Xo(u))}function e(u,h){var d=h||{},f=[];if(!u||u.length===0)return f;for(var p=u.split(/[\r\n]/),m=p.length-1;m>=0&&p[m].length===0;)--m;for(var _=10,x=0,T=0;T<=m;++T)x=p[T].indexOf(" "),x==-1?x=p[T].length:x++,_=Math.max(_,x);for(T=0;T<=m;++T){f[T]=[];var w=0;for(t(p[T].slice(0,_).trim(),f,T,w,d),w=1;w<=(p[T].length-_)/10+1;++w)t(p[T].slice(_+(w-1)*10,_+w*10).trim(),f,T,w,d)}return d.sheetRows&&(f=f.slice(0,d.sheetRows)),f}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var h={},d=!1,f=0,p=0;f<u.length;++f)(p=u.charCodeAt(f))==34?d=!d:!d&&p in r&&(h[p]=(h[p]||0)+1);p=[];for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&p.push([h[f],f]);if(!p.length){h=n;for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&p.push([h[f],f])}return p.sort(function(m,_){return m[0]-_[0]||n[m[1]]-n[_[1]]}),r[p.pop()[1]]||44}function i(u,h){var d=h||{},f="",p=d.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(f=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(f=u.charAt(4),u=u.slice(6)):f=a(u.slice(0,1024)):d&&d.FS?f=d.FS:f=a(u.slice(0,1024));var _=0,x=0,T=0,w=0,I=0,j=f.charCodeAt(0),P=!1,N=0,E=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var y=d.dateNF!=null?UJ(d.dateNF):null;function R(){var A=u.slice(w,I),C={};if(A.charAt(0)=='"'&&A.charAt(A.length-1)=='"'&&(A=A.slice(1,-1).replace(/""/g,'"')),A.length===0)C.t="z";else if(d.raw)C.t="s",C.v=A;else if(A.trim().length===0)C.t="s",C.v=A;else if(A.charCodeAt(0)==61)A.charCodeAt(1)==34&&A.charCodeAt(A.length-1)==34?(C.t="s",C.v=A.slice(2,-1).replace(/""/g,'"')):pae(A)?(C.t="n",C.f=A.slice(1)):(C.t="s",C.v=A);else if(A=="TRUE")C.t="b",C.v=!0;else if(A=="FALSE")C.t="b",C.v=!1;else if(!isNaN(T=Xo(A)))C.t="n",d.cellText!==!1&&(C.w=A),C.v=T;else if(!isNaN(vd(A).getDate())||y&&A.match(y)){C.z=d.dateNF||er[14];var k=0;y&&A.match(y)&&(A=jJ(A,d.dateNF,A.match(y)||[]),k=1),d.cellDates?(C.t="d",C.v=Fn(A,k)):(C.t="n",C.v=Ua(Fn(A,k))),d.cellText!==!1&&(C.w=Co(C.z,C.v instanceof Date?Ua(C.v):C.v)),d.cellNF||delete C.z}else C.t="s",C.v=A;if(C.t=="z"||(d.dense?(p[_]||(p[_]=[]),p[_][x]=C):p[nr({c:x,r:_})]=C),w=I+1,E=u.charCodeAt(w),m.e.c<x&&(m.e.c=x),m.e.r<_&&(m.e.r=_),N==j)++x;else if(x=0,++_,d.sheetRows&&d.sheetRows<=_)return!0}e:for(;I<u.length;++I)switch(N=u.charCodeAt(I)){case 34:E===34&&(P=!P);break;case j:case 10:case 13:if(!P&&R())break e;break}return I-w>0&&R(),p["!ref"]=dr(m),p}function s(u,h){return!(h&&h.PRN)||h.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,h):Vd(e(u,h),h)}function o(u,h){var d="",f=h.type=="string"?[0,0,0,0]:XE(u,h);switch(h.type){case"base64":d=Ys(u);break;case"binary":d=u;break;case"buffer":h.codepage==65001?d=u.toString("utf8"):h.codepage&&typeof jp<"u"||(d=yr&&Buffer.isBuffer(u)?u.toString("binary"):xf(u));break;case"array":d=yh(u);break;case"string":d=u;break;default:throw new Error("Unrecognized type "+h.type)}return f[0]==239&&f[1]==187&&f[2]==191?d=un(d.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?d=un(d):h.type=="binary"&&typeof jp<"u",d.slice(0,19)=="socialcalc:version:"?YO.to_sheet(h.type=="string"?d:un(d),h):s(d,h)}function l(u,h){return _f(o(u,h),h)}function c(u){for(var h=[],d=jr(u["!ref"]),f,p=Array.isArray(u),m=d.s.r;m<=d.e.r;++m){for(var _=[],x=d.s.c;x<=d.e.c;++x){var T=nr({r:m,c:x});if(f=p?(u[m]||[])[x]:u[T],!f||f.v==null){_.push("          ");continue}for(var w=(f.w||(Dc(f),f.w)||"").slice(0,10);w.length<10;)w+=" ";_.push(w+(x===0?" ":""))}h.push(_.join(""))}return h.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function ere(t,e){var r=e||{},n=!!r.WTF;r.WTF=!0;try{var a=XO.to_workbook(t,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return xd.to_workbook(t,e)}}var eh=function(){function t(D,F,U){if(D){ai(D,D.l||0);for(var M=U.Enum||ge;D.l<D.length;){var Q=D.read_shift(2),oe=M[Q]||M[65535],de=D.read_shift(2),he=D.l+de,we=oe.f&&oe.f(D,de,U);if(D.l=he,F(we,oe,Q))return}}}function e(D,F){switch(F.type){case"base64":return r(Ms(Ys(D)),F);case"binary":return r(Ms(D),F);case"buffer":case"array":return r(D,F)}throw"Unsupported type "+F.type}function r(D,F){if(!D)return D;var U=F||{},M=U.dense?[]:{},Q="Sheet1",oe="",de=0,he={},we=[],ke=[],ne={s:{r:0,c:0},e:{r:0,c:0}},Z=U.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)U.Enum=ge,t(D,function(Re,Oe,Ne){switch(Ne){case 0:U.vers=Re,Re>=4096&&(U.qpro=!0);break;case 6:ne=Re;break;case 204:Re&&(oe=Re);break;case 222:oe=Re;break;case 15:case 51:U.qpro||(Re[1].v=Re[1].v.slice(1));case 13:case 14:case 16:Ne==14&&(Re[2]&112)==112&&(Re[2]&15)>1&&(Re[2]&15)<15&&(Re[1].z=U.dateNF||er[14],U.cellDates&&(Re[1].t="d",Re[1].v=Jx(Re[1].v))),U.qpro&&Re[3]>de&&(M["!ref"]=dr(ne),he[Q]=M,we.push(Q),M=U.dense?[]:{},ne={s:{r:0,c:0},e:{r:0,c:0}},de=Re[3],Q=oe||"Sheet"+(de+1),oe="");var Qe=U.dense?(M[Re[0].r]||[])[Re[0].c]:M[nr(Re[0])];if(Qe){Qe.t=Re[1].t,Qe.v=Re[1].v,Re[1].z!=null&&(Qe.z=Re[1].z),Re[1].f!=null&&(Qe.f=Re[1].f);break}U.dense?(M[Re[0].r]||(M[Re[0].r]=[]),M[Re[0].r][Re[0].c]=Re[1]):M[nr(Re[0])]=Re[1];break}},U);else if(D[2]==26||D[2]==14)U.Enum=be,D[2]==14&&(U.qpro=!0,D.l=0),t(D,function(Re,Oe,Ne){switch(Ne){case 204:Q=Re;break;case 22:Re[1].v=Re[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Re[3]>de&&(M["!ref"]=dr(ne),he[Q]=M,we.push(Q),M=U.dense?[]:{},ne={s:{r:0,c:0},e:{r:0,c:0}},de=Re[3],Q="Sheet"+(de+1)),Z>0&&Re[0].r>=Z)break;U.dense?(M[Re[0].r]||(M[Re[0].r]=[]),M[Re[0].r][Re[0].c]=Re[1]):M[nr(Re[0])]=Re[1],ne.e.c<Re[0].c&&(ne.e.c=Re[0].c),ne.e.r<Re[0].r&&(ne.e.r=Re[0].r);break;case 27:Re[14e3]&&(ke[Re[14e3][0]]=Re[14e3][1]);break;case 1537:ke[Re[0]]=Re[1],Re[0]==de&&(Q=Re[1]);break}},U);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(M["!ref"]=dr(ne),he[oe||Q]=M,we.push(oe||Q),!ke.length)return{SheetNames:we,Sheets:he};for(var Ae={},K=[],Te=0;Te<ke.length;++Te)he[we[Te]]?(K.push(ke[Te]||we[Te]),Ae[ke[Te]]=he[ke[Te]]||he[we[Te]]):(K.push(ke[Te]),Ae[ke[Te]]={"!ref":"A1"});return{SheetNames:K,Sheets:Ae}}function n(D,F){var U=F||{};if(+U.codepage>=0&&Go(+U.codepage),U.type=="string")throw new Error("Cannot write WK1 to JS string");var M=ds(),Q=jr(D["!ref"]),oe=Array.isArray(D),de=[];vt(M,0,i(1030)),vt(M,6,l(Q));for(var he=Math.min(Q.e.r,8191),we=Q.s.r;we<=he;++we)for(var ke=ma(we),ne=Q.s.c;ne<=Q.e.c;++ne){we===Q.s.r&&(de[ne]=zn(ne));var Z=de[ne]+ke,Ae=oe?(D[we]||[])[ne]:D[Z];if(!(!Ae||Ae.t=="z"))if(Ae.t=="n")(Ae.v|0)==Ae.v&&Ae.v>=-32768&&Ae.v<=32767?vt(M,13,f(we,ne,Ae.v)):vt(M,14,m(we,ne,Ae.v));else{var K=Dc(Ae);vt(M,15,h(we,ne,K.slice(0,239)))}}return vt(M,1),M.end()}function a(D,F){var U=F||{};if(+U.codepage>=0&&Go(+U.codepage),U.type=="string")throw new Error("Cannot write WK3 to JS string");var M=ds();vt(M,0,s(D));for(var Q=0,oe=0;Q<D.SheetNames.length;++Q)(D.Sheets[D.SheetNames[Q]]||{})["!ref"]&&vt(M,27,W(D.SheetNames[Q],oe++));var de=0;for(Q=0;Q<D.SheetNames.length;++Q){var he=D.Sheets[D.SheetNames[Q]];if(!(!he||!he["!ref"])){for(var we=jr(he["!ref"]),ke=Array.isArray(he),ne=[],Z=Math.min(we.e.r,8191),Ae=we.s.r;Ae<=Z;++Ae)for(var K=ma(Ae),Te=we.s.c;Te<=we.e.c;++Te){Ae===we.s.r&&(ne[Te]=zn(Te));var Re=ne[Te]+K,Oe=ke?(he[Ae]||[])[Te]:he[Re];if(!(!Oe||Oe.t=="z"))if(Oe.t=="n")vt(M,23,R(Ae,Te,de,Oe.v));else{var Ne=Dc(Oe);vt(M,22,N(Ae,Te,de,Ne.slice(0,239)))}}++de}}return vt(M,1),M.end()}function i(D){var F=qe(2);return F.write_shift(2,D),F}function s(D){var F=qe(26);F.write_shift(2,4096),F.write_shift(2,4),F.write_shift(4,0);for(var U=0,M=0,Q=0,oe=0;oe<D.SheetNames.length;++oe){var de=D.SheetNames[oe],he=D.Sheets[de];if(!(!he||!he["!ref"])){++Q;var we=ms(he["!ref"]);U<we.e.r&&(U=we.e.r),M<we.e.c&&(M=we.e.c)}}return U>8191&&(U=8191),F.write_shift(2,U),F.write_shift(1,Q),F.write_shift(1,M),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(1,1),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(4,0),F}function o(D,F,U){var M={s:{c:0,r:0},e:{c:0,r:0}};return F==8&&U.qpro?(M.s.c=D.read_shift(1),D.l++,M.s.r=D.read_shift(2),M.e.c=D.read_shift(1),D.l++,M.e.r=D.read_shift(2),M):(M.s.c=D.read_shift(2),M.s.r=D.read_shift(2),F==12&&U.qpro&&(D.l+=2),M.e.c=D.read_shift(2),M.e.r=D.read_shift(2),F==12&&U.qpro&&(D.l+=2),M.s.c==65535&&(M.s.c=M.e.c=M.s.r=M.e.r=0),M)}function l(D){var F=qe(8);return F.write_shift(2,D.s.c),F.write_shift(2,D.s.r),F.write_shift(2,D.e.c),F.write_shift(2,D.e.r),F}function c(D,F,U){var M=[{c:0,r:0},{t:"n",v:0},0,0];return U.qpro&&U.vers!=20768?(M[0].c=D.read_shift(1),M[3]=D.read_shift(1),M[0].r=D.read_shift(2),D.l+=2):(M[2]=D.read_shift(1),M[0].c=D.read_shift(2),M[0].r=D.read_shift(2)),M}function u(D,F,U){var M=D.l+F,Q=c(D,F,U);if(Q[1].t="s",U.vers==20768){D.l++;var oe=D.read_shift(1);return Q[1].v=D.read_shift(oe,"utf8"),Q}return U.qpro&&D.l++,Q[1].v=D.read_shift(M-D.l,"cstr"),Q}function h(D,F,U){var M=qe(7+U.length);M.write_shift(1,255),M.write_shift(2,F),M.write_shift(2,D),M.write_shift(1,39);for(var Q=0;Q<M.length;++Q){var oe=U.charCodeAt(Q);M.write_shift(1,oe>=128?95:oe)}return M.write_shift(1,0),M}function d(D,F,U){var M=c(D,F,U);return M[1].v=D.read_shift(2,"i"),M}function f(D,F,U){var M=qe(7);return M.write_shift(1,255),M.write_shift(2,F),M.write_shift(2,D),M.write_shift(2,U,"i"),M}function p(D,F,U){var M=c(D,F,U);return M[1].v=D.read_shift(8,"f"),M}function m(D,F,U){var M=qe(13);return M.write_shift(1,255),M.write_shift(2,F),M.write_shift(2,D),M.write_shift(8,U,"f"),M}function _(D,F,U){var M=D.l+F,Q=c(D,F,U);if(Q[1].v=D.read_shift(8,"f"),U.qpro)D.l=M;else{var oe=D.read_shift(2);I(D.slice(D.l,D.l+oe),Q),D.l+=oe}return Q}function x(D,F,U){var M=F&32768;return F&=-32769,F=(M?D:0)+(F>=8192?F-16384:F),(M?"":"$")+(U?zn(F):ma(F))}var T={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function I(D,F){ai(D,0);for(var U=[],M=0,Q="",oe="",de="",he="";D.l<D.length;){var we=D[D.l++];switch(we){case 0:U.push(D.read_shift(8,"f"));break;case 1:oe=x(F[0].c,D.read_shift(2),!0),Q=x(F[0].r,D.read_shift(2),!1),U.push(oe+Q);break;case 2:{var ke=x(F[0].c,D.read_shift(2),!0),ne=x(F[0].r,D.read_shift(2),!1);oe=x(F[0].c,D.read_shift(2),!0),Q=x(F[0].r,D.read_shift(2),!1),U.push(ke+ne+":"+oe+Q)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:U.push("("+U.pop()+")");break;case 5:U.push(D.read_shift(2));break;case 6:{for(var Z="";we=D[D.l++];)Z+=String.fromCharCode(we);U.push('"'+Z.replace(/"/g,'""')+'"')}break;case 8:U.push("-"+U.pop());break;case 23:U.push("+"+U.pop());break;case 22:U.push("NOT("+U.pop()+")");break;case 20:case 21:he=U.pop(),de=U.pop(),U.push(["AND","OR"][we-20]+"("+de+","+he+")");break;default:if(we<32&&w[we])he=U.pop(),de=U.pop(),U.push(de+w[we]+he);else if(T[we]){if(M=T[we][1],M==69&&(M=D[D.l++]),M>U.length){console.error("WK1 bad formula parse 0x"+we.toString(16)+":|"+U.join("|")+"|");return}var Ae=U.slice(-M);U.length-=M,U.push(T[we][0]+"("+Ae.join(",")+")")}else return we<=7?console.error("WK1 invalid opcode "+we.toString(16)):we<=24?console.error("WK1 unsupported op "+we.toString(16)):we<=30?console.error("WK1 invalid opcode "+we.toString(16)):we<=115?console.error("WK1 unsupported function opcode "+we.toString(16)):console.error("WK1 unrecognized opcode "+we.toString(16))}}U.length==1?F[1].f=""+U[0]:console.error("WK1 bad formula parse |"+U.join("|")+"|")}function j(D){var F=[{c:0,r:0},{t:"n",v:0},0];return F[0].r=D.read_shift(2),F[3]=D[D.l++],F[0].c=D[D.l++],F}function P(D,F){var U=j(D);return U[1].t="s",U[1].v=D.read_shift(F-4,"cstr"),U}function N(D,F,U,M){var Q=qe(6+M.length);Q.write_shift(2,D),Q.write_shift(1,U),Q.write_shift(1,F),Q.write_shift(1,39);for(var oe=0;oe<M.length;++oe){var de=M.charCodeAt(oe);Q.write_shift(1,de>=128?95:de)}return Q.write_shift(1,0),Q}function E(D,F){var U=j(D);U[1].v=D.read_shift(2);var M=U[1].v>>1;if(U[1].v&1)switch(M&7){case 0:M=(M>>3)*5e3;break;case 1:M=(M>>3)*500;break;case 2:M=(M>>3)/20;break;case 3:M=(M>>3)/200;break;case 4:M=(M>>3)/2e3;break;case 5:M=(M>>3)/2e4;break;case 6:M=(M>>3)/16;break;case 7:M=(M>>3)/64;break}return U[1].v=M,U}function y(D,F){var U=j(D),M=D.read_shift(4),Q=D.read_shift(4),oe=D.read_shift(2);if(oe==65535)return M===0&&Q===3221225472?(U[1].t="e",U[1].v=15):M===0&&Q===3489660928?(U[1].t="e",U[1].v=42):U[1].v=0,U;var de=oe&32768;return oe=(oe&32767)-16446,U[1].v=(1-de*2)*(Q*Math.pow(2,oe+32)+M*Math.pow(2,oe)),U}function R(D,F,U,M){var Q=qe(14);if(Q.write_shift(2,D),Q.write_shift(1,U),Q.write_shift(1,F),M==0)return Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(2,65535),Q;var oe=0,de=0,he=0,we=0;return M<0&&(oe=1,M=-M),de=Math.log2(M)|0,M/=Math.pow(2,de-31),we=M>>>0,we&2147483648||(M/=2,++de,we=M>>>0),M-=we,we|=2147483648,we>>>=0,M*=Math.pow(2,32),he=M>>>0,Q.write_shift(4,he),Q.write_shift(4,we),de+=16383+(oe?32768:0),Q.write_shift(2,de),Q}function A(D,F){var U=y(D);return D.l+=F-14,U}function C(D,F){var U=j(D),M=D.read_shift(4);return U[1].v=M>>6,U}function k(D,F){var U=j(D),M=D.read_shift(8,"f");return U[1].v=M,U}function q(D,F){var U=k(D);return D.l+=F-10,U}function X(D,F){return D[D.l+F-1]==0?D.read_shift(F,"cstr"):""}function V(D,F){var U=D[D.l++];U>F-1&&(U=F-1);for(var M="";M.length<U;)M+=String.fromCharCode(D[D.l++]);return M}function H(D,F,U){if(!(!U.qpro||F<21)){var M=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var Q=D.read_shift(F-21,"cstr");return[M,Q]}}function ae(D,F){for(var U={},M=D.l+F;D.l<M;){var Q=D.read_shift(2);if(Q==14e3){for(U[Q]=[0,""],U[Q][0]=D.read_shift(2);D[D.l];)U[Q][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return U}function W(D,F){var U=qe(5+D.length);U.write_shift(2,14e3),U.write_shift(2,F);for(var M=0;M<D.length;++M){var Q=D.charCodeAt(M);U[U.l++]=Q>127?95:Q}return U[U.l++]=0,U}var ge={0:{n:"BOF",f:ya},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:d},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:_},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:X},222:{n:"SHEETNAMELP",f:V},65535:{n:""}},be={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:P},23:{n:"NUMBER17",f:y},24:{n:"NUMBER18",f:E},25:{n:"FORMULA19",f:A},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ae},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:C},38:{n:"??"},39:{n:"NUMBER27",f:k},40:{n:"FORMULA28",f:q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:X},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:H},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:e}}();function tre(t){var e={},r=t.match(Ri),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=ar(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;e.cp=fE[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=i.val;break;case"<sz":e.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":i.rgb&&(e.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return e}var rre=function(){var t=Hp("t"),e=Hp("rPr");function r(i){var s=i.match(t);if(!s)return{t:"s",v:""};var o={t:"s",v:Ur(s[1])},l=i.match(e);return l&&(o.s=tre(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),nre=function(){var e=/(\r\n|\n)/g;function r(a,i,s){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(e,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),are=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,ire=/<(?:\w+:)?r>/,sre=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function PE(t,e){var r=e?e.cellHTML:!0,n={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Ur(un(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=un(t),r&&(n.h=wE(n.t))):t.match(ire)&&(n.r=un(t),n.t=Ur(un((t.replace(sre,"").match(are)||[]).join("").replace(Ri,""))),r&&(n.h=nre(rre(n.r)))),n):{t:""}}var ore=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,lre=/<(?:\w+:)?(?:si|sstItem)>/g,cre=/<\/(?:\w+:)?(?:si|sstItem)>/;function ure(t,e){var r=[],n="";if(!t)return r;var a=t.match(ore);if(a){n=a[2].replace(lre,"").split(cre);for(var i=0;i!=n.length;++i){var s=PE(n[i].trim(),e);s!=null&&(r[r.length]=s)}a=ar(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var fre=/^\s|\s$|[\t\n\r]/;function QO(t,e){if(!e.bookSST)return"";var r=[ga];r[r.length]=pt("sst",null,{xmlns:Ph[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var a=t[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(fre)&&(i+=' xml:space="preserve"'),i+=">"+an(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function hre(t){return[t.read_shift(4),t.read_shift(4)]}function dre(t,e){var r=[],n=!1;return Bc(t,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function pre(t,e){return e||(e=qe(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var mre=SZ;function gre(t){var e=ds();tt(e,159,pre(t));for(var r=0;r<t.length;++r)tt(e,19,mre(t[r]));return tt(e,160),e.end()}function JO(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function bc(t,e){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),r}function vre(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=bc(t,4),e.U=bc(t,4),e.W=bc(t,4),e}function xre(t){for(var e=t.read_shift(4),r=t.l+e-4,n={},a=t.read_shift(4),i=[];a-- >0;)i.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(n.name=t.read_shift(0,"lpp4"),n.comps=i,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return n}function _re(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(xre(t));return e}function yre(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function wre(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=bc(t,4),e.U=bc(t,4),e.W=bc(t,4),e}function bre(t){var e=wre(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function ZO(t,e){var r=t.l+e,n={};n.Flags=t.read_shift(4)&63,t.l+=4,n.AlgID=t.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=t.read_shift(4),n.KeySize=t.read_shift(4),n.ProviderType=t.read_shift(4),t.l+=8,n.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,n}function eP(t,e){var r={},n=t.l+e;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,n),t.l=n,r}function Ere(t){var e=bc(t);switch(e.Minor){case 2:return[e.Minor,Are(t)];case 3:return[e.Minor,Sre()];case 4:return[e.Minor,Tre(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function Are(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),n=ZO(t,r),a=eP(t,t.length-t.l);return{t:"Std",h:n,v:a}}function Sre(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Tre(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),n={};return r.replace(Ri,function(i){var s=ar(i);switch(jl(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function kre(t,e){var r={},n=r.EncryptionVersionInfo=bc(t,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=t.read_shift(4),e-=4;var a=t.read_shift(4);return e-=4,r.EncryptionHeader=ZO(t,a),e-=a,r.EncryptionVerifier=eP(t,e),r}function Cre(t){var e={},r=e.EncryptionVersionInfo=bc(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function FE(t){var e=0,r,n=JO(t),a=n.length+1,i,s,o,l,c;for(r=of(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=e&16384?1:0,l=e<<1&32767,c=o|l,e=c^s;return e^52811}var tP=function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,o){return n(s^o)},i=function(s){for(var o=e[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var u=s[c],h=0;h!=7;++h)u&64&&(o^=r[l]),u*=2,--l;return o};return function(s){for(var o=JO(s),l=i(o),c=o.length,u=of(16),h=0;h!=16;++h)u[h]=0;var d,f,p;for((c&1)===1&&(d=l>>8,u[c]=a(t[0],d),--c,d=l&255,f=o[o.length-1],u[c]=a(f,d));c>0;)--c,d=l>>8,u[c]=a(o[c],d),--c,d=l&255,u[c]=a(o[c],d);for(c=15,p=15-o.length;p>0;)d=l>>8,u[c]=a(t[p],d),--c,--p,d=l&255,u[c]=a(o[c],d),--c,--p;return u}}(),Nre=function(t,e,r,n,a){a||(a=e),n||(n=tP(t));var i,s;for(i=0;i!=e.length;++i)s=e[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},Ire=function(t){var e=0,r=tP(t);return function(n){var a=Nre("",n,e,r);return e=a[1],a[0]}};function Rre(t,e,r,n){var a={key:ya(t),verificationBytes:ya(t)};return r.password&&(a.verifier=FE(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=Ire(r.password)),a}function Lre(t,e,r){var n=r||{};return n.Info=t.read_shift(2),t.l-=2,n.Info===1?n.Data=Cre(t):n.Data=kre(t,e),n}function Dre(t,e,r){var n={Type:r.biff>=8?t.read_shift(2):0};return n.Type?Lre(t,e-2,n):Rre(t,r.biff>=8?e:e-2,r,n),n}var rP=function(){function t(a,i){switch(i.type){case"base64":return e(Ys(a),i);case"binary":return e(a,i);case"buffer":return e(yr&&Buffer.isBuffer(a)?a.toString("binary"):xf(a),i);case"array":return e(yh(a),i)}throw new Error("Unrecognized type "+i.type)}function e(a,i){var s=i||{},o=s.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,h){Array.isArray(o)&&(o[h]=[]);for(var d=/\\\w+\b/g,f=0,p,m=-1;p=d.exec(u);){switch(p[0]){case"\\cell":var _=u.slice(f,d.lastIndex-p[0].length);if(_[0]==" "&&(_=_.slice(1)),++m,_.length){var x={v:_,t:"s"};Array.isArray(o)?o[h][m]=x:o[nr({r:h,c:m})]=x}break}f=d.lastIndex}m>c.e.c&&(c.e.c=m)}),o["!ref"]=dr(c),o}function r(a,i){return _f(t(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=jr(a["!ref"]),o,l=Array.isArray(a),c=s.s.r;c<=s.e.r;++c){i.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var h=nr({r:c,c:u});o=l?(a[c]||[])[u]:a[h],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(Dc(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function Ore(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function $p(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}function Pre(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,a=Math.max(e,r,n),i=Math.min(e,r,n),s=a-i;if(s===0)return[0,0,e];var o=0,l=0,c=a+i;switch(l=s/(c>1?2-c:c),a){case e:o=((r-n)/s+6)%6;break;case r:o=(n-e)/s+2;break;case n:o=(e-r)/s+4;break}return[o/6,l,c/2]}function Fre(t){var e=t[0],r=t[1],n=t[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],o=6*e,l;if(r!==0)switch(o|0){case 0:case 6:l=a*o,s[0]+=a,s[1]+=l;break;case 1:l=a*(2-o),s[0]+=l,s[1]+=a;break;case 2:l=a*(o-2),s[1]+=a,s[2]+=l;break;case 3:l=a*(4-o),s[1]+=l,s[2]+=a;break;case 4:l=a*(o-4),s[2]+=a,s[0]+=l;break;case 5:l=a*(6-o),s[2]+=l,s[0]+=a;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function Xv(t,e){if(e===0)return t;var r=Pre(Ore(t));return e<0?r[2]=r[2]*(1+e):r[2]=1-(1-r[2])*(1-e),$p(Fre(r))}var nP=6,Mre=15,Bre=1,Ti=nP;function Xp(t){return Math.floor((t+Math.round(128/Ti)/256)*Ti)}function Kp(t){return Math.floor((t-5)/Ti*100+.5)/100}function Kv(t){return Math.round((t*Ti+5)/Ti*256)/256}function Wy(t){return Kv(Kp(Xp(t)))}function ME(t){var e=Math.abs(t-Wy(t)),r=Ti;if(e>.005)for(Ti=Bre;Ti<Mre;++Ti)Math.abs(t-Wy(t))<=e&&(e=Math.abs(t-Wy(t)),r=Ti);Ti=r}function lf(t){t.width?(t.wpx=Xp(t.width),t.wch=Kp(t.wpx),t.MDW=Ti):t.wpx?(t.wch=Kp(t.wpx),t.width=Kv(t.wch),t.MDW=Ti):typeof t.wch=="number"&&(t.width=Kv(t.wch),t.wpx=Xp(t.width),t.MDW=Ti),t.customWidth&&delete t.customWidth}var Ure=96,aP=Ure;function Yp(t){return t*96/aP}function _d(t){return t*aP/96}var jre={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Vre(t,e,r,n){e.Borders=[];var a={},i=!1;(t[0].match(Ri)||[]).forEach(function(s){var o=ar(s);switch(jl(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=Ln(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=Ln(o.diagonalDown)),e.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function zre(t,e,r,n){e.Fills=[];var a={},i=!1;(t[0].match(Ri)||[]).forEach(function(s){var o=ar(s);switch(jl(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},e.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function Hre(t,e,r,n){e.Fonts=[];var a={},i=!1;(t[0].match(Ri)||[]).forEach(function(s){var o=ar(s);switch(jl(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=un(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?Ln(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?Ln(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?Ln(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?Ln(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?Ln(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?Ln(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?Ln(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=fE[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=Ln(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=Jf[a.color.index];a.color.index==81&&(l=Jf[1]),l||(l=Jf[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=Xv(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function qre(t,e,r){e.NumberFmt=[];for(var n=ta(er),a=0;a<n.length;++a)e.NumberFmt[n[a]]=er[n[a]];var i=t[0].match(Ri);if(i)for(a=0;a<i.length;++a){var s=ar(i[a]);switch(jl(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Ur(un(s.formatCode)),l=parseInt(s.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}wc(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}function Gre(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=pt("numFmt",null,{numFmtId:n,formatCode:an(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=pt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var Wg=["numFmtId","fillId","fontId","borderId","xfId"],$g=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Wre(t,e,r){e.CellXf=[];var n,a=!1;(t[0].match(Ri)||[]).forEach(function(i){var s=ar(i),o=0;switch(jl(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<Wg.length;++o)n[Wg[o]]&&(n[Wg[o]]=parseInt(n[Wg[o]],10));for(o=0;o<$g.length;++o)n[$g[o]]&&(n[$g[o]]=Ln(n[$g[o]]));if(e.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[o]){n.numFmtId=o;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=Ln(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}function $re(t){var e=[];return e[e.length]=pt("cellXfs",null),t.forEach(function(r){e[e.length]=pt("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=pt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var Xre=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var h;return(h=o.match(e))&&qre(h,u,c),(h=o.match(a))&&Hre(h,u,l,c),(h=o.match(n))&&zre(h,u,l,c),(h=o.match(i))&&Vre(h,u,l,c),(h=o.match(r))&&Wre(h,u,c),u}}();function iP(t,e){var r=[ga,pt("styleSheet",null,{xmlns:Ph[0],"xmlns:vt":Fa.vt})],n;return t.SSF&&(n=Gre(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=$re(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Kre(t,e){var r=t.read_shift(2),n=Ci(t);return[r,n]}function Yre(t,e,r){r||(r=qe(6+4*e.length)),r.write_shift(2,t),Ka(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Qre(t,e,r){var n={};n.sz=t.read_shift(2)/20;var a=LZ(t);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=t.read_shift(2);switch(i===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=t.read_shift(1);s!=0&&(n.underline=s);var o=t.read_shift(1);o>0&&(n.family=o);var l=t.read_shift(1);switch(l>0&&(n.charset=l),t.l++,n.color=RZ(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ci(t),n}function Jre(t,e){e||(e=qe(25+4*32)),e.write_shift(2,t.sz*20),DZ(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),Gv(t.color,e);var n=0;return n=2,e.write_shift(1,n),Ka(t.name,e),e.length>e.l?e.slice(0,e.l):e}var Zre=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],$y,ene=Ii;function nC(t,e){e||(e=qe(4*3+8*7+16*1)),$y||($y=Yx(Zre));var r=$y[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(Gv({auto:1},e),Gv({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function tne(t,e){var r=t.l+e,n=t.read_shift(2),a=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:a}}function sP(t,e,r){r||(r=qe(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function y1(t,e){return e||(e=qe(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var rne=Ii;function nne(t,e){return e||(e=qe(51)),e.write_shift(1,0),y1(null,e),y1(null,e),y1(null,e),y1(null,e),y1(null,e),e.length>e.l?e.slice(0,e.l):e}function ane(t,e){return e||(e=qe(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),qv(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function ine(t,e,r){var n=qe(2052);return n.write_shift(4,t),qv(e,n),qv(r,n),n.length>n.l?n.slice(0,n.l):n}function sne(t,e,r){var n={};n.NumberFmt=[];for(var a in er)n.NumberFmt[a]=er[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return Bc(t,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],wc(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=Xv(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(u),s=!0;break;case 38:i.pop(),s=!1;break;default:if(c.T>0)i.push(u);else if(c.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}function one(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&++r}),r!=0&&(tt(t,615,Ko(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&tt(t,44,Yre(a,e[a]))}),tt(t,616))}}function lne(t){var e=1;tt(t,611,Ko(e)),tt(t,43,Jre({sz:12,color:{theme:1},name:"Calibri",family:2})),tt(t,612)}function cne(t){var e=2;tt(t,603,Ko(e)),tt(t,45,nC({patternType:"none"})),tt(t,45,nC({patternType:"gray125"})),tt(t,604)}function une(t){var e=1;tt(t,613,Ko(e)),tt(t,46,nne()),tt(t,614)}function fne(t){var e=1;tt(t,626,Ko(e)),tt(t,47,sP({numFmtId:0},65535)),tt(t,627)}function hne(t,e){tt(t,617,Ko(e.length)),e.forEach(function(r){tt(t,47,sP(r,0))}),tt(t,618)}function dne(t){var e=1;tt(t,619,Ko(e)),tt(t,48,ane({xfId:0,name:"Normal"})),tt(t,620)}function pne(t){var e=0;tt(t,505,Ko(e)),tt(t,506)}function mne(t){var e=0;tt(t,508,ine(e,"TableStyleMedium9","PivotStyleMedium4")),tt(t,509)}function gne(t,e){var r=ds();return tt(r,278),one(r,t.SSF),lne(r),cne(r),une(r),fne(r),hne(r,e.cellXfs),dne(r),pne(r),mne(r),tt(r,279),r.end()}var vne=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function xne(t,e,r){e.themeElements.clrScheme=[];var n={};(t[0].match(Ri)||[]).forEach(function(a){var i=ar(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(e.themeElements.clrScheme[vne.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function _ne(){}function yne(){}var wne=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,bne=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Ene=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Ane(t,e,r){e.themeElements={};var n;[["clrScheme",wne,xne],["fontScheme",bne,_ne],["fmtScheme",Ene,yne]].forEach(function(a){if(!(n=t.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,e,r)})}var Sne=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function oP(t,e){(!t||t.length===0)&&(t=BE());var r,n={};if(!(r=t.match(Sne)))throw new Error("themeElements not found in theme");return Ane(r[0],n,e),n.raw=t,n}function BE(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[ga];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Tne(t,e,r){var n=t.l+e,a=t.read_shift(4);if(a!==124226){if(!r.cellStyles){t.l=n;return}var i=t.slice(t.l);t.l=n;var s;try{s=ZD(i,{type:"array"})}catch{return}var o=Bs(s,"theme/theme/theme1.xml",!0);if(o)return oP(o,r)}}function kne(t){return t.read_shift(4)}function Cne(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=Nne(t,4);break;case 2:e.xclrValue=jO(t);break;case 3:e.xclrValue=kne(t);break;case 4:t.l+=4;break}return t.l+=8,e}function Nne(t,e){return Ii(t,e)}function Ine(t,e){return Ii(t,e)}function Rne(t){var e=t.read_shift(2),r=t.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Cne(t);break;case 6:n[1]=Ine(t,r);break;case 14:case 15:n[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+r)}return n}function Lne(t,e){var r=t.l+e;t.l+=2;var n=t.read_shift(2);t.l+=2;for(var a=t.read_shift(2),i=[];a-- >0;)i.push(Rne(t,r-t.l));return{ixfe:n,ext:i}}function Dne(t,e){e.forEach(function(r){switch(r[0]){}})}function One(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Ci(t)}}function Pne(t){var e=qe(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Ka(t.name,e),e.slice(0,e.l)}function Fne(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function Mne(t){var e=qe(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function Bne(t,e){var r=qe(8+2*e.length);return r.write_shift(4,t),Ka(e,r),r.slice(0,r.l)}function Une(t){return t.l+=4,t.read_shift(4)!=0}function jne(t,e){var r=qe(8);return r.write_shift(4,t),r.write_shift(4,1),r}function Vne(t,e,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return Bc(t,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(h){o==1?n.Cell.push({type:n.Types[h[0]-1].name,index:h[1]}):o==0&&n.Value.push({type:n.Types[h[0]-1].name,index:h[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:i.push(u),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!c.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function zne(){var t=ds();return tt(t,332),tt(t,334,Ko(1)),tt(t,335,Pne({name:"XLDAPR",version:12e4,flags:3496657072})),tt(t,336),tt(t,339,Bne(1,"XLDAPR")),tt(t,52),tt(t,35,Ko(514)),tt(t,4096,Ko(0)),tt(t,4097,mo(1)),tt(t,36),tt(t,53),tt(t,340),tt(t,337,jne(1)),tt(t,51,Mne([[1,0]])),tt(t,338),tt(t,333),t.end()}function Hne(t,e,r){var n={Types:[],Cell:[],Value:[]};if(!t)return n;var a=!1,i=2,s;return t.replace(Ri,function(o){var l=ar(o);switch(jl(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(s=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):i==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function lP(){var t=[ga];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function qne(t){var e=[];if(!t)return e;var r=1;return(t.match(Ri)||[]).forEach(function(n){var a=ar(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,e.push(a);break}}),e}function Gne(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=nr(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function Wne(t,e,r){var n=[];return Bc(t,function(i,s,o){switch(o){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function $ne(t,e,r,n){if(!t)return t;var a=n||{},i=!1;Bc(t,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},a)}function Xne(t,e){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][r].Target}var D0=1024;function cP(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[pt("xml",null,{"xmlns:v":Ls.v,"xmlns:o":Ls.o,"xmlns:x":Ls.x,"xmlns:mv":Ls.mv}).replace(/\/>/,">"),pt("o:shapelayout",pt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),pt("v:shapetype",[pt("v:stroke",null,{joinstyle:"miter"}),pt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];D0<t*1e3;)D0+=1e3;return e.forEach(function(i){var s=Hn(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?pt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=pt("v:fill",l,o),u={on:"t",obscured:"t"};++D0,a=a.concat(["<v:shape"+qp({id:"_x0000_s"+D0,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,pt("v:shadow",null,u),pt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",li("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),li("x:AutoFill","False"),li("x:Row",String(s.r)),li("x:Column",String(s.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function aC(t,e,r,n){var a=Array.isArray(t),i;e.forEach(function(s){var o=Hn(s.ref);if(a?(t[o.r]||(t[o.r]=[]),i=t[o.r][o.c]):i=t[s.ref],!i){i={t:"z"},a?t[o.r][o.c]=i:t[s.ref]=i;var l=jr(t["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=dr(l);c!==t["!ref"]&&(t["!ref"]=c)}i.c||(i.c=[]);var u={a:s.author,t:s.t,r:s.r,T:r};s.h&&(u.h=s.h);for(var h=i.c.length-1;h>=0;--h){if(!r&&i.c[h].T)return;r&&!i.c[h].T&&i.c.splice(h,1)}if(r&&n){for(h=0;h<n.length;++h)if(u.a==n[h].id){u.a=n[h].name||u.a;break}}i.c.push(u)})}function Kne(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=ar(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=Hn(l.ref);if(!(e.sheetRows&&e.sheetRows<=u.r)){var h=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),d=!!h&&!!h[1]&&PE(h[1])||{r:"",t:"",h:""};c.r=d.r,d.r=="<t></t>"&&(d.t=d.h=""),c.t=(d.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(c.h=d.h),n.push(c)}}}}),n}function uP(t){var e=[ga,pt("comments",null,{xmlns:Ph[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(a){var i=an(a.a);r.indexOf(i)==-1&&(r.push(i),e.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),e.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(a=r.indexOf(an(l.a))),i.push(l.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)e.push(li("t",an(i[0]||"")));else{for(var s=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)s+=`Reply:
    `+i[o]+`
`;e.push(li("t",an(s)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function Yne(t,e){var r=[],n=!1,a={},i=0;return t.replace(Ri,function(o,l){var c=ar(o);switch(jl(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=l+o.length;break;case"</text>":a.t=t.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function Qne(t,e,r){var n=[ga,pt("ThreadedComments",null,{xmlns:Fa.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(a){var i="";(a[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&e.indexOf(s.a)==-1&&e.push(s.a);var l={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=l.id:l.parentId=i,s.ID=l.id,s.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(s.a)).slice(-12)+"}"),n.push(pt("threadedComment",li("text",s.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function Jne(t,e){var r=[],n=!1;return t.replace(Ri,function(i){var s=ar(i);switch(jl(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function Zne(t){var e=[ga,pt("personList",null,{xmlns:Fa.TCMNT,"xmlns:x":Ph[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(pt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function eae(t){var e={};e.iauthor=t.read_shift(4);var r=Uh(t);return e.rfx=r.s,e.ref=nr(r.s),t.l+=16,e}function tae(t,e){return e==null&&(e=qe(36)),e.write_shift(4,t[1].iauthor),zd(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var rae=Ci;function nae(t){return Ka(t.slice(0,54))}function aae(t,e){var r=[],n=[],a={},i=!1;return Bc(t,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,e.sheetRows&&a.rfx&&e.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}function iae(t){var e=ds(),r=[];return tt(e,628),tt(e,630),t.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),tt(e,632,nae(a.a)))})}),tt(e,631),tt(e,633),t.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:Hn(n[0]),e:Hn(n[0])};tt(e,635,tae([i,a])),a.t&&a.t.length>0&&tt(e,637,kZ(a)),tt(e,636),delete a.iauthor})}),tt(e,634),tt(e,629),e.end()}var sae="application/vnd.ms-office.vbaProject";function oae(t){var e=Gt.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Gt.utils.cfb_add(e,a,t.FileIndex[n].content)}}),Gt.write(e)}function lae(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Gt.utils.cfb_add(t,a,e.FileIndex[n].content)}})}var fP=["xlsb","xlsm","xlam","biff8","xla"];function cae(){return{"!type":"dialog"}}function uae(){return{"!type":"dialog"}}function fae(){return{"!type":"macro"}}function hae(){return{"!type":"macro"}}var Z0=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,a,i,s){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=e.c:--u,l?c+=e.r:--c,a+(o?"":"$")+zn(u)+(l?"":"$")+ma(c)}return function(a,i){return e=i,a.replace(t,r)}}(),UE=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,jE=function(){return function(e,r){return e.replace(UE,function(n,a,i,s,o,l){var c=TE(s)-(i?0:r.c),u=SE(l)-(o?0:r.r),h=u==0?"":o?u+1:"["+u+"]",d=c==0?"":i?c+1:"["+c+"]";return a+"R"+h+"C"+d})}}();function hP(t,e){return t.replace(UE,function(r,n,a,i,s,o){return n+(a=="$"?a+i:zn(TE(i)+e.c))+(s=="$"?s+o:ma(SE(o)+e.r))})}function dae(t,e,r){var n=ms(e),a=n.s,i=Hn(r),s={r:i.r-a.r,c:i.c-a.c};return hP(t,s)}function pae(t){return t.length!=1}function iC(t){return t.replace(/_xlfn\./g,"")}function va(t){t.l+=1}function cf(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function dP(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return pP(t);r.biff==12&&(n=4)}var a=t.read_shift(n),i=t.read_shift(n),s=cf(t),o=cf(t);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function pP(t){var e=cf(t),r=cf(t),n=t.read_shift(1),a=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function mae(t,e,r){if(r.biff<8)return pP(t);var n=t.read_shift(r.biff==12?4:2),a=t.read_shift(r.biff==12?4:2),i=cf(t),s=cf(t);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function mP(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return gae(t);var n=t.read_shift(r&&r.biff==12?4:2),a=cf(t);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function gae(t){var e=cf(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function vae(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function xae(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return _ae(t);var a=t.read_shift(n>=12?4:2),i=t.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function _ae(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),a==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:a,rRel:n}}function yae(t,e,r){var n=(t[t.l++]&96)>>5,a=dP(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function wae(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}var s=dP(t,i,r);return[n,a,s]}function bae(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Eae(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}return t.l+=i,[n,a]}function Aae(t,e,r){var n=(t[t.l++]&96)>>5,a=mae(t,e-1,r);return[n,a]}function Sae(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function sC(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function Tae(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(t.read_shift(r&&r.biff==2?1:2));return a}function kae(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function Cae(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function Nae(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function Iae(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function gP(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function Rae(t){return t.read_shift(2),gP(t)}function Lae(t){return t.read_shift(2),gP(t)}function Dae(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=mP(t,0,r);return[n,a]}function Oae(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=xae(t,0,r);return[n,a]}function Pae(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var i=mP(t,0,r);return[n,a,i]}function Fae(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(r&&r.biff<=3?1:2);return[Uie[a],_P[a],n]}function Mae(t,e,r){var n=t[t.l++],a=t.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:Bae(t);return[a,(i[0]===0?_P:Bie)[i[1]]]}function Bae(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function Uae(t,e,r){t.l+=r&&r.biff==2?3:4}function jae(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function Vae(t){return t.l++,Uc[t.read_shift(1)]}function zae(t){return t.l++,t.read_shift(2)}function Hae(t){return t.l++,t.read_shift(1)!==0}function qae(t){return t.l++,ki(t)}function Gae(t,e,r){return t.l++,Pm(t,e-1,r)}function Wae(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=oa(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=Uc[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=ki(t);break;case 2:r[1]=jh(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function $ae(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?Uh:Zx)(t));return a}function Xae(t,e,r){var n=0,a=0;r.biff==12?(n=t.read_shift(4),a=t.read_shift(4)):(a=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=Wae(t,r.biff);return s}function Kae(t,e,r){var n=t.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=t.read_shift(a);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,i]}function Yae(t,e,r){if(r.biff==5)return Qae(t);var n=t.read_shift(1)>>>5&3,a=t.read_shift(2),i=t.read_shift(4);return[n,a,i]}function Qae(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function Jae(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function Zae(t,e,r){var n=t.read_shift(1)>>>5&3,a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function eie(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function tie(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return t.l+=i,[n,a]}var rie=Ii,nie=Ii,aie=Ii;function Mm(t,e,r){return t.l+=2,[vae(t)]}function VE(t){return t.l+=6,[]}var iie=Mm,sie=VE,oie=VE,lie=Mm;function vP(t){return t.l+=2,[ya(t),t.read_shift(2)&1]}var cie=Mm,uie=vP,fie=VE,hie=Mm,die=Mm,pie=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function mie(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),a=t.read_shift(2),i=t.read_shift(2),s=pie[r>>2&31];return{ixti:e,coltype:r&3,rt:s,idx:n,c:a,C:i}}function gie(t){return t.l+=2,[t.read_shift(4)]}function vie(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function xie(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function _ie(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function yie(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function wie(t){return t.l+=4,[0,0]}var oC={1:{n:"PtgExp",f:jae},2:{n:"PtgTbl",f:aie},3:{n:"PtgAdd",f:va},4:{n:"PtgSub",f:va},5:{n:"PtgMul",f:va},6:{n:"PtgDiv",f:va},7:{n:"PtgPower",f:va},8:{n:"PtgConcat",f:va},9:{n:"PtgLt",f:va},10:{n:"PtgLe",f:va},11:{n:"PtgEq",f:va},12:{n:"PtgGe",f:va},13:{n:"PtgGt",f:va},14:{n:"PtgNe",f:va},15:{n:"PtgIsect",f:va},16:{n:"PtgUnion",f:va},17:{n:"PtgRange",f:va},18:{n:"PtgUplus",f:va},19:{n:"PtgUminus",f:va},20:{n:"PtgPercent",f:va},21:{n:"PtgParen",f:va},22:{n:"PtgMissArg",f:va},23:{n:"PtgStr",f:Gae},26:{n:"PtgSheet",f:vie},27:{n:"PtgEndSheet",f:xie},28:{n:"PtgErr",f:Vae},29:{n:"PtgBool",f:Hae},30:{n:"PtgInt",f:zae},31:{n:"PtgNum",f:qae},32:{n:"PtgArray",f:Sae},33:{n:"PtgFunc",f:Fae},34:{n:"PtgFuncVar",f:Mae},35:{n:"PtgName",f:Kae},36:{n:"PtgRef",f:Dae},37:{n:"PtgArea",f:yae},38:{n:"PtgMemArea",f:Jae},39:{n:"PtgMemErr",f:rie},40:{n:"PtgMemNoMem",f:nie},41:{n:"PtgMemFunc",f:Zae},42:{n:"PtgRefErr",f:eie},43:{n:"PtgAreaErr",f:bae},44:{n:"PtgRefN",f:Oae},45:{n:"PtgAreaN",f:Aae},46:{n:"PtgMemAreaN",f:_ie},47:{n:"PtgMemNoMemN",f:yie},57:{n:"PtgNameX",f:Yae},58:{n:"PtgRef3d",f:Pae},59:{n:"PtgArea3d",f:wae},60:{n:"PtgRefErr3d",f:tie},61:{n:"PtgAreaErr3d",f:Eae},255:{}},bie={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Eie={1:{n:"PtgElfLel",f:vP},2:{n:"PtgElfRw",f:hie},3:{n:"PtgElfCol",f:iie},6:{n:"PtgElfRwV",f:die},7:{n:"PtgElfColV",f:lie},10:{n:"PtgElfRadical",f:cie},11:{n:"PtgElfRadicalS",f:fie},13:{n:"PtgElfColS",f:sie},15:{n:"PtgElfColSV",f:oie},16:{n:"PtgElfRadicalLel",f:uie},25:{n:"PtgList",f:mie},29:{n:"PtgSxName",f:gie},255:{}},Aie={0:{n:"PtgAttrNoop",f:wie},1:{n:"PtgAttrSemi",f:Iae},2:{n:"PtgAttrIf",f:Cae},4:{n:"PtgAttrChoose",f:Tae},8:{n:"PtgAttrGoto",f:kae},16:{n:"PtgAttrSum",f:Uae},32:{n:"PtgAttrBaxcel",f:sC},33:{n:"PtgAttrBaxcel",f:sC},64:{n:"PtgAttrSpace",f:Rae},65:{n:"PtgAttrSpaceSemi",f:Lae},128:{n:"PtgAttrIfError",f:Nae},255:{}};function Bm(t,e,r,n){if(n.biff<8)return Ii(t,e);for(var a=t.l+e,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=Xae(t,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=$ae(t,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=t.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return e=a-t.l,e!==0&&i.push(Ii(t,e)),i}function Um(t,e,r){for(var n=t.l+e,a,i,s=[];n!=t.l;)e=n-t.l,i=t[t.l],a=oC[i]||oC[bie[i]],(i===24||i===25)&&(a=(i===24?Eie:Aie)[t[t.l+1]]),!a||!a.f?Ii(t,e):s.push([a.n,a.f(t,e,r)]);return s}function Sie(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}e.push(a.join(","))}return e.join(";")}var Tie={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function kie(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function xP(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(t[n[0]][0]){case 357:return a=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return t[n[0]][0][3]?(a=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function lC(t,e,r){var n=xP(t,e,r);return n=="#REF"?n:kie(n,r)}function Si(t,e,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0}},o=[],l,c,u,h=0,d=0,f,p="";if(!t[0]||!t[0][0])return"";for(var m=-1,_="",x=0,T=t[0].length;x<T;++x){var w=t[0][x];switch(w[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),m>=0){switch(t[0][m][1][0]){case 0:_=Yn(" ",t[0][m][1][1]);break;case 1:_=Yn("\r",t[0][m][1][1]);break;default:if(_="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][m][1][0])}c=c+_,m=-1}o.push(c+Tie[w[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=ip(w[1][1],s,a),o.push(sp(u,i));break;case"PtgRefN":u=r?ip(w[1][1],r,a):w[1][1],o.push(sp(u,i));break;case"PtgRef3d":h=w[1][1],u=ip(w[1][2],s,a),p=lC(n,h,a),o.push(p+"!"+sp(u,i));break;case"PtgFunc":case"PtgFuncVar":var I=w[1][0],j=w[1][1];I||(I=0),I&=127;var P=I==0?[]:o.slice(-I);o.length-=I,j==="User"&&(j=P.shift()),o.push(j+"("+P.join(",")+")");break;case"PtgBool":o.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(w[1]);break;case"PtgNum":o.push(String(w[1]));break;case"PtgStr":o.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(w[1]);break;case"PtgAreaN":f=Mk(w[1][1],r?{s:r}:s,a),o.push(Hy(f,a));break;case"PtgArea":f=Mk(w[1][1],s,a),o.push(Hy(f,a));break;case"PtgArea3d":h=w[1][1],f=w[1][2],p=lC(n,h,a),o.push(p+"!"+Hy(f,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=w[1][2];var N=(n.names||[])[d-1]||(n[0]||[])[d],E=N?N.Name:"SH33TJSNAME"+String(d);E&&E.slice(0,6)=="_xlfn."&&!a.xlfn&&(E=E.slice(6)),o.push(E);break;case"PtgNameX":var y=w[1][1];d=w[1][2];var R;if(a.biff<=5)y<0&&(y=-y),n[y]&&(R=n[y][d]);else{var A="";if(((n[y]||[])[0]||[])[0]==14849||(((n[y]||[])[0]||[])[0]==1025?n[y][d]&&n[y][d].itab>0&&(A=n.SheetNames[n[y][d].itab-1]+"!"):A=n.SheetNames[d-1]+"!"),n[y]&&n[y][d])A+=n[y][d].Name;else if(n[0]&&n[0][d])A+=n[0][d].Name;else{var C=(xP(n,y,a)||"").split(";;");C[d-1]?A=C[d-1]:A+="SH33TJSERRX"}o.push(A);break}R||(R={Name:"SH33TJSERRY"}),o.push(R.Name);break;case"PtgParen":var k="(",q=")";if(m>=0){switch(_="",t[0][m][1][0]){case 2:k=Yn(" ",t[0][m][1][1])+k;break;case 3:k=Yn("\r",t[0][m][1][1])+k;break;case 4:q=Yn(" ",t[0][m][1][1])+q;break;case 5:q=Yn("\r",t[0][m][1][1])+q;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][m][1][0])}m=-1}o.push(k+o.pop()+q);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:w[1][1],r:w[1][0]};var X={c:r.c,r:r.r};if(n.sharedf[nr(u)]){var V=n.sharedf[nr(u)];o.push(Si(V,s,X,n,a))}else{var H=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(Si(c[1],s,X,n,a)),H=!0;break}H||o.push(w[1])}break;case"PtgArray":o.push("{"+Sie(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=x;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var ae=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&m>=0&&ae.indexOf(t[0][x][0])==-1){w=t[0][m];var W=!0;switch(w[1][0]){case 4:W=!1;case 0:_=Yn(" ",w[1][1]);break;case 5:W=!1;case 1:_=Yn("\r",w[1][1]);break;default:if(_="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}o.push((W?_:"")+o.pop()+(W?"":_)),m=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function Cie(t,e,r){var n=t.l+e,a=r.biff==2?1:2,i,s=t.read_shift(a);if(s==65535)return[[],Ii(t,e-2)];var o=Um(t,s,r);return e!==s+a&&(i=Bm(t,e-s-a,o,r)),t.l=n,[o,i]}function Nie(t,e,r){var n=t.l+e,a=r.biff==2?1:2,i,s=t.read_shift(a);if(s==65535)return[[],Ii(t,e-2)];var o=Um(t,s,r);return e!==s+a&&(i=Bm(t,e-s-a,o,r)),t.l=n,[o,i]}function Iie(t,e,r,n){var a=t.l+e,i=Um(t,n,r),s;return a!==t.l&&(s=Bm(t,a-t.l,i,r)),[i,s]}function Rie(t,e,r){var n=t.l+e,a,i=t.read_shift(2),s=Um(t,i,r);return i==65535?[[],Ii(t,e-2)]:(e!==i+2&&(a=Bm(t,n-i-2,s,r)),[s,a])}function Lie(t){var e;if(dc(t,t.l+6)!==65535)return[ki(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function Die(t){if(t==null){var e=qe(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return wh(t);return wh(0)}function Xy(t,e,r){var n=t.l+e,a=Vl(t);r.biff==2&&++t.l;var i=Lie(t),s=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var o=Nie(t,n-t.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function Oie(t,e,r,n,a){var i=Eh(e,r,a),s=Die(t.v),o=qe(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=qe(t.bf.length),u=0;u<t.bf.length;++u)c[u]=t.bf[u];var h=Xa([i,s,o,c]);return h}function e_(t,e,r){var n=t.read_shift(4),a=Um(t,n,r),i=t.read_shift(4),s=i>0?Bm(t,i,a,r):null;return[a,s]}var Pie=e_,t_=e_,Fie=e_,Mie=e_,Bie={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},_P={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Uie={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function cC(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function jie(t){var e="of:="+t.replace(UE,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function Ky(t){var e=t.split(":"),r=e[0].split(".")[0];return[r,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function Vie(t){return t.replace(/\./,"!")}var lp={},ed={},cp=typeof Map<"u";function zE(t,e,r){var n=0,a=t.length;if(r){if(cp?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var i=cp?r.get(e):r[e];n<i.length;++n)if(t[i[n]].t===e)return t.Count++,i[n]}}else for(;n<a;++n)if(t[n].t===e)return t.Count++,n;return t[a]={t:e},t.Count++,t.Unique++,r&&(cp?(r.has(e)||r.set(e,[]),r.get(e).push(a)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(a))),a}function r_(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(Ti=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=Kp(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=Kv(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function th(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function yf(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],a=60,i=t.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){wc(e.z,a),r.ssf[a]=e.z,r.revssf[e.z]=n=a;break}}for(a=0;a!=i;++a)if(t[a].numFmtId===n)return a;return t[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function yP(t,e,r,n,a,i){try{n.cellNF&&(t.z=er[e])}catch(o){if(n.WTF)throw o}if(!(t.t==="z"&&!n.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=Fn(t.v)),(!n||n.cellText!==!1)&&t.t!=="z")try{if(er[e]==null&&wc(BJ[e]||"General",e),t.t==="e")t.w=t.w||Uc[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=zp(t.v);else if(t.t==="d"){var s=Ua(t.v);(s|0)===s?t.w=s.toString(10):t.w=zp(s)}else{if(t.v===void 0)return"";t.w=_h(t.v,ed)}else t.t==="d"?t.w=Co(e,Ua(t.v),ed):t.w=Co(e,t.v,ed)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{t.s=i.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=Xv(a.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),n.WTF&&(t.s.fgColor.raw_rgb=a.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=Xv(a.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),n.WTF&&(t.s.bgColor.raw_rgb=a.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function zie(t,e,r){if(t&&t["!ref"]){var n=jr(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function Hie(t,e){var r=jr(e);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=dr(r))}var qie=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Gie=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Wie=/<(?:\w:)?hyperlink [^>]*>/mg,$ie=/"(\w*:\w*)"/,Xie=/<(?:\w:)?col\b[^>]*[\/]?>/g,Kie=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Yie=/<(?:\w:)?pageMargins[^>]*\/>/g,wP=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Qie=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Jie=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Zie(t,e,r,n,a,i,s){if(!t)return t;n||(n={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",h=t.match(Gie);h?(c=t.slice(0,h.index),u=t.slice(h.index+h[0].length)):c=u=t;var d=c.match(wP);d?HE(d[0],o,a,r):(d=c.match(Qie))&&tse(d[0],d[1]||"",o,a,r);var f=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(f>0){var p=c.slice(f,f+50).match($ie);p&&Hie(o,p[1])}var m=c.match(Jie);m&&m[1]&&pse(m[1],a);var _=[];if(e.cellStyles){var x=c.match(Xie);x&&cse(_,x)}h&&vse(h[1],o,e,l,i,s);var T=u.match(Kie);T&&(o["!autofilter"]=fse(T[0]));var w=[],I=u.match(qie);if(I)for(f=0;f!=I.length;++f)w[f]=jr(I[f].slice(I[f].indexOf('"')+1));var j=u.match(Wie);j&&sse(o,j,n);var P=u.match(Yie);if(P&&(o["!margins"]=ose(ar(P[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=dr(l)),e.sheetRows>0&&o["!ref"]){var N=jr(o["!ref"]);e.sheetRows<=+N.e.r&&(N.e.r=e.sheetRows-1,N.e.r>l.e.r&&(N.e.r=l.e.r),N.e.r<N.s.r&&(N.s.r=N.e.r),N.e.c>l.e.c&&(N.e.c=l.e.c),N.e.c<N.s.c&&(N.s.c=N.e.c),o["!fullref"]=o["!ref"],o["!ref"]=dr(N))}return _.length>0&&(o["!cols"]=_),w.length>0&&(o["!merges"]=w),o}function ese(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+dr(t[r])+'"/>';return e+"</mergeCells>"}function HE(t,e,r,n){var a=ar(t);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Ur(un(a.codeName)))}function tse(t,e,r,n,a){HE(t.slice(0,t.indexOf(">")),r,n,a)}function rse(t,e,r,n,a){var i=!1,s={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[r];try{e.Workbook&&(l=e.Workbook.Sheets[r].CodeName||l)}catch{}i=!0,s.codeName=Tl(an(l))}if(t&&t["!outline"]){var c={summaryBelow:1,summaryRight:1};t["!outline"].above&&(c.summaryBelow=0),t["!outline"].left&&(c.summaryRight=0),o=(o||"")+pt("outlinePr",null,c)}!i&&!o||(a[a.length]=pt("sheetPr",o,s))}var nse=["objects","scenarios","selectLockedCells","selectUnlockedCells"],ase=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function ise(t){var e={sheet:1};return nse.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),ase.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=FE(t.password).toString(16).toUpperCase()),pt("sheetProtection",null,e)}function sse(t,e,r){for(var n=Array.isArray(t),a=0;a!=e.length;++a){var i=ar(un(e[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+Ur(i.location))):(i.Target="#"+Ur(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=jr(i.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=nr({c,r:l});n?(t[l]||(t[l]=[]),t[l][c]||(t[l][c]={t:"z",v:void 0}),t[l][c].l=i):(t[u]||(t[u]={t:"z",v:void 0}),t[u].l=i)}}}function ose(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(e[r]=parseFloat(t[r]))}),e}function lse(t){return th(t),pt("pageMargins",null,t)}function cse(t,e){for(var r=!1,n=0;n!=e.length;++n){var a=ar(e[n],!0);a.hidden&&(a.hidden=Ln(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,ME(a.width)),lf(a);i<=s;)t[i++]=Mn(a)}}function use(t,e){for(var r=["<cols>"],n,a=0;a!=e.length;++a)(n=e[a])&&(r[r.length]=pt("col",null,r_(a,n)));return r[r.length]="</cols>",r.join("")}function fse(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}function hse(t,e,r,n){var a=typeof t.ref=="string"?t.ref:dr(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=ms(a);s.s.r==s.e.r&&(s.e.r=ms(e["!ref"]).e.r,a=dr(s));for(var o=0;o<i.length;++o){var l=i[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),pt("autoFilter",null,{ref:a})}var dse=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function pse(t,e){e.Views||(e.Views=[{}]),(t.match(dse)||[]).forEach(function(r,n){var a=ar(r);e.Views[n]||(e.Views[n]={}),+a.zoomScale&&(e.Views[n].zoom=+a.zoomScale),Ln(a.rightToLeft)&&(e.Views[n].RTL=!0)})}function mse(t,e,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),pt("sheetViews",pt("sheetView",null,a),{})}function gse(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var a="",i=t.t,s=t.v;if(t.t!=="z")switch(t.t){case"b":a=t.v?"1":"0";break;case"n":a=""+t.v;break;case"e":a=Uc[t.v];break;case"d":n&&n.cellDates?a=Fn(t.v,-1).toISOString():(t=Mn(t),t.t="n",a=""+(t.v=Ua(Fn(t.v)))),typeof t.z>"u"&&(t.z=er[14]);break;default:a=t.v;break}var o=li("v",an(a)),l={r:e},c=yf(n.cellXfs,t,n);switch(c!==0&&(l.s=c),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=li("v",""+zE(n.Strings,t.v,n.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=i&&(t.t=i,t.v=s),typeof t.f=="string"&&t.f){var u=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=pt("f",an(t.f),u)+(t.v!=null?o:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(l.cm=1),pt("c",o,l)}var vse=function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=Hp("v"),s=Hp("f");return function(l,c,u,h,d,f){for(var p=0,m="",_=[],x=[],T=0,w=0,I=0,j="",P,N,E=0,y=0,R,A,C=0,k=0,q=Array.isArray(f.CellXf),X,V=[],H=[],ae=Array.isArray(c),W=[],ge={},be=!1,D=!!u.sheetStubs,F=l.split(e),U=0,M=F.length;U!=M;++U){m=F[U].trim();var Q=m.length;if(Q!==0){var oe=0;e:for(p=0;p<Q;++p)switch(m[p]){case">":if(m[p-1]!="/"){++p;break e}if(u&&u.cellStyles){if(N=ar(m.slice(oe,p),!0),E=N.r!=null?parseInt(N.r,10):E+1,y=-1,u.sheetRows&&u.sheetRows<E)continue;ge={},be=!1,N.ht&&(be=!0,ge.hpt=parseFloat(N.ht),ge.hpx=_d(ge.hpt)),N.hidden=="1"&&(be=!0,ge.hidden=!0),N.outlineLevel!=null&&(be=!0,ge.level=+N.outlineLevel),be&&(W[E-1]=ge)}break;case"<":oe=p;break}if(oe>=p)break;if(N=ar(m.slice(oe,p),!0),E=N.r!=null?parseInt(N.r,10):E+1,y=-1,!(u.sheetRows&&u.sheetRows<E)){h.s.r>E-1&&(h.s.r=E-1),h.e.r<E-1&&(h.e.r=E-1),u&&u.cellStyles&&(ge={},be=!1,N.ht&&(be=!0,ge.hpt=parseFloat(N.ht),ge.hpx=_d(ge.hpt)),N.hidden=="1"&&(be=!0,ge.hidden=!0),N.outlineLevel!=null&&(be=!0,ge.level=+N.outlineLevel),be&&(W[E-1]=ge)),_=m.slice(p).split(t);for(var de=0;de!=_.length&&_[de].trim().charAt(0)=="<";++de);for(_=_.slice(de),p=0;p!=_.length;++p)if(m=_[p].trim(),m.length!==0){if(x=m.match(r),T=p,w=0,I=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,x!=null&&x.length===2){for(T=0,j=x[1],w=0;w!=j.length&&!((I=j.charCodeAt(w)-64)<1||I>26);++w)T=26*T+I;--T,y=T}else++y;for(w=0;w!=m.length&&m.charCodeAt(w)!==62;++w);if(++w,N=ar(m.slice(0,w),!0),N.r||(N.r=nr({r:E-1,c:y})),j=m.slice(w),P={t:""},(x=j.match(i))!=null&&x[1]!==""&&(P.v=Ur(x[1])),u.cellFormula){if((x=j.match(s))!=null&&x[1]!==""){if(P.f=Ur(un(x[1])).replace(/\r\n/g,`
`),u.xlfn||(P.f=iC(P.f)),x[0].indexOf('t="array"')>-1)P.F=(j.match(a)||[])[1],P.F.indexOf(":")>-1&&V.push([jr(P.F),P.F]);else if(x[0].indexOf('t="shared"')>-1){A=ar(x[0]);var he=Ur(un(x[1]));u.xlfn||(he=iC(he)),H[parseInt(A.si,10)]=[A,he,N.r]}}else(x=j.match(/<f[^>]*\/>/))&&(A=ar(x[0]),H[A.si]&&(P.f=dae(H[A.si][1],H[A.si][2],N.r)));var we=Hn(N.r);for(w=0;w<V.length;++w)we.r>=V[w][0].s.r&&we.r<=V[w][0].e.r&&we.c>=V[w][0].s.c&&we.c<=V[w][0].e.c&&(P.F=V[w][1])}if(N.t==null&&P.v===void 0)if(P.f||P.F)P.v=0,P.t="n";else if(D)P.t="z";else continue;else P.t=N.t||"n";switch(h.s.c>y&&(h.s.c=y),h.e.c<y&&(h.e.c=y),P.t){case"n":if(P.v==""||P.v==null){if(!D)continue;P.t="z"}else P.v=parseFloat(P.v);break;case"s":if(typeof P.v>"u"){if(!D)continue;P.t="z"}else R=lp[parseInt(P.v,10)],P.v=R.t,P.r=R.r,u.cellHTML&&(P.h=R.h);break;case"str":P.t="s",P.v=P.v!=null?un(P.v):"",u.cellHTML&&(P.h=wE(P.v));break;case"inlineStr":x=j.match(n),P.t="s",x!=null&&(R=PE(x[1]))?(P.v=R.t,u.cellHTML&&(P.h=R.h)):P.v="";break;case"b":P.v=Ln(P.v);break;case"d":u.cellDates?P.v=Fn(P.v,1):(P.v=Ua(Fn(P.v,1)),P.t="n");break;case"e":(!u||u.cellText!==!1)&&(P.w=P.v),P.v=EO[P.v];break}if(C=k=0,X=null,q&&N.s!==void 0&&(X=f.CellXf[N.s],X!=null&&(X.numFmtId!=null&&(C=X.numFmtId),u.cellStyles&&X.fillId!=null&&(k=X.fillId))),yP(P,C,k,u,d,f),u.cellDates&&q&&P.t=="n"&&Ud(er[C])&&(P.t="d",P.v=Jx(P.v)),N.cm&&u.xlmeta){var ke=(u.xlmeta.Cell||[])[+N.cm-1];ke&&ke.type=="XLDAPR"&&(P.D=!0)}if(ae){var ne=Hn(N.r);c[ne.r]||(c[ne.r]=[]),c[ne.r][ne.c]=P}else c[N.r]=P}}}}W.length>0&&(c["!rows"]=W)}}();function xse(t,e,r,n){var a=[],i=[],s=jr(t["!ref"]),o="",l,c="",u=[],h=0,d=0,f=t["!rows"],p=Array.isArray(t),m={r:c},_,x=-1;for(d=s.s.c;d<=s.e.c;++d)u[d]=zn(d);for(h=s.s.r;h<=s.e.r;++h){for(i=[],c=ma(h),d=s.s.c;d<=s.e.c;++d){l=u[d]+c;var T=p?(t[h]||[])[d]:t[l];T!==void 0&&(o=gse(T,l,t,e))!=null&&i.push(o)}(i.length>0||f&&f[h])&&(m={r:c},f&&f[h]&&(_=f[h],_.hidden&&(m.hidden=1),x=-1,_.hpx?x=Yp(_.hpx):_.hpt&&(x=_.hpt),x>-1&&(m.ht=x,m.customHeight=1),_.level&&(m.outlineLevel=_.level)),a[a.length]=pt("row",i.join(""),m))}if(f)for(;h<f.length;++h)f&&f[h]&&(m={r:h+1},_=f[h],_.hidden&&(m.hidden=1),x=-1,_.hpx?x=Yp(_.hpx):_.hpt&&(x=_.hpt),x>-1&&(m.ht=x,m.customHeight=1),_.level&&(m.outlineLevel=_.level),a[a.length]=pt("row","",m));return a.join("")}function bP(t,e,r,n){var a=[ga,pt("worksheet",null,{xmlns:Ph[0],"xmlns:r":Fa.r})],i=r.SheetNames[t],s=0,o="",l=r.Sheets[i];l==null&&(l={});var c=l["!ref"]||"A1",u=jr(c);if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=dr(u)}n||(n={}),l["!comments"]=[];var h=[];rse(l,r,t,e,a),a[a.length]=pt("dimension",null,{ref:c}),a[a.length]=mse(l,e,t,r),e.sheetFormat&&(a[a.length]=pt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(a[a.length]=use(l,l["!cols"])),a[s=a.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=xse(l,e),o.length>0&&(a[a.length]=o)),a.length>s+1&&(a[a.length]="</sheetData>",a[s]=a[s].replace("/>",">")),l["!protect"]&&(a[a.length]=ise(l["!protect"])),l["!autofilter"]!=null&&(a[a.length]=hse(l["!autofilter"],l,r,t)),l["!merges"]!=null&&l["!merges"].length>0&&(a[a.length]=ese(l["!merges"]));var d=-1,f,p=-1;return l["!links"].length>0&&(a[a.length]="<hyperlinks>",l["!links"].forEach(function(m){m[1].Target&&(f={ref:m[0]},m[1].Target.charAt(0)!="#"&&(p=en(n,-1,an(m[1].Target).replace(/#.*$/,""),wr.HLINK),f["r:id"]="rId"+p),(d=m[1].Target.indexOf("#"))>-1&&(f.location=an(m[1].Target.slice(d+1))),m[1].Tooltip&&(f.tooltip=an(m[1].Tooltip)),a[a.length]=pt("hyperlink",null,f))}),a[a.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(a[a.length]=lse(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(a[a.length]=li("ignoredErrors",pt("ignoredError",null,{numberStoredAsText:1,sqref:c}))),h.length>0&&(p=en(n,-1,"../drawings/drawing"+(t+1)+".xml",wr.DRAW),a[a.length]=pt("drawing",null,{"r:id":"rId"+p}),l["!drawing"]=h),l["!comments"].length>0&&(p=en(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",wr.VML),a[a.length]=pt("legacyDrawing",null,{"r:id":"rId"+p}),l["!legacy"]=p),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function _se(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var a=t.read_shift(2);t.l+=1;var i=t.read_shift(1);return t.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function yse(t,e,r){var n=qe(145),a=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var i=320;a.hpx?i=Yp(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var s=0;a.level&&(s|=a.level),a.hidden&&(s|=16),(a.hpx||a.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var c={r:t,c:0},u=0;u<16;++u)if(!(e.s.c>u+1<<10||e.e.c<u<<10)){for(var h=-1,d=-1,f=u<<10;f<u+1<<10;++f){c.c=f;var p=Array.isArray(r)?(r[c.r]||[])[c.c]:r[nr(c)];p&&(h<0&&(h=f),d=f)}h<0||(++o,n.write_shift(4,h),n.write_shift(4,d))}var m=n.l;return n.l=l,n.write_shift(4,o),n.l=m,n.length>n.l?n.slice(0,n.l):n}function wse(t,e,r,n){var a=yse(n,r,e);(a.length>17||(e["!rows"]||[])[n])&&tt(t,0,a)}var bse=Uh,Ese=zd;function Ase(){}function Sse(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=CZ(t),r}function Tse(t,e,r){r==null&&(r=qe(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return Gv({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),xO(t,r),r.slice(0,r.l)}function kse(t){var e=Io(t);return[e]}function Cse(t,e,r){return r==null&&(r=qe(8)),Fh(e,r)}function Nse(t){var e=Mh(t);return[e]}function Ise(t,e,r){return r==null&&(r=qe(4)),Bh(e,r)}function Rse(t){var e=Io(t),r=t.read_shift(1);return[e,r,"b"]}function Lse(t,e,r){return r==null&&(r=qe(9)),Fh(e,r),r.write_shift(1,t.v?1:0),r}function Dse(t){var e=Mh(t),r=t.read_shift(1);return[e,r,"b"]}function Ose(t,e,r){return r==null&&(r=qe(5)),Bh(e,r),r.write_shift(1,t.v?1:0),r}function Pse(t){var e=Io(t),r=t.read_shift(1);return[e,r,"e"]}function Fse(t,e,r){return r==null&&(r=qe(9)),Fh(e,r),r.write_shift(1,t.v),r}function Mse(t){var e=Mh(t),r=t.read_shift(1);return[e,r,"e"]}function Bse(t,e,r){return r==null&&(r=qe(8)),Bh(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function Use(t){var e=Io(t),r=t.read_shift(4);return[e,r,"s"]}function jse(t,e,r){return r==null&&(r=qe(12)),Fh(e,r),r.write_shift(4,e.v),r}function Vse(t){var e=Mh(t),r=t.read_shift(4);return[e,r,"s"]}function zse(t,e,r){return r==null&&(r=qe(8)),Bh(e,r),r.write_shift(4,e.v),r}function Hse(t){var e=Io(t),r=ki(t);return[e,r,"n"]}function qse(t,e,r){return r==null&&(r=qe(16)),Fh(e,r),wh(t.v,r),r}function EP(t){var e=Mh(t),r=ki(t);return[e,r,"n"]}function Gse(t,e,r){return r==null&&(r=qe(12)),Bh(e,r),wh(t.v,r),r}function Wse(t){var e=Io(t),r=IE(t);return[e,r,"n"]}function $se(t,e,r){return r==null&&(r=qe(12)),Fh(e,r),_O(t.v,r),r}function Xse(t){var e=Mh(t),r=IE(t);return[e,r,"n"]}function Kse(t,e,r){return r==null&&(r=qe(8)),Bh(e,r),_O(t.v,r),r}function Yse(t){var e=Io(t),r=kE(t);return[e,r,"is"]}function Qse(t){var e=Io(t),r=Ci(t);return[e,r,"str"]}function Jse(t,e,r){return r==null&&(r=qe(12+4*t.v.length)),Fh(e,r),Ka(t.v,r),r.length>r.l?r.slice(0,r.l):r}function Zse(t){var e=Mh(t),r=Ci(t);return[e,r,"str"]}function eoe(t,e,r){return r==null&&(r=qe(8+4*t.v.length)),Bh(e,r),Ka(t.v,r),r.length>r.l?r.slice(0,r.l):r}function toe(t,e,r){var n=t.l+e,a=Io(t);a.r=r["!row"];var i=t.read_shift(1),s=[a,i,"b"];if(r.cellFormula){t.l+=2;var o=t_(t,n-t.l,r);s[3]=Si(o,null,a,r.supbooks,r)}else t.l=n;return s}function roe(t,e,r){var n=t.l+e,a=Io(t);a.r=r["!row"];var i=t.read_shift(1),s=[a,i,"e"];if(r.cellFormula){t.l+=2;var o=t_(t,n-t.l,r);s[3]=Si(o,null,a,r.supbooks,r)}else t.l=n;return s}function noe(t,e,r){var n=t.l+e,a=Io(t);a.r=r["!row"];var i=ki(t),s=[a,i,"n"];if(r.cellFormula){t.l+=2;var o=t_(t,n-t.l,r);s[3]=Si(o,null,a,r.supbooks,r)}else t.l=n;return s}function aoe(t,e,r){var n=t.l+e,a=Io(t);a.r=r["!row"];var i=Ci(t),s=[a,i,"str"];if(r.cellFormula){t.l+=2;var o=t_(t,n-t.l,r);s[3]=Si(o,null,a,r.supbooks,r)}else t.l=n;return s}var ioe=Uh,soe=zd;function ooe(t,e){return e==null&&(e=qe(4)),e.write_shift(4,t),e}function loe(t,e){var r=t.l+e,n=Uh(t),a=CE(t),i=Ci(t),s=Ci(t),o=Ci(t);t.l=r;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}function coe(t,e){var r=qe(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));zd({s:Hn(t[0]),e:Hn(t[0])},r),NE("rId"+e,r);var n=t[1].Target.indexOf("#"),a=n==-1?"":t[1].Target.slice(n+1);return Ka(a||"",r),Ka(t[1].Tooltip||"",r),Ka("",r),r.slice(0,r.l)}function uoe(){}function foe(t,e,r){var n=t.l+e,a=yO(t),i=t.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=Pie(t,n-t.l,r);s[1]=o}else t.l=n;return s}function hoe(t,e,r){var n=t.l+e,a=Uh(t),i=[a];if(r.cellFormula){var s=Mie(t,n-t.l,r);i[1]=s,t.l=n}else t.l=n;return i}function doe(t,e,r){r==null&&(r=qe(18));var n=r_(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return e.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),e.level&&(a|=e.level<<8),r.write_shift(2,a),r}var AP=["left","right","top","bottom","header","footer"];function poe(t){var e={};return AP.forEach(function(r){e[r]=ki(t)}),e}function moe(t,e){return e==null&&(e=qe(6*8)),th(t),AP.forEach(function(r){wh(t[r],e)}),e}function goe(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function voe(t,e,r){r==null&&(r=qe(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function xoe(t){var e=qe(24);return e.write_shift(4,4),e.write_shift(4,1),zd(t,e),e}function _oe(t,e){return e==null&&(e=qe(16*4+2)),e.write_shift(2,t.password?FE(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function yoe(){}function woe(){}function boe(t,e,r,n,a,i,s){if(!t)return t;var o=e||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},h=!1,d=!1,f,p,m,_,x,T,w,I,j,P=[];o.biff=12,o["!row"]=0;var N=0,E=!1,y=[],R={},A=o.supbooks||a.supbooks||[[]];if(A.sharedf=R,A.arrayf=y,A.SheetNames=a.SheetNames||a.Sheets.map(function(ae){return ae.name}),!o.supbooks&&(o.supbooks=A,a.Names))for(var C=0;C<a.Names.length;++C)A[0][C+1]=a.Names[C];var k=[],q=[],X=!1;Qp[16]={n:"BrtShortReal",f:EP};var V;if(Bc(t,function(W,ge,be){if(!d)switch(be){case 148:c=W;break;case 0:f=W,o.sheetRows&&o.sheetRows<=f.r&&(d=!0),I=ma(_=f.r),o["!row"]=f.r,(W.hidden||W.hpt||W.level!=null)&&(W.hpt&&(W.hpx=_d(W.hpt)),q[W.r]=W);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(p={t:W[2]},W[2]){case"n":p.v=W[1];break;case"s":w=lp[W[1]],p.v=w.t,p.r=w.r;break;case"b":p.v=!!W[1];break;case"e":p.v=W[1],o.cellText!==!1&&(p.w=Uc[p.v]);break;case"str":p.t="s",p.v=W[1];break;case"is":p.t="s",p.v=W[1].t;break}if((m=s.CellXf[W[0].iStyleRef])&&yP(p,m.numFmtId,null,o,i,s),x=W[0].c==-1?x+1:W[0].c,o.dense?(l[_]||(l[_]=[]),l[_][x]=p):l[zn(x)+I]=p,o.cellFormula){for(E=!1,N=0;N<y.length;++N){var D=y[N];f.r>=D[0].s.r&&f.r<=D[0].e.r&&x>=D[0].s.c&&x<=D[0].e.c&&(p.F=dr(D[0]),E=!0)}!E&&W.length>3&&(p.f=W[3])}if(u.s.r>f.r&&(u.s.r=f.r),u.s.c>x&&(u.s.c=x),u.e.r<f.r&&(u.e.r=f.r),u.e.c<x&&(u.e.c=x),o.cellDates&&m&&p.t=="n"&&Ud(er[m.numFmtId])){var F=Vf(p.v);F&&(p.t="d",p.v=new Date(F.y,F.m-1,F.d,F.H,F.M,F.S,F.u))}V&&(V.type=="XLDAPR"&&(p.D=!0),V=void 0);break;case 1:case 12:if(!o.sheetStubs||h)break;p={t:"z",v:void 0},x=W[0].c==-1?x+1:W[0].c,o.dense?(l[_]||(l[_]=[]),l[_][x]=p):l[zn(x)+I]=p,u.s.r>f.r&&(u.s.r=f.r),u.s.c>x&&(u.s.c=x),u.e.r<f.r&&(u.e.r=f.r),u.e.c<x&&(u.e.c=x),V&&(V.type=="XLDAPR"&&(p.D=!0),V=void 0);break;case 176:P.push(W);break;case 49:V=((o.xlmeta||{}).Cell||[])[W-1];break;case 494:var U=n["!id"][W.relId];for(U?(W.Target=U.Target,W.loc&&(W.Target+="#"+W.loc),W.Rel=U):W.relId==""&&(W.Target="#"+W.loc),_=W.rfx.s.r;_<=W.rfx.e.r;++_)for(x=W.rfx.s.c;x<=W.rfx.e.c;++x)o.dense?(l[_]||(l[_]=[]),l[_][x]||(l[_][x]={t:"z",v:void 0}),l[_][x].l=W):(T=nr({c:x,r:_}),l[T]||(l[T]={t:"z",v:void 0}),l[T].l=W);break;case 426:if(!o.cellFormula)break;y.push(W),j=o.dense?l[_][x]:l[zn(x)+I],j.f=Si(W[1],u,{r:f.r,c:x},A,o),j.F=dr(W[0]);break;case 427:if(!o.cellFormula)break;R[nr(W[0].s)]=W[1],j=o.dense?l[_][x]:l[zn(x)+I],j.f=Si(W[1],u,{r:f.r,c:x},A,o);break;case 60:if(!o.cellStyles)break;for(;W.e>=W.s;)k[W.e--]={width:W.w/256,hidden:!!(W.flags&1),level:W.level},X||(X=!0,ME(W.w/256)),lf(k[W.e+1]);break;case 161:l["!autofilter"]={ref:dr(W)};break;case 476:l["!margins"]=W;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),W.name&&(a.Sheets[r].CodeName=W.name),(W.above||W.left)&&(l["!outline"]={above:W.above,left:W.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),W.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:h=!0;break;case 36:h=!1;break;case 37:h=!0;break;case 38:h=!1;break;default:if(!ge.T){if(!h||o.WTF)throw new Error("Unexpected record 0x"+be.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=dr(c||u)),o.sheetRows&&l["!ref"]){var H=jr(l["!ref"]);o.sheetRows<=+H.e.r&&(H.e.r=o.sheetRows-1,H.e.r>u.e.r&&(H.e.r=u.e.r),H.e.r<H.s.r&&(H.s.r=H.e.r),H.e.c>u.e.c&&(H.e.c=u.e.c),H.e.c<H.s.c&&(H.s.c=H.e.c),l["!fullref"]=l["!ref"],l["!ref"]=dr(H))}return P.length>0&&(l["!merges"]=P),k.length>0&&(l["!cols"]=k),q.length>0&&(l["!rows"]=q),l}function Eoe(t,e,r,n,a,i,s){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=Mn(e),e.z=e.z||er[14],e.v=Ua(Fn(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r,c:n};switch(l.s=yf(a.cellXfs,e,a),e.l&&i["!links"].push([nr(l),e.l]),e.c&&i["!comments"].push([nr(l),e.c]),e.t){case"s":case"str":return a.bookSST?(o=zE(a.Strings,e.v,a.revStrings),l.t="s",l.v=o,s?tt(t,18,zse(e,l)):tt(t,7,jse(e,l))):(l.t="str",s?tt(t,17,eoe(e,l)):tt(t,6,Jse(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?s?tt(t,13,Kse(e,l)):tt(t,2,$se(e,l)):s?tt(t,16,Gse(e,l)):tt(t,5,qse(e,l)),!0;case"b":return l.t="b",s?tt(t,15,Ose(e,l)):tt(t,4,Lse(e,l)),!0;case"e":return l.t="e",s?tt(t,14,Bse(e,l)):tt(t,3,Fse(e,l)),!0}return s?tt(t,12,Ise(e,l)):tt(t,1,Cse(e,l)),!0}function Aoe(t,e,r,n){var a=jr(e["!ref"]||"A1"),i,s="",o=[];tt(t,145);var l=Array.isArray(e),c=a.e.r;e["!rows"]&&(c=Math.max(a.e.r,e["!rows"].length-1));for(var u=a.s.r;u<=c;++u){s=ma(u),wse(t,e,a,u);var h=!1;if(u<=a.e.r)for(var d=a.s.c;d<=a.e.c;++d){u===a.s.r&&(o[d]=zn(d)),i=o[d]+s;var f=l?(e[u]||[])[d]:e[i];if(!f){h=!1;continue}h=Eoe(t,f,u,d,n,e,h)}}tt(t,146)}function Soe(t,e){!e||!e["!merges"]||(tt(t,177,ooe(e["!merges"].length)),e["!merges"].forEach(function(r){tt(t,176,soe(r))}),tt(t,178))}function Toe(t,e){!e||!e["!cols"]||(tt(t,390),e["!cols"].forEach(function(r,n){r&&tt(t,60,doe(n,r))}),tt(t,391))}function koe(t,e){!e||!e["!ref"]||(tt(t,648),tt(t,649,xoe(jr(e["!ref"]))),tt(t,650))}function Coe(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var a=en(r,-1,n[1].Target.replace(/#.*$/,""),wr.HLINK);tt(t,494,coe(n,a))}}),delete e["!links"]}function Noe(t,e,r,n){if(e["!comments"].length>0){var a=en(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",wr.VML);tt(t,551,NE("rId"+a)),e["!legacy"]=a}}function Ioe(t,e,r,n){if(e["!autofilter"]){var a=e["!autofilter"],i=typeof a.ref=="string"?a.ref:dr(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=ms(i);o.s.r==o.e.r&&(o.e.r=ms(e["!ref"]).e.r,i=dr(o));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+i;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),tt(t,161,zd(jr(i))),tt(t,162)}}function Roe(t,e,r){tt(t,133),tt(t,137,voe(e,r)),tt(t,138),tt(t,134)}function Loe(t,e){e["!protect"]&&tt(t,535,_oe(e["!protect"]))}function Doe(t,e,r,n){var a=ds(),i=r.SheetNames[t],s=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[t].CodeName||o)}catch{}var l=jr(s["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],tt(a,129),(r.vbaraw||s["!outline"])&&tt(a,147,Tse(o,s["!outline"])),tt(a,148,Ese(l)),Roe(a,s,r.Workbook),Toe(a,s),Aoe(a,s,t,e),Loe(a,s),Ioe(a,s,r,t),Soe(a,s),Coe(a,s,n),s["!margins"]&&tt(a,476,moe(s["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&koe(a,s),Noe(a,s,t,n),tt(a,130),a.end()}function Ooe(t){var e=[],r=t.match(/^<c:numCache>/),n;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(e[+s[1]]=r?+s[2]:s[2])});var a=Ur((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[e,a,n]}function Poe(t,e,r,n,a,i){var s=i||{"!type":"chart"};if(!t)return i;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(h){var d=Ooe(h);u.s.r=u.s.c=0,u.e.c=o,c=zn(o),d[0].forEach(function(f,p){s[c+ma(p)]={t:"n",v:f,z:d[1]},l=p}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(s["!ref"]=dr(u)),s}function Foe(t,e,r,n,a){if(!t)return t;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=t.match(wP);return o&&HE(o[0],i,a,r),(s=t.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function Moe(t,e){t.l+=10;var r=Ci(t);return{name:r}}function Boe(t,e,r,n,a){if(!t)return t;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return Bc(t,function(l,c,u){switch(u){case 550:i["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!s||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},e),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var qE=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Uoe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],joe=[],Voe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function uC(t,e){for(var r=0;r!=t.length;++r)for(var n=t[r],a=0;a!=e.length;++a){var i=e[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Ln(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function fC(t,e){for(var r=0;r!=e.length;++r){var n=e[r];if(t[n[0]]==null)t[n[0]]=n[1];else switch(n[2]){case"bool":typeof t[n[0]]=="string"&&(t[n[0]]=Ln(t[n[0]]));break;case"int":typeof t[n[0]]=="string"&&(t[n[0]]=parseInt(t[n[0]],10));break}}}function SP(t){fC(t.WBProps,qE),fC(t.CalcPr,Voe),uC(t.WBView,Uoe),uC(t.Sheets,joe),ed.date1904=Ln(t.WBProps.date1904)}function zoe(t){return!t.Workbook||!t.Workbook.WBProps?"false":Ln(t.Workbook.WBProps.date1904)?"true":"false"}var Hoe="][*?/\\".split("");function TP(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Hoe.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function qoe(t,e,r){t.forEach(function(n,a){TP(n);for(var i=0;i<a;++i)if(n==t[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=e&&e[a]&&e[a].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function Goe(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];qoe(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)zie(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}var Woe=/<\w+:workbook/;function $oe(t,e){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(t.replace(Ri,function(l,c){var u=ar(l);switch(jl(u[0])){case"<?xml":break;case"<workbook":l.match(Woe)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":qE.forEach(function(h){if(u[h[0]]!=null)switch(h[2]){case"bool":r.WBProps[h[0]]=Ln(u[h[0]]);break;case"int":r.WBProps[h[0]]=parseInt(u[h[0]],10);break;default:r.WBProps[h[0]]=u[h[0]]}}),u.codeName&&(r.WBProps.CodeName=un(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Ur(un(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=un(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),Ln(u.hidden||"0")&&(i.Hidden=!0),s=c+l.length;break;case"</definedName>":i.Ref=Ur(un(t.slice(s,c))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),Ph.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return SP(r),r}function kP(t){var e=[ga];e[e.length]=pt("workbook",null,{xmlns:Ph[0],"xmlns:r":Fa.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(qE.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=pt("workbookPr",null,n);var a=t.Workbook&&t.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(e[e.length]="<bookViews>",i=0;i!=t.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==t.SheetNames.length&&(i=0),e[e.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",i=0;i!=t.SheetNames.length;++i){var s={name:an(t.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}e[e.length]=pt("sheet",null,s)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=pt("definedName",an(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function Xoe(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=Vw(t),r.name=Ci(t),r}function Koe(t,e){return e||(e=qe(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),NE(t.strRelID,e),Ka(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function Yoe(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var a=e>8?Ci(t):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Qoe(t,e){e||(e=qe(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),xO(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function Joe(t,e){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=e-8,r}function Zoe(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var a=t.read_shift(4),i=NZ(t),s=Fie(t,0,r),o=CE(t);t.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function ele(t,e){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;e||(e={}),e.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],Qp[16]={n:"BrtFRTArchID$",f:Joe},Bc(t,function(l,c,u){switch(u){case 156:s.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=Si(l.Ptg,null,null,s,e),delete e.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([u,l]):s[0]=[u,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(u),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!c.T){if(!a||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},e),SP(r),r.Names=i,r.supbooks=s,r}function tle(t,e){tt(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};tt(t,156,Koe(a))}tt(t,144)}function rle(t,e){e||(e=qe(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Ka("SheetJS",e),Ka(Bv.version,e),Ka(Bv.version,e),Ka("7262",e),e.length>e.l?e.slice(0,e.l):e}function nle(t,e){e||(e=qe(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function ale(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(tt(t,135),tt(t,158,nle(a)),tt(t,136))}}function ile(t,e){var r=ds();return tt(r,131),tt(r,128,rle()),tt(r,153,Qoe(t.Workbook&&t.Workbook.WBProps||null)),ale(r,t),tle(r,t),tt(r,132),r.end()}function sle(t,e,r){return e.slice(-4)===".bin"?ele(t,r):$oe(t,r)}function ole(t,e,r,n,a,i,s,o){return e.slice(-4)===".bin"?boe(t,n,r,a,i,s,o):Zie(t,n,r,a,i,s,o)}function lle(t,e,r,n,a,i,s,o){return e.slice(-4)===".bin"?Boe(t,n,r,a,i):Foe(t,n,r,a,i)}function cle(t,e,r,n,a,i,s,o){return e.slice(-4)===".bin"?fae():hae()}function ule(t,e,r,n,a,i,s,o){return e.slice(-4)===".bin"?cae():uae()}function fle(t,e,r,n){return e.slice(-4)===".bin"?sne(t,r,n):Xre(t,r,n)}function hle(t,e,r){return oP(t,r)}function dle(t,e,r){return e.slice(-4)===".bin"?dre(t,r):ure(t,r)}function ple(t,e,r){return e.slice(-4)===".bin"?aae(t,r):Kne(t,r)}function mle(t,e,r){return e.slice(-4)===".bin"?Wne(t):qne(t)}function gle(t,e,r,n){return r.slice(-4)===".bin"?$ne(t,e,r,n):void 0}function vle(t,e,r){return e.slice(-4)===".bin"?Vne(t,e,r):Hne(t,e,r)}function xle(t,e,r){return(e.slice(-4)===".bin"?ile:kP)(t)}function _le(t,e,r,n,a){return(e.slice(-4)===".bin"?Doe:bP)(t,r,n,a)}function yle(t,e,r){return(e.slice(-4)===".bin"?gne:iP)(t,r)}function wle(t,e,r){return(e.slice(-4)===".bin"?gre:QO)(t,r)}function ble(t,e,r){return(e.slice(-4)===".bin"?iae:uP)(t)}function Ele(t){return(t.slice(-4)===".bin"?zne:lP)()}var CP=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,NP=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function jo(t,e){var r=t.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=t.match(CP),i,s,o,l;if(a)for(l=0;l!=a.length;++l)i=a[l].match(NP),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}function Ale(t){var e=t.split(/\s+/),r={};if(e.length===1)return r;var n=t.match(CP),a,i,s,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(NP),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var up;function Sle(t,e){var r=up[t]||Ur(t);return r==="General"?_h(e):Co(r,e)}function Tle(t,e,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Ln(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Fn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[Ur(e)]=a}function kle(t,e,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||Uc[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=zp(t.v):t.w=_h(t.v):t.w=Sle(e||"General",t.v)}catch(i){if(r.WTF)throw i}try{var n=up[e]||e||"General";if(r.cellNF&&(t.z=n),r.cellDates&&t.t=="n"&&Ud(n)){var a=Vf(t.v);a&&(t.t="d",t.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function Cle(t,e,r){if(r.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=jre[n.Pattern]||n.Pattern)}t[e.ID]=e}function Nle(t,e,r,n,a,i,s,o,l,c){var u="General",h=n.StyleID,d={};c=c||{};var f=[],p=0;for(h===void 0&&o&&(h=o.StyleID),h===void 0&&s&&(h=s.StyleID);i[h]!==void 0&&(i[h].nf&&(u=i[h].nf),i[h].Interior&&f.push(i[h].Interior),!!i[h].Parent);)h=i[h].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Ln(t);break;case"String":n.t="s",n.r=Ck(Ur(t)),n.v=t.indexOf("<")>-1?Ur(e||t).replace(/<.*?>/g,""):n.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),n.v=(Fn(t)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Ur(t):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+t),n.t||(n.t="n");break;case"Error":n.t="e",n.v=EO[t],c.cellText!==!1&&(n.w=t);break;default:t==""&&e==""?n.t="z":(n.t="s",n.v=Ck(e||t));break}if(kle(n,u,c),c.cellFormula!==!1)if(n.Formula){var m=Ur(n.Formula);m.charCodeAt(0)==61&&(m=m.slice(1)),n.f=Z0(m,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Z0("RC:RC",a):n.ArrayRange&&(n.F=Z0(n.ArrayRange,a),l.push([jr(n.F),n.F]))}else for(p=0;p<l.length;++p)a.r>=l[p][0].s.r&&a.r<=l[p][0].e.r&&a.c>=l[p][0].s.c&&a.c<=l[p][0].e.c&&(n.F=l[p][1]);c.cellStyles&&(f.forEach(function(_){!d.patternType&&_.patternType&&(d.patternType=_.patternType)}),n.s=d),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function Ile(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function Yy(t,e){var r=e||{};jd();var n=R1(bE(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=un(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=Mn(r);return s.type="string",xd.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Oe){a.indexOf("<"+Oe)>=0&&(i=!0)}),i)return mce(n,r);up={"General Number":"General","General Date":er[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":er[15],"Short Date":er[14],"Long Time":er[19],"Medium Time":er[18],"Short Time":er[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:er[2],Standard:er[4],Percent:er[10],Scientific:er[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},h=[],d=r.dense?[]:{},f="",p={},m={},_=jo('<Data ss:Type="String">'),x=0,T=0,w=0,I={s:{r:2e6,c:2e6},e:{r:0,c:0}},j={},P={},N="",E=0,y=[],R={},A={},C=0,k=[],q=[],X={},V=[],H,ae=!1,W=[],ge=[],be={},D=0,F=0,U={Sheets:[],WBProps:{date1904:!1}},M={};Gp.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var Q="";o=Gp.exec(n);)switch(o[3]=(Q=o[3]).toLowerCase()){case"data":if(Q=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?Nle(n.slice(x,o.index),N,_,l[l.length-1][0]=="comment"?X:p,{c:T,r:w},j,V[T],m,W,r):(N="",_=jo(o[0]),x=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(q.length>0&&(p.c=q),(!r.sheetRows||r.sheetRows>w)&&p.v!==void 0&&(r.dense?(d[w]||(d[w]=[]),d[w][T]=p):d[zn(T)+ma(w)]=p),p.HRef&&(p.l={Target:Ur(p.HRef)},p.HRefScreenTip&&(p.l.Tooltip=p.HRefScreenTip),delete p.HRef,delete p.HRefScreenTip),(p.MergeAcross||p.MergeDown)&&(D=T+(parseInt(p.MergeAcross,10)|0),F=w+(parseInt(p.MergeDown,10)|0),y.push({s:{c:T,r:w},e:{c:D,r:F}})),!r.sheetStubs)p.MergeAcross?T=D+1:++T;else if(p.MergeAcross||p.MergeDown){for(var oe=T;oe<=D;++oe)for(var de=w;de<=F;++de)(oe>T||de>w)&&(r.dense?(d[de]||(d[de]=[]),d[de][oe]={t:"z"}):d[zn(oe)+ma(de)]={t:"z"});T=D+1}else++T;else p=Ale(o[0]),p.Index&&(T=+p.Index-1),T<I.s.c&&(I.s.c=T),T>I.e.c&&(I.e.c=T),o[0].slice(-2)==="/>"&&++T,q=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(w<I.s.r&&(I.s.r=w),w>I.e.r&&(I.e.r=w),o[0].slice(-2)==="/>"&&(m=jo(o[0]),m.Index&&(w=+m.Index-1)),T=0,++w):(m=jo(o[0]),m.Index&&(w=+m.Index-1),be={},(m.AutoFitHeight=="0"||m.Height)&&(be.hpx=parseInt(m.Height,10),be.hpt=Yp(be.hpx),ge[w]=be),m.Hidden=="1"&&(be.hidden=!0,ge[w]=be));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));h.push(f),I.s.r<=I.e.r&&I.s.c<=I.e.c&&(d["!ref"]=dr(I),r.sheetRows&&r.sheetRows<=I.e.r&&(d["!fullref"]=d["!ref"],I.e.r=r.sheetRows-1,d["!ref"]=dr(I))),y.length&&(d["!merges"]=y),V.length>0&&(d["!cols"]=V),ge.length>0&&(d["!rows"]=ge),u[f]=d}else I={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=T=0,l.push([o[3],!1]),c=jo(o[0]),f=Ur(c.Name),d=r.dense?[]:{},y=[],W=[],ge=[],M={name:f,Hidden:0},U.Sheets.push(M);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),V=[],ae=!1}break;case"style":o[1]==="/"?Cle(j,P,r):P=jo(o[0]);break;case"numberformat":P.nf=Ur(jo(o[0]).Format||"General"),up[P.nf]&&(P.nf=up[P.nf]);for(var he=0;he!=392&&er[he]!=P.nf;++he);if(he==392){for(he=57;he!=392;++he)if(er[he]==null){wc(P.nf,he);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(H=jo(o[0]),H.Hidden&&(H.hidden=!0,delete H.Hidden),H.Width&&(H.wpx=parseInt(H.Width,10)),!ae&&H.wpx>10){ae=!0,Ti=nP;for(var we=0;we<V.length;++we)V[we]&&lf(V[we])}ae&&lf(H),V[H.Index-1||V.length]=H;for(var ke=0;ke<+H.Span;++ke)V[V.length]=Mn(H);break;case"namedrange":if(o[1]==="/")break;U.Names||(U.Names=[]);var ne=ar(o[0]),Z={Name:ne.Name,Ref:Z0(ne.RefersTo.slice(1),{r:0,c:0})};U.Sheets.length>0&&(Z.Sheet=U.Sheets.length-1),U.Names.push(Z);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?N+=n.slice(E,o.index):E=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;P.Interior=jo(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?eee(R,Q,n.slice(C,o.index)):C=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));Ile(X),q.push(X)}else l.push([o[3],!1]),c=jo(o[0]),X={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ae=jo(o[0]);d["!autofilter"]={ref:Z0(Ae.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return gC(n,r);var K=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:K=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:K=!1}break;case"excelworkbook":switch(o[3]){case"date1904":U.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:K=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:K=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(C,o.index)){case"SheetHidden":M.Hidden=1;break;case"SheetVeryHidden":M.Hidden=2;break}else C=o.index+o[0].length;break;case"header":d["!margins"]||th(d["!margins"]={},"xlml"),isNaN(+ar(o[0]).Margin)||(d["!margins"].header=+ar(o[0]).Margin);break;case"footer":d["!margins"]||th(d["!margins"]={},"xlml"),isNaN(+ar(o[0]).Margin)||(d["!margins"].footer=+ar(o[0]).Margin);break;case"pagemargins":var Te=ar(o[0]);d["!margins"]||th(d["!margins"]={},"xlml"),isNaN(+Te.Top)||(d["!margins"].top=+Te.Top),isNaN(+Te.Left)||(d["!margins"].left=+Te.Left),isNaN(+Te.Right)||(d["!margins"].right=+Te.Right),isNaN(+Te.Bottom)||(d["!margins"].bottom=+Te.Bottom);break;case"displayrighttoleft":U.Views||(U.Views=[]),U.Views[0]||(U.Views[0]={}),U.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:K=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:K=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:K=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:K=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:K=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:K=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:K=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:K=!1}break;case"smarttags":break;default:K=!1;break}if(K||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?Tle(A,Q,k,n.slice(C,o.index)):(k=o,C=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var Re={};return!r.bookSheets&&!r.bookProps&&(Re.Sheets=u),Re.SheetNames=h,Re.Workbook=U,Re.SSF=Mn(er),Re.Props=R,Re.Custprops=A,Re}function Xw(t,e){switch(WE(e=e||{}),e.type||"base64"){case"base64":return Yy(Ys(t),e);case"binary":case"buffer":case"file":return Yy(t,e);case"array":return Yy(xf(t),e)}}function Rle(t,e){var r=[];return t.Props&&r.push(tee(t.Props,e)),t.Custprops&&r.push(ree(t.Props,t.Custprops)),r.join("")}function Lle(){return""}function Dle(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,a){var i=[];i.push(pt("NumberFormat",null,{"ss:Format":an(er[n.numFmtId])}));var s={"ss:ID":"s"+(21+a)};r.push(pt("Style",i.join(""),s))}),pt("Styles",r.join(""))}function IP(t){return pt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+jE(t.Ref,{r:0,c:0})})}function Ole(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var a=e[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(IP(a)))}return pt("Names",r.join(""))}function Ple(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],s=0;s<a.length;++s){var o=a[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(IP(o)))}return i.join("")}function Fle(t,e,r,n){if(!t)return"";var a=[];if(t["!margins"]&&(a.push("<PageSetup>"),t["!margins"].header&&a.push(pt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&a.push(pt("Footer",null,{"x:Margin":t["!margins"].footer})),a.push(pt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(pt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),t["!protect"]&&(a.push(li("ProtectContents","True")),t["!protect"].objects&&a.push(li("ProtectObjects","True")),t["!protect"].scenarios&&a.push(li("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?a.push(li("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&a.push(li("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){t["!protect"][s[0]]&&a.push("<"+s[1]+"/>")})),a.length==0?"":pt("WorksheetOptions",a.join(""),{xmlns:Ls.x})}function Mle(t){return t.map(function(e){var r=aZ(e.t||""),n=pt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return pt("Comment",n,{"ss:Author":e.a})}).join("")}function Ble(t,e,r,n,a,i,s){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+an(jE(t.f,s))),t.F&&t.F.slice(0,e.length)==e){var l=Hn(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=an(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=an(t.l.Tooltip))),r["!merges"])for(var c=r["!merges"],u=0;u!=c.length;++u)c[u].s.c!=s.c||c[u].s.r!=s.r||(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var h="",d="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":h="Number",d=String(t.v);break;case"b":h="Boolean",d=t.v?"1":"0";break;case"e":h="Error",d=Uc[t.v];break;case"d":h="DateTime",d=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||er[14]);break;case"s":h="String",d=nZ(t.v||"");break}var f=yf(n.cellXfs,t,n);o["ss:StyleID"]="s"+(21+f),o["ss:Index"]=s.c+1;var p=t.v!=null?d:"",m=t.t=="z"?"":'<Data ss:Type="'+h+'">'+p+"</Data>";return(t.c||[]).length>0&&(m+=Mle(t.c)),pt("Cell",m,o)}function Ule(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=_d(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function jle(t,e,r,n){if(!t["!ref"])return"";var a=jr(t["!ref"]),i=t["!merges"]||[],s=0,o=[];t["!cols"]&&t["!cols"].forEach(function(_,x){lf(_);var T=!!_.width,w=r_(x,_),I={"ss:Index":x+1};T&&(I["ss:Width"]=Xp(w.width)),_.hidden&&(I["ss:Hidden"]="1"),o.push(pt("Column",null,I))});for(var l=Array.isArray(t),c=a.s.r;c<=a.e.r;++c){for(var u=[Ule(c,(t["!rows"]||[])[c])],h=a.s.c;h<=a.e.c;++h){var d=!1;for(s=0;s!=i.length;++s)if(!(i[s].s.c>h)&&!(i[s].s.r>c)&&!(i[s].e.c<h)&&!(i[s].e.r<c)){(i[s].s.c!=h||i[s].s.r!=c)&&(d=!0);break}if(!d){var f={r:c,c:h},p=nr(f),m=l?(t[c]||[])[h]:t[p];u.push(Ble(m,p,t,e,r,n,f))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function Vle(t,e,r){var n=[],a=r.SheetNames[t],i=r.Sheets[a],s=i?Ple(i,e,t,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=i?jle(i,e,t,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(Fle(i,e,t,r)),n.join("")}function zle(t,e){e||(e={}),t.SSF||(t.SSF=Mn(er)),t.SSF&&(jd(),Kx(t.SSF),e.revssf=Qx(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],yf(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Rle(t,e)),r.push(Lle()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(pt("Worksheet",Vle(n,e,t),{"ss:Name":an(t.SheetNames[n])}));return r[2]=Dle(t,e),r[3]=Ole(t),ga+pt("Workbook",r.join(""),{xmlns:Ls.ss,"xmlns:o":Ls.o,"xmlns:x":Ls.x,"xmlns:ss":Ls.ss,"xmlns:dt":Ls.dt,"xmlns:html":Ls.html})}function Hle(t){var e={},r=t.content;if(r.l=28,e.AnsiUserType=r.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=OZ(r),r.length-r.l<=4)return e;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,e.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=PZ(r),n=r.read_shift(4),n==0||n>40))return e;r.l-=4,e.Reserved2=r.read_shift(0,"lpwstr")}var qle=[60,1084,2066,2165,2175];function Gle(t,e,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var l=dc(r,r.l),c=Kw[l],u=0;c!=null&&qle.indexOf(l)>-1;)i=dc(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+i),s.push(o),r.l+=4+i,c=Kw[l=dc(r,r.l)];var h=Xa(s);ai(h,0);var d=0;h.lens=[];for(var f=0;f<s.length;++f)h.lens.push(d),d+=s[f].length;if(h.length<n)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+h.length+" < "+n;return e.f(h,h.length,a)}function ml(t,e,r){if(t.t!=="z"&&t.XF){var n=0;try{n=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=er[n])}catch(i){if(e.WTF)throw i}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||Uc[t.v]:n===0||n=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=zp(t.v):t.w=_h(t.v):t.w=Co(n,t.v,{date1904:!!r,dateNF:e&&e.dateNF})}catch(i){if(e.WTF)throw i}if(e.cellDates&&n&&t.t=="n"&&Ud(er[n]||String(n))){var a=Vf(t.v);a&&(t.t="d",t.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Xg(t,e,r){return{v:t,ixfe:e,t:r}}function Wle(t,e){var r={opts:{}},n={},a=e.dense?[]:{},i={},s={},o=null,l=[],c="",u={},h,d="",f,p,m,_,x={},T=[],w,I,j=[],P=[],N={Sheets:[],WBProps:{date1904:!1},Views:[{}]},E={},y=function(at){return at<8?Jf[at]:at<64&&P[at-8]||Jf[at]},R=function(at,it,Ft){var wt=it.XF.data;if(!(!wt||!wt.patternType||!Ft||!Ft.cellStyles)){it.s={},it.s.patternType=wt.patternType;var Nt;(Nt=$p(y(wt.icvFore)))&&(it.s.fgColor={rgb:Nt}),(Nt=$p(y(wt.icvBack)))&&(it.s.bgColor={rgb:Nt})}},A=function(at,it,Ft){if(!(be>1)&&!(Ft.sheetRows&&at.r>=Ft.sheetRows)){if(Ft.cellStyles&&it.XF&&it.XF.data&&R(at,it,Ft),delete it.ixfe,delete it.XF,h=at,d=nr(at),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),at.r<s.s.r&&(s.s.r=at.r),at.c<s.s.c&&(s.s.c=at.c),at.r+1>s.e.r&&(s.e.r=at.r+1),at.c+1>s.e.c&&(s.e.c=at.c+1),Ft.cellFormula&&it.f){for(var wt=0;wt<T.length;++wt)if(!(T[wt][0].s.c>at.c||T[wt][0].s.r>at.r)&&!(T[wt][0].e.c<at.c||T[wt][0].e.r<at.r)){it.F=dr(T[wt][0]),(T[wt][0].s.c!=at.c||T[wt][0].s.r!=at.r)&&delete it.f,it.f&&(it.f=""+Si(T[wt][1],s,at,W,C));break}}Ft.dense?(a[at.r]||(a[at.r]=[]),a[at.r][at.c]=it):a[d]=it}},C={enc:!1,sbcch:0,snames:[],sharedf:x,arrayf:T,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(C.password=e.password);var k,q=[],X=[],V=[],H=[],ae=!1,W=[];W.SheetNames=C.snames,W.sharedf=C.sharedf,W.arrayf=C.arrayf,W.names=[],W.XTI=[];var ge=0,be=0,D=0,F=[],U=[],M;C.codepage=1200,Go(1200);for(var Q=!1;t.l<t.length-1;){var oe=t.l,de=t.read_shift(2);if(de===0&&ge===10)break;var he=t.l===t.length?0:t.read_shift(2),we=Kw[de];if(we&&we.f){if(e.bookSheets&&ge===133&&de!==133)break;if(ge=de,we.r===2||we.r==12){var ke=t.read_shift(2);if(he-=2,!C.enc&&ke!==de&&((ke&255)<<8|ke>>8)!==de)throw new Error("rt mismatch: "+ke+"!="+de);we.r==12&&(t.l+=10,he-=10)}var ne={};if(de===10?ne=we.f(t,he,C):ne=Gle(de,we,t,he,C),be==0&&[9,521,1033,2057].indexOf(ge)===-1)continue;switch(de){case 34:r.opts.Date1904=N.WBProps.date1904=ne;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(C.enc||(t.l=0),C.enc=ne,!e.password)throw new Error("File is password-protected");if(ne.valid==null)throw new Error("Encryption scheme unsupported");if(!ne.valid)throw new Error("Password is incorrect");break;case 92:C.lastuser=ne;break;case 66:var Z=Number(ne);switch(Z){case 21010:Z=1200;break;case 32768:Z=1e4;break;case 32769:Z=1252;break}Go(C.codepage=Z),Q=!0;break;case 317:C.rrtabid=ne;break;case 25:C.winlocked=ne;break;case 439:r.opts.RefreshAll=ne;break;case 12:r.opts.CalcCount=ne;break;case 16:r.opts.CalcDelta=ne;break;case 17:r.opts.CalcIter=ne;break;case 13:r.opts.CalcMode=ne;break;case 14:r.opts.CalcPrecision=ne;break;case 95:r.opts.CalcSaveRecalc=ne;break;case 15:C.CalcRefMode=ne;break;case 2211:r.opts.FullCalc=ne;break;case 129:ne.fDialog&&(a["!type"]="dialog"),ne.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),ne.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:j.push(ne);break;case 430:W.push([ne]),W[W.length-1].XTI=[];break;case 35:case 547:W[W.length-1].push(ne);break;case 24:case 536:M={Name:ne.Name,Ref:Si(ne.rgce,s,null,W,C)},ne.itab>0&&(M.Sheet=ne.itab-1),W.names.push(M),W[0]||(W[0]=[],W[0].XTI=[]),W[W.length-1].push(ne),ne.Name=="_xlnm._FilterDatabase"&&ne.itab>0&&ne.rgce&&ne.rgce[0]&&ne.rgce[0][0]&&ne.rgce[0][0][0]=="PtgArea3d"&&(U[ne.itab-1]={ref:dr(ne.rgce[0][0][1][2])});break;case 22:C.ExternCount=ne;break;case 23:W.length==0&&(W[0]=[],W[0].XTI=[]),W[W.length-1].XTI=W[W.length-1].XTI.concat(ne),W.XTI=W.XTI.concat(ne);break;case 2196:if(C.biff<8)break;M!=null&&(M.Comment=ne[1]);break;case 18:a["!protect"]=ne;break;case 19:ne!==0&&C.WTF&&console.error("Password verifier: "+ne);break;case 133:i[ne.pos]=ne,C.snames.push(ne.name);break;case 10:{if(--be)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=dr(s),e.sheetRows&&e.sheetRows<=s.e.r){var Ae=s.e.r;s.e.r=e.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=dr(s),s.e.r=Ae}s.e.r++,s.e.c++}q.length>0&&(a["!merges"]=q),X.length>0&&(a["!objects"]=X),V.length>0&&(a["!cols"]=V),H.length>0&&(a["!rows"]=H),N.Sheets.push(E)}c===""?u=a:n[c]=a,a=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(C.biff===8&&(C.biff={9:2,521:3,1033:4}[de]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ne.BIFFVer]||8),C.biffguess=ne.BIFFVer==0,ne.BIFFVer==0&&ne.dt==4096&&(C.biff=5,Q=!0,Go(C.codepage=28591)),C.biff==8&&ne.BIFFVer==0&&ne.dt==16&&(C.biff=2),be++)break;if(a=e.dense?[]:{},C.biff<8&&!Q&&(Q=!0,Go(C.codepage=e.codepage||1252)),C.biff<5||ne.BIFFVer==0&&ne.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var K={pos:t.l-he,name:c};i[K.pos]=K,C.snames.push(c)}else c=(i[oe]||{name:""}).name;ne.dt==32&&(a["!type"]="chart"),ne.dt==64&&(a["!type"]="macro"),q=[],X=[],C.arrayf=T=[],V=[],H=[],ae=!1,E={Hidden:(i[oe]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(e.dense?(a[ne.r]||[])[ne.c]:a[nr({c:ne.c,r:ne.r})])&&++ne.c,w={ixfe:ne.ixfe,XF:j[ne.ixfe]||{},v:ne.val,t:"n"},D>0&&(w.z=F[w.ixfe>>8&63]),ml(w,e,r.opts.Date1904),A({c:ne.c,r:ne.r},w,e);break;case 5:case 517:w={ixfe:ne.ixfe,XF:j[ne.ixfe],v:ne.val,t:ne.t},D>0&&(w.z=F[w.ixfe>>8&63]),ml(w,e,r.opts.Date1904),A({c:ne.c,r:ne.r},w,e);break;case 638:w={ixfe:ne.ixfe,XF:j[ne.ixfe],v:ne.rknum,t:"n"},D>0&&(w.z=F[w.ixfe>>8&63]),ml(w,e,r.opts.Date1904),A({c:ne.c,r:ne.r},w,e);break;case 189:for(var Te=ne.c;Te<=ne.C;++Te){var Re=ne.rkrec[Te-ne.c][0];w={ixfe:Re,XF:j[Re],v:ne.rkrec[Te-ne.c][1],t:"n"},D>0&&(w.z=F[w.ixfe>>8&63]),ml(w,e,r.opts.Date1904),A({c:Te,r:ne.r},w,e)}break;case 6:case 518:case 1030:{if(ne.val=="String"){o=ne;break}if(w=Xg(ne.val,ne.cell.ixfe,ne.tt),w.XF=j[w.ixfe],e.cellFormula){var Oe=ne.formula;if(Oe&&Oe[0]&&Oe[0][0]&&Oe[0][0][0]=="PtgExp"){var Ne=Oe[0][0][1][0],Qe=Oe[0][0][1][1],Ke=nr({r:Ne,c:Qe});x[Ke]?w.f=""+Si(ne.formula,s,ne.cell,W,C):w.F=((e.dense?(a[Ne]||[])[Qe]:a[Ke])||{}).F}else w.f=""+Si(ne.formula,s,ne.cell,W,C)}D>0&&(w.z=F[w.ixfe>>8&63]),ml(w,e,r.opts.Date1904),A(ne.cell,w,e),o=ne}break;case 7:case 519:if(o)o.val=ne,w=Xg(ne,o.cell.ixfe,"s"),w.XF=j[w.ixfe],e.cellFormula&&(w.f=""+Si(o.formula,s,o.cell,W,C)),D>0&&(w.z=F[w.ixfe>>8&63]),ml(w,e,r.opts.Date1904),A(o.cell,w,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{T.push(ne);var ht=nr(ne[0].s);if(f=e.dense?(a[ne[0].s.r]||[])[ne[0].s.c]:a[ht],e.cellFormula&&f){if(!o||!ht||!f)break;f.f=""+Si(ne[1],s,ne[0],W,C),f.F=dr(ne[0])}}break;case 1212:{if(!e.cellFormula)break;if(d){if(!o)break;x[nr(o.cell)]=ne[0],f=e.dense?(a[o.cell.r]||[])[o.cell.c]:a[nr(o.cell)],(f||{}).f=""+Si(ne[0],s,h,W,C)}}break;case 253:w=Xg(l[ne.isst].t,ne.ixfe,"s"),l[ne.isst].h&&(w.h=l[ne.isst].h),w.XF=j[w.ixfe],D>0&&(w.z=F[w.ixfe>>8&63]),ml(w,e,r.opts.Date1904),A({c:ne.c,r:ne.r},w,e);break;case 513:e.sheetStubs&&(w={ixfe:ne.ixfe,XF:j[ne.ixfe],t:"z"},D>0&&(w.z=F[w.ixfe>>8&63]),ml(w,e,r.opts.Date1904),A({c:ne.c,r:ne.r},w,e));break;case 190:if(e.sheetStubs)for(var ct=ne.c;ct<=ne.C;++ct){var yt=ne.ixfe[ct-ne.c];w={ixfe:yt,XF:j[yt],t:"z"},D>0&&(w.z=F[w.ixfe>>8&63]),ml(w,e,r.opts.Date1904),A({c:ct,r:ne.r},w,e)}break;case 214:case 516:case 4:w=Xg(ne.val,ne.ixfe,"s"),w.XF=j[w.ixfe],D>0&&(w.z=F[w.ixfe>>8&63]),ml(w,e,r.opts.Date1904),A({c:ne.c,r:ne.r},w,e);break;case 0:case 512:be===1&&(s=ne);break;case 252:l=ne;break;case 1054:if(C.biff==4){F[D++]=ne[1];for(var mt=0;mt<D+163&&er[mt]!=ne[1];++mt);mt>=163&&wc(ne[1],D+163)}else wc(ne[1],ne[0]);break;case 30:{F[D++]=ne;for(var St=0;St<D+163&&er[St]!=ne;++St);St>=163&&wc(ne,D+163)}break;case 229:q=q.concat(ne);break;case 93:X[ne.cmo[0]]=C.lastobj=ne;break;case 438:C.lastobj.TxO=ne;break;case 127:C.lastobj.ImData=ne;break;case 440:for(_=ne[0].s.r;_<=ne[0].e.r;++_)for(m=ne[0].s.c;m<=ne[0].e.c;++m)f=e.dense?(a[_]||[])[m]:a[nr({c:m,r:_})],f&&(f.l=ne[1]);break;case 2048:for(_=ne[0].s.r;_<=ne[0].e.r;++_)for(m=ne[0].s.c;m<=ne[0].e.c;++m)f=e.dense?(a[_]||[])[m]:a[nr({c:m,r:_})],f&&f.l&&(f.l.Tooltip=ne[1]);break;case 28:{if(C.biff<=5&&C.biff>=2)break;f=e.dense?(a[ne[0].r]||[])[ne[0].c]:a[nr(ne[0])];var $t=X[ne[2]];f||(e.dense?(a[ne[0].r]||(a[ne[0].r]=[]),f=a[ne[0].r][ne[0].c]={t:"z"}):f=a[nr(ne[0])]={t:"z"},s.e.r=Math.max(s.e.r,ne[0].r),s.s.r=Math.min(s.s.r,ne[0].r),s.e.c=Math.max(s.e.c,ne[0].c),s.s.c=Math.min(s.s.c,ne[0].c)),f.c||(f.c=[]),p={a:ne[1],t:$t.TxO.t},f.c.push(p)}break;case 2173:Dne(j[ne.ixfe],ne.ext);break;case 125:{if(!C.cellStyles)break;for(;ne.e>=ne.s;)V[ne.e--]={width:ne.w/256,level:ne.level||0,hidden:!!(ne.flags&1)},ae||(ae=!0,ME(ne.w/256)),lf(V[ne.e+1])}break;case 520:{var Et={};ne.level!=null&&(H[ne.r]=Et,Et.level=ne.level),ne.hidden&&(H[ne.r]=Et,Et.hidden=!0),ne.hpt&&(H[ne.r]=Et,Et.hpt=ne.hpt,Et.hpx=_d(ne.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||th(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[de]]=ne;break;case 161:a["!margins"]||th(a["!margins"]={}),a["!margins"].header=ne.header,a["!margins"].footer=ne.footer;break;case 574:ne.RTL&&(N.Views[0].RTL=!0);break;case 146:P=ne;break;case 2198:k=ne;break;case 140:I=ne;break;case 442:c?E.CodeName=ne||E.name:N.WBProps.CodeName=ne||"ThisWorkbook";break}}else we||console.error("Missing Info for XLS Record 0x"+de.toString(16)),t.l+=he}return r.SheetNames=ta(i).sort(function(gt,at){return Number(gt)-Number(at)}).map(function(gt){return i[gt].name}),e.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&U.forEach(function(gt,at){r.Sheets[r.SheetNames[at]]["!autofilter"]=gt}),r.Strings=l,r.SSF=Mn(er),C.enc&&(r.Encryption=C.enc),k&&(r.Themes=k),r.Metadata={},I!==void 0&&(r.Metadata.Country=I),W.names.length>0&&(N.Names=W.names),r.Workbook=N,r}var fp={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function $le(t,e,r){var n=Gt.find(t,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=Wk(n,zw,fp.DSI);for(var i in a)e[i]=a[i]}catch(c){if(r.WTF)throw c}var s=Gt.find(t,"/!SummaryInformation");if(s&&s.size>0)try{var o=Wk(s,Hw,fp.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(c){if(r.WTF)throw c}e.HeadingPairs&&e.TitlesOfParts&&(NO(e.HeadingPairs,e.TitlesOfParts,e,r),delete e.HeadingPairs,delete e.TitlesOfParts)}function Xle(t,e){var r=[],n=[],a=[],i=0,s,o=bk(zw,"n"),l=bk(Hw,"n");if(t.Props)for(s=ta(t.Props),i=0;i<s.length;++i)(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(l,s[i])?n:a).push([s[i],t.Props[s[i]]]);if(t.Custprops)for(s=ta(t.Custprops),i=0;i<s.length;++i)Object.prototype.hasOwnProperty.call(t.Props||{},s[i])||(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(l,s[i])?n:a).push([s[i],t.Custprops[s[i]]]);var c=[];for(i=0;i<a.length;++i)FO.indexOf(a[i][0])>-1||CO.indexOf(a[i][0])>-1||a[i][1]!=null&&c.push(a[i]);n.length&&Gt.utils.cfb_add(e,"/SummaryInformation",$k(n,fp.SI,l,Hw)),(r.length||c.length)&&Gt.utils.cfb_add(e,"/DocumentSummaryInformation",$k(r,fp.DSI,o,zw,c.length?c:null,fp.UDI))}function RP(t,e){e||(e={}),WE(e),dE(),e.codepage&&hE(e.codepage);var r,n;if(t.FullPaths){if(Gt.find(t,"/encryption"))throw new Error("File is password-protected");r=Gt.find(t,"!CompObj"),n=Gt.find(t,"/Workbook")||Gt.find(t,"/Book")}else{switch(e.type){case"base64":t=Ms(Ys(t));break;case"binary":t=Ms(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}ai(t,0),n={content:t}}var a,i;if(r&&Hle(r),e.bookProps&&!e.bookSheets)a={};else{var s=yr?"buffer":"array";if(n&&n.content)a=Wle(n.content,e);else if((i=Gt.find(t,"PerfectOffice_MAIN"))&&i.content)a=eh.to_workbook(i.content,(e.type=s,e));else if((i=Gt.find(t,"NativeContent_MAIN"))&&i.content)a=eh.to_workbook(i.content,(e.type=s,e));else throw(i=Gt.find(t,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Gt.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=oae(t))}var o={};return t.FullPaths&&$le(t,o,e),a.Props=a.Custprops=o,e.bookFiles&&(a.cfb=t),a}function Kle(t,e){var r=e||{},n=Gt.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Gt.utils.cfb_add(n,a,LP(t,r)),r.biff==8&&(t.Props||t.Custprops)&&Xle(t,n),r.biff==8&&t.vbaraw&&lae(n,Gt.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var Qp={0:{f:_se},1:{f:kse},2:{f:Wse},3:{f:Pse},4:{f:Rse},5:{f:Hse},6:{f:Qse},7:{f:Use},8:{f:aoe},9:{f:noe},10:{f:toe},11:{f:roe},12:{f:Nse},13:{f:Xse},14:{f:Mse},15:{f:Dse},16:{f:EP},17:{f:Zse},18:{f:Vse},19:{f:kE},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Zoe},40:{},42:{},43:{f:Qre},44:{f:Kre},45:{f:ene},46:{f:rne},47:{f:tne},48:{},49:{f:bZ},50:{},51:{f:Fne},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:$O},62:{f:Yse},63:{f:Gne},64:{f:yoe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ii,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:goe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Sse},148:{f:bse,p:16},151:{f:uoe},152:{},153:{f:Yoe},154:{},155:{},156:{f:Xoe},157:{},158:{},159:{T:1,f:hre},160:{T:-1},161:{T:1,f:Uh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:ioe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:One},336:{T:-1},337:{f:Une,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Vw},357:{},358:{},359:{},360:{T:1},361:{},362:{f:WO},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:foe},427:{f:hoe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:poe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Ase},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:loe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Vw},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:rae},633:{T:1},634:{T:-1},635:{T:1,f:eae},636:{T:-1},637:{f:TZ},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Moe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:woe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Kw={6:{f:Xy},10:{f:uu},12:{f:ya},13:{f:ya},14:{f:oa},15:{f:oa},16:{f:ki},17:{f:oa},18:{f:oa},19:{f:ya},20:{f:Zk},21:{f:Zk},23:{f:WO},24:{f:tC},25:{f:oa},26:{},27:{},28:{f:wte},29:{},34:{f:oa},35:{f:eC},38:{f:ki},39:{f:ki},40:{f:ki},41:{f:ki},42:{f:oa},43:{f:oa},47:{f:Dre},49:{f:Xee},51:{f:ya},60:{},61:{f:Hee},64:{f:oa},65:{f:$ee},66:{f:ya},77:{},80:{},81:{},82:{},85:{f:ya},89:{},90:{},91:{},92:{f:Lee},93:{f:Ate},94:{},95:{f:oa},96:{},97:{},99:{f:oa},125:{f:$O},128:{f:cte},129:{f:Oee},130:{f:ya},131:{f:oa},132:{f:oa},133:{f:Pee},134:{},140:{f:Lte},141:{f:ya},144:{},146:{f:Pte},151:{},152:{},153:{},154:{},155:{},156:{f:ya},157:{},158:{},160:{f:zte},161:{f:Bte},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:ite},190:{f:ste},193:{f:uu},197:{},198:{},199:{},200:{},201:{},202:{f:oa},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ya},220:{},221:{f:oa},222:{},224:{f:lte},225:{f:Ree},226:{f:uu},227:{},229:{f:bte},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Mee},253:{f:Yee},255:{f:Uee},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:MO},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:oa},353:{f:uu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:pte},431:{f:oa},432:{},433:{},434:{},437:{},438:{f:kte},439:{f:oa},440:{f:Cte},441:{},442:{f:Fm},443:{},444:{f:ya},445:{},446:{},448:{f:uu},449:{f:zee,r:2},450:{f:uu},512:{f:Yk},513:{f:Vte},515:{f:hte},516:{f:Jee},517:{f:Jk},519:{f:Hte},520:{f:jee},523:{},545:{f:rC},549:{f:Kk},566:{},574:{f:Gee},638:{f:ate},659:{},1048:{},1054:{f:ete},1084:{},1212:{f:xte},2048:{f:Ite},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Gg},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:uu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Fte,r:12},2173:{f:Lne,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:oa,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:vte,r:12},2197:{},2198:{f:Tne,r:12},2199:{},2200:{},2201:{},2202:{f:_te,r:12},2203:{f:uu},2204:{},2205:{},2206:{},2207:{},2211:{f:Vee},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ya},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Ute},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Ote},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:Yk},1:{},2:{f:Xte},3:{f:Wte},4:{f:Gte},5:{f:Jk},7:{f:Yte},8:{},9:{f:Gg},11:{},22:{f:ya},30:{f:rte},31:{},32:{},33:{f:rC},36:{},37:{f:Kk},50:{f:Qte},62:{},52:{},67:{},68:{f:ya},69:{},86:{},126:{},127:{f:qte},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Jte},223:{},234:{},354:{},421:{},518:{f:Xy},521:{f:Gg},536:{f:tC},547:{f:eC},561:{},579:{},1030:{f:Xy},1033:{f:Gg},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function vt(t,e,r,n){var a=e;if(!isNaN(a)){var i=n||(r||[]).length||0,s=t.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&AE(r)&&t.push(r)}}function Yle(t,e,r,n){var a=(r||[]).length||0;if(a<=8224)return vt(t,e,r,a);var i=e;if(!isNaN(i)){for(var s=r.parts||[],o=0,l=0,c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;var u=t.next(4);for(u.write_shift(2,i),u.write_shift(2,c),t.push(r.slice(l,l+c)),l+=c;l<a;){for(u=t.next(4),u.write_shift(2,60),c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;u.write_shift(2,c),t.push(r.slice(l,l+c)),l+=c}}}function jm(t,e,r){return t||(t=qe(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function Qle(t,e,r,n){var a=qe(9);return jm(a,t,e),BO(r,n||"b",a),a}function Jle(t,e,r){var n=qe(8+2*r.length);return jm(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function Zle(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var a=e.t=="d"?Ua(Fn(e.v)):e.v;a==(a|0)&&a>=0&&a<65536?vt(t,2,Kte(r,n,a)):vt(t,3,$te(r,n,a));return;case"b":case"e":vt(t,5,Qle(r,n,e.v,e.t));return;case"s":case"str":vt(t,4,Jle(r,n,(e.v||"").slice(0,255)));return}vt(t,1,jm(null,r,n))}function ece(t,e,r,n){var a=Array.isArray(e),i=jr(e["!ref"]||"A1"),s,o="",l=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),s=dr(i)}for(var c=i.s.r;c<=i.e.r;++c){o=ma(c);for(var u=i.s.c;u<=i.e.c;++u){c===i.s.r&&(l[u]=zn(u)),s=l[u]+o;var h=a?(e[c]||[])[u]:e[s];h&&Zle(t,h,c,u)}}}function tce(t,e){for(var r=e||{},n=ds(),a=0,i=0;i<t.SheetNames.length;++i)t.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return vt(n,r.biff==4?1033:r.biff==3?521:9,OE(t,16,r)),ece(n,t.Sheets[t.SheetNames[a]],a,r),vt(n,10),n.end()}function rce(t,e,r){vt(t,49,Kee({sz:12,name:"Arial"},r))}function nce(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&vt(t,1054,tte(a,e[a],r))})}function ace(t,e){var r=qe(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),vt(t,2151,r),r=qe(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),HO(jr(e["!ref"]||"A1"),r),r.write_shift(4,4),vt(t,2152,r)}function ice(t,e){for(var r=0;r<16;++r)vt(t,224,Qk({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){vt(t,224,Qk(n,0,e))})}function sce(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];vt(t,440,Nte(n)),n[1].Tooltip&&vt(t,2048,Rte(n))}delete e["!links"]}function oce(t,e){if(e){var r=0;e.forEach(function(n,a){++r<=256&&n&&vt(t,125,Mte(r_(a,n),a))})}}function lce(t,e,r,n,a){var i=16+yf(a.cellXfs,e,a);if(e.v==null&&!e.bf){vt(t,513,Eh(r,n,i));return}if(e.bf)vt(t,6,Oie(e,r,n,a,i));else switch(e.t){case"d":case"n":var s=e.t=="d"?Ua(Fn(e.v)):e.v;vt(t,515,dte(r,n,s,i));break;case"b":case"e":vt(t,517,fte(r,n,e.v,i,a,e.t));break;case"s":case"str":if(a.bookSST){var o=zE(a.Strings,e.v,a.revStrings);vt(t,253,Qee(r,n,o,i))}else vt(t,516,Zee(r,n,(e.v||"").slice(0,255),i,a));break;default:vt(t,513,Eh(r,n,i))}}function cce(t,e,r){var n=ds(),a=r.SheetNames[t],i=r.Sheets[a]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[t]||{},l=Array.isArray(i),c=e.biff==8,u,h="",d=[],f=jr(i["!ref"]||"A1"),p=c?65536:16384;if(f.e.c>255||f.e.r>=p){if(e.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");f.e.c=Math.min(f.e.c,255),f.e.r=Math.min(f.e.c,p-1)}vt(n,2057,OE(r,16,e)),vt(n,13,mo(1)),vt(n,12,mo(100)),vt(n,15,Gi(!0)),vt(n,17,Gi(!1)),vt(n,16,wh(.001)),vt(n,95,Gi(!0)),vt(n,42,Gi(!1)),vt(n,43,Gi(!1)),vt(n,130,mo(1)),vt(n,128,ute()),vt(n,131,Gi(!1)),vt(n,132,Gi(!1)),c&&oce(n,i["!cols"]),vt(n,512,nte(f,e)),c&&(i["!links"]=[]);for(var m=f.s.r;m<=f.e.r;++m){h=ma(m);for(var _=f.s.c;_<=f.e.c;++_){m===f.s.r&&(d[_]=zn(_)),u=d[_]+h;var x=l?(i[m]||[])[_]:i[u];x&&(lce(n,x,m,_,e),c&&x.l&&i["!links"].push([u,x.l]))}}var T=o.CodeName||o.name||a;return c&&vt(n,574,Wee((s.Views||[])[0])),c&&(i["!merges"]||[]).length&&vt(n,229,Ete(i["!merges"])),c&&sce(n,i),vt(n,442,UO(T)),c&&ace(n,i),vt(n,10),n.end()}function uce(t,e,r){var n=ds(),a=(t||{}).Workbook||{},i=a.Sheets||[],s=a.WBProps||{},o=r.biff==8,l=r.biff==5;if(vt(n,2057,OE(t,5,r)),r.bookType=="xla"&&vt(n,135),vt(n,225,o?mo(1200):null),vt(n,193,fee(2)),l&&vt(n,191),l&&vt(n,192),vt(n,226),vt(n,92,Dee("SheetJS",r)),vt(n,66,mo(o?1200:1252)),o&&vt(n,353,mo(0)),o&&vt(n,448),vt(n,317,jte(t.SheetNames.length)),o&&t.vbaraw&&vt(n,211),o&&t.vbaraw){var c=s.CodeName||"ThisWorkbook";vt(n,442,UO(c))}vt(n,156,mo(17)),vt(n,25,Gi(!1)),vt(n,18,Gi(!1)),vt(n,19,mo(0)),o&&vt(n,431,Gi(!1)),o&&vt(n,444,mo(0)),vt(n,61,qee()),vt(n,64,Gi(!1)),vt(n,141,mo(0)),vt(n,34,Gi(zoe(t)=="true")),vt(n,14,Gi(!0)),o&&vt(n,439,Gi(!1)),vt(n,218,mo(0)),rce(n,t,r),nce(n,t.SSF,r),ice(n,r),o&&vt(n,352,Gi(!1));var u=n.end(),h=ds();o&&vt(h,140,Dte()),o&&r.Strings&&Yle(h,252,Bee(r.Strings)),vt(h,10);var d=h.end(),f=ds(),p=0,m=0;for(m=0;m<t.SheetNames.length;++m)p+=(o?12:11)+(o?2:1)*t.SheetNames[m].length;var _=u.length+p+d.length;for(m=0;m<t.SheetNames.length;++m){var x=i[m]||{};vt(f,133,Fee({pos:_,hs:x.Hidden||0,dt:0,name:t.SheetNames[m]},r)),_+=e[m].length}var T=f.end();if(p!=T.length)throw new Error("BS8 "+p+" != "+T.length);var w=[];return u.length&&w.push(u),T.length&&w.push(T),d.length&&w.push(d),Xa(w)}function fce(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=Mn(er)),t&&t.SSF&&(jd(),Kx(t.SSF),r.revssf=Qx(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,$E(r),r.cellXfs=[],yf(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var a=0;a<t.SheetNames.length;++a)n[n.length]=cce(a,r,t);return n.unshift(uce(t,n,r)),Xa(n)}function LP(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var a=ms(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=e||{};switch(i.biff||2){case 8:case 5:return fce(t,e);case 4:case 3:case 2:return tce(t,e)}throw new Error("invalid type "+i.bookType+" for BIFF")}function hC(t,e){var r=e||{},n=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var a=t.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=t.match(/<\/table/i),s=a.index,o=i&&i.index||t.length,l=KJ(t.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,h=0,d=0,f={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(s=0;s<l.length;++s){var m=l[s].trim(),_=m.slice(0,3).toLowerCase();if(_=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(_!="<td"&&_!="<th")){var x=m.split(/<\/t[dh]>/i);for(o=0;o<x.length;++o){var T=x[o].trim();if(T.match(/<t[dh]/i)){for(var w=T,I=0;w.charAt(0)=="<"&&(I=w.indexOf(">"))>-1;)w=w.slice(I+1);for(var j=0;j<p.length;++j){var P=p[j];P.s.c==u&&P.s.r<c&&c<=P.e.r&&(u=P.e.c+1,j=-1)}var N=ar(T.slice(0,T.indexOf(">")));d=N.colspan?+N.colspan:1,((h=+N.rowspan)>1||d>1)&&p.push({s:{r:c,c:u},e:{r:c+(h||1)-1,c:u+d-1}});var E=N.t||N["data-t"]||"";if(!w.length){u+=d;continue}if(w=rO(w),f.s.r>c&&(f.s.r=c),f.e.r<c&&(f.e.r=c),f.s.c>u&&(f.s.c=u),f.e.c<u&&(f.e.c=u),!w.length){u+=d;continue}var y={t:"s",v:w};r.raw||!w.trim().length||E=="s"||(w==="TRUE"?y={t:"b",v:!0}:w==="FALSE"?y={t:"b",v:!1}:isNaN(Xo(w))?isNaN(vd(w).getDate())||(y={t:"d",v:Fn(w)},r.cellDates||(y={t:"n",v:Ua(y.v)}),y.z=r.dateNF||er[14]):y={t:"n",v:Xo(w)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=y):n[nr({r:c,c:u})]=y,u+=d}}}}return n["!ref"]=dr(f),p.length&&(n["!merges"]=p),n}function hce(t,e,r,n){for(var a=t["!merges"]||[],i=[],s=e.s.c;s<=e.e.c;++s){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>s)&&!(a[c].e.r<r||a[c].e.c<s)){if(a[c].s.r<r||a[c].s.c<s){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var u=nr({r,c:s}),h=n.dense?(t[r]||[])[s]:t[u],d=h&&h.v!=null&&(h.h||wE(h.w||(Dc(h),h.w)||""))||"",f={};o>1&&(f.rowspan=o),l>1&&(f.colspan=l),n.editable?d='<span contenteditable="true">'+d+"</span>":h&&(f["data-t"]=h&&h.t||"z",h.v!=null&&(f["data-v"]=h.v),h.z!=null&&(f["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(d='<a href="'+h.l.Target+'">'+d+"</a>")),f.id=(n.id||"sjs")+"-"+u,i.push(pt("td",d,f))}}var p="<tr>";return p+i.join("")+"</tr>"}var dce='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',pce="</body></html>";function mce(t,e){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return _f(hC(r[0],e),e);var n=YE();return r.forEach(function(a,i){QE(n,hC(a,e),"Sheet"+(i+1))}),n}function gce(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function DP(t,e){var r=e||{},n=r.header!=null?r.header:dce,a=r.footer!=null?r.footer:pce,i=[n],s=ms(t["!ref"]);r.dense=Array.isArray(t),i.push(gce(t,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(hce(t,s,o,r));return i.push("</table>"+a),i.join("")}function OP(t,e,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?Hn(n.origin):n.origin;a=s.r,i=s.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(t["!ref"]){var u=ms(t["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),a==-1&&(c.e.r=a=u.e.r+1)}var h=[],d=0,f=t["!rows"]||(t["!rows"]=[]),p=0,m=0,_=0,x=0,T=0,w=0;for(t["!cols"]||(t["!cols"]=[]);p<o.length&&m<l;++p){var I=o[p];if(dC(I)){if(n.display)continue;f[m]={hidden:!0}}var j=I.children;for(_=x=0;_<j.length;++_){var P=j[_];if(!(n.display&&dC(P))){var N=P.hasAttribute("data-v")?P.getAttribute("data-v"):P.hasAttribute("v")?P.getAttribute("v"):rO(P.innerHTML),E=P.getAttribute("data-z")||P.getAttribute("z");for(d=0;d<h.length;++d){var y=h[d];y.s.c==x+i&&y.s.r<m+a&&m+a<=y.e.r&&(x=y.e.c+1-i,d=-1)}w=+P.getAttribute("colspan")||1,((T=+P.getAttribute("rowspan")||1)>1||w>1)&&h.push({s:{r:m+a,c:x+i},e:{r:m+a+(T||1)-1,c:x+i+(w||1)-1}});var R={t:"s",v:N},A=P.getAttribute("data-t")||P.getAttribute("t")||"";N!=null&&(N.length==0?R.t=A||"z":n.raw||N.trim().length==0||A=="s"||(N==="TRUE"?R={t:"b",v:!0}:N==="FALSE"?R={t:"b",v:!1}:isNaN(Xo(N))?isNaN(vd(N).getDate())||(R={t:"d",v:Fn(N)},n.cellDates||(R={t:"n",v:Ua(R.v)}),R.z=n.dateNF||er[14]):R={t:"n",v:Xo(N)})),R.z===void 0&&E!=null&&(R.z=E);var C="",k=P.getElementsByTagName("A");if(k&&k.length)for(var q=0;q<k.length&&!(k[q].hasAttribute("href")&&(C=k[q].getAttribute("href"),C.charAt(0)!="#"));++q);C&&C.charAt(0)!="#"&&(R.l={Target:C}),n.dense?(t[m+a]||(t[m+a]=[]),t[m+a][x+i]=R):t[nr({c:x+i,r:m+a})]=R,c.e.c<x+i&&(c.e.c=x+i),x+=w}}++m}return h.length&&(t["!merges"]=(t["!merges"]||[]).concat(h)),c.e.r=Math.max(c.e.r,m-1+a),t["!ref"]=dr(c),m>=l&&(t["!fullref"]=dr((c.e.r=o.length-p+m-1+a,c))),t}function PP(t,e){var r=e||{},n=r.dense?[]:{};return OP(n,t,e)}function vce(t,e){return _f(PP(t,e),e)}function dC(t){var e="",r=xce(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function xce(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function _ce(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Ur(e.replace(/<[^>]*>/g,""));return[r]}var pC={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function FP(t,e){var r=e||{},n=bE(t),a=[],i,s,o={name:""},l="",c=0,u,h,d={},f=[],p=r.dense?[]:{},m,_,x={value:""},T="",w=0,I=[],j=-1,P=-1,N={s:{r:1e6,c:1e7},e:{r:0,c:0}},E=0,y={},R=[],A={},C=0,k=0,q=[],X=1,V=1,H=[],ae={Names:[]},W={},ge=["",""],be=[],D={},F="",U=0,M=!1,Q=!1,oe=0;for(Gp.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");m=Gp.exec(n);)switch(m[3]=m[3].replace(/_.*$/,"")){case"table":case"":m[1]==="/"?(N.e.c>=N.s.c&&N.e.r>=N.s.r?p["!ref"]=dr(N):p["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=N.e.r&&(p["!fullref"]=p["!ref"],N.e.r=r.sheetRows-1,p["!ref"]=dr(N)),R.length&&(p["!merges"]=R),q.length&&(p["!rows"]=q),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),f.push(u.name),d[u.name]=p,Q=!1):m[0].charAt(m[0].length-2)!=="/"&&(u=ar(m[0],!1),j=P=-1,N.s.r=N.s.c=1e7,N.e.r=N.e.c=0,p=r.dense?[]:{},R=[],q=[],Q=!0);break;case"table-row-group":m[1]==="/"?--E:++E;break;case"table-row":case"":if(m[1]==="/"){j+=X,X=1;break}if(h=ar(m[0],!1),h.?j=h.-1:j==-1&&(j=0),X=+h["number-rows-repeated"]||1,X<10)for(oe=0;oe<X;++oe)E>0&&(q[j+oe]={level:E});P=-1;break;case"covered-table-cell":m[1]!=="/"&&++P,r.sheetStubs&&(r.dense?(p[j]||(p[j]=[]),p[j][P]={t:"z"}):p[nr({r:j,c:P})]={t:"z"}),T="",I=[];break;case"table-cell":case"":if(m[0].charAt(m[0].length-2)==="/")++P,x=ar(m[0],!1),V=parseInt(x["number-columns-repeated"]||"1",10),_={t:"z",v:null},x.formula&&r.cellFormula!=!1&&(_.f=cC(Ur(x.formula))),(x.||x["value-type"])=="string"&&(_.t="s",_.v=Ur(x["string-value"]||""),r.dense?(p[j]||(p[j]=[]),p[j][P]=_):p[nr({r:j,c:P})]=_),P+=V-1;else if(m[1]!=="/"){++P,T="",w=0,I=[],V=1;var de=X?j+X-1:j;if(P>N.e.c&&(N.e.c=P),P<N.s.c&&(N.s.c=P),j<N.s.r&&(N.s.r=j),de>N.e.r&&(N.e.r=de),x=ar(m[0],!1),be=[],D={},_={t:x.||x["value-type"],v:null},r.cellFormula)if(x.formula&&(x.formula=Ur(x.formula)),x["number-matrix-columns-spanned"]&&x["number-matrix-rows-spanned"]&&(C=parseInt(x["number-matrix-rows-spanned"],10)||0,k=parseInt(x["number-matrix-columns-spanned"],10)||0,A={s:{r:j,c:P},e:{r:j+C-1,c:P+k-1}},_.F=dr(A),H.push([A,_.F])),x.formula)_.f=cC(x.formula);else for(oe=0;oe<H.length;++oe)j>=H[oe][0].s.r&&j<=H[oe][0].e.r&&P>=H[oe][0].s.c&&P<=H[oe][0].e.c&&(_.F=H[oe][1]);switch((x["number-columns-spanned"]||x["number-rows-spanned"])&&(C=parseInt(x["number-rows-spanned"],10)||0,k=parseInt(x["number-columns-spanned"],10)||0,A={s:{r:j,c:P},e:{r:j+C-1,c:P+k-1}},R.push(A)),x["number-columns-repeated"]&&(V=parseInt(x["number-columns-repeated"],10)),_.t){case"boolean":_.t="b",_.v=Ln(x["boolean-value"]);break;case"float":_.t="n",_.v=parseFloat(x.value);break;case"percentage":_.t="n",_.v=parseFloat(x.value);break;case"currency":_.t="n",_.v=parseFloat(x.value);break;case"date":_.t="d",_.v=Fn(x["date-value"]),r.cellDates||(_.t="n",_.v=Ua(_.v)),_.z="m/d/yy";break;case"time":_.t="n",_.v=WJ(x["time-value"])/86400,r.cellDates&&(_.t="d",_.v=Jx(_.v)),_.z="HH:MM:SS";break;case"number":_.t="n",_.v=parseFloat(x.);break;default:if(_.t==="string"||_.t==="text"||!_.t)_.t="s",x["string-value"]!=null&&(T=Ur(x["string-value"]),I=[]);else throw new Error("Unsupported value type "+_.t)}}else{if(M=!1,_.t==="s"&&(_.v=T||"",I.length&&(_.R=I),M=w==0),W.Target&&(_.l=W),be.length>0&&(_.c=be,be=[]),T&&r.cellText!==!1&&(_.w=T),M&&(_.t="z",delete _.v),(!M||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=j))for(var he=0;he<X;++he){if(V=parseInt(x["number-columns-repeated"]||"1",10),r.dense)for(p[j+he]||(p[j+he]=[]),p[j+he][P]=he==0?_:Mn(_);--V>0;)p[j+he][P+V]=Mn(_);else for(p[nr({r:j+he,c:P})]=_;--V>0;)p[nr({r:j+he,c:P+V})]=Mn(_);N.e.c<=P&&(N.e.c=P)}V=parseInt(x["number-columns-repeated"]||"1",10),P+=V-1,V=0,_={},T="",I=[]}W={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i;D.t=T,I.length&&(D.R=I),D.a=F,be.push(D)}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);F="",U=0,T="",w=0,I=[];break;case"creator":m[1]==="/"?F=n.slice(U,m.index):U=m.index+m[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);T="",w=0,I=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){if(y[o.name]=l,(i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&(l="",o=ar(m[0],!1),a.push([m[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=ar(m[0],!1),l+=pC[m[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=ar(m[0],!1),l+=pC[m[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,m.index);break}else c=m.index+m[0].length;break;case"named-range":s=ar(m[0],!1),ge=Ky(s["cell-range-address"]);var we={Name:s.name,Ref:ge[0]+"!"+ge[1]};Q&&(we.Sheet=f.length),ae.Names.push(we);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(m[1]==="/"&&(!x||!x["string-value"])){var ke=_ce(n.slice(w,m.index));T=(T.length>0?T+`
`:"")+ke[0]}else ar(m[0],!1),w=m.index+m[0].length;break;case"s":break;case"database-range":if(m[1]==="/")break;try{ge=Ky(ar(m[0])["target-range-address"]),d[ge[0]]["!autofilter"]={ref:ge[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(W=ar(m[0],!1),!W.href)break;W.Target=Ur(W.href),delete W.href,W.Target.charAt(0)=="#"&&W.Target.indexOf(".")>-1?(ge=Ky(W.Target.slice(1)),W.Target="#"+ge[0]+"!"+ge[1]):W.Target.match(/^\.\.[\\\/]/)&&(W.Target=W.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(m)}}var ne={Sheets:d,SheetNames:f,Workbook:ae};return r.bookSheets&&delete ne.Sheets,ne}function mC(t,e){e=e||{},ho(t,"META-INF/manifest.xml")&&WZ(_a(t,"META-INF/manifest.xml"),e);var r=Bs(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=FP(un(r),e);return ho(t,"meta.xml")&&(n.Props=TO(_a(t,"meta.xml"))),n}function gC(t,e){return FP(t,e)}var yce=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+qp({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return ga+e}}(),vC=function(){var t=function(i){return an(i).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,s,o){var l=[];l.push('      <table:table table:name="'+an(s.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,u=0,h=ms(i["!ref"]||"A1"),d=i["!merges"]||[],f=0,p=Array.isArray(i);if(i["!cols"])for(u=0;u<=h.e.c;++u)l.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var m="",_=i["!rows"]||[];for(c=0;c<h.s.r;++c)m=_[c]?' table:style-name="ro'+_[c].ods+'"':"",l.push("        <table:table-row"+m+`></table:table-row>
`);for(;c<=h.e.r;++c){for(m=_[c]?' table:style-name="ro'+_[c].ods+'"':"",l.push("        <table:table-row"+m+`>
`),u=0;u<h.s.c;++u)l.push(e);for(;u<=h.e.c;++u){var x=!1,T={},w="";for(f=0;f!=d.length;++f)if(!(d[f].s.c>u)&&!(d[f].s.r>c)&&!(d[f].e.c<u)&&!(d[f].e.r<c)){(d[f].s.c!=u||d[f].s.r!=c)&&(x=!0),T["table:number-columns-spanned"]=d[f].e.c-d[f].s.c+1,T["table:number-rows-spanned"]=d[f].e.r-d[f].s.r+1;break}if(x){l.push(r);continue}var I=nr({r:c,c:u}),j=p?(i[c]||[])[u]:i[I];if(j&&j.f&&(T["table:formula"]=an(jie(j.f)),j.F&&j.F.slice(0,I.length)==I)){var P=ms(j.F);T["table:number-matrix-columns-spanned"]=P.e.c-P.s.c+1,T["table:number-matrix-rows-spanned"]=P.e.r-P.s.r+1}if(!j){l.push(e);continue}switch(j.t){case"b":w=j.v?"TRUE":"FALSE",T["office:value-type"]="boolean",T["office:boolean-value"]=j.v?"true":"false";break;case"n":w=j.w||String(j.v||0),T["office:value-type"]="float",T["office:value"]=j.v||0;break;case"s":case"str":w=j.v==null?"":j.v,T["office:value-type"]="string";break;case"d":w=j.w||Fn(j.v).toISOString(),T["office:value-type"]="date",T["office:date-value"]=Fn(j.v).toISOString(),T["table:style-name"]="ce1";break;default:l.push(e);continue}var N=t(w);if(j.l&&j.l.Target){var E=j.l.Target;E=E.charAt(0)=="#"?"#"+Vie(E.slice(1)):E,E.charAt(0)!="#"&&!E.match(/^\w+:/)&&(E="../"+E),N=pt("text:a",N,{"xlink:href":E.replace(/&/g,"&amp;")})}l.push("          "+pt("table:table-cell",pt("text:p",N,{}),T)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},a=function(i,s){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var h=c["!cols"][u];if(h.width==null&&h.wpx==null&&h.wch==null)continue;lf(h),h.ods=o;var d=c["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+d+`"/>
`),i.push(`  </style:style>
`),++o}}});var l=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var h=c["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),i.push(`  </style:style>
`),++l}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(s,o){var l=[ga],c=qp({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=qp({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(SO().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),a(l,s),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var h=0;h!=s.SheetNames.length;++h)l.push(n(s.Sheets[s.SheetNames[h]],s,h));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function MP(t,e){if(e.bookType=="fods")return vC(t,e);var r=xE(),n="",a=[],i=[];return n="mimetype",gr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",gr(r,n,vC(t,e)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",gr(r,n,yce(t,e)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",gr(r,n,ga+SO()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",gr(r,n,KZ(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",gr(r,n,$Z(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Ah(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Yw(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):un(xf(t))}function wce(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Ms(Tl(t))}function bce(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function uf(t){var e=t.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(a){r.set(a,n),n+=a.length}),r}function xC(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function Ece(t,e){for(var r=(t[e+15]&127)<<7|t[e+14]>>1,n=t[e+14]&1,a=e+13;a>=e;--a)n=n*256+t[a];return(t[e+15]&128?-n:n)*Math.pow(10,r-6176)}function Ace(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)t[e+i]=a&255;t[e+15]|=r>=0?0:128}function Jp(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function Jr(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function Zn(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function zr(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],a=Jp(t,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var l=r[0];t[r[0]++]>=128;);o=t.slice(l,r[0])}break;case 5:s=4,o=t.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=t.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=Jp(t,r),o=t.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var c={data:o,type:i};e[a]==null?e[a]=[c]:e[a].push(c)}return e}function ti(t){var e=[];return t.forEach(function(r,n){r.forEach(function(a){a.data&&(e.push(Jr(n*8+a.type)),a.type==2&&e.push(Jr(a.data.length)),e.push(a.data))})}),uf(e)}function GE(t,e){return(t==null?void 0:t.map(function(r){return e(r.data)}))||[]}function uo(t){for(var e,r=[],n=[0];n[0]<t.length;){var a=Jp(t,n),i=zr(t.slice(n[0],n[0]+a));n[0]+=a;var s={id:Zn(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=zr(o.data),c=Zn(l[3][0].data);s.messages.push({meta:l,data:t.slice(n[0],n[0]+c)}),n[0]+=c}),(e=i[3])!=null&&e[0]&&(s.merge=Zn(i[3][0].data)>>>0>0),r.push(s)}return r}function i0(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:Jr(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Jr(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(s){a.push(s.data),s.meta[3]=[{type:0,data:Jr(s.data.length)}],n[2].push({data:ti(s.meta),type:2})});var i=ti(n);e.push(Jr(i.length)),e.push(i),a.forEach(function(s){return e.push(s)})}),uf(e)}function Sce(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=Jp(e,r),a=[];r[0]<e.length;){var i=e[r[0]]&3;if(i==0){var s=e[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=e[r[0]],o>1&&(s|=e[r[0]+1]<<8),o>2&&(s|=e[r[0]+2]<<16),o>3&&(s|=e[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(e.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(i==1?(c=(e[r[0]]>>2&7)+4,l=(e[r[0]++]&224)<<3,l|=e[r[0]++]):(c=(e[r[0]++]>>2)+1,i==2?(l=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(l=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),a=[uf(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var u=uf(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function fo(t){for(var e=[],r=0;r<t.length;){var n=t[r++],a=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(Sce(n,t.slice(r,r+a))),r+=a}if(r!==t.length)throw new Error("data is not a valid framed stream!");return uf(e)}function s0(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),a=new Uint8Array(4);e.push(a);var i=Jr(n),s=i.length;e.push(i),n<=60?(s++,e.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),s+=n,a[0]=0,a[1]=s&255,a[2]=s>>8&255,a[3]=s>>16&255,r+=n}return uf(e)}function Tce(t,e,r,n){var a=Ah(t),i=a.getUint32(4,!0),s=(n>1?12:8)+xC(i&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);i&512&&(o=a.getUint32(s,!0),s+=4),s+=xC(i&(n>1?12288:4096))*4,i&16&&(l=a.getUint32(s,!0),s+=4),i&32&&(c=a.getFloat64(s,!0),s+=8),i&64&&(u.setTime(u.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var h;switch(t[2]){case 0:break;case 2:h={t:"n",v:c};break;case 3:h={t:"s",v:e[l]};break;case 5:h={t:"d",v:u};break;case 6:h={t:"b",v:c>0};break;case 7:h={t:"n",v:c/86400};break;case 8:h={t:"e",v:0};break;case 9:if(o>-1)h={t:"s",v:r[o]};else if(l>-1)h={t:"s",v:e[l]};else if(!isNaN(c))h={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return h}function kce(t,e,r){var n=Ah(t),a=n.getUint32(8,!0),i=12,s=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);a&1&&(l=Ece(t,i),i+=16),a&2&&(c=n.getFloat64(i,!0),i+=8),a&4&&(u.setTime(u.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var h;switch(t[1]){case 0:break;case 2:h={t:"n",v:l};break;case 3:h={t:"s",v:e[o]};break;case 5:h={t:"d",v:u};break;case 6:h={t:"b",v:c>0};break;case 7:h={t:"n",v:c/86400};break;case 8:h={t:"e",v:0};break;case 9:if(s>-1)h={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(a&31," : ").concat(t.slice(0,4)));break;case 10:h={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(a&31," : ").concat(t.slice(0,4)))}return h}function Qy(t,e){var r=new Uint8Array(32),n=Ah(r),a=12,i=0;switch(r[0]=5,t.t){case"n":r[1]=2,Ace(r,a,t.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,t.v?1:0,!0),i|=2,a+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(a,e.indexOf(t.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,i,!0),r.slice(0,a)}function Jy(t,e){var r=new Uint8Array(32),n=Ah(r),a=12,i=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(a,t.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,t.v?1:0,!0),i|=32,a+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(a,e.indexOf(t.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,i,!0),r.slice(0,a)}function Cce(t,e,r){switch(t[0]){case 0:case 1:case 2:case 3:return Tce(t,e,r,t[0]);case 5:return kce(t,e,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function Ai(t){var e=zr(t);return Jp(e[1][0].data)}function _C(t,e){var r=zr(e.data),n=Zn(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var o=zr(s.data),l=Zn(o[1][0].data)>>>0;switch(n){case 1:i[l]=Yw(o[3][0].data);break;case 8:{var c=t[Ai(o[9][0].data)][0],u=zr(c.data),h=t[Ai(u[1][0].data)][0],d=Zn(h.meta[1][0].data);if(d!=2001)throw new Error("2000 unexpected reference to ".concat(d));var f=zr(h.data);i[l]=f[3].map(function(p){return Yw(p.data)}).join("")}break}}),i}function Nce(t,e){var r,n,a,i,s,o,l,c,u,h,d,f,p,m,_=zr(t),x=Zn(_[1][0].data)>>>0,T=Zn(_[2][0].data)>>>0,w=((n=(r=_[8])==null?void 0:r[0])==null?void 0:n.data)&&Zn(_[8][0].data)>0||!1,I,j;if((i=(a=_[7])==null?void 0:a[0])!=null&&i.data&&e!=0)I=(o=(s=_[7])==null?void 0:s[0])==null?void 0:o.data,j=(c=(l=_[6])==null?void 0:l[0])==null?void 0:c.data;else if((h=(u=_[4])==null?void 0:u[0])!=null&&h.data&&e!=1)I=(f=(d=_[4])==null?void 0:d[0])==null?void 0:f.data,j=(m=(p=_[3])==null?void 0:p[0])==null?void 0:m.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var P=w?4:1,N=Ah(I),E=[],y=0;y<I.length/2;++y){var R=N.getUint16(y*2,!0);R<65535&&E.push([y,R])}if(E.length!=T)throw"Expected ".concat(T," cells, found ").concat(E.length);var A=[];for(y=0;y<E.length-1;++y)A[E[y][0]]=j.subarray(E[y][1]*P,E[y+1][1]*P);return E.length>=1&&(A[E[E.length-1][0]]=j.subarray(E[E.length-1][1]*P)),{R:x,cells:A}}function Ice(t,e){var r,n=zr(e.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Zn(n[7][0].data)>>>0>0?1:0:-1,i=GE(n[5],function(s){return Nce(s,a)});return{nrows:Zn(n[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,c){if(s[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));s[o.R][c]=l}),s},[])}}function Rce(t,e,r){var n,a=zr(e.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Zn(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Zn(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=dr(i);var s=zr(a[4][0].data),o=_C(t,t[Ai(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?_C(t,t[Ai(s[17][0].data)][0]):[],c=zr(s[3][0].data),u=0;c[1].forEach(function(h){var d=zr(h.data),f=t[Ai(d[2][0].data)][0],p=Zn(f.meta[1][0].data);if(p!=6002)throw new Error("6001 unexpected reference to ".concat(p));var m=Ice(t,f);m.data.forEach(function(_,x){_.forEach(function(T,w){var I=nr({r:u+x,c:w}),j=Cce(T,o,l);j&&(r[I]=j)})}),u+=m.nrows})}function Lce(t,e){var r=zr(e.data),n={"!ref":"A1"},a=t[Ai(r[2][0].data)],i=Zn(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return Rce(t,a[0],n),n}function Dce(t,e){var r,n=zr(e.data),a={name:(r=n[1])!=null&&r[0]?Yw(n[1][0].data):"",sheets:[]},i=GE(n[2],Ai);return i.forEach(function(s){t[s].forEach(function(o){var l=Zn(o.meta[1][0].data);l==6e3&&a.sheets.push(Lce(t,o))})}),a}function Oce(t,e){var r=YE(),n=zr(e.data),a=GE(n[1],Ai);if(a.forEach(function(i){t[i].forEach(function(s){var o=Zn(s.meta[1][0].data);if(o==2){var l=Dce(t,s);l.sheets.forEach(function(c,u){QE(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function Zy(t){var e,r,n,a,i={},s=[];if(t.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=fo(l.content)}catch(h){return console.log("?? "+l.content.length+" "+(h.message||h))}var u;try{u=uo(c)}catch(h){return console.log("## "+(h.message||h))}u.forEach(function(h){i[h.id]=h.messages,s.push(h.id)})}}),!s.length)throw new Error("File has no messages");var o=((a=(n=(r=(e=i==null?void 0:i[1])==null?void 0:e[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Zn(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(l){i[l].forEach(function(c){var u=Zn(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Oce(i,o)}function Pce(t,e,r){var n,a,i,s;if(!((n=t[6])!=null&&n[0])||!((a=t[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(i=t[8])==null?void 0:i[0])==null?void 0:s.data)&&Zn(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=Ah(t[7][0].data),u=0,h=[],d=Ah(t[4][0].data),f=0,p=[],m=0;m<e.length;++m){if(e[m]==null){c.setUint16(m*2,65535,!0),d.setUint16(m*2,65535);continue}c.setUint16(m*2,u,!0),d.setUint16(m*2,f,!0);var _,x;switch(typeof e[m]){case"string":_=Qy({t:"s",v:e[m]},r),x=Jy({t:"s",v:e[m]},r);break;case"number":_=Qy({t:"n",v:e[m]},r),x=Jy({t:"n",v:e[m]},r);break;case"boolean":_=Qy({t:"b",v:e[m]},r),x=Jy({t:"b",v:e[m]},r);break;default:throw new Error("Unsupported value "+e[m])}h.push(_),u+=_.length,p.push(x),f+=x.length,++l}for(t[2][0].data=Jr(l);m<t[7][0].data.length/2;++m)c.setUint16(m*2,65535,!0),d.setUint16(m*2,65535,!0);return t[6][0].data=uf(h),t[3][0].data=uf(p),l}function Fce(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=ms(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(dr(n)));var i=Yv(r,{range:n,header:1}),s=["~Sh33tJ5~"];i.forEach(function(F){return F.forEach(function(U){typeof U=="string"&&s.push(U)})});var o={},l=[],c=Gt.read(e.numbers,{type:"base64"});c.FileIndex.map(function(F,U){return[F,c.FullPaths[U]]}).forEach(function(F){var U=F[0],M=F[1];if(U.type==2&&U.name.match(/\.iwa/)){var Q=U.content,oe=fo(Q),de=uo(oe);de.forEach(function(he){l.push(he.id),o[he.id]={deps:[],location:M,type:Zn(he.messages[0].meta[1][0].data)}})}}),l.sort(function(F,U){return F-U});var u=l.filter(function(F){return F>1}).map(function(F){return[F,Jr(F)]});c.FileIndex.map(function(F,U){return[F,c.FullPaths[U]]}).forEach(function(F){var U=F[0];if(F[1],!!U.name.match(/\.iwa/)){var M=uo(fo(U.content));M.forEach(function(Q){Q.messages.forEach(function(oe){u.forEach(function(de){Q.messages.some(function(he){return Zn(he.meta[1][0].data)!=11006&&bce(he.data,de[1])})&&o[de[0]].deps.push(Q.id)})})})}});for(var h=Gt.find(c,o[1].location),d=uo(fo(h.content)),f,p=0;p<d.length;++p){var m=d[p];m.id==1&&(f=m)}var _=Ai(zr(f.messages[0].data)[1][0].data);for(h=Gt.find(c,o[_].location),d=uo(fo(h.content)),p=0;p<d.length;++p)m=d[p],m.id==_&&(f=m);for(_=Ai(zr(f.messages[0].data)[2][0].data),h=Gt.find(c,o[_].location),d=uo(fo(h.content)),p=0;p<d.length;++p)m=d[p],m.id==_&&(f=m);for(_=Ai(zr(f.messages[0].data)[2][0].data),h=Gt.find(c,o[_].location),d=uo(fo(h.content)),p=0;p<d.length;++p)m=d[p],m.id==_&&(f=m);var x=zr(f.messages[0].data);{x[6][0].data=Jr(n.e.r+1),x[7][0].data=Jr(n.e.c+1);var T=Ai(x[46][0].data),w=Gt.find(c,o[T].location),I=uo(fo(w.content));{for(var j=0;j<I.length&&I[j].id!=T;++j);if(I[j].id!=T)throw"Bad ColumnRowUIDMapArchive";var P=zr(I[j].messages[0].data);P[1]=[],P[2]=[],P[3]=[];for(var N=0;N<=n.e.c;++N){var E=[];E[1]=E[2]=[{type:0,data:Jr(N+420690)}],P[1].push({type:2,data:ti(E)}),P[2].push({type:0,data:Jr(N)}),P[3].push({type:0,data:Jr(N)})}P[4]=[],P[5]=[],P[6]=[];for(var y=0;y<=n.e.r;++y)E=[],E[1]=E[2]=[{type:0,data:Jr(y+726270)}],P[4].push({type:2,data:ti(E)}),P[5].push({type:0,data:Jr(y)}),P[6].push({type:0,data:Jr(y)});I[j].messages[0].data=ti(P)}w.content=s0(i0(I)),w.size=w.content.length,delete x[46];var R=zr(x[4][0].data);{R[7][0].data=Jr(n.e.r+1);var A=zr(R[1][0].data),C=Ai(A[2][0].data);w=Gt.find(c,o[C].location),I=uo(fo(w.content));{if(I[0].id!=C)throw"Bad HeaderStorageBucket";var k=zr(I[0].messages[0].data);for(y=0;y<i.length;++y){var q=zr(k[2][0].data);q[1][0].data=Jr(y),q[4][0].data=Jr(i[y].length),k[2][y]={type:k[2][0].type,data:ti(q)}}I[0].messages[0].data=ti(k)}w.content=s0(i0(I)),w.size=w.content.length;var X=Ai(R[2][0].data);w=Gt.find(c,o[X].location),I=uo(fo(w.content));{if(I[0].id!=X)throw"Bad HeaderStorageBucket";for(k=zr(I[0].messages[0].data),N=0;N<=n.e.c;++N)q=zr(k[2][0].data),q[1][0].data=Jr(N),q[4][0].data=Jr(n.e.r+1),k[2][N]={type:k[2][0].type,data:ti(q)};I[0].messages[0].data=ti(k)}w.content=s0(i0(I)),w.size=w.content.length;var V=Ai(R[4][0].data);(function(){for(var F=Gt.find(c,o[V].location),U=uo(fo(F.content)),M,Q=0;Q<U.length;++Q){var oe=U[Q];oe.id==V&&(M=oe)}var de=zr(M.messages[0].data);{de[3]=[];var he=[];s.forEach(function(ne,Z){he[1]=[{type:0,data:Jr(Z)}],he[2]=[{type:0,data:Jr(1)}],he[3]=[{type:2,data:wce(ne)}],de[3].push({type:2,data:ti(he)})})}M.messages[0].data=ti(de);var we=i0(U),ke=s0(we);F.content=ke,F.size=F.content.length})();var H=zr(R[3][0].data);{var ae=H[1][0];delete H[2];var W=zr(ae.data);{var ge=Ai(W[2][0].data);(function(){for(var F=Gt.find(c,o[ge].location),U=uo(fo(F.content)),M,Q=0;Q<U.length;++Q){var oe=U[Q];oe.id==ge&&(M=oe)}var de=zr(M.messages[0].data);{delete de[6],delete H[7];var he=new Uint8Array(de[5][0].data);de[5]=[];for(var we=0,ke=0;ke<=n.e.r;++ke){var ne=zr(he);we+=Pce(ne,i[ke],s),ne[1][0].data=Jr(ke),de[5].push({data:ti(ne),type:2})}de[1]=[{type:0,data:Jr(n.e.c+1)}],de[2]=[{type:0,data:Jr(n.e.r+1)}],de[3]=[{type:0,data:Jr(we)}],de[4]=[{type:0,data:Jr(n.e.r+1)}]}M.messages[0].data=ti(de);var Z=i0(U),Ae=s0(Z);F.content=Ae,F.size=F.content.length})()}ae.data=ti(W)}R[3][0].data=ti(H)}x[4][0].data=ti(R)}f.messages[0].data=ti(x);var be=i0(d),D=s0(be);return h.content=D,h.size=h.content.length,c}function BP(t){return function(r){for(var n=0;n!=t.length;++n){var a=t[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function WE(t){BP([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function $E(t){BP([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function Mce(t){return wr.WS.indexOf(t)>-1?"sheet":t==wr.CS?"chart":t==wr.DS?"dialog":t==wr.MS?"macro":t&&t.length?t:"sheet"}function Bce(t,e){if(!t)return 0;try{t=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,t["!id"][n.id].Target,Mce(t["!id"][n.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function Uce(t,e,r,n,a,i,s,o,l,c,u,h){try{i[n]=op(Bs(t,r,!0),e);var d=_a(t,e),f;switch(o){case"sheet":f=ole(d,e,a,l,i[n],c,u,h);break;case"chart":if(f=lle(d,e,a,l,i[n],c,u,h),!f||!f["!drawel"])break;var p=D1(f["!drawel"].Target,e),m=Wp(p),_=Xne(Bs(t,p,!0),op(Bs(t,m,!0),p)),x=D1(_,p),T=Wp(x);f=Poe(Bs(t,x,!0),x,l,op(Bs(t,T,!0),x),c,f);break;case"macro":f=cle(d,e,a,l,i[n],c,u,h);break;case"dialog":f=ule(d,e,a,l,i[n],c,u,h);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=f;var w=[];i&&i[n]&&ta(i[n]).forEach(function(I){var j="";if(i[n][I].Type==wr.CMNT){j=D1(i[n][I].Target,e);var P=ple(_a(t,j,!0),j,l);if(!P||!P.length)return;aC(f,P,!1)}i[n][I].Type==wr.TCMNT&&(j=D1(i[n][I].Target,e),w=w.concat(Yne(_a(t,j,!0),l)))}),w&&w.length&&aC(f,w,!0,l.people||[])}catch(I){if(l.WTF)throw I}}function lo(t){return t.charAt(0)=="/"?t.slice(1):t}function jce(t,e){if(jd(),e=e||{},WE(e),ho(t,"META-INF/manifest.xml")||ho(t,"objectdata.xml"))return mC(t,e);if(ho(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Zy<"u"){if(t.FileIndex)return Zy(t);var r=Gt.utils.cfb_new();return Sk(t).forEach(function(q){gr(r,q,QJ(t,q))}),Zy(r)}throw new Error("Unsupported NUMBERS file")}if(!ho(t,"[Content_Types].xml"))throw ho(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ho(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=Sk(t),a=qZ(Bs(t,"[Content_Types].xml")),i=!1,s,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",_a(t,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!_a(t,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},c={};if(!e.bookSheets&&!e.bookProps){if(lp=[],a.sst)try{lp=dle(_a(t,lo(a.sst)),a.sst,e)}catch(q){if(e.WTF)throw q}e.cellStyles&&a.themes.length&&(l=hle(Bs(t,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],e)),a.style&&(c=fle(_a(t,lo(a.style)),a.style,l,e))}a.links.map(function(q){try{var X=op(Bs(t,Wp(lo(q))),q);return gle(_a(t,lo(q)),X,q,e)}catch{}});var u=sle(_a(t,lo(a.workbooks[0])),a.workbooks[0],e),h={},d="";a.coreprops.length&&(d=_a(t,lo(a.coreprops[0]),!0),d&&(h=TO(d)),a.extprops.length!==0&&(d=_a(t,lo(a.extprops[0]),!0),d&&QZ(d,h,e)));var f={};(!e.bookSheets||e.bookProps)&&a.custprops.length!==0&&(d=Bs(t,lo(a.custprops[0]),!0),d&&(f=ZZ(d,e)));var p={};if((e.bookSheets||e.bookProps)&&(u.Sheets?s=u.Sheets.map(function(X){return X.name}):h.Worksheets&&h.SheetNames.length>0&&(s=h.SheetNames),e.bookProps&&(p.Props=h,p.Custprops=f),e.bookSheets&&typeof s<"u"&&(p.SheetNames=s),e.bookSheets?p.SheetNames:e.bookProps))return p;s={};var m={};e.bookDeps&&a.calcchain&&(m=mle(_a(t,lo(a.calcchain)),a.calcchain));var _=0,x={},T,w;{var I=u.Sheets;h.Worksheets=I.length,h.SheetNames=[];for(var j=0;j!=I.length;++j)h.SheetNames[j]=I[j].name}var P=i?"bin":"xml",N=a.workbooks[0].lastIndexOf("/"),E=(a.workbooks[0].slice(0,N+1)+"_rels/"+a.workbooks[0].slice(N+1)+".rels").replace(/^\//,"");ho(t,E)||(E="xl/_rels/workbook."+P+".rels");var y=op(Bs(t,E,!0),E.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(e.xlmeta=vle(_a(t,lo(a.metadata[0])),a.metadata[0],e)),(a.people||[]).length>=1&&(e.people=Jne(_a(t,lo(a.people[0])),e)),y&&(y=Bce(y,u.Sheets));var R=_a(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(_=0;_!=h.Worksheets;++_){var A="sheet";if(y&&y[_]?(T="xl/"+y[_][1].replace(/[\/]?xl\//,""),ho(t,T)||(T=y[_][1]),ho(t,T)||(T=E.replace(/_rels\/.*$/,"")+y[_][1]),A=y[_][2]):(T="xl/worksheets/sheet"+(_+1-R)+"."+P,T=T.replace(/sheet0\./,"sheet.")),w=T.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(_!=e.sheets)continue e;break;case"string":if(h.SheetNames[_].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var C=!1,k=0;k!=e.sheets.length;++k)typeof e.sheets[k]=="number"&&e.sheets[k]==_&&(C=1),typeof e.sheets[k]=="string"&&e.sheets[k].toLowerCase()==h.SheetNames[_].toLowerCase()&&(C=1);if(!C)continue e}}Uce(t,T,w,h.SheetNames[_],_,x,s,A,e,u,l,c)}return p={Directory:a,Workbook:u,Props:h,Custprops:f,Deps:m,Sheets:s,SheetNames:h.SheetNames,Strings:lp,Styles:c,Themes:l,SSF:Mn(er)},e&&e.bookFiles&&(t.files?(p.keys=n,p.files=t.files):(p.keys=[],p.files={},t.FullPaths.forEach(function(q,X){q=q.replace(/^Root Entry[\/]/,""),p.keys.push(q),p.files[q]=t.FileIndex[X]}))),e&&e.bookVBA&&(a.vba.length>0?p.vbaraw=_a(t,lo(a.vba[0]),!0):a.defaults&&a.defaults.bin===sae&&(p.vbaraw=_a(t,"xl/vbaProject.bin",!0))),p}function Vce(t,e){var r=e||{},n="Workbook",a=Gt.find(t,n);try{if(n="/!DataSpaces/Version",a=Gt.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(vre(a.content),n="/!DataSpaces/DataSpaceMap",a=Gt.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=_re(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Gt.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=yre(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Gt.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);bre(a.content)}catch{}if(n="/EncryptionInfo",a=Gt.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=Ere(a.content);if(n="/EncryptedPackage",a=Gt.find(t,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function zce(t,e){return e.bookType=="ods"?MP(t,e):e.bookType=="numbers"?Fce(t,e):e.bookType=="xlsb"?Hce(t,e):qce(t,e)}function Hce(t,e){D0=1024,t&&!t.SSF&&(t.SSF=Mn(er)),t&&t.SSF&&(jd(),Kx(t.SSF),e.revssf=Qx(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,cp?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=fP.indexOf(e.bookType)>-1,a=LE();$E(e=e||{});var i=xE(),s="",o=0;if(e.cellXfs=[],yf(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",gr(i,s,kO(t.Props,e)),a.coreprops.push(s),en(e.rels,2,s,wr.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,gr(i,s,IO(t.Props)),a.extprops.push(s),en(e.rels,3,s,wr.EXT_PROPS),t.Custprops!==t.Props&&ta(t.Custprops||{}).length>0&&(s="docProps/custom.xml",gr(i,s,RO(t.Custprops)),a.custprops.push(s),en(e.rels,4,s,wr.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var u={"!id":{}},h=t.Sheets[t.SheetNames[o-1]],d=(h||{})["!type"]||"sheet";switch(d){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,gr(i,s,_le(o-1,s,e,t,u)),a.sheets.push(s),en(e.wbrels,-1,"worksheets/sheet"+o+"."+r,wr.WS[0])}if(h){var f=h["!comments"],p=!1,m="";f&&f.length>0&&(m="xl/comments"+o+"."+r,gr(i,m,ble(f,m)),a.comments.push(m),en(u,-1,"../comments"+o+"."+r,wr.CMNT),p=!0),h["!legacy"]&&p&&gr(i,"xl/drawings/vmlDrawing"+o+".vml",cP(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}u["!id"].rId1&&gr(i,Wp(s),J0(u))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+r,gr(i,s,wle(e.Strings,s,e)),a.strs.push(s),en(e.wbrels,-1,"sharedStrings."+r,wr.SST)),s="xl/workbook."+r,gr(i,s,xle(t,s)),a.workbooks.push(s),en(e.rels,1,s,wr.WB),s="xl/theme/theme1.xml",gr(i,s,BE(t.Themes,e)),a.themes.push(s),en(e.wbrels,-1,"theme/theme1.xml",wr.THEME),s="xl/styles."+r,gr(i,s,yle(t,s,e)),a.styles.push(s),en(e.wbrels,-1,"styles."+r,wr.STY),t.vbaraw&&n&&(s="xl/vbaProject.bin",gr(i,s,t.vbaraw),a.vba.push(s),en(e.wbrels,-1,"vbaProject.bin",wr.VBA)),s="xl/metadata."+r,gr(i,s,Ele(s)),a.metadata.push(s),en(e.wbrels,-1,"metadata."+r,wr.XLMETA),gr(i,"[Content_Types].xml",AO(a,e)),gr(i,"_rels/.rels",J0(e.rels)),gr(i,"xl/_rels/workbook."+r+".rels",J0(e.wbrels)),delete e.revssf,delete e.ssf,i}function qce(t,e){D0=1024,t&&!t.SSF&&(t.SSF=Mn(er)),t&&t.SSF&&(jd(),Kx(t.SSF),e.revssf=Qx(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,cp?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=fP.indexOf(e.bookType)>-1,a=LE();$E(e=e||{});var i=xE(),s="",o=0;if(e.cellXfs=[],yf(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",gr(i,s,kO(t.Props,e)),a.coreprops.push(s),en(e.rels,2,s,wr.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,gr(i,s,IO(t.Props)),a.extprops.push(s),en(e.rels,3,s,wr.EXT_PROPS),t.Custprops!==t.Props&&ta(t.Custprops||{}).length>0&&(s="docProps/custom.xml",gr(i,s,RO(t.Custprops)),a.custprops.push(s),en(e.rels,4,s,wr.CUST_PROPS));var u=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var h={"!id":{}},d=t.Sheets[t.SheetNames[o-1]],f=(d||{})["!type"]||"sheet";switch(f){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,gr(i,s,bP(o-1,e,t,h)),a.sheets.push(s),en(e.wbrels,-1,"worksheets/sheet"+o+"."+r,wr.WS[0])}if(d){var p=d["!comments"],m=!1,_="";if(p&&p.length>0){var x=!1;p.forEach(function(T){T[1].forEach(function(w){w.T==!0&&(x=!0)})}),x&&(_="xl/threadedComments/threadedComment"+o+"."+r,gr(i,_,Qne(p,u,e)),a.threadedcomments.push(_),en(h,-1,"../threadedComments/threadedComment"+o+"."+r,wr.TCMNT)),_="xl/comments"+o+"."+r,gr(i,_,uP(p)),a.comments.push(_),en(h,-1,"../comments"+o+"."+r,wr.CMNT),m=!0}d["!legacy"]&&m&&gr(i,"xl/drawings/vmlDrawing"+o+".vml",cP(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}h["!id"].rId1&&gr(i,Wp(s),J0(h))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+r,gr(i,s,QO(e.Strings,e)),a.strs.push(s),en(e.wbrels,-1,"sharedStrings."+r,wr.SST)),s="xl/workbook."+r,gr(i,s,kP(t)),a.workbooks.push(s),en(e.rels,1,s,wr.WB),s="xl/theme/theme1.xml",gr(i,s,BE(t.Themes,e)),a.themes.push(s),en(e.wbrels,-1,"theme/theme1.xml",wr.THEME),s="xl/styles."+r,gr(i,s,iP(t,e)),a.styles.push(s),en(e.wbrels,-1,"styles."+r,wr.STY),t.vbaraw&&n&&(s="xl/vbaProject.bin",gr(i,s,t.vbaraw),a.vba.push(s),en(e.wbrels,-1,"vbaProject.bin",wr.VBA)),s="xl/metadata."+r,gr(i,s,lP()),a.metadata.push(s),en(e.wbrels,-1,"metadata."+r,wr.XLMETA),u.length>1&&(s="xl/persons/person.xml",gr(i,s,Zne(u)),a.people.push(s),en(e.wbrels,-1,"persons/person.xml",wr.PEOPLE)),gr(i,"[Content_Types].xml",AO(a,e)),gr(i,"_rels/.rels",J0(e.rels)),gr(i,"xl/_rels/workbook."+r+".rels",J0(e.wbrels)),delete e.revssf,delete e.ssf,i}function XE(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Ys(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Gce(t,e){return Gt.find(t,"EncryptedPackage")?Vce(t,e):RP(t,e)}function Wce(t,e){var r,n=t,a=e||{};return a.type||(a.type=yr&&Buffer.isBuffer(t)?"buffer":"base64"),r=ZD(n,a),jce(r,a)}function UP(t,e){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return Xw(t.slice(r),e);default:break e}return xd.to_workbook(t,e)}function $ce(t,e){var r="",n=XE(t,e);switch(e.type){case"base64":r=Ys(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=yh(t);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=un(r)),e.type="binary",UP(r,e)}function Xce(t,e){var r=t;return e.type=="base64"&&(r=Ys(r)),r=jp.utils.decode(1200,r.slice(2),"str"),e.type="binary",UP(r,e)}function Kce(t){return t.match(/[^\x00-\x7F]/)?Tl(t):t}function e5(t,e,r,n){return n?(r.type="string",xd.to_workbook(t,r)):xd.to_workbook(e,r)}function Qw(t,e){dE();var r=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return Qw(new Uint8Array(t),(r=Mn(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=t,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),ed={},r.dateNF&&(ed.dateNF=r.dateNF),r.type||(r.type=yr&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=yr?"buffer":"binary",n=HJ(t),typeof Uint8Array<"u"&&!yr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=Kce(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=Mn(r),r.type="array",Qw(pE(n),r)}switch((a=XE(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return Gce(Gt.read(n,r),r);break;case 9:if(a[1]<=8)return RP(n,r);break;case 60:return Xw(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return ere(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return KO.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?Wce(n,r):e5(t,n,r,i);case 239:return a[3]===60?Xw(n,r):e5(t,n,r,i);case 255:if(a[1]===254)return Xce(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return eh.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return eh.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return $w.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return rP.to_workbook(n,r);break;case 10:case 13:case 32:return $ce(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Zte.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?$w.to_workbook(n,r):e5(t,n,r,i)}function jP(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Dm(e.file,Gt.write(t,{type:yr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Gt.write(t,e)}function Yce(t,e){var r=Mn(e||{}),n=zce(t,r);return Qce(n,r)}function Qce(t,e){var r={},n=yr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var a=t.FullPaths?Gt.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(e.type=="binary"||e.type=="base64")return a;a=new Uint8Array(Xx(a))}return e.password&&typeof encrypt_agile<"u"?jP(encrypt_agile(a,e.password),e):e.type==="file"?Dm(e.file,a):e.type=="string"?un(a):a}function Jce(t,e){var r=e||{},n=Kle(t,r);return jP(n,r)}function xl(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return Vp(Tl(n));case"binary":return Tl(n);case"string":return t;case"file":return Dm(e.file,n,"utf8");case"buffer":return yr?Mc(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):xl(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Zce(t,e){switch(e.type){case"base64":return Vp(t);case"binary":return t;case"string":return t;case"file":return Dm(e.file,t,"binary");case"buffer":return yr?Mc(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Kg(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?Vp(r):e.type=="string"?un(r):r;case"file":return Dm(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function VP(t,e){dE(),Goe(t);var r=Mn(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=VP(t,r);return r.type="array",Xx(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=t.SheetNames.indexOf(r.sheet),!t.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return xl(zle(t,r),r);case"slk":case"sylk":return xl(XO.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"htm":case"html":return xl(DP(t.Sheets[t.SheetNames[a]],r),r);case"txt":return Zce(HP(t.Sheets[t.SheetNames[a]],r),r);case"csv":return xl(KE(t.Sheets[t.SheetNames[a]],r),r,"\uFEFF");case"dif":return xl(KO.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"dbf":return Kg($w.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"prn":return xl(xd.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"rtf":return xl(rP.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"eth":return xl(YO.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"fods":return xl(MP(t,r),r);case"wk1":return Kg(eh.sheet_to_wk1(t.Sheets[t.SheetNames[a]],r),r);case"wk3":return Kg(eh.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Kg(LP(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Jce(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Yce(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function eue(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function zP(t,e,r){var n={};return n.type="file",n.file=e,eue(n),VP(t,n)}function tue(t,e,r,n,a,i,s,o){var l=ma(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),h=!0,d=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:r,enumerable:!1})}catch{d.__rowNum__=r}else d.__rowNum__=r;if(!s||t[r])for(var f=e.s.c;f<=e.e.c;++f){var p=s?t[r][f]:t[n[f]+l];if(p===void 0||p.t===void 0){if(c===void 0)continue;i[f]!=null&&(d[i[f]]=c);continue}var m=p.v;switch(p.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(i[f]!=null){if(m==null)if(p.t=="e"&&m===null)d[i[f]]=null;else if(c!==void 0)d[i[f]]=c;else if(u&&m===null)d[i[f]]=null;else continue;else d[i[f]]=u&&(p.t!=="n"||p.t==="n"&&o.rawNumbers!==!1)?m:Dc(p,m,o);m!=null&&(h=!1)}}return{row:d,isempty:h}}function Yv(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},u=c.range!=null?c.range:t["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=jr(u);break;case"number":l=jr(t["!ref"]),l.s.r=u;break;default:l=u}n>0&&(a=0);var h=ma(l.s.r),d=[],f=[],p=0,m=0,_=Array.isArray(t),x=l.s.r,T=0,w={};_&&!t[x]&&(t[x]=[]);var I=c.skipHidden&&t["!cols"]||[],j=c.skipHidden&&t["!rows"]||[];for(T=l.s.c;T<=l.e.c;++T)if(!(I[T]||{}).hidden)switch(d[T]=zn(T),r=_?t[x][T]:t[d[T]+h],n){case 1:i[T]=T-l.s.c;break;case 2:i[T]=d[T];break;case 3:i[T]=c.header[T-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=Dc(r,null,c),m=w[s]||0,!m)w[s]=1;else{do o=s+"_"+m++;while(w[o]);w[s]=m,w[o]=1}i[T]=o}for(x=l.s.r+a;x<=l.e.r;++x)if(!(j[x]||{}).hidden){var P=tue(t,l,x,d,n,i,_,c);(P.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(f[p++]=P.row)}return f.length=p,f}var yC=/"/g;function rue(t,e,r,n,a,i,s,o){for(var l=!0,c=[],u="",h=ma(r),d=e.s.c;d<=e.e.c;++d)if(n[d]){var f=o.dense?(t[r]||[])[d]:t[n[d]+h];if(f==null)u="";else if(f.v!=null){l=!1,u=""+(o.rawNumbers&&f.t=="n"?f.v:Dc(f,null,o));for(var p=0,m=0;p!==u.length;++p)if((m=u.charCodeAt(p))===a||m===i||m===34||o.forceQuotes){u='"'+u.replace(yC,'""')+'"';break}u=="ID"&&(u='"ID"')}else f.f!=null&&!f.F?(l=!1,u="="+f.f,u.indexOf(",")>=0&&(u='"'+u.replace(yC,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function KE(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var a=jr(t["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),u="",h=[];n.dense=Array.isArray(t);for(var d=n.skipHidden&&t["!cols"]||[],f=n.skipHidden&&t["!rows"]||[],p=a.s.c;p<=a.e.c;++p)(d[p]||{}).hidden||(h[p]=zn(p));for(var m=0,_=a.s.r;_<=a.e.r;++_)(f[_]||{}).hidden||(u=rue(t,a,_,h,s,l,i,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((m++?o:"")+u)));return delete n.dense,r.join("")}function HP(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=KE(t,e);return r}function nue(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var a=jr(t["!ref"]),i="",s=[],o,l=[],c=Array.isArray(t);for(o=a.s.c;o<=a.e.c;++o)s[o]=zn(o);for(var u=a.s.r;u<=a.e.r;++u)for(i=ma(u),o=a.s.c;o<=a.e.c;++o)if(e=s[o]+i,r=c?(t[u]||[])[o]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=e+"="+n}return l}function qP(t,e,r){var n=r||{},a=+!n.skipHeader,i=t||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Hn(n.origin):n.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+e.length-1+a}};if(i["!ref"]){var h=jr(i["!ref"]);u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),s==-1&&(s=h.e.r+1,u.e.r=s+e.length-1+a)}else s==-1&&(s=0,u.e.r=e.length-1+a);var d=n.header||[],f=0;e.forEach(function(m,_){ta(m).forEach(function(x){(f=d.indexOf(x))==-1&&(d[f=d.length]=x);var T=m[x],w="z",I="",j=nr({c:o+f,r:s+_+a});c=Zp(i,j),T&&typeof T=="object"&&!(T instanceof Date)?i[j]=T:(typeof T=="number"?w="n":typeof T=="boolean"?w="b":typeof T=="string"?w="s":T instanceof Date?(w="d",n.cellDates||(w="n",T=Ua(T)),I=n.dateNF||er[14]):T===null&&n.nullError&&(w="e",T=0),c?(c.t=w,c.v=T,delete c.w,delete c.R,I&&(c.z=I)):i[j]=c={t:w,v:T},I&&(c.z=I))})}),u.e.c=Math.max(u.e.c,o+d.length-1);var p=ma(s);if(a)for(f=0;f<d.length;++f)i[zn(f+o)+p]={t:"s",v:d[f]};return i["!ref"]=dr(u),i}function aue(t,e){return qP(null,t,e)}function Zp(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Hn(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Zp(t,nr(e)):Zp(t,nr({r:e,c:r||0}))}function iue(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function YE(){return{SheetNames:[],Sheets:{}}}function QE(t,e,r,n){var a=1;if(!r)for(;a<=65535&&t.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&t.SheetNames.indexOf(r=s+a)!=-1;++a);}if(TP(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function sue(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=iue(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function oue(t,e){return t.z=e,t}function GP(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function lue(t,e,r){return GP(t,"#"+e,r)}function cue(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function uue(t,e,r,n){for(var a=typeof e!="string"?e:jr(e),i=typeof e=="string"?e:dr(e),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=Zp(t,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return t}var rh={encode_col:zn,encode_row:ma,encode_cell:nr,encode_range:dr,decode_col:TE,decode_row:SE,split_cell:wZ,decode_cell:Hn,decode_range:ms,format_cell:Dc,sheet_add_aoa:vO,sheet_add_json:qP,sheet_add_dom:OP,aoa_to_sheet:Vd,json_to_sheet:aue,table_to_sheet:PP,table_to_book:vce,sheet_to_csv:KE,sheet_to_txt:HP,sheet_to_json:Yv,sheet_to_html:DP,sheet_to_formulae:nue,sheet_to_row_object_array:Yv,sheet_get_cell:Zp,book_new:YE,book_append_sheet:QE,book_set_sheet_visibility:sue,cell_set_number_format:oue,cell_set_hyperlink:GP,cell_set_internal_link:lue,cell_add_comment:cue,sheet_set_array_formula:uue,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function JE(t){return t?(t!=null&&t.toDate?t.toDate():new Date(t)).toLocaleString("es-AR"):"-"}function fu(t){return kr(t??0)}function fue(t){const e=Math.abs(Number(t)),r=Math.floor(e),n=Math.round((e-r)*100),a=["","UN","DOS","TRES","CUATRO","CINCO","SEIS","SIETE","OCHO","NUEVE"],i=["","DIEZ","VEINTE","TREINTA","CUARENTA","CINCUENTA","SESENTA","SETENTA","OCHENTA","NOVENTA"],s=["DIEZ","ONCE","DOCE","TRECE","CATORCE","QUINCE","DIECISIS","DIECISIETE","DIECIOCHO","DIECINUEVE"],o=["VEINTI","VEINTIUN","VEINTIDS","VEINTITRS","VEINTICUATRO","VEINTICINCO","VEINTISIS","VEINTISIETE","VEINTIOCHO","VEINTINUEVE"],l=["","CIENTO","DOSCIENTOS","TRESCIENTOS","CUATROCIENTOS","QUINIENTOS","SEISCIENTOS","SETECIENTOS","OCHOCIENTOS","NOVECIENTOS"];function c(_){if(_===0)return"";if(_<10)return a[_];if(_<20)return s[_-10];if(_===20)return"VEINTE";if(_<30)return o[_-20]||"VEINTI"+a[_-20];const x=Math.floor(_/10),T=_%10;return T===0?i[x]:i[x]+" Y "+a[T]}function u(_){if(_===0)return"";if(_===100)return"CIEN";const x=Math.floor(_/100),T=_%100;return(l[x]||a[x]+"CIENTOS")+(T?" "+c(T):"")}function h(_,x,T){return _===0?"":(_===1?u(_)+" "+x:u(_)+" "+T).replace(/^UN MIL /,"MIL ")}if(r===0&&n===0)return"CERO CON 00/100";let d="";const f=Math.floor(r/1e6),p=Math.floor(r%1e6/1e3),m=r%1e3;return f>0&&(d+=h(f,"MILLN","MILLONES")+" "),p>0&&(d+=(p===1?"MIL":u(p)+" MIL")+" "),(m>0||d==="")&&(d+=u(m)||"CERO"),d=d.trim(),d+=" CON "+String(n).padStart(2,"0")+"/100",d}function wC(t){return fetch(t).then(e=>e.blob()).then(e=>new Promise((r,n)=>{const a=new FileReader;a.onloadend=()=>r(a.result),a.onerror=n,a.readAsDataURL(e)}))}function t5(t,e){const{x:r,y:n,w:a,title:i,lines:s,margin:o=5}=e,l=5,c=6,u=s.length*l,h=c+o+u+o;t.setDrawColor(200),t.setFillColor(250,250,252),t.rect(r,n,a,h,"FD");let d=n+o;t.setFont("helvetica","bold"),t.setFontSize(10),t.setTextColor(40,40,48),t.text(i,r+o,d+4),d+=c+2,t.setFont("helvetica","normal"),t.setFontSize(9),t.setTextColor(0,0,0);for(const{label:f,value:p}of s){t.setFont("helvetica","bold"),t.text(f,r+o,d),t.setFont("helvetica","normal");const m=String(p??"-"),_=t.getTextDimensions(m).w;t.text(m,Math.min(r+a-o-_,r+a*.6),d),d+=l}return n+h}async function WP(t){var ae,W,ge,be,D,F,U;const e=new Vt({unit:"mm",format:"a4"}),r=14,n=210,a=(n-r*2-8)/2;let i=18;try{const[M,Q]=await Promise.all([wC("/logos/luni.png"),wC("/logos/polesie.png")]),oe=11;e.addImage(M,"PNG",r,8,26,oe),e.addImage(Q,"PNG",r+30,8,22,oe),i=24}catch{i=18}e.setFont("helvetica","bold"),e.setFontSize(14),e.text("Distribuidora MTF - Pedido",r,i),i+=7,e.setFontSize(11),e.setFont("helvetica","normal"),e.text(`Pedido #${t.numeroPedido??((ae=t.id)==null?void 0:ae.slice(-6))??"-"}`,r,i),i+=6,i=t5(e,{x:r,y:i,w:a,title:"Pedido",lines:[{label:"Fecha:",value:JE(t.createdAt)},{label:"Estado:",value:t.estado||"pendiente"}]}),i=t5(e,{x:r+a+8,y:24,w:a,title:"Facturacin y entrega",lines:[{label:"Razn social:",value:(((W=t.razonSocial)==null?void 0:W.razonSocial)||"Sin razn").slice(0,35)},{label:"CUIT:",value:((ge=t.razonSocial)==null?void 0:ge.cuit)||"-"},{label:"Sucursal:",value:t.sucursal?`${t.sucursal.direccion||""}, ${t.sucursal.localidad||""}`.trim().slice(0,38):"-"},{label:"Cond. fiscal:",value:t.condicionFiscal==="A"?"Factura A":t.condicionFiscal==="nota_pedido"?"Nota de pedido":t.condicionFiscal||"-"},{label:"Logstica:",value:((be=t.expreso)==null?void 0:be.nombre)||t.logistica||"-"}]}),i=Math.max(i,69);const s=t.contactoCompra||t.contacto,o=[];s&&(o.push({label:"Compra:",value:`${s.nombre??""} ${s.apellido??""}`.trim()||"-"}),o.push({label:"Tel:",value:s.telefono||"-"}),o.push({label:"Email:",value:(s.email||"-").slice(0,36)})),t.contactoPago&&t.contactoCompra&&(t.contactoPago.email!==((D=t.contactoCompra)==null?void 0:D.email)||t.contactoPago.nombre!==((F=t.contactoCompra)==null?void 0:F.nombre))&&(o.push({label:"Pago:",value:`${t.contactoPago.nombre??""} ${t.contactoPago.apellido??""}`.trim()||"-"}),o.push({label:"Tel pago:",value:t.contactoPago.telefono||"-"})),o.length?i=t5(e,{x:r,y:i,w:n-r*2,title:"Contactos",lines:o}):i+=2,i+=4,e.setFont("helvetica","bold"),e.setFontSize(10),e.text("Productos encargados",r,i),i+=6;const l=t.items||[],c=[22,70,18,28,28,38],u=c[1],h=5,d=["SKU","Descripcin","Bultos","P. unit.","P. bulto","Subtotal"];e.setFont("helvetica","bold"),e.setFontSize(8),e.text(d[0],r,i),e.text(d[1],r+c[0],i),e.text(d[2],r+c[0]+c[1],i),e.text(d[3],r+c[0]+c[1]+c[2],i),e.text(d[4],r+c[0]+c[1]+c[2]+c[3],i),e.text(d[5],r+c[0]+c[1]+c[2]+c[3]+c[4],i),i+=8;function f(M,Q){const oe=String(M??"-").split(/\s+/),de=[];let he="";for(const we of oe){const ke=he?he+" "+we:we,{w:ne}=e.getTextDimensions(ke);ne<=Q?he=ke:(he&&de.push(he),he=we)}return he&&de.push(he),de}e.setFont("helvetica","normal"),e.setFontSize(8);for(const M of l){i>265&&(e.addPage(),i=20);const Q=M.precioUnitario??(M.precioPorBulto??0)/(M.unidadesPorBulto??1),oe=M.precioPorBulto??Q*(M.unidadesPorBulto??1),de=(M.bultos??0)*oe,he=f(M.descripcion??"-",u),we=Math.max(10,he.length*h+4),ke=i;e.text(String(M.sku??"-"),r,ke),he.forEach((ne,Z)=>{e.text(ne,r+c[0],ke+Z*h)}),e.text(String(M.bultos??0),r+c[0]+c[1],ke),e.text("$"+fu(Q),r+c[0]+c[1]+c[2],ke),e.text("$"+fu(oe),r+c[0]+c[1]+c[2]+c[3],ke),e.text("$"+fu(de),r+c[0]+c[1]+c[2]+c[3]+c[4],ke),i=ke+we}i+=8,i>250&&(e.addPage(),i=20);const p=100,m=195,_=6;e.setFontSize(9),e.setFont("helvetica","normal");const x=t.subtotal??0,T=t.descuentoBase??0,w=x*(1-T/100),I=t.condicionFiscal==="A",j=I?(t.total??0)/1.21:t.total??0,P=I?(t.total??0)-j:0,N=x-w,E=t.aplicaProntoPago?w*.1:0,y=T>0&&t.aplicaProntoPago?`Desc. ${T} + 10 %`:T>0?`Desc. ${T} %`:t.aplicaProntoPago?"Desc. 10 %":null;function R(M,Q){e.setFont("helvetica","normal"),e.text(M,p,i);const oe=e.getTextDimensions(Q).w;e.text(Q,m-oe,i),i+=_}R("Subtotal","$"+fu(x)),y&&R(y,fu(N+E)),e.setDrawColor(180),e.line(p,i,m,i),i+=4,R("Subtotal","$"+fu(j)),I&&R("I.V.A. 21,00 %","$"+fu(P)),e.line(p,i,m,i),i+=4;const A=fue(t.total??0);e.setFont("helvetica","bold");const C="SON PESOS: "+A+" *********************************************",k=m-p;e.splitTextToSize(C,k).forEach(M=>{e.text(M,p,i),i+=_});const X="$"+fu(t.total),V=e.getTextDimensions(X).w;e.setFont("helvetica","bold"),e.text("TOTAL",p,i),e.text(X,m-V,i),i+=_+4;const H=`pedido-${t.numeroPedido??((U=t.id)==null?void 0:U.slice(-6))??"sin-num"}.pdf`;e.save(H)}function hue(t){var h,d,f,p,m,_,x;const e=t.items||[],r=[["Pedido",`#${t.numeroPedido??((h=t.id)==null?void 0:h.slice(-6))??"-"}`],["Fecha",JE(t.createdAt)],["Estado",t.estado||"pendiente"],["Razn social",((d=t.razonSocial)==null?void 0:d.razonSocial)||"Sin razn social"],["CUIT",((f=t.razonSocial)==null?void 0:f.cuit)||"-"],["Sucursal",t.sucursal?`${t.sucursal.direccion}, ${t.sucursal.localidad}`:"-"],["Condicin fiscal",(t.condicionFiscal==="A"?"Factura A":t.condicionFiscal==="nota_pedido"?"Nota de pedido":t.condicionFiscal)||"-"],["Forma de pago",t.formaPago||"-"],["Expreso/Logstica",((p=t.expreso)==null?void 0:p.nombre)||t.logistica||"-"],[],["Contacto",t.contacto?`${t.contacto.nombre} ${t.contacto.apellido}`:"-"],["Telfono",((m=t.contacto)==null?void 0:m.telefono)||"-"],["Email",((_=t.contacto)==null?void 0:_.email)||"-"],[],["SKU","Descripcin","Bultos","Unid/bulto","Precio unit.","Precio bulto","Subtotal"]];for(const T of e){const w=(T.bultos??0)*(T.precioPorBulto??0);r.push([T.sku??"-",T.descripcion??"-",T.bultos??0,T.unidadesPorBulto??1,T.precioUnitario??0,T.precioPorBulto??0,w])}r.push([]),r.push(["Total a pagar","","","","","",""]);const n=t.subtotal??0,a=t.descuentoBase??0,i=n*(1-a/100),s=t.condicionFiscal==="A",o=s?(t.total??0)/1.21:t.total??0,l=s?(t.total??0)-o:0;r.push(["Subtotal bruto","","","","","",t.subtotal??0]),a>0&&r.push(["Desc. "+a+"%","","","","","",n-i]),t.aplicaProntoPago&&r.push(["Desc. pronto pago 10%","","","","","",i-i*.9]),r.push(["Subtotal con descuento","","","","","",o]),s&&r.push(["I.V.A 21%","","","","","",l]),r.push(["TOTAL","","","","","",t.total??0]);const c=rh.aoa_to_sheet(r),u=rh.book_new();rh.book_append_sheet(u,c,"Pedido"),zP(u,`pedido-${t.numeroPedido??((x=t.id)==null?void 0:x.slice(-6))??"sin-num"}.xlsx`)}function due(t){var a,i,s;const e=[["N","Fecha","Estado","Razn social","Sucursal","Forma pago","Contacto","Telfono","Total"]];for(const o of t){const l=o.contacto?`${o.contacto.nombre??""} ${o.contacto.apellido??""}`.trim():"-",c=o.sucursal?`${o.sucursal.direccion}, ${o.sucursal.localidad}`:"-";e.push([o.numeroPedido??((a=o.id)==null?void 0:a.slice(-6))??"-",JE(o.createdAt),o.estado||"pendiente",((i=o.razonSocial)==null?void 0:i.razonSocial)||"Sin razn social",c,o.formaPago||"-",l,((s=o.contacto)==null?void 0:s.telefono)||"-",o.total??0])}const r=rh.aoa_to_sheet(e),n=rh.book_new();rh.book_append_sheet(n,r,"Pedidos"),zP(n,`pedidos-${new Date().toISOString().slice(0,10)}.xlsx`)}const pue=[{value:"A",label:"Factura A"},{value:"nota_pedido",label:"Nota de pedido"}],o0="a_coordinar";function mue(t){if(!(t!=null&&t.direccionFacturacion))return"";const e=t.direccionFacturacion;return[e.calle,e.numero,e.localidad,e.provincia,e.codigoPostal].filter(Boolean).join(", ")}function bC(t){const e=[t.calle,t.numero,t.localidad,t.provincia,t.codigoPostal].filter(Boolean);return e.length?e.join(", "):t.direccion?`${t.direccion}, ${t.localidad||""}`.trim():"-"}function gue(){const{user:t,profile:e}=el(),r=Js(),[n,a]=fe.useState([]),[i,s]=fe.useState([]),[o,l]=fe.useState([]),[c,u]=fe.useState([]),[h,d]=fe.useState([]),{carrito:f,setCarrito:p}=qL(),[m,_]=fe.useState(""),[x,T]=fe.useState(""),[w,I]=fe.useState(""),[j,P]=fe.useState(""),[N,E]=fe.useState(!1),[y,R]=fe.useState([]),[A,C]=fe.useState(!1),[k,q]=fe.useState(null),[X,V]=fe.useState(!1),[H,ae]=fe.useState(""),[W,ge]=fe.useState(!1),[be,D]=fe.useState(!1),[F,U]=fe.useState({nombre:"",apellido:"",telefono:"",email:""}),[M,Q]=fe.useState({nombre:"",apellido:"",telefono:"",email:""}),[oe,de]=fe.useState(!0),[he,we]=fe.useState(""),[ke,ne]=fe.useState([]),Z=(e==null?void 0:e.descuentoBase)??0,Ae=Object.fromEntries((ke||[]).map(Pe=>[Pe.productId,Pe])),K=(Pe,st)=>{const ut=Ae[Pe.id];return ut!=null&&ut.descuentoPct?st*(1-(ut.descuentoPct??0)/100):st},Te=!1,Re="sin_razon_social",Oe=m===Re?null:n.find(Pe=>Pe.id===m),Ne=w==="A"&&!(Oe!=null&&Oe.cuit),Qe=[...o,...i],Ke=x&&x!==o0?Qe.find(Pe=>Pe.id===x):null,ht=j&&j!==o0?c.find(Pe=>Pe.id===j):null;fe.useEffect(()=>{if(!t)return;const Pe=Lr(Ta(xr(kt,"razonesSociales"),ca("userId","==",t.uid)),st=>{a(st.docs.map(ut=>({id:ut.id,...ut.data()})))});return()=>Pe()},[t]);const ct=n.map(Pe=>Pe.id);fe.useEffect(()=>{if(!ct.length){s([]);return}const Pe=Ta(xr(kt,"sucursales"),ca("razonSocialId","in",ct.slice(0,30))),st=Lr(Pe,ut=>{s(ut.docs.map(Qt=>({id:Qt.id,...Qt.data()})))});return()=>st()},[ct.join(",")]),fe.useEffect(()=>{if(!t)return;const Pe=Ta(xr(kt,"sucursales"),ca("userId","==",t.uid),ca("razonSocialId","==",null)),st=Lr(Pe,ut=>{l(ut.docs.map(Qt=>({id:Qt.id,...Qt.data()})))});return()=>st()},[t==null?void 0:t.uid]),fe.useEffect(()=>{if(!t)return;const Pe=Lr(Ta(xr(kt,"expresos"),ca("userId","==",t.uid)),st=>{u(st.docs.map(ut=>({id:ut.id,...ut.data()})))});return()=>Pe()},[t]),fe.useEffect(()=>{const Pe=Lr(xr(kt,"vendedores"),st=>{d(st.docs.map(ut=>({id:ut.id,...ut.data()})))});return()=>Pe()},[]),fe.useEffect(()=>{const Pe=Lr(xr(kt,"ofertas"),st=>{ne(st.docs.map(ut=>({id:ut.id,...ut.data()})))});return()=>Pe()},[]),fe.useEffect(()=>{m===Re&&I("nota_pedido")},[m]),fe.useEffect(()=>{if(e||t){const Pe={nombre:(e==null?void 0:e.nombreCompra)??(e==null?void 0:e.nombreContacto)??"",apellido:(e==null?void 0:e.apellidoCompra)??(e==null?void 0:e.apellidoContacto)??"",telefono:(e==null?void 0:e.telefonoCompra)??(e==null?void 0:e.telefonoContacto)??"",email:(e==null?void 0:e.emailCompra)??(e==null?void 0:e.emailContacto)??(t==null?void 0:t.email)??""},st={nombre:(e==null?void 0:e.nombrePago)??(e==null?void 0:e.nombreContacto)??"",apellido:(e==null?void 0:e.apellidoPago)??(e==null?void 0:e.apellidoContacto)??"",telefono:(e==null?void 0:e.telefonoPago)??(e==null?void 0:e.telefonoContacto)??"",email:(e==null?void 0:e.emailPago)??(e==null?void 0:e.emailContacto)??(t==null?void 0:t.email)??""};U(Pe),Q(st),de((e==null?void 0:e.mismoCompraQuePaga)!==!1)}},[e,t==null?void 0:t.email]);const yt=(Pe,st)=>{const ut=Math.max(1,Math.floor(Number(st))||1);p(f.map(Qt=>Qt.id===Pe?{...Qt,qty:ut}:Qt))},mt=Pe=>{p(f.filter(st=>st.id!==Pe))},St=()=>{U({nombre:(e==null?void 0:e.nombreCompra)??(e==null?void 0:e.nombreContacto)??"",apellido:(e==null?void 0:e.apellidoCompra)??(e==null?void 0:e.apellidoContacto)??"",telefono:(e==null?void 0:e.telefonoCompra)??(e==null?void 0:e.telefonoContacto)??"",email:(e==null?void 0:e.emailCompra)??(e==null?void 0:e.emailContacto)??(t==null?void 0:t.email)??""}),Q({nombre:(e==null?void 0:e.nombrePago)??(e==null?void 0:e.nombreContacto)??"",apellido:(e==null?void 0:e.apellidoPago)??(e==null?void 0:e.apellidoContacto)??"",telefono:(e==null?void 0:e.telefonoPago)??(e==null?void 0:e.telefonoContacto)??"",email:(e==null?void 0:e.emailPago)??(e==null?void 0:e.emailContacto)??(t==null?void 0:t.email)??""}),de((e==null?void 0:e.mismoCompraQuePaga)!==!1),ge(!0)},$t=async Pe=>{var ut;if((ut=Pe==null?void 0:Pe.preventDefault)==null||ut.call(Pe),!t)return;const st=oe?F:M;D(!0);try{await qo(nn(kt,"users",t.uid),{nombreCompra:F.nombre||null,apellidoCompra:F.apellido||null,telefonoCompra:F.telefono||null,emailCompra:F.email||null,nombrePago:st.nombre||null,apellidoPago:st.apellido||null,telefonoPago:st.telefono||null,emailPago:st.email||null,mismoCompraQuePaga:oe,nombreContacto:F.nombre||null,apellidoContacto:F.apellido||null,telefonoContacto:F.telefono||null,emailContacto:F.email||null}),ge(!1)}finally{D(!1)}},Et=f.reduce((Pe,st)=>{const ut=st.precioPorBulto??(st.precioUnitario??0)*(st.unidadesPorBulto??1),Qt=K(st,ut);return Pe+Qt*st.qty},0),gt=Et*(Z/100),at=Et-gt,it=at,Ft={nombre:(e==null?void 0:e.nombreCompra)??(e==null?void 0:e.nombreContacto)??"",apellido:(e==null?void 0:e.apellidoCompra)??(e==null?void 0:e.apellidoContacto)??"",telefono:(e==null?void 0:e.telefonoCompra)??(e==null?void 0:e.telefonoContacto)??"",email:(e==null?void 0:e.emailCompra)??(e==null?void 0:e.emailContacto)??(t==null?void 0:t.email)??""},wt={nombre:(e==null?void 0:e.nombrePago)??(e==null?void 0:e.nombreContacto)??"",apellido:(e==null?void 0:e.apellidoPago)??(e==null?void 0:e.apellidoContacto)??"",telefono:(e==null?void 0:e.telefonoPago)??(e==null?void 0:e.telefonoContacto)??"",email:(e==null?void 0:e.emailPago)??(e==null?void 0:e.emailContacto)??(t==null?void 0:t.email)??""},Nt=!!(Ft.nombre&&Ft.apellido&&Ft.telefono&&Ft.email&&wt.nombre&&wt.apellido&&wt.telefono&&wt.email);m&&x&&w&&j&&!Ne&&Nt&&X&&f.length>0;const zt=()=>{const Pe=[];return m||Pe.push('Seleccion una razn social o "Sin razn social".'),x||Pe.push('Seleccion sucursal de entrega o "A coordinar".'),w||Pe.push("Seleccion la condicin de compra (Factura A o Nota de pedido)."),j||Pe.push("Seleccion la logstica."),Nt||Pe.push("Complet datos de quien compra y quien paga en la seccin Datos."),Nt&&!X&&Pe.push("Confirm que los datos de contacto son correctos."),Ne&&Pe.push("Para Factura A necesits una razn social con CUIT."),f.length===0&&Pe.push("Tu carrito est vaco."),Pe},vr=async()=>{var st,ut;const Pe=zt();if(Pe.length>0){R(Pe),setTimeout(()=>window.scrollTo({top:0,behavior:"smooth"}),50);return}if(R([]),!!t){E(!0);try{const Qt=Ke||null,Tt=ht||null,Ct=j===o0?o0:(Tt==null?void 0:Tt.nombre)||null;let Kt;try{await H$(kt,async Jt=>{const gn=nn(kt,"counters","pedidos"),Mr=await Jt.get(gn);Kt=(Mr.exists()?Mr.data().count??0:0)+1,Jt.set(gn,{count:Kt},{merge:!0})})}catch(Jt){if((Jt==null?void 0:Jt.code)==="permission-denied"||(st=Jt==null?void 0:Jt.message)!=null&&st.includes("permission"))Kt=Math.floor(Date.now()/1e3);else throw Jt}const Xr={numeroPedido:Kt,userId:t.uid,vendedorId:H||(e==null?void 0:e.vendedorId)||null,vendedorNombre:H?(ut=h.find(Jt=>Jt.id===H))==null?void 0:ut.nombre:null,pedidoEsVendedor:!!H,razonSocial:Oe,sucursal:Qt,expreso:Tt,logistica:Ct,condicionFiscal:w,formaPago:null,items:f.map(Jt=>{const gn=Jt.precioPorBulto??(Jt.precioUnitario??0)*(Jt.unidadesPorBulto??1),Mr=K(Jt,gn),Ut=Jt.unidadesPorBulto??1;return{id:Jt.id,descripcion:Jt.descripcion??Jt.nombre,sku:Jt.sku??Jt.codigo,dimensiones:Jt.dimensiones,presentacion:Jt.presentacion,bultos:Jt.qty,unidadesPorBulto:Ut,precioUnitario:Mr/Ut,precioPorBulto:Mr}}),subtotal:at,descuentoBase:Z,aplicaProntoPago:Te,total:it,comprobanteUrl:null,contactoCompra:Ft,contactoPago:wt,contacto:Ft,observaciones:he.trim()||null,createdAt:new Date,estado:"pendiente"};await Kf(xr(kt,"pedidos"),Xr),q({...Xr,id:null}),p([]),_(""),T(""),I(""),P(""),ae(""),C(!0)}catch(Qt){alert("Error al enviar el pedido: "+Qt.message)}finally{E(!1)}}},Ot=m===Re?"Remito (sin razn social)":Oe?[Oe.razonSocial,Oe.cuit,mue(Oe)].filter(Boolean).join("  "):null;return S.jsxs("div",{className:"container page",children:[S.jsx("h1",{className:"page-title",children:"Checkout"}),S.jsx("p",{className:"page-subtitle",children:"Complet los datos para finalizar tu pedido."}),A?S.jsxs("div",{className:"checkout-exito",role:"alert",children:[S.jsx("p",{className:"exito-titulo",children:"Se envi correctamente"}),S.jsx("p",{className:"exito-mensaje",children:"Recibirs una respuesta a la brevedad."}),S.jsxs("div",{className:"checkout-exito-acciones",children:[k&&S.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>WP(k),children:"Descargar PDF del pedido"}),S.jsx("button",{className:"btn btn-primary",onClick:()=>r("/catalogo"),children:"Seguir comprando"})]})]}):f.length===0?S.jsx("p",{className:"empty-state",children:"Tu carrito est vaco. Agreg productos desde el catlogo."}):S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"checkout-carrito-resumen",children:[S.jsx("h3",{children:"Tu pedido"}),S.jsx("ul",{className:"carrito-items-editable",children:f.map(Pe=>{const st=Pe.unidadesPorBulto??1,ut=Pe.precioPorBulto??(Pe.precioUnitario??0)*st,Qt=K(Pe,ut),Tt=!!Ae[Pe.id],Ct=Qt*Pe.qty,Kt=Qt/st;return S.jsxs("li",{className:"carrito-item",children:[S.jsxs("div",{className:"carrito-item-info",children:[S.jsx("span",{className:"carrito-item-nombre",children:Pe.descripcion??Pe.nombre}),S.jsxs("span",{className:"carrito-item-detalle",children:[(()=>{const Xr=Pe.qty*st;return`${Xr} ${Xr===1?"unidad":"unid."}`})(),"  $/u $",kr(Kt)," ",S.jsx("span",{className:"price-sin-iva",children:"(sin IVA)"}),Tt&&S.jsxs("span",{className:"product-price-base-tachado",children:["$",kr(ut*Pe.qty)]})," "," $",kr(Ct)]})]}),S.jsxs("div",{className:"carrito-item-acciones",children:[S.jsx("input",{type:"number",min:"1",value:Pe.qty,onChange:Xr=>yt(Pe.id,Xr.target.value),className:"carrito-qty-input"}),S.jsx("button",{type:"button",className:"btn btn-danger btn-sm",onClick:()=>mt(Pe.id),title:"Eliminar",children:"Eliminar"})]})]},Pe.id)})})]}),y.length>0&&S.jsx("div",{className:"checkout-alerta-errores",role:"alert",children:S.jsxs("div",{className:"checkout-alerta-inner container",children:[S.jsx("span",{className:"checkout-alerta-icono","aria-hidden":!0,children:""}),S.jsxs("div",{className:"checkout-alerta-texto",children:[S.jsx("strong",{children:"Hay errores que corregir antes de finalizar"}),S.jsx("ul",{children:y.map((Pe,st)=>S.jsx("li",{children:Pe},st))})]}),S.jsx("button",{type:"button",className:"checkout-alerta-cerrar",onClick:()=>R([]),"aria-label":"Cerrar",children:""})]})}),S.jsxs("div",{className:"checkout-selectores",children:[S.jsxs("div",{className:"selector-block checkout-datos-facturacion",children:[S.jsx("label",{children:"Datos de facturacin"}),S.jsx("p",{className:"checkout-facturacion-resumen",children:Ot||"Seleccion una razn social"})]}),S.jsxs("div",{className:"selector-block",children:[S.jsx("label",{children:"1. Razn Social"}),S.jsxs("select",{value:m,onChange:Pe=>{_(Pe.target.value),T(""),R([])},children:[S.jsx("option",{value:"",children:"Seleccionar..."}),S.jsx("option",{value:Re,children:"Sin razn social (Remito)"}),n.map(Pe=>S.jsxs("option",{value:Pe.id,children:[Pe.razonSocial," ",Pe.cuit?` CUIT: ${Pe.cuit}`:"(sin CUIT)"]},Pe.id))]})]}),S.jsxs("div",{className:"selector-block",children:[S.jsx("label",{children:"2. Condicin de compra"}),S.jsxs("select",{value:w,onChange:Pe=>{I(Pe.target.value),R([])},children:[S.jsx("option",{value:"",children:"Seleccionar..."}),(m===Re?[{value:"nota_pedido",label:"Nota de pedido"}]:pue).map(Pe=>S.jsx("option",{value:Pe.value,children:Pe.label},Pe.value))]}),m===Re&&S.jsx("p",{className:"hint",children:"Sin razn social = Nota de pedido."}),Ne&&S.jsx("p",{className:"hint error",children:"Para Factura A necesits una razn social con CUIT."})]}),S.jsxs("div",{className:"selector-block",children:[S.jsx("label",{children:"3. Sucursal de entrega"}),S.jsxs("select",{value:x,onChange:Pe=>{T(Pe.target.value),R([])},children:[S.jsx("option",{value:"",children:"Seleccionar..."}),S.jsx("option",{value:o0,children:"A coordinar"}),o.map(Pe=>S.jsxs("option",{value:Pe.id,children:["Sin razn  ",bC(Pe)]},Pe.id)),i.map(Pe=>S.jsxs("option",{value:Pe.id,children:[Pe.razonSocial||"Sucursal","  ",bC(Pe)]},Pe.id))]})]}),S.jsxs("div",{className:"selector-block",children:[S.jsx("label",{children:"4. Logstica"}),S.jsxs("select",{value:j,onChange:Pe=>{P(Pe.target.value),R([])},children:[S.jsx("option",{value:"",children:"Seleccionar..."}),S.jsx("option",{value:o0,children:"A coordinar"}),c.map(Pe=>S.jsxs("option",{value:Pe.id,children:[Pe.nombre,"  ",Pe.direccionCABA]},Pe.id))]})]}),S.jsxs("div",{className:"selector-block",children:[S.jsx("label",{children:"5. Comentarios u observaciones (opcional)"}),S.jsx("textarea",{value:he,onChange:Pe=>we(Pe.target.value),placeholder:"Notas, comentarios o observaciones para el pedido...",rows:3,className:"checkout-observaciones"})]}),S.jsxs("div",{className:"selector-block datos-contacto-block",children:[S.jsxs("div",{className:"datos-contacto-header",children:[S.jsx("label",{children:"Datos de contacto"}),Nt&&!W&&S.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:St,children:"Editar"})]}),W?S.jsxs("form",{onSubmit:$t,className:"checkout-contacto-edit",children:[S.jsxs("label",{className:"checkbox-label",style:{marginBottom:"0.75rem"},children:[S.jsx("input",{type:"checkbox",checked:oe,onChange:Pe=>de(Pe.target.checked)}),"Es la misma persona quien compra y quien paga?"]}),S.jsxs("div",{className:"checkout-contacto-grid",children:[S.jsxs("div",{children:[S.jsx("strong",{children:"Quien compra"}),S.jsx("input",{placeholder:"Nombre",value:F.nombre,onChange:Pe=>U({...F,nombre:Pe.target.value})}),S.jsx("input",{placeholder:"Apellido",value:F.apellido,onChange:Pe=>U({...F,apellido:Pe.target.value})}),S.jsx("input",{type:"tel",placeholder:"Telfono WhatsApp",value:F.telefono,onChange:Pe=>U({...F,telefono:Pe.target.value})}),S.jsx("input",{type:"email",placeholder:"Email",value:F.email,onChange:Pe=>U({...F,email:Pe.target.value})})]}),S.jsxs("div",{children:[S.jsx("strong",{children:"Quien paga"}),S.jsx("input",{placeholder:"Nombre",value:oe?F.nombre:M.nombre,onChange:Pe=>Q({...M,nombre:Pe.target.value}),disabled:oe}),S.jsx("input",{placeholder:"Apellido",value:oe?F.apellido:M.apellido,onChange:Pe=>Q({...M,apellido:Pe.target.value}),disabled:oe}),S.jsx("input",{type:"tel",placeholder:"Telfono WhatsApp",value:oe?F.telefono:M.telefono,onChange:Pe=>Q({...M,telefono:Pe.target.value}),disabled:oe}),S.jsx("input",{type:"email",placeholder:"Email",value:oe?F.email:M.email,onChange:Pe=>Q({...M,email:Pe.target.value}),disabled:oe})]})]}),S.jsxs("div",{className:"checkout-contacto-acciones",children:[S.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>ge(!1),children:"Cancelar"}),S.jsx("button",{type:"submit",className:"btn btn-primary btn-sm",disabled:be,children:be?"Guardando...":"Guardar"})]})]}):S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"datos-contacto-resumen",children:[S.jsxs("p",{children:[S.jsx("strong",{children:"Quien compra:"})," ",Ft.nombre," ",Ft.apellido,"  ",Ft.telefono,"  ",Ft.email]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Quien paga:"})," ",wt.nombre," ",wt.apellido,"  ",wt.telefono,"  ",wt.email]})]}),!Nt&&S.jsxs("p",{className:"hint error",children:["Complet datos de quien compra y quien paga en la seccin ",S.jsx(qr,{to:"/datos",children:"Datos"}),"."]}),Nt&&S.jsxs("label",{className:"checkbox-label",children:[S.jsx("input",{type:"checkbox",checked:X,onChange:Pe=>{V(Pe.target.checked),R([])}}),"Confirmo que los datos son correctos"]})]})]}),S.jsxs("div",{className:"selector-block",children:[S.jsx("label",{children:"Vendedor"}),S.jsxs("select",{value:H,onChange:Pe=>{ae(Pe.target.value),R([])},children:[S.jsx("option",{value:"",children:"Sin ningn vendedor"}),h.map(Pe=>S.jsx("option",{value:Pe.id,children:Pe.nombre},Pe.id))]})]})]}),S.jsxs("div",{className:"checkout-totales totales-block",children:[S.jsxs("div",{className:"totales-fila",children:[S.jsx("span",{className:"totales-label",children:"Subtotal"}),S.jsxs("span",{className:"totales-valor",children:["$",kr(Et)]})]}),Z>0&&gt>0&&S.jsxs("div",{className:"totales-fila",children:[S.jsxs("span",{className:"totales-label",children:["Descuento (",Z," %)"]}),S.jsxs("span",{className:"totales-valor monto-negativo",children:["-$",kr(gt)]})]}),Te,S.jsx("div",{className:"totales-sep"}),S.jsxs("div",{className:"totales-fila",children:[S.jsx("span",{className:"totales-label",children:"Subtotal"}),S.jsxs("span",{className:"totales-valor",children:["$",kr(w==="A"?it/1.21:it)]})]}),w==="A"&&S.jsxs("div",{className:"totales-fila",children:[S.jsx("span",{className:"totales-label",children:"I.V.A. 21,00 %"}),S.jsxs("span",{className:"totales-valor",children:["$",kr(it-it/1.21)]})]}),S.jsx("div",{className:"totales-sep"}),S.jsxs("div",{className:"totales-fila totales-total",children:[S.jsx("span",{className:"totales-label",children:"TOTAL"}),S.jsxs("span",{className:"totales-valor",children:["$",kr(it)]})]})]}),S.jsxs("div",{className:"checkout-acciones",children:[S.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>{p([]),r("/catalogo")},children:"Cancelar"}),S.jsx("button",{className:"btn btn-primary btn-lg",onClick:vr,disabled:N,children:N?"Enviando...":"Finalizar pedido"})]})]})]})}const Yg=[{id:"02",nombre:"Ciudad Autnoma de Buenos Aires"},{id:"06",nombre:"Buenos Aires"},{id:"10",nombre:"Catamarca"},{id:"14",nombre:"Crdoba"},{id:"18",nombre:"Corrientes"},{id:"22",nombre:"Chaco"},{id:"26",nombre:"Chubut"},{id:"30",nombre:"Entre Ros"},{id:"34",nombre:"Formosa"},{id:"38",nombre:"Jujuy"},{id:"42",nombre:"La Pampa"},{id:"46",nombre:"La Rioja"},{id:"50",nombre:"Mendoza"},{id:"54",nombre:"Misiones"},{id:"58",nombre:"Neuqun"},{id:"62",nombre:"Ro Negro"},{id:"66",nombre:"Salta"},{id:"70",nombre:"San Juan"},{id:"74",nombre:"San Luis"},{id:"78",nombre:"Santa Cruz"},{id:"82",nombre:"Santa Fe"},{id:"86",nombre:"Santiago del Estero"},{id:"90",nombre:"Tucumn"},{id:"94",nombre:"Tierra del Fuego, Antrtida e Islas del Atlntico Sur"}],vue="https://apis.datos.gob.ar/georef/api";async function EC(t){if(!t)return[];try{const r=await(await fetch(`${vue}/localidades?provincia=${t}&max=2000&orden=nombre`)).json();return r.localidades?r.localidades.map(n=>({id:n.id,nombre:n.nombre})):[]}catch(e){return console.warn("Error fetching localidades:",e),[]}}const AC=[{value:"responsable_inscripto",label:"Responsable inscripto"},{value:"autonomo",label:"Autnomo"},{value:"monotributista",label:"Monotributista"},{value:"exento",label:"Exento"},{value:"no_alcanzado",label:"No alcanzado"}];function xue(){var ne;const{user:t,profile:e}=el(),r=Js(),a=((ne=Ml().state)==null?void 0:ne.fromRegister)===!0,[i,s]=fe.useState([]),[o,l]=fe.useState([]),[c,u]=fe.useState("razones"),[h,d]=fe.useState({razonSocial:"",cuit:"",condicionFiscal:"",calle:"",numero:"",localidad:"",provincia:"",provinciaId:"",codigoPostal:""}),[f,p]=fe.useState({razonSocialId:"",razonSocial:"",calle:"",numero:"",localidad:"",provincia:"",provinciaId:"",codigoPostal:""}),[m,_]=fe.useState([]),[x,T]=fe.useState([]),[w,I]=fe.useState(!1),[j,P]=fe.useState(!1),[N,E]=fe.useState([]),[y,R]=fe.useState({nombre:"",direccionCABA:"",telefono:""}),[A,C]=fe.useState(!0),[k,q]=fe.useState({nombre:"",apellido:"",telefono:"",email:""}),[X,V]=fe.useState({nombre:"",apellido:"",telefono:"",email:""}),[H,ae]=fe.useState(!1),[W,ge]=fe.useState(!1);fe.useEffect(()=>{if(!t)return;const Z=Ta(xr(kt,"razonesSociales"),ca("userId","==",t.uid)),Ae=Lr(Z,K=>{s(K.docs.map(Te=>({id:Te.id,...Te.data()})))});return()=>Ae()},[t]),fe.useEffect(()=>{if(!t)return;const Z=Ta(xr(kt,"expresos"),ca("userId","==",t.uid)),Ae=Lr(Z,K=>{l(K.docs.map(Te=>({id:Te.id,...Te.data()})))});return()=>Ae()},[t]);const[be,D]=fe.useState([]),F=i.map(Z=>Z.id);fe.useEffect(()=>{if(!F.length){D([]);return}const Z=Ta(xr(kt,"sucursales"),ca("razonSocialId","in",F.slice(0,30))),Ae=Lr(Z,K=>{D(K.docs.map(Te=>({id:Te.id,...Te.data()})))});return()=>Ae()},[F.join(",")]),fe.useEffect(()=>{if(!t)return;const Z=Ta(xr(kt,"sucursales"),ca("userId","==",t.uid),ca("razonSocialId","==",null)),Ae=Lr(Z,K=>{E(K.docs.map(Te=>({id:Te.id,...Te.data()})))});return()=>Ae()},[t==null?void 0:t.uid]),fe.useEffect(()=>{h.provinciaId?(I(!0),EC(h.provinciaId).then(Z=>{_(Z),I(!1)})):_([])},[h.provinciaId]),fe.useEffect(()=>{f.provinciaId?(P(!0),EC(f.provinciaId).then(Z=>{T(Z),P(!1)})):T([])},[f.provinciaId]),fe.useEffect(()=>{if(e){const Z={nombre:e.nombreCompra??e.nombreContacto??"",apellido:e.apellidoCompra??e.apellidoContacto??"",telefono:e.telefonoCompra??e.telefonoContacto??"",email:e.emailCompra??e.emailContacto??(t==null?void 0:t.email)??""},Ae={nombre:e.nombrePago??e.nombreContacto??"",apellido:e.apellidoPago??e.apellidoContacto??"",telefono:e.telefonoPago??e.telefonoContacto??"",email:e.emailPago??e.emailContacto??(t==null?void 0:t.email)??""};q(Z),V(Ae),C(e.mismoCompraQuePaga!==!1)}},[e,t==null?void 0:t.email]),fe.useEffect(()=>{A&&V({...k})},[A]);const U=A?k:X,M=async Z=>{Z.preventDefault();const Ae={calle:h.calle||null,numero:h.numero||null,localidad:h.localidad||null,provincia:h.provincia||null,codigoPostal:h.codigoPostal||null};await Kf(xr(kt,"razonesSociales"),{userId:t.uid,razonSocial:h.razonSocial,cuit:h.cuit||null,condicionFiscal:h.condicionFiscal||null,direccionFacturacion:Ae}),d({razonSocial:"",cuit:"",condicionFiscal:"",calle:"",numero:"",localidad:"",provincia:"",provinciaId:"",codigoPostal:""})},Q=async Z=>{Z.preventDefault(),await Kf(xr(kt,"sucursales"),{userId:t.uid,razonSocialId:f.razonSocialId||null,razonSocial:f.razonSocial||null,calle:f.calle,numero:f.numero||null,localidad:f.localidad,provincia:f.provincia||null,codigoPostal:f.codigoPostal||null,direccion:`${f.calle||""} ${f.numero||""}`.trim()||f.calle}),p({razonSocialId:"",razonSocial:"",calle:"",numero:"",localidad:"",provincia:"",provinciaId:"",codigoPostal:""})},oe=async Z=>{Z.preventDefault(),await Kf(xr(kt,"expresos"),{userId:t.uid,nombre:y.nombre,direccionCABA:y.direccionCABA,telefono:y.telefono||null}),R({nombre:"",direccionCABA:"",telefono:""})},de=async Z=>{if(Z.preventDefault(),!!t){ae(!0),ge(!1);try{const Ae=nn(kt,"users",t.uid);await qo(Ae,{nombreCompra:k.nombre||null,apellidoCompra:k.apellido||null,telefonoCompra:k.telefono||null,emailCompra:k.email||null,nombrePago:U.nombre||null,apellidoPago:U.apellido||null,telefonoPago:U.telefono||null,emailPago:U.email||null,mismoCompraQuePaga:A,nombreContacto:k.nombre||null,apellidoContacto:k.apellido||null,telefonoContacto:k.telefono||null,emailContacto:k.email||null}),ge(!0),setTimeout(()=>ge(!1),3e3),!!(k.nombre&&k.apellido&&k.telefono&&k.email&&U.nombre&&U.apellido&&U.telefono&&U.email)&&setTimeout(()=>r("/catalogo"),1500)}finally{ae(!1)}}},he=!!(k.nombre&&k.apellido&&k.telefono&&k.email&&U.nombre&&U.apellido&&U.telefono&&U.email),we=Z=>{if(!(Z!=null&&Z.direccionFacturacion))return"";const Ae=Z.direccionFacturacion;return[Ae.calle,Ae.numero,Ae.localidad,Ae.provincia,Ae.codigoPostal].filter(Boolean).join(", ")},ke=Z=>{const Ae=[Z.calle,Z.numero,Z.localidad,Z.provincia,Z.codigoPostal].filter(Boolean);return Ae.length?Ae.join(", "):Z.direccion?`${Z.direccion}, ${Z.localidad||""}`.trim():"-"};return S.jsxs("div",{className:"container page",children:[S.jsx("h1",{className:"page-title",children:"Datos"}),a&&S.jsx("div",{className:"datos-alerta-registro",role:"alert",children:"Por favor complet todos los datos necesarios para poder hacer pedidos."}),!he&&!a&&S.jsx("p",{className:"datos-prompt",children:"Para poder realizar pedidos complet los siguientes datos."}),S.jsx("p",{className:"page-subtitle",children:"Gestion tus razones sociales, sucursales de entrega, expresos y datos de contacto."}),S.jsxs("div",{className:"tabs",children:[S.jsx("button",{className:c==="razones"?"active":"",onClick:()=>u("razones"),children:"Razones sociales"}),S.jsx("button",{className:c==="sucursales"?"active":"",onClick:()=>u("sucursales"),children:"Sucursales de entrega"}),S.jsx("button",{className:c==="expresos"?"active":"",onClick:()=>u("expresos"),children:"Expresos"}),S.jsx("button",{className:c==="contacto"?"active":"",onClick:()=>u("contacto"),children:"Datos de contacto"})]}),c==="razones"&&S.jsxs("section",{className:"entidades-section",children:[S.jsxs("form",{onSubmit:M,className:"form-stacked datos-form-razon",children:[S.jsx("h3",{children:"Agregar razn social"}),S.jsx("input",{placeholder:"Razn social *",value:h.razonSocial,onChange:Z=>d({...h,razonSocial:Z.target.value}),required:!0}),S.jsx("input",{placeholder:"CUIT o CUIL",value:h.cuit,onChange:Z=>d({...h,cuit:Z.target.value})}),S.jsxs("select",{value:h.condicionFiscal,onChange:Z=>d({...h,condicionFiscal:Z.target.value}),children:[S.jsx("option",{value:"",children:"Condicin fiscal (opcional)"}),AC.map(Z=>S.jsx("option",{value:Z.value,children:Z.label},Z.value))]}),S.jsx("h4",{children:"Direccin de facturacin"}),S.jsxs("div",{className:"form-row",children:[S.jsx("input",{placeholder:"Calle *",value:h.calle,onChange:Z=>d({...h,calle:Z.target.value})}),S.jsx("input",{placeholder:"Nmero",value:h.numero,onChange:Z=>d({...h,numero:Z.target.value}),style:{maxWidth:100}})]}),S.jsxs("div",{className:"form-row",children:[S.jsxs("select",{value:h.provinciaId,onChange:Z=>{const Ae=Z.target.value,K=Yg.find(Te=>Te.id===Ae);d({...h,provinciaId:Ae,provincia:(K==null?void 0:K.nombre)||"",localidad:""})},children:[S.jsx("option",{value:"",children:"Provincia"}),Yg.map(Z=>S.jsx("option",{value:Z.id,children:Z.nombre},Z.id))]}),S.jsxs("select",{value:h.localidad,onChange:Z=>d({...h,localidad:Z.target.value}),disabled:!h.provinciaId||w,required:!0,children:[S.jsx("option",{value:"",children:w?"Cargando...":"Localidad *"}),m.map(Z=>S.jsx("option",{value:Z.nombre,children:Z.nombre},Z.id))]}),S.jsx("input",{placeholder:"Cdigo postal",value:h.codigoPostal,onChange:Z=>d({...h,codigoPostal:Z.target.value}),style:{maxWidth:120}})]}),S.jsx("button",{type:"submit",className:"btn btn-primary",children:"Agregar razn social"})]}),S.jsx("ul",{className:"entidades-list",children:i.map(Z=>{var Ae;return S.jsxs("li",{children:[S.jsx("strong",{children:Z.razonSocial}),Z.cuit&&`  CUIT: ${Z.cuit}`,Z.condicionFiscal&&`  ${((Ae=AC.find(K=>K.value===Z.condicionFiscal))==null?void 0:Ae.label)||Z.condicionFiscal}`,we(Z)&&`  ${we(Z)}`]},Z.id)})})]}),c==="sucursales"&&S.jsxs("section",{className:"entidades-section",children:[S.jsxs("form",{onSubmit:Q,className:"form-stacked datos-form-sucursal",children:[S.jsx("h3",{children:"Agregar sucursal o domicilio de entrega"}),S.jsxs("select",{value:f.razonSocialId,onChange:Z=>{const Ae=Z.target.value,K=Ae?i.find(Te=>Te.id===Ae):null;p({...f,razonSocialId:Ae,razonSocial:(K==null?void 0:K.razonSocial)||""})},children:[S.jsx("option",{value:"",children:"Sin razn social"}),i.map(Z=>S.jsx("option",{value:Z.id,children:Z.razonSocial},Z.id))]}),S.jsx("input",{placeholder:"Calle *",value:f.calle,onChange:Z=>p({...f,calle:Z.target.value}),required:!0}),S.jsx("input",{placeholder:"Nmero",value:f.numero,onChange:Z=>p({...f,numero:Z.target.value}),style:{maxWidth:100}}),S.jsxs("select",{value:f.provinciaId,onChange:Z=>{const Ae=Z.target.value,K=Yg.find(Te=>Te.id===Ae);p({...f,provinciaId:Ae,provincia:(K==null?void 0:K.nombre)||"",localidad:""})},children:[S.jsx("option",{value:"",children:"Provincia"}),Yg.map(Z=>S.jsx("option",{value:Z.id,children:Z.nombre},Z.id))]}),S.jsxs("select",{value:f.localidad,onChange:Z=>p({...f,localidad:Z.target.value}),disabled:!f.provinciaId||j,required:!0,children:[S.jsx("option",{value:"",children:j?"Cargando...":"Localidad *"}),x.map(Z=>S.jsx("option",{value:Z.nombre,children:Z.nombre},Z.id))]}),S.jsx("input",{placeholder:"Cdigo postal",value:f.codigoPostal,onChange:Z=>p({...f,codigoPostal:Z.target.value})}),S.jsx("button",{type:"submit",className:"btn btn-primary",children:"Agregar sucursal"})]}),S.jsxs("ul",{className:"entidades-list",children:[N.map(Z=>S.jsxs("li",{children:[S.jsx("em",{children:"Sin razn social"}),"  ",ke(Z)]},Z.id)),be.map(Z=>{const Ae=i.find(K=>K.id===Z.razonSocialId);return S.jsxs("li",{children:[S.jsx("strong",{children:(Ae==null?void 0:Ae.razonSocial)||Z.razonSocial||"Sin razn"}),"  ",ke(Z)]},Z.id)})]})]}),c==="expresos"&&S.jsxs("section",{className:"entidades-section",children:[S.jsxs("form",{onSubmit:oe,className:"form-inline",children:[S.jsx("input",{placeholder:"Nombre del expreso *",value:y.nombre,onChange:Z=>R({...y,nombre:Z.target.value}),required:!0}),S.jsx("input",{placeholder:"Direccin CABA *",value:y.direccionCABA,onChange:Z=>R({...y,direccionCABA:Z.target.value}),required:!0}),S.jsx("input",{placeholder:"Telfono",value:y.telefono,onChange:Z=>R({...y,telefono:Z.target.value})}),S.jsx("button",{type:"submit",className:"btn btn-primary",children:"Agregar"})]}),S.jsx("ul",{className:"entidades-list",children:o.map(Z=>S.jsxs("li",{children:[S.jsx("strong",{children:Z.nombre}),"  ",Z.direccionCABA," ",Z.telefono?` ${Z.telefono}`:""]},Z.id))})]}),c==="contacto"&&S.jsx("section",{className:"entidades-section",children:S.jsxs("form",{onSubmit:de,className:"form-stacked",children:[S.jsxs("label",{className:"checkbox-label datos-checkbox-mismo",children:[S.jsx("input",{type:"checkbox",checked:A,onChange:Z=>C(Z.target.checked)}),"Es la misma persona quien compra y quien paga?"]}),S.jsxs("div",{className:"datos-contacto-grid",children:[S.jsxs("div",{className:"datos-contacto-block",children:[S.jsx("h4",{children:"Datos de quien compra"}),S.jsx("input",{placeholder:"Nombre *",value:k.nombre,onChange:Z=>q({...k,nombre:Z.target.value})}),S.jsx("input",{placeholder:"Apellido *",value:k.apellido,onChange:Z=>q({...k,apellido:Z.target.value})}),S.jsx("input",{type:"tel",placeholder:"Telfono WhatsApp *",value:k.telefono,onChange:Z=>q({...k,telefono:Z.target.value})}),S.jsx("input",{type:"email",placeholder:"Email *",value:k.email,onChange:Z=>q({...k,email:Z.target.value})})]}),S.jsxs("div",{className:"datos-contacto-block",children:[S.jsx("h4",{children:"Datos de quien paga"}),S.jsx("input",{placeholder:"Nombre *",value:U.nombre,onChange:Z=>V({...X,nombre:Z.target.value}),disabled:A}),S.jsx("input",{placeholder:"Apellido *",value:U.apellido,onChange:Z=>V({...X,apellido:Z.target.value}),disabled:A}),S.jsx("input",{type:"tel",placeholder:"Telfono WhatsApp *",value:U.telefono,onChange:Z=>V({...X,telefono:Z.target.value}),disabled:A}),S.jsx("input",{type:"email",placeholder:"Email *",value:U.email,onChange:Z=>V({...X,email:Z.target.value}),disabled:A})]})]}),S.jsx("button",{type:"submit",className:"btn btn-primary",disabled:H,children:H?"Guardando...":"Guardar datos de contacto"}),W&&S.jsx("p",{className:"hint success",children:"Datos guardados"})]})})]})}function _ue(){const{user:t}=el(),[e,r]=fe.useState([]);fe.useEffect(()=>{if(!t)return;const a=Ta(xr(kt,"pedidos"),ca("userId","==",t.uid),Im("createdAt","desc")),i=Lr(a,s=>{r(s.docs.map(o=>({id:o.id,...o.data()})))});return()=>i()},[t]);const n=a=>a?(a!=null&&a.toDate?a.toDate():new Date(a)).toLocaleString("es-AR"):"-";return S.jsxs("div",{className:"container page",children:[S.jsx("h1",{className:"page-title",children:"Mis pedidos"}),S.jsx("p",{className:"page-subtitle",children:"Historial y detalle de tus pedidos."}),e.length===0?S.jsx("p",{className:"empty-state",children:"No tens pedidos an."}):S.jsx("div",{className:"pedidos-list mis-pedidos-list",children:e.map(a=>{var i,s;return S.jsxs("div",{className:"pedido-card pedido-card-expandido",children:[S.jsxs("div",{className:"pedido-header",children:[S.jsxs("span",{children:["#",a.numeroPedido??a.id.slice(-6)]}),S.jsx("span",{children:n(a.createdAt)})]}),S.jsxs("div",{className:"pedido-body",children:[S.jsxs("p",{children:[S.jsx("strong",{children:"Razn social:"})," ",((i=a.razonSocial)==null?void 0:i.razonSocial)||"Sin razn social"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Sucursal:"})," ",a.sucursal?`${a.sucursal.direccion}, ${a.sucursal.localidad}`:"Sin sucursal"]}),a.condicionFiscal&&S.jsxs("p",{children:[S.jsx("strong",{children:"Condicin fiscal:"})," ",a.condicionFiscal==="A"?"Factura A":a.condicionFiscal==="nota_pedido"?"Nota de pedido":a.condicionFiscal]}),(a.vendedorId||a.vendedorNombre)&&S.jsxs("p",{children:[S.jsx("strong",{children:"Vendedor:"})," ",a.vendedorNombre||"S"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Total:"})," $",kr(a.total||0)]}),S.jsxs("div",{className:"pedido-items",children:[S.jsx("strong",{children:"Productos:"}),S.jsx("ul",{children:(s=a.items)==null?void 0:s.map((o,l)=>{const c=o.precioUnitario??(o.precioPorBulto??0)/(o.unidadesPorBulto??1),u=o.precioPorBulto??c*(o.unidadesPorBulto??1);return S.jsxs("li",{children:[o.descripcion,"  ",o.bultos," bulto(s)  $/u $",kr(c)," = $",kr((o.bultos||0)*u)]},l)})})]}),a.comprobanteUrl&&S.jsx("a",{href:a.comprobanteUrl,target:"_blank",rel:"noopener noreferrer",className:"btn btn-ghost btn-sm",children:"Ver comprobante"})]})]},a.id)})})]})}function yue(){const t=Js(),e=()=>{gv($u),t("/login")};return S.jsxs("div",{className:"layout admin-layout",children:[S.jsx("header",{className:"header header-admin",children:S.jsxs("div",{className:"container header-inner",children:[S.jsxs(qr,{to:"/admin",className:"logo logo-mtf",children:[S.jsx("img",{src:"/logos/luni.png",alt:"LUNI",className:"logo-img logo-luni"}),S.jsx("img",{src:"/logos/polesie.png",alt:"Polesie",className:"logo-img logo-polesie"}),S.jsx("span",{className:"logo-text",children:"Admin MTF"})]}),S.jsxs("nav",{className:"nav",children:[S.jsx(qr,{to:"/admin",children:"Dashboard"}),S.jsx(qr,{to:"/admin/usuarios",children:"Usuarios"}),S.jsx(qr,{to:"/admin/pedidos",children:"Pedidos"}),S.jsx(qr,{to:"/admin/catalogo",children:"Catlogo"}),S.jsx(qr,{to:"/admin/ofertas",children:"Ofertas"}),S.jsx(qr,{to:"/admin/vendedores",children:"Vendedores"}),S.jsx(qr,{to:"/",children:"Ver sitio"}),S.jsx("button",{onClick:e,className:"btn btn-ghost btn-sm",children:"Salir"})]})]})}),S.jsx("main",{className:"main",children:S.jsx($I,{})})]})}function wue(){const{user:t}=el(),[e,r]=fe.useState(0),[n,a]=fe.useState(null),[i,s]=fe.useState(0),[o,l]=fe.useState(0);return fe.useEffect(()=>{if(!(t!=null&&t.uid))return;const c=Lr(nn(kt,"adminConfig",t.uid),u=>{var d;const h=u.exists()?u.data().lastViewedUsuariosAt:null;a(((d=h==null?void 0:h.toDate)==null?void 0:d.call(h))??null)});return()=>c()},[t==null?void 0:t.uid]),fe.useEffect(()=>{const c=Lr(Ta(xr(kt,"users"),ca("approved","==",!1),ca("role","==","cliente")),u=>{const h=u.docs.map(p=>({...p.data(),id:p.id})).filter(p=>!p.deleted),d=n?new Date(n):null,f=d?h.filter(p=>{var m,_;return((_=(m=p.createdAt)==null?void 0:m.toDate)==null?void 0:_.call(m))>d}).length:h.length;r(f)});return()=>c()},[n]),fe.useEffect(()=>{const c=new Date;c.setHours(0,0,0,0);const u=Lr(xr(kt,"pedidos"),h=>{const d=h.docs.filter(f=>{var p,m;return((m=(p=f.data().createdAt)==null?void 0:p.toDate)==null?void 0:m.call(p))>=c}).length;s(d)});return()=>u()},[]),fe.useEffect(()=>{const c=Lr(xr(kt,"vendedores"),u=>l(u.size));return()=>c()},[]),S.jsxs("div",{className:"container page",children:[S.jsx("h1",{className:"page-title",children:"Panel de administracin"}),S.jsxs("div",{className:"dashboard-cards admin-cards",children:[S.jsxs("div",{className:"card",children:[S.jsx("h3",{children:e}),S.jsx("p",{children:"Nuevos clientes"}),S.jsx(qr,{to:"/admin/usuarios",className:"btn btn-primary btn-sm",children:"Ver usuarios"})]}),S.jsxs("div",{className:"card",children:[S.jsx("h3",{children:i}),S.jsx("p",{children:"Pedidos de hoy"}),S.jsx(qr,{to:"/admin/pedidos",className:"btn btn-primary btn-sm",children:"Ver pedidos"})]}),S.jsxs("div",{className:"card",children:[S.jsx("h3",{children:"Catlogo"}),S.jsx("p",{children:"Gestionar productos"}),S.jsx(qr,{to:"/admin/catalogo",className:"btn btn-primary btn-sm",children:"Gestionar catlogo"})]}),S.jsxs("div",{className:"card",children:[S.jsx("h3",{children:o}),S.jsx("p",{children:"Vendedores"}),S.jsx(qr,{to:"/admin/vendedores",className:"btn btn-primary btn-sm",children:"Gestionar vendedores"})]})]})]})}function bue(){const t=Js(),{user:e}=el(),[r,n]=fe.useState([]),[a,i]=fe.useState([]),[s,o]=fe.useState(null),[l,c]=fe.useState(0),[u,h]=fe.useState(""),[d,f]=fe.useState("todos");fe.useEffect(()=>{const P=Lr(xr(kt,"users"),N=>{n(N.docs.map(E=>({id:E.id,...E.data()})))});return()=>P()},[]),fe.useEffect(()=>{e!=null&&e.uid&&Rv(nn(kt,"adminConfig",e.uid),{lastViewedUsuariosAt:P$()},{merge:!0})},[e==null?void 0:e.uid]),fe.useEffect(()=>{const P=Lr(xr(kt,"vendedores"),N=>{i(N.docs.map(E=>({id:E.id,...E.data()})))});return()=>P()},[]);const p=r.filter(P=>P.role==="cliente"&&!P.deleted),m=p.filter(P=>!P.approved&&!P.blocked),_=p.filter(P=>P.approved),x=p.filter(P=>P.blocked),T=d==="pendientes"?m:d==="aprobados"?_:d==="bloqueados"?x:p,w=async(P,N)=>{P.stopPropagation(),await qo(nn(kt,"users",N),{approved:!0})},I=(P,N)=>{P.stopPropagation(),o(N.id),c(N.descuentoBase??0),h(N.vendedorId??"")},j=async P=>{P==null||P.stopPropagation(),s&&(await qo(nn(kt,"users",s),{descuentoBase:l,vendedorId:u||null}),o(null))};return S.jsxs("div",{className:"container page",children:[S.jsx("h1",{className:"page-title",children:"Usuarios"}),S.jsx("p",{className:"page-subtitle",children:"Hac clic en un cliente para ver todos sus datos y pedidos."}),S.jsxs("div",{className:"admin-usuarios-filtros",children:[S.jsxs("button",{className:d==="todos"?"active":"",onClick:()=>f("todos"),children:["Todos (",p.length,")"]}),S.jsxs("button",{className:d==="pendientes"?"active":"",onClick:()=>f("pendientes"),children:["Pendientes (",m.length,")"]}),S.jsxs("button",{className:d==="aprobados"?"active":"",onClick:()=>f("aprobados"),children:["Aprobados (",_.length,")"]}),S.jsxs("button",{className:d==="bloqueados"?"active":"",onClick:()=>f("bloqueados"),children:["Bloqueados (",x.length,")"]})]}),S.jsx("div",{className:"table-wrap",children:S.jsxs("table",{className:"admin-table admin-table-usuarios",children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Email"}),S.jsx("th",{children:"Empresa"}),S.jsx("th",{children:"Rubro"}),S.jsx("th",{children:"Estado"}),S.jsx("th",{children:"Descuento %"}),S.jsx("th",{children:"Vendedor"}),S.jsx("th",{children:"Acciones"})]})}),S.jsx("tbody",{children:T.map(P=>{var N;return S.jsxs("tr",{className:"admin-usuario-row",onClick:()=>t(`/admin/usuarios/${P.id}`),children:[S.jsx("td",{children:P.email}),S.jsx("td",{children:P.nombreEmpresa}),S.jsx("td",{children:P.rubro}),S.jsx("td",{children:P.blocked?S.jsx("span",{className:"badge badge-danger",children:"Bloqueado"}):P.approved?S.jsx("span",{className:"badge badge-ok",children:"Aprobado"}):S.jsx("span",{className:"badge badge-pending",children:"Pendiente"})}),S.jsx("td",{children:s===P.id?S.jsx("input",{type:"number",value:l,onChange:E=>c(Number(E.target.value)),onClick:E=>E.stopPropagation(),style:{width:60}}):P.descuentoBase??0}),S.jsx("td",{children:s===P.id?S.jsxs("select",{value:u,onChange:E=>h(E.target.value),onClick:E=>E.stopPropagation(),children:[S.jsx("option",{value:"",children:"Sin asignar"}),a.map(E=>S.jsx("option",{value:E.id,children:E.nombre},E.id))]}):((N=a.find(E=>E.id===P.vendedorId))==null?void 0:N.nombre)||"-"}),S.jsxs("td",{children:[!P.approved&&S.jsx("button",{className:"btn btn-primary btn-sm",onClick:E=>w(E,P.id),children:"Aprobar"}),s===P.id?S.jsx("button",{className:"btn btn-primary btn-sm",onClick:j,children:"Guardar"}):S.jsx("button",{className:"btn btn-ghost btn-sm",onClick:E=>I(E,P),children:"Editar"}),S.jsx("span",{className:"link-ver",children:"Ver detalle "})]})]},P.id)})})]})}),T.length===0&&S.jsx("p",{className:"empty-state",children:"No hay usuarios en esta lista."})]})}function Eue(){const t=Js(),[e,r]=fe.useState([]);fe.useEffect(()=>{const a=Ta(xr(kt,"pedidos"),Im("createdAt","desc")),i=Lr(a,s=>{r(s.docs.map(o=>({id:o.id,...o.data()})))});return()=>i()},[]);const n=a=>a?(a!=null&&a.toDate?a.toDate():new Date(a)).toLocaleString("es-AR"):"-";return S.jsxs("div",{className:"container page",children:[S.jsx("h1",{className:"page-title",children:"Pedidos"}),S.jsx("p",{className:"page-subtitle",children:"Hac clic en un pedido para ver el detalle."}),e.length>0&&S.jsx("div",{className:"admin-pedidos-exportar",style:{marginBottom:"1rem"},children:S.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>due(e),children:"Exportar todos a Excel"})}),e.length===0?S.jsx("p",{className:"empty-state",children:"No hay pedidos."}):S.jsx("div",{className:"pedidos-list pedidos-resumen",children:e.map(a=>{var i;return S.jsxs("button",{type:"button",className:"pedido-card pedido-card-resumen",onClick:()=>t(`/admin/pedidos/${a.id}`),children:[S.jsxs("div",{className:"pedido-header",children:[S.jsxs("span",{children:["#",a.numeroPedido??a.id.slice(-6)]}),S.jsx("span",{children:n(a.createdAt)})]}),S.jsxs("div",{className:"pedido-body",children:[S.jsxs("p",{children:[S.jsx("strong",{children:"Razn social:"})," ",((i=a.razonSocial)==null?void 0:i.razonSocial)||"Sin razn social"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Sucursal:"})," ",a.sucursal?`${a.sucursal.direccion}, ${a.sucursal.localidad}`:"Sin sucursal"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Forma de pago:"})," ",a.formaPago]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Total:"})," $",kr(a.total||0)]})]})]},a.id)})})]})}const SC=[{value:"pendiente",label:"Pendiente"},{value:"confirmado",label:"Confirmado"},{value:"enviado",label:"Enviado"},{value:"entregado",label:"Entregado"},{value:"cancelado",label:"Cancelado"}];function Aue(){var f,p,m,_,x,T;const{id:t}=HI(),e=Js(),[r,n]=fe.useState(null),[a,i]=fe.useState(!1),[s,o]=fe.useState("pendiente"),[l,c]=fe.useState(!1);fe.useEffect(()=>{if(!t)return;const w=Lr(nn(kt,"pedidos",t),I=>{n(I.exists()?{id:I.id,...I.data()}:null)});return()=>w()},[t]);const u=w=>w?(w!=null&&w.toDate?w.toDate():new Date(w)).toLocaleString("es-AR"):"-",h=w=>{if(!w)return"Sin razn social";const I=[w.razonSocial];w.cuit&&I.push(`CUIT: ${w.cuit}`),w.condicionFiscal&&I.push(w.condicionFiscal);const j=w.direccionFacturacion;if(j&&(j.calle||j.localidad)){const P=[j.calle,j.numero,j.localidad,j.provincia,j.codigoPostal].filter(Boolean);P.length&&I.push(P.join(", "))}return I.join("  ")},d=async()=>{if(t){c(!0);try{await qo(nn(kt,"pedidos",t),{estado:s}),i(!1)}finally{c(!1)}}};return r?S.jsxs("div",{className:"container page",children:[S.jsx("button",{className:"btn btn-ghost btn-sm",onClick:()=>e("/admin/pedidos"),style:{marginBottom:"1rem"},children:" Volver al listado"}),S.jsxs("h1",{className:"page-title",children:["Pedido #",r.numeroPedido??r.id.slice(-6)]}),S.jsx("p",{className:"page-subtitle",children:u(r.createdAt)}),S.jsxs("div",{className:"pedido-detalle-resumen",children:[S.jsxs("p",{children:[S.jsx("strong",{children:"Razn social:"})," ",h(r.razonSocial)]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Sucursal:"})," ",r.sucursal?r.sucursal.calle?[r.sucursal.calle,r.sucursal.numero,r.sucursal.localidad,r.sucursal.provincia,r.sucursal.codigoPostal].filter(Boolean).join(", "):`${r.sucursal.direccion||""}, ${r.sucursal.localidad||""}`.trim():"A coordinar"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Forma de pago:"})," ",r.formaPago||"-"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Estado:"}),a?S.jsxs("span",{style:{marginLeft:"0.5rem",display:"inline-flex",alignItems:"center",gap:"0.5rem"},children:[S.jsx("select",{value:s,onChange:w=>o(w.target.value),children:SC.map(w=>S.jsx("option",{value:w.value,children:w.label},w.value))}),S.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:d,disabled:l,children:l?"Guardando...":"Guardar"}),S.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>i(!1),children:"Cancelar"})]}):S.jsxs("span",{style:{marginLeft:"0.5rem"},children:[((f=SC.find(w=>w.value===(r.estado||"pendiente")))==null?void 0:f.label)||r.estado||"Pendiente",S.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>{o(r.estado||"pendiente"),i(!0)},style:{marginLeft:"0.5rem"},children:"Editar"})]})]}),(r.contacto||r.contactoCompra)&&S.jsxs("p",{children:[S.jsx("strong",{children:"Contacto compra:"})," ",r.contactoCompra?`${r.contactoCompra.nombre} ${r.contactoCompra.apellido}  ${r.contactoCompra.telefono}  ${r.contactoCompra.email}`:`${(p=r.contacto)==null?void 0:p.nombre} ${(m=r.contacto)==null?void 0:m.apellido}  ${(_=r.contacto)==null?void 0:_.telefono}  ${(x=r.contacto)==null?void 0:x.email}`]}),r.contactoPago&&r.contactoCompra&&(r.contactoPago.nombre!==r.contactoCompra.nombre||r.contactoPago.email!==r.contactoCompra.email)&&S.jsxs("p",{children:[S.jsx("strong",{children:"Contacto pago:"})," ",r.contactoPago.nombre," ",r.contactoPago.apellido,"  ",r.contactoPago.telefono,"  ",r.contactoPago.email]}),S.jsxs("div",{className:"pedido-detalle-totales totales-block",children:[S.jsxs("div",{className:"totales-fila",children:[S.jsx("span",{className:"totales-label",children:"Subtotal"}),S.jsxs("span",{className:"totales-valor",children:["$",kr(r.subtotal??0)]})]}),((r.descuentoBase??0)>0||r.aplicaProntoPago)&&S.jsxs("div",{className:"totales-fila",children:[S.jsxs("span",{className:"totales-label",children:["Desc. ",(r.descuentoBase??0)>0&&r.aplicaProntoPago?`${r.descuentoBase} + 10 %`:(r.descuentoBase??0)>0?`${r.descuentoBase} %`:"10 %"]}),S.jsxs("span",{className:"totales-valor",children:["$",kr((r.subtotal??0)-(r.subtotal??0)*(1-(r.descuentoBase??0)/100)+(r.aplicaProntoPago?(r.subtotal??0)*(1-(r.descuentoBase??0)/100)*.1:0))]})]}),S.jsx("div",{className:"totales-sep"}),S.jsxs("div",{className:"totales-fila",children:[S.jsx("span",{className:"totales-label",children:"Subtotal"}),S.jsxs("span",{className:"totales-valor",children:["$",kr(r.condicionFiscal==="A"?(r.total??0)/1.21:r.total??0)]})]}),r.condicionFiscal==="A"&&S.jsxs("div",{className:"totales-fila",children:[S.jsx("span",{className:"totales-label",children:"I.V.A. 21,00 %"}),S.jsxs("span",{className:"totales-valor",children:["$",kr((r.total??0)-(r.total??0)/1.21)]})]}),S.jsx("div",{className:"totales-sep"}),S.jsxs("div",{className:"totales-fila totales-total",children:[S.jsx("span",{className:"totales-label",children:"TOTAL"}),S.jsxs("span",{className:"totales-valor",children:["$",kr(r.total??0)]})]})]})]}),S.jsxs("div",{className:"pedido-detalle-items",children:[S.jsx("h3",{children:"Productos encargados"}),S.jsx("div",{className:"table-wrap",children:S.jsxs("table",{className:"pedido-items-table",children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"SKU"}),S.jsx("th",{children:"Descripcin"}),S.jsx("th",{children:"Bultos"}),S.jsx("th",{children:"Precio unit."}),S.jsx("th",{children:"Precio bulto"}),S.jsx("th",{children:"Subtotal"})]})}),S.jsx("tbody",{children:(T=r.items)==null?void 0:T.map((w,I)=>{const j=w.precioUnitario??(w.precioPorBulto??0)/(w.unidadesPorBulto??1),P=w.precioPorBulto??j*(w.unidadesPorBulto??1);return S.jsxs("tr",{children:[S.jsx("td",{className:"sku-cell",children:S.jsx("strong",{children:w.sku||"-"})}),S.jsx("td",{children:w.descripcion}),S.jsx("td",{children:w.bultos}),S.jsxs("td",{children:["$",kr(j)]}),S.jsxs("td",{children:["$",kr(P)]}),S.jsxs("td",{children:["$",kr((w.bultos||0)*P)]})]},I)})})]})})]}),S.jsxs("div",{className:"pedido-detalle-acciones",children:[S.jsxs("div",{className:"pedido-detalle-exportar",children:[S.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>WP(r),children:"Exportar PDF"}),S.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>hue(r),children:"Exportar Excel"}),r.comprobanteUrl&&S.jsx("a",{href:r.comprobanteUrl,target:"_blank",rel:"noopener noreferrer",className:"btn btn-primary",children:"Ver comprobante"})]}),S.jsx("div",{className:"pedido-detalle-admin",children:S.jsx("button",{type:"button",className:"btn btn-danger-outline",onClick:async()=>{confirm("Eliminar este pedido?")&&(await Gx(nn(kt,"pedidos",r.id)),e("/admin/pedidos"))},children:"Eliminar pedido"})})]})]}):S.jsx("div",{className:"container page",children:S.jsx("p",{className:"empty-state",children:"Cargando pedido..."})})}const Qg=[{value:"pendiente",label:"Pendiente",approved:!1,blocked:!1},{value:"aprobado",label:"Aprobado",approved:!0,blocked:!1},{value:"bloqueado",label:"Bloqueado",approved:!1,blocked:!0}];function r5(t){if(!t)return"-";const e=[t.calle,t.numero,t.localidad,t.provincia,t.codigoPostal].filter(Boolean);return e.length?e.join(", "):t.direccion?`${t.direccion}, ${t.localidad||""}`.trim():"-"}function Sue(){const{id:t}=HI(),e=Js(),[r,n]=fe.useState(null),[a,i]=fe.useState([]),[s,o]=fe.useState([]),[l,c]=fe.useState([]),[u,h]=fe.useState([]),[d,f]=fe.useState([]),[p,m]=fe.useState([]),[_,x]=fe.useState(0),[T,w]=fe.useState(""),[I,j]=fe.useState(!1);fe.useEffect(()=>{if(!t)return;const k=Lr(nn(kt,"users",t),q=>{const X=q.exists()?{id:q.id,...q.data()}:null;n(X),X&&(x(X.descuentoBase??0),w(X.vendedorId??""))});return()=>k()},[t]),fe.useEffect(()=>{if(!t)return;const k=Ta(xr(kt,"razonesSociales"),ca("userId","==",t)),q=Lr(k,X=>{c(X.docs.map(V=>({id:V.id,...V.data()})))});return()=>q()},[t]),fe.useEffect(()=>{if(!t)return;const k=Ta(xr(kt,"expresos"),ca("userId","==",t)),q=Lr(k,X=>{m(X.docs.map(V=>({id:V.id,...V.data()})))});return()=>q()},[t]),fe.useEffect(()=>{if(!t)return;const k=Ta(xr(kt,"sucursales"),ca("userId","==",t),ca("razonSocialId","==",null)),q=Lr(k,X=>{h(X.docs.map(V=>({id:V.id,...V.data()})))});return()=>q()},[t]);const P=l.map(k=>k.id);fe.useEffect(()=>{if(P.length===0){f([]);return}const k=Ta(xr(kt,"sucursales"),ca("razonSocialId","in",P.slice(0,30))),q=Lr(k,X=>{f(X.docs.map(V=>({id:V.id,...V.data()})))});return()=>q()},[P.join(",")]),fe.useEffect(()=>{if(!t)return;const k=Ta(xr(kt,"pedidos"),ca("userId","==",t),Im("createdAt","desc")),q=Lr(k,X=>{i(X.docs.map(V=>({id:V.id,...V.data()})))});return()=>q()},[t]),fe.useEffect(()=>{const k=Lr(xr(kt,"vendedores"),q=>{o(q.docs.map(X=>({id:X.id,...X.data()})))});return()=>k()},[]);const N=k=>k?(k!=null&&k.toDate?k.toDate():new Date(k)).toLocaleString("es-AR"):"-",E=(r==null?void 0:r.role)==="cliente"?Qg.find(k=>k.approved===!!r.approved&&k.blocked===!!r.blocked)||Qg[0]:null,y=async k=>{if(!(!t||(r==null?void 0:r.role)!=="cliente")){j(!0);try{await qo(nn(kt,"users",t),{approved:k.approved,blocked:k.blocked})}finally{j(!1)}}},R=async()=>{if(t){j(!0);try{await qo(nn(kt,"users",t),{approved:!0,blocked:!1})}finally{j(!1)}}},A=async()=>{if(!(!t||!window.confirm("Eliminar este usuario? No podr volver a ingresar. Esta accin no se puede deshacer."))){j(!0);try{await qo(nn(kt,"users",t),{deleted:!0,approved:!1,blocked:!0}),e("/admin/usuarios")}finally{j(!1)}}},C=async()=>{if(t){j(!0);try{await qo(nn(kt,"users",t),{descuentoBase:_,vendedorId:T||null})}finally{j(!1)}}};return r?S.jsxs("div",{className:"container page",children:[S.jsx("button",{className:"btn btn-ghost btn-sm",onClick:()=>e("/admin/usuarios"),style:{marginBottom:"1rem"},children:" Volver a usuarios"}),S.jsx("h1",{className:"page-title",children:r.nombreEmpresa||r.email}),S.jsx("p",{className:"page-subtitle",children:r.role==="admin"?"Administrador":r.deleted?"Usuario eliminado":r.blocked?"Bloqueado":r.approved?"Aprobado":"Pendiente de aprobacin"}),r.role==="cliente"&&!r.deleted&&S.jsxs("div",{className:"admin-usuario-estado-block",children:[S.jsx("h3",{children:"Estado"}),S.jsxs("div",{className:"admin-usuario-estado-row",children:[S.jsx("select",{value:(E==null?void 0:E.value)??"pendiente",onChange:k=>{const q=Qg.find(X=>X.value===k.target.value);q&&y(q)},disabled:I,className:"admin-usuario-estado-select",children:Qg.map(k=>S.jsx("option",{value:k.value,children:k.label},k.value))}),!r.approved&&!r.blocked&&S.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:R,disabled:I,children:I?"...":"Aprobar"})]})]}),S.jsxs("div",{className:"admin-usuario-datos",children:[S.jsx("h3",{children:"Datos del cliente (perfil)"}),S.jsxs("div",{className:"admin-usuario-datos-grid",children:[S.jsxs("p",{children:[S.jsx("strong",{children:"Email:"})," ",r.email]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Empresa:"})," ",r.nombreEmpresa||"-"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Rubro:"})," ",r.rubro||"-"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Telfono:"})," ",r.telefono||"-"]})]}),S.jsx("h3",{className:"admin-usuario-seccion-datos",children:"Datos cargados en Datos"}),S.jsxs("div",{className:"admin-usuario-datos-modulos",children:[S.jsxs("div",{className:"admin-usuario-modulo",children:[S.jsx("h4",{children:"Razones sociales"}),l.length===0?S.jsx("p",{className:"muted",children:"Sin cargar"}):S.jsx("ul",{className:"admin-usuario-lista",children:l.map(k=>S.jsxs("li",{children:[k.razonSocial||"-",k.cuit&&`  CUIT: ${k.cuit}`,k.condicionFiscal&&`  ${k.condicionFiscal}`,k.direccionFacturacion&&(k.direccionFacturacion.calle||k.direccionFacturacion.localidad)&&S.jsxs("div",{className:"admin-usuario-direccion",children:["Facturacin: ",r5(k.direccionFacturacion)]})]},k.id))})]}),S.jsxs("div",{className:"admin-usuario-modulo",children:[S.jsx("h4",{children:"Sucursales de entrega"}),u.length===0&&d.length===0?S.jsx("p",{className:"muted",children:"Sin cargar"}):S.jsxs("ul",{className:"admin-usuario-lista",children:[u.map(k=>S.jsxs("li",{children:[k.razonSocial||k.direccion||"-","  ",r5(k)]},k.id)),d.map(k=>{var q;return S.jsxs("li",{children:[((q=l.find(X=>X.id===k.razonSocialId))==null?void 0:q.razonSocial)||"Sucursal","  ",r5(k)]},k.id)})]})]}),S.jsxs("div",{className:"admin-usuario-modulo",children:[S.jsx("h4",{children:"Expresos"}),p.length===0?S.jsx("p",{className:"muted",children:"Sin cargar"}):S.jsx("ul",{className:"admin-usuario-lista",children:p.map(k=>S.jsxs("li",{children:[k.nombre||"-",k.telefono?`  ${k.telefono}`:"",k.direccionCABA?`  ${k.direccionCABA}`:""]},k.id))})]}),S.jsxs("div",{className:"admin-usuario-modulo",children:[S.jsx("h4",{children:"Contacto compra"}),S.jsx("p",{children:r.nombreCompra||r.apellidoCompra?`${r.nombreCompra||""} ${r.apellidoCompra||""}`.trim():"-"}),S.jsxs("p",{children:["Tel: ",r.telefonoCompra||"-","  Email: ",r.emailCompra||"-"]})]}),S.jsxs("div",{className:"admin-usuario-modulo",children:[S.jsx("h4",{children:"Contacto pago"}),S.jsx("p",{children:r.nombrePago||r.apellidoPago?`${r.nombrePago||""} ${r.apellidoPago||""}`.trim():"-"}),S.jsxs("p",{children:["Tel: ",r.telefonoPago||"-","  Email: ",r.emailPago||"-"]})]})]}),r.role==="cliente"&&!r.deleted&&S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"admin-usuario-descuento",children:[S.jsx("h3",{children:"Descuento base"}),S.jsxs("div",{className:"admin-usuario-descuento-form",children:[S.jsx("input",{type:"number",min:"0",max:"100",value:_,onChange:k=>x(Number(k.target.value)),style:{width:80}}),S.jsx("span",{children:"%"}),S.jsxs("select",{value:T,onChange:k=>w(k.target.value),children:[S.jsx("option",{value:"",children:"Sin vendedor"}),s.map(k=>S.jsx("option",{value:k.id,children:k.nombre},k.id))]}),S.jsx("button",{className:"btn btn-primary btn-sm",onClick:C,disabled:I,children:I?"Guardando...":"Guardar"})]})]}),S.jsx("div",{className:"admin-usuario-eliminar",children:S.jsx("button",{type:"button",className:"btn btn-danger-outline",onClick:A,disabled:I,children:I?"...":"Eliminar usuario"})})]})]}),r.role==="cliente"&&S.jsxs("div",{className:"admin-usuario-pedidos",children:[S.jsxs("h3",{children:["Pedidos de este cliente (",a.length,")"]}),a.length===0?S.jsx("p",{className:"empty-state",children:"Sin pedidos an."}):S.jsx("div",{className:"pedidos-list pedidos-resumen",children:a.map(k=>{var q,X,V;return S.jsxs(qr,{to:`/admin/pedidos/${k.id}`,className:"pedido-card pedido-card-resumen pedido-card-link",children:[S.jsxs("div",{className:"pedido-header",children:[S.jsxs("span",{children:["#",k.numeroPedido??k.id.slice(-6)]}),S.jsx("span",{children:N(k.createdAt)}),S.jsx("span",{children:k.estado||"pendiente"})]}),S.jsxs("div",{className:"pedido-body",children:[S.jsxs("p",{children:[S.jsx("strong",{children:"Razn social:"})," ",((q=k.razonSocial)==null?void 0:q.razonSocial)||"Sin razn social"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Sucursal:"})," ",(X=k.sucursal)==null?void 0:X.direccion,", ",(V=k.sucursal)==null?void 0:V.localidad]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Total:"})," $",kr(k.total||0)]})]})]},k.id)})})]})]}):S.jsx("div",{className:"container page",children:S.jsx("p",{className:"empty-state",children:"Cargando..."})})}function Tue(t,e){return e.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(n){if(n!=="default"&&!(n in t)){var a=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return r[n]}})}})}),Object.freeze(t)}function $P(t,e){return new Promise(function(r,n){let a;return kue(t).then(function(i){try{return a=i,r(new Blob([e.slice(0,2),a,e.slice(2)],{type:"image/jpeg"}))}catch(s){return n(s)}},n)})}const kue=t=>new Promise((e,r)=>{const n=new FileReader;n.addEventListener("load",({target:{result:a}})=>{const i=new DataView(a);let s=0;if(i.getUint16(s)!==65496)return r("not a valid JPEG");for(s+=2;;){const o=i.getUint16(s);if(o===65498)break;const l=i.getUint16(s+2);if(o===65505&&i.getUint32(s+4)===1165519206){const c=s+10;let u;switch(i.getUint16(c)){case 18761:u=!0;break;case 19789:u=!1;break;default:return r("TIFF header contains invalid endian")}if(i.getUint16(c+2,u)!==42)return r("TIFF header contains invalid version");const h=i.getUint32(c+4,u),d=c+h+2+12*i.getUint16(c+h,u);for(let f=c+h+2;f<d;f+=12)if(i.getUint16(f,u)==274){if(i.getUint16(f+2,u)!==3)return r("Orientation data type is invalid");if(i.getUint32(f+4,u)!==1)return r("Orientation data count is invalid");i.setUint16(f+8,1,u);break}return e(a.slice(s,s+2+l))}s+=2+l}return e(new Blob)}),n.readAsArrayBuffer(t)});var Qv={},Cue={get exports(){return Qv},set exports(t){Qv=t}};(function(t){var e,r,n={};Cue.exports=n,n.parse=function(a,i){for(var s=n.bin.readUshort,o=n.bin.readUint,l=0,c={},u=new Uint8Array(a),h=u.length-4;o(u,h)!=101010256;)h--;l=h,l+=4;var d=s(u,l+=4);s(u,l+=2);var f=o(u,l+=2),p=o(u,l+=4);l+=4,l=p;for(var m=0;m<d;m++){o(u,l),l+=4,l+=4,l+=4,o(u,l+=4),f=o(u,l+=4);var _=o(u,l+=4),x=s(u,l+=4),T=s(u,l+2),w=s(u,l+4);l+=6;var I=o(u,l+=8);l+=4,l+=x+T+w,n._readLocal(u,I,c,f,_,i)}return c},n._readLocal=function(a,i,s,o,l,c){var u=n.bin.readUshort,h=n.bin.readUint;h(a,i),u(a,i+=4),u(a,i+=2);var d=u(a,i+=2);h(a,i+=2),h(a,i+=4),i+=4;var f=u(a,i+=8),p=u(a,i+=2);i+=2;var m=n.bin.readUTF8(a,i,f);if(i+=f,i+=p,c)s[m]={size:l,csize:o};else{var _=new Uint8Array(a.buffer,i);if(d==0)s[m]=new Uint8Array(_.buffer.slice(i,i+o));else{if(d!=8)throw"unknown compression method: "+d;var x=new Uint8Array(l);n.inflateRaw(_,x),s[m]=x}}},n.inflateRaw=function(a,i){return n.F.inflate(a,i)},n.inflate=function(a,i){return a[0],a[1],n.inflateRaw(new Uint8Array(a.buffer,a.byteOffset+2,a.length-6),i)},n.deflate=function(a,i){i==null&&(i={level:6});var s=0,o=new Uint8Array(50+Math.floor(1.1*a.length));o[s]=120,o[s+1]=156,s+=2,s=n.F.deflateRaw(a,o,s,i.level);var l=n.adler(a,0,a.length);return o[s+0]=l>>>24&255,o[s+1]=l>>>16&255,o[s+2]=l>>>8&255,o[s+3]=l>>>0&255,new Uint8Array(o.buffer,0,s+4)},n.deflateRaw=function(a,i){i==null&&(i={level:6});var s=new Uint8Array(50+Math.floor(1.1*a.length)),o=n.F.deflateRaw(a,s,o,i.level);return new Uint8Array(s.buffer,0,o)},n.encode=function(a,i){i==null&&(i=!1);var s=0,o=n.bin.writeUint,l=n.bin.writeUshort,c={};for(var u in a){var h=!n._noNeed(u)&&!i,d=a[u],f=n.crc.crc(d,0,d.length);c[u]={cpr:h,usize:d.length,crc:f,file:h?n.deflateRaw(d):d}}for(var u in c)s+=c[u].file.length+30+46+2*n.bin.sizeUTF8(u);s+=22;var p=new Uint8Array(s),m=0,_=[];for(var u in c){var x=c[u];_.push(m),m=n._writeHeader(p,m,u,x,0)}var T=0,w=m;for(var u in c)x=c[u],_.push(m),m=n._writeHeader(p,m,u,x,1,_[T++]);var I=m-w;return o(p,m,101010256),m+=4,l(p,m+=4,T),l(p,m+=2,T),o(p,m+=2,I),o(p,m+=4,w),m+=4,m+=2,p.buffer},n._noNeed=function(a){var i=a.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(i)!=-1},n._writeHeader=function(a,i,s,o,l,c){var u=n.bin.writeUint,h=n.bin.writeUshort,d=o.file;return u(a,i,l==0?67324752:33639248),i+=4,l==1&&(i+=2),h(a,i,20),h(a,i+=2,0),h(a,i+=2,o.cpr?8:0),u(a,i+=2,0),u(a,i+=4,o.crc),u(a,i+=4,d.length),u(a,i+=4,o.usize),h(a,i+=4,n.bin.sizeUTF8(s)),h(a,i+=2,0),i+=2,l==1&&(i+=2,i+=2,u(a,i+=6,c),i+=4),i+=n.bin.writeUTF8(a,i,s),l==0&&(a.set(d,i),i+=d.length),i},n.crc={table:function(){for(var a=new Uint32Array(256),i=0;i<256;i++){for(var s=i,o=0;o<8;o++)1&s?s=3988292384^s>>>1:s>>>=1;a[i]=s}return a}(),update:function(a,i,s,o){for(var l=0;l<o;l++)a=n.crc.table[255&(a^i[s+l])]^a>>>8;return a},crc:function(a,i,s){return 4294967295^n.crc.update(4294967295,a,i,s)}},n.adler=function(a,i,s){for(var o=1,l=0,c=i,u=i+s;c<u;){for(var h=Math.min(c+5552,u);c<h;)l+=o+=a[c++];o%=65521,l%=65521}return l<<16|o},n.bin={readUshort:function(a,i){return a[i]|a[i+1]<<8},writeUshort:function(a,i,s){a[i]=255&s,a[i+1]=s>>8&255},readUint:function(a,i){return 16777216*a[i+3]+(a[i+2]<<16|a[i+1]<<8|a[i])},writeUint:function(a,i,s){a[i]=255&s,a[i+1]=s>>8&255,a[i+2]=s>>16&255,a[i+3]=s>>24&255},readASCII:function(a,i,s){for(var o="",l=0;l<s;l++)o+=String.fromCharCode(a[i+l]);return o},writeASCII:function(a,i,s){for(var o=0;o<s.length;o++)a[i+o]=s.charCodeAt(o)},pad:function(a){return a.length<2?"0"+a:a},readUTF8:function(a,i,s){for(var o,l="",c=0;c<s;c++)l+="%"+n.bin.pad(a[i+c].toString(16));try{o=decodeURIComponent(l)}catch{return n.bin.readASCII(a,i,s)}return o},writeUTF8:function(a,i,s){for(var o=s.length,l=0,c=0;c<o;c++){var u=s.charCodeAt(c);if(!(4294967168&u))a[i+l]=u,l++;else if(!(4294965248&u))a[i+l]=192|u>>6,a[i+l+1]=128|u>>0&63,l+=2;else if(!(4294901760&u))a[i+l]=224|u>>12,a[i+l+1]=128|u>>6&63,a[i+l+2]=128|u>>0&63,l+=3;else{if(4292870144&u)throw"e";a[i+l]=240|u>>18,a[i+l+1]=128|u>>12&63,a[i+l+2]=128|u>>6&63,a[i+l+3]=128|u>>0&63,l+=4}}return l},sizeUTF8:function(a){for(var i=a.length,s=0,o=0;o<i;o++){var l=a.charCodeAt(o);if(!(4294967168&l))s++;else if(!(4294965248&l))s+=2;else if(!(4294901760&l))s+=3;else{if(4292870144&l)throw"e";s+=4}}return s}},n.F={},n.F.deflateRaw=function(a,i,s,o){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][o],c=n.F.U,u=n.F._goodIndex;n.F._hash;var h=n.F._putsE,d=0,f=s<<3,p=0,m=a.length;if(o==0){for(;d<m;)h(i,f,d+(A=Math.min(65535,m-d))==m?1:0),f=n.F._copyExact(a,d,A,i,f+8),d+=A;return f>>>3}var _=c.lits,x=c.strt,T=c.prev,w=0,I=0,j=0,P=0,N=0,E=0;for(m>2&&(x[E=n.F._hash(a,0)]=0),d=0;d<m;d++){if(N=E,d+1<m-2){E=n.F._hash(a,d+1);var y=d+1&32767;T[y]=x[E],x[E]=y}if(p<=d){(w>14e3||I>26697)&&m-d>100&&(p<d&&(_[w]=d-p,w+=2,p=d),f=n.F._writeBlock(d==m-1||p==m?1:0,_,w,P,a,j,d-j,i,f),w=I=P=0,j=d);var R=0;d<m-2&&(R=n.F._bestMatch(a,d,T,N,Math.min(l[2],m-d),l[3]));var A=R>>>16,C=65535&R;if(R!=0){C=65535&R;var k=u(A=R>>>16,c.of0);c.lhst[257+k]++;var q=u(C,c.df0);c.dhst[q]++,P+=c.exb[k]+c.dxb[q],_[w]=A<<23|d-p,_[w+1]=C<<16|k<<8|q,w+=2,p=d+A}else c.lhst[a[d]]++;I++}}for(j==d&&a.length!=0||(p<d&&(_[w]=d-p,w+=2,p=d),f=n.F._writeBlock(1,_,w,P,a,j,d-j,i,f),w=0,I=0,w=I=P=0,j=d);7&f;)f++;return f>>>3},n.F._bestMatch=function(a,i,s,o,l,c){var u=32767&i,h=s[u],d=u-h+32768&32767;if(h==u||o!=n.F._hash(a,i-d))return 0;for(var f=0,p=0,m=Math.min(32767,i);d<=m&&--c!=0&&h!=u;){if(f==0||a[i+f]==a[i+f-d]){var _=n.F._howLong(a,i,d);if(_>f){if(p=d,(f=_)>=l)break;d+2<_&&(_=d+2);for(var x=0,T=0;T<_-2;T++){var w=i-d+T+32768&32767,I=w-s[w]+32768&32767;I>x&&(x=I,h=w)}}}d+=(u=h)-(h=s[u])+32768&32767}return f<<16|p},n.F._howLong=function(a,i,s){if(a[i]!=a[i-s]||a[i+1]!=a[i+1-s]||a[i+2]!=a[i+2-s])return 0;var o=i,l=Math.min(a.length,i+258);for(i+=3;i<l&&a[i]==a[i-s];)i++;return i-o},n.F._hash=function(a,i){return(a[i]<<8|a[i+1])+(a[i+2]<<4)&65535},n.saved=0,n.F._writeBlock=function(a,i,s,o,l,c,u,h,d){var f,p,m,_,x,T,w,I,j,P=n.F.U,N=n.F._putsF,E=n.F._putsE;P.lhst[256]++,p=(f=n.F.getTrees())[0],m=f[1],_=f[2],x=f[3],T=f[4],w=f[5],I=f[6],j=f[7];var y=32+(d+3&7?8-(d+3&7):0)+(u<<3),R=o+n.F.contSize(P.fltree,P.lhst)+n.F.contSize(P.fdtree,P.dhst),A=o+n.F.contSize(P.ltree,P.lhst)+n.F.contSize(P.dtree,P.dhst);A+=14+3*w+n.F.contSize(P.itree,P.ihst)+(2*P.ihst[16]+3*P.ihst[17]+7*P.ihst[18]);for(var C=0;C<286;C++)P.lhst[C]=0;for(C=0;C<30;C++)P.dhst[C]=0;for(C=0;C<19;C++)P.ihst[C]=0;var k=y<R&&y<A?0:R<A?1:2;if(N(h,d,a),N(h,d+1,k),d+=3,k==0){for(;7&d;)d++;d=n.F._copyExact(l,c,u,h,d)}else{var q,X;if(k==1&&(q=P.fltree,X=P.fdtree),k==2){n.F.makeCodes(P.ltree,p),n.F.revCodes(P.ltree,p),n.F.makeCodes(P.dtree,m),n.F.revCodes(P.dtree,m),n.F.makeCodes(P.itree,_),n.F.revCodes(P.itree,_),q=P.ltree,X=P.dtree,E(h,d,x-257),E(h,d+=5,T-1),E(h,d+=5,w-4),d+=4;for(var V=0;V<w;V++)E(h,d+3*V,P.itree[1+(P.ordr[V]<<1)]);d+=3*w,d=n.F._codeTiny(I,P.itree,h,d),d=n.F._codeTiny(j,P.itree,h,d)}for(var H=c,ae=0;ae<s;ae+=2){for(var W=i[ae],ge=W>>>23,be=H+(8388607&W);H<be;)d=n.F._writeLit(l[H++],q,h,d);if(ge!=0){var D=i[ae+1],F=D>>16,U=D>>8&255,M=255&D;E(h,d=n.F._writeLit(257+U,q,h,d),ge-P.of0[U]),d+=P.exb[U],N(h,d=n.F._writeLit(M,X,h,d),F-P.df0[M]),d+=P.dxb[M],H+=ge}}d=n.F._writeLit(256,q,h,d)}return d},n.F._copyExact=function(a,i,s,o,l){var c=l>>>3;return o[c]=s,o[c+1]=s>>>8,o[c+2]=255-o[c],o[c+3]=255-o[c+1],c+=4,o.set(new Uint8Array(a.buffer,i,s),c),l+(s+4<<3)},n.F.getTrees=function(){for(var a=n.F.U,i=n.F._hufTree(a.lhst,a.ltree,15),s=n.F._hufTree(a.dhst,a.dtree,15),o=[],l=n.F._lenCodes(a.ltree,o),c=[],u=n.F._lenCodes(a.dtree,c),h=0;h<o.length;h+=2)a.ihst[o[h]]++;for(h=0;h<c.length;h+=2)a.ihst[c[h]]++;for(var d=n.F._hufTree(a.ihst,a.itree,7),f=19;f>4&&a.itree[1+(a.ordr[f-1]<<1)]==0;)f--;return[i,s,d,l,u,f,o,c]},n.F.getSecond=function(a){for(var i=[],s=0;s<a.length;s+=2)i.push(a[s+1]);return i},n.F.nonZero=function(a){for(var i="",s=0;s<a.length;s+=2)a[s+1]!=0&&(i+=(s>>1)+",");return i},n.F.contSize=function(a,i){for(var s=0,o=0;o<i.length;o++)s+=i[o]*a[1+(o<<1)];return s},n.F._codeTiny=function(a,i,s,o){for(var l=0;l<a.length;l+=2){var c=a[l],u=a[l+1];o=n.F._writeLit(c,i,s,o);var h=c==16?2:c==17?3:7;c>15&&(n.F._putsE(s,o,u,h),o+=h)}return o},n.F._lenCodes=function(a,i){for(var s=a.length;s!=2&&a[s-1]==0;)s-=2;for(var o=0;o<s;o+=2){var l=a[o+1],c=o+3<s?a[o+3]:-1,u=o+5<s?a[o+5]:-1,h=o==0?-1:a[o-1];if(l==0&&c==l&&u==l){for(var d=o+5;d+2<s&&a[d+2]==l;)d+=2;(f=Math.min(d+1-o>>>1,138))<11?i.push(17,f-3):i.push(18,f-11),o+=2*f-2}else if(l==h&&c==l&&u==l){for(d=o+5;d+2<s&&a[d+2]==l;)d+=2;var f=Math.min(d+1-o>>>1,6);i.push(16,f-3),o+=2*f-2}else i.push(l,0)}return s>>>1},n.F._hufTree=function(a,i,s){var o=[],l=a.length,c=i.length,u=0;for(u=0;u<c;u+=2)i[u]=0,i[u+1]=0;for(u=0;u<l;u++)a[u]!=0&&o.push({lit:u,f:a[u]});var h=o.length,d=o.slice(0);if(h==0)return 0;if(h==1){var f=o[0].lit;return d=f==0?1:0,i[1+(f<<1)]=1,i[1+(d<<1)]=1,1}o.sort(function(I,j){return I.f-j.f});var p=o[0],m=o[1],_=0,x=1,T=2;for(o[0]={lit:-1,f:p.f+m.f,l:p,r:m,d:0};x!=h-1;)p=_!=x&&(T==h||o[_].f<o[T].f)?o[_++]:o[T++],m=_!=x&&(T==h||o[_].f<o[T].f)?o[_++]:o[T++],o[x++]={lit:-1,f:p.f+m.f,l:p,r:m};var w=n.F.setDepth(o[x-1],0);for(w>s&&(n.F.restrictDepth(d,s,w),w=s),u=0;u<h;u++)i[1+(d[u].lit<<1)]=d[u].d;return w},n.F.setDepth=function(a,i){return a.lit!=-1?(a.d=i,i):Math.max(n.F.setDepth(a.l,i+1),n.F.setDepth(a.r,i+1))},n.F.restrictDepth=function(a,i,s){var o=0,l=1<<s-i,c=0;for(a.sort(function(h,d){return d.d==h.d?h.f-d.f:d.d-h.d}),o=0;o<a.length&&a[o].d>i;o++){var u=a[o].d;a[o].d=i,c+=l-(1<<s-u)}for(c>>>=s-i;c>0;)(u=a[o].d)<i?(a[o].d++,c-=1<<i-u-1):o++;for(;o>=0;o--)a[o].d==i&&c<0&&(a[o].d--,c++);c!=0&&console.log("debt left")},n.F._goodIndex=function(a,i){var s=0;return i[16|s]<=a&&(s|=16),i[8|s]<=a&&(s|=8),i[4|s]<=a&&(s|=4),i[2|s]<=a&&(s|=2),i[1|s]<=a&&(s|=1),s},n.F._writeLit=function(a,i,s,o){return n.F._putsF(s,o,i[a<<1]),o+i[1+(a<<1)]},n.F.inflate=function(a,i){var s=Uint8Array;if(a[0]==3&&a[1]==0)return i||new s(0);var o=n.F,l=o._bitsF,c=o._bitsE,u=o._decodeTiny,h=o.makeCodes,d=o.codes2map,f=o._get17,p=o.U,m=i==null;m&&(i=new s(a.length>>>2<<3));for(var _,x,T=0,w=0,I=0,j=0,P=0,N=0,E=0,y=0,R=0;T==0;)if(T=l(a,R,1),w=l(a,R+1,2),R+=3,w!=0){if(m&&(i=n.F._check(i,y+(1<<17))),w==1&&(_=p.flmap,x=p.fdmap,N=511,E=31),w==2){I=c(a,R,5)+257,j=c(a,R+5,5)+1,P=c(a,R+10,4)+4,R+=14;for(var A=0;A<38;A+=2)p.itree[A]=0,p.itree[A+1]=0;var C=1;for(A=0;A<P;A++){var k=c(a,R+3*A,3);p.itree[1+(p.ordr[A]<<1)]=k,k>C&&(C=k)}R+=3*P,h(p.itree,C),d(p.itree,C,p.imap),_=p.lmap,x=p.dmap,R=u(p.imap,(1<<C)-1,I+j,a,R,p.ttree);var q=o._copyOut(p.ttree,0,I,p.ltree);N=(1<<q)-1;var X=o._copyOut(p.ttree,I,j,p.dtree);E=(1<<X)-1,h(p.ltree,q),d(p.ltree,q,_),h(p.dtree,X),d(p.dtree,X,x)}for(;;){var V=_[f(a,R)&N];R+=15&V;var H=V>>>4;if(!(H>>>8))i[y++]=H;else{if(H==256)break;var ae=y+H-254;if(H>264){var W=p.ldef[H-257];ae=y+(W>>>3)+c(a,R,7&W),R+=7&W}var ge=x[f(a,R)&E];R+=15&ge;var be=ge>>>4,D=p.ddef[be],F=(D>>>4)+l(a,R,15&D);for(R+=15&D,m&&(i=n.F._check(i,y+(1<<17)));y<ae;)i[y]=i[y++-F],i[y]=i[y++-F],i[y]=i[y++-F],i[y]=i[y++-F];y=ae}}}else{7&R&&(R+=8-(7&R));var U=4+(R>>>3),M=a[U-4]|a[U-3]<<8;m&&(i=n.F._check(i,y+M)),i.set(new s(a.buffer,a.byteOffset+U,M),y),R=U+M<<3,y+=M}return i.length==y?i:i.slice(0,y)},n.F._check=function(a,i){var s=a.length;if(i<=s)return a;var o=new Uint8Array(Math.max(s<<1,i));return o.set(a,0),o},n.F._decodeTiny=function(a,i,s,o,l,c){for(var u=n.F._bitsE,h=n.F._get17,d=0;d<s;){var f=a[h(o,l)&i];l+=15&f;var p=f>>>4;if(p<=15)c[d]=p,d++;else{var m=0,_=0;p==16?(_=3+u(o,l,2),l+=2,m=c[d-1]):p==17?(_=3+u(o,l,3),l+=3):p==18&&(_=11+u(o,l,7),l+=7);for(var x=d+_;d<x;)c[d]=m,d++}}return l},n.F._copyOut=function(a,i,s,o){for(var l=0,c=0,u=o.length>>>1;c<s;){var h=a[c+i];o[c<<1]=0,o[1+(c<<1)]=h,h>l&&(l=h),c++}for(;c<u;)o[c<<1]=0,o[1+(c<<1)]=0,c++;return l},n.F.makeCodes=function(a,i){for(var s,o,l,c,u=n.F.U,h=a.length,d=u.bl_count,f=0;f<=i;f++)d[f]=0;for(f=1;f<h;f+=2)d[a[f]]++;var p=u.next_code;for(s=0,d[0]=0,o=1;o<=i;o++)s=s+d[o-1]<<1,p[o]=s;for(l=0;l<h;l+=2)(c=a[l+1])!=0&&(a[l]=p[c],p[c]++)},n.F.codes2map=function(a,i,s){for(var o=a.length,l=n.F.U.rev15,c=0;c<o;c+=2)if(a[c+1]!=0)for(var u=c>>1,h=a[c+1],d=u<<4|h,f=i-h,p=a[c]<<f,m=p+(1<<f);p!=m;)s[l[p]>>>15-i]=d,p++},n.F.revCodes=function(a,i){for(var s=n.F.U.rev15,o=15-i,l=0;l<a.length;l+=2){var c=a[l]<<i-a[l+1];a[l]=s[c]>>>o}},n.F._putsE=function(a,i,s){s<<=7&i;var o=i>>>3;a[o]|=s,a[o+1]|=s>>>8},n.F._putsF=function(a,i,s){s<<=7&i;var o=i>>>3;a[o]|=s,a[o+1]|=s>>>8,a[o+2]|=s>>>16},n.F._bitsE=function(a,i,s){return(a[i>>>3]|a[1+(i>>>3)]<<8)>>>(7&i)&(1<<s)-1},n.F._bitsF=function(a,i,s){return(a[i>>>3]|a[1+(i>>>3)]<<8|a[2+(i>>>3)]<<16)>>>(7&i)&(1<<s)-1},n.F._get17=function(a,i){return(a[i>>>3]|a[1+(i>>>3)]<<8|a[2+(i>>>3)]<<16)>>>(7&i)},n.F._get25=function(a,i){return(a[i>>>3]|a[1+(i>>>3)]<<8|a[2+(i>>>3)]<<16|a[3+(i>>>3)]<<24)>>>(7&i)},n.F.U=(e=Uint16Array,r=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new r(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new r(286),dhst:new r(30),ihst:new r(19),lits:new r(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var a=n.F.U,i=0;i<32768;i++){var s=i;s=(4278255360&(s=(4042322160&(s=(3435973836&(s=(2863311530&s)>>>1|(1431655765&s)<<1))>>>2|(858993459&s)<<2))>>>4|(252645135&s)<<4))>>>8|(16711935&s)<<8,a.rev15[i]=(s>>>16|s<<16)>>>17}function o(l,c,u){for(;c--!=0;)l.push(0,u)}for(i=0;i<32;i++)a.ldef[i]=a.of0[i]<<3|a.exb[i],a.ddef[i]=a.df0[i]<<4|a.dxb[i];o(a.fltree,144,8),o(a.fltree,112,9),o(a.fltree,24,7),o(a.fltree,8,8),n.F.makeCodes(a.fltree,9),n.F.codes2map(a.fltree,9,a.flmap),n.F.revCodes(a.fltree,9),o(a.fdtree,32,5),n.F.makeCodes(a.fdtree,5),n.F.codes2map(a.fdtree,5,a.fdmap),n.F.revCodes(a.fdtree,5),o(a.itree,19,0),o(a.ltree,286,0),o(a.dtree,30,0),o(a.ttree,320,0)}()})();var Nue=Tue({__proto__:null,default:Qv},[Qv]);const Vo=function(){var t={nextZero(u,h){for(;u[h]!=0;)h++;return h},readUshort:(u,h)=>u[h]<<8|u[h+1],writeUshort(u,h,d){u[h]=d>>8&255,u[h+1]=255&d},readUint:(u,h)=>16777216*u[h]+(u[h+1]<<16|u[h+2]<<8|u[h+3]),writeUint(u,h,d){u[h]=d>>24&255,u[h+1]=d>>16&255,u[h+2]=d>>8&255,u[h+3]=255&d},readASCII(u,h,d){let f="";for(let p=0;p<d;p++)f+=String.fromCharCode(u[h+p]);return f},writeASCII(u,h,d){for(let f=0;f<d.length;f++)u[h+f]=d.charCodeAt(f)},readBytes(u,h,d){const f=[];for(let p=0;p<d;p++)f.push(u[h+p]);return f},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,h,d){let f,p="";for(let m=0;m<d;m++)p+=`%${t.pad(u[h+m].toString(16))}`;try{f=decodeURIComponent(p)}catch{return t.readASCII(u,h,d)}return f}};function e(u,h,d,f){const p=h*d,m=i(f),_=Math.ceil(h*m/8),x=new Uint8Array(4*p),T=new Uint32Array(x.buffer),{ctype:w}=f,{depth:I}=f,j=t.readUshort;if(w==6){const W=p<<2;if(I==8)for(var P=0;P<W;P+=4)x[P]=u[P],x[P+1]=u[P+1],x[P+2]=u[P+2],x[P+3]=u[P+3];if(I==16)for(P=0;P<W;P++)x[P]=u[P<<1]}else if(w==2){const W=f.tabs.tRNS;if(W==null){if(I==8)for(P=0;P<p;P++){var N=3*P;T[P]=255<<24|u[N+2]<<16|u[N+1]<<8|u[N]}if(I==16)for(P=0;P<p;P++)N=6*P,T[P]=255<<24|u[N+4]<<16|u[N+2]<<8|u[N]}else{var E=W[0];const ge=W[1],be=W[2];if(I==8)for(P=0;P<p;P++){var y=P<<2;N=3*P,T[P]=255<<24|u[N+2]<<16|u[N+1]<<8|u[N],u[N]==E&&u[N+1]==ge&&u[N+2]==be&&(x[y+3]=0)}if(I==16)for(P=0;P<p;P++)y=P<<2,N=6*P,T[P]=255<<24|u[N+4]<<16|u[N+2]<<8|u[N],j(u,N)==E&&j(u,N+2)==ge&&j(u,N+4)==be&&(x[y+3]=0)}}else if(w==3){const W=f.tabs.PLTE,ge=f.tabs.tRNS,be=ge?ge.length:0;if(I==1)for(var R=0;R<d;R++){var A=R*_,C=R*h;for(P=0;P<h;P++){y=C+P<<2;var k=3*(q=u[A+(P>>3)]>>7-((7&P)<<0)&1);x[y]=W[k],x[y+1]=W[k+1],x[y+2]=W[k+2],x[y+3]=q<be?ge[q]:255}}if(I==2)for(R=0;R<d;R++)for(A=R*_,C=R*h,P=0;P<h;P++)y=C+P<<2,k=3*(q=u[A+(P>>2)]>>6-((3&P)<<1)&3),x[y]=W[k],x[y+1]=W[k+1],x[y+2]=W[k+2],x[y+3]=q<be?ge[q]:255;if(I==4)for(R=0;R<d;R++)for(A=R*_,C=R*h,P=0;P<h;P++)y=C+P<<2,k=3*(q=u[A+(P>>1)]>>4-((1&P)<<2)&15),x[y]=W[k],x[y+1]=W[k+1],x[y+2]=W[k+2],x[y+3]=q<be?ge[q]:255;if(I==8)for(P=0;P<p;P++){var q;y=P<<2,k=3*(q=u[P]),x[y]=W[k],x[y+1]=W[k+1],x[y+2]=W[k+2],x[y+3]=q<be?ge[q]:255}}else if(w==4){if(I==8)for(P=0;P<p;P++){y=P<<2;var X=u[V=P<<1];x[y]=X,x[y+1]=X,x[y+2]=X,x[y+3]=u[V+1]}if(I==16)for(P=0;P<p;P++){var V;y=P<<2,X=u[V=P<<2],x[y]=X,x[y+1]=X,x[y+2]=X,x[y+3]=u[V+2]}}else if(w==0)for(E=f.tabs.tRNS?f.tabs.tRNS:-1,R=0;R<d;R++){const W=R*_,ge=R*h;if(I==1)for(var H=0;H<h;H++){var ae=(X=255*(u[W+(H>>>3)]>>>7-(7&H)&1))==255*E?0:255;T[ge+H]=ae<<24|X<<16|X<<8|X}else if(I==2)for(H=0;H<h;H++)ae=(X=85*(u[W+(H>>>2)]>>>6-((3&H)<<1)&3))==85*E?0:255,T[ge+H]=ae<<24|X<<16|X<<8|X;else if(I==4)for(H=0;H<h;H++)ae=(X=17*(u[W+(H>>>1)]>>>4-((1&H)<<2)&15))==17*E?0:255,T[ge+H]=ae<<24|X<<16|X<<8|X;else if(I==8)for(H=0;H<h;H++)ae=(X=u[W+H])==E?0:255,T[ge+H]=ae<<24|X<<16|X<<8|X;else if(I==16)for(H=0;H<h;H++)X=u[W+(H<<1)],ae=j(u,W+(H<<1))==E?0:255,T[ge+H]=ae<<24|X<<16|X<<8|X}return x}function r(u,h,d,f){const p=i(u),m=Math.ceil(d*p/8),_=new Uint8Array((m+1+u.interlace)*f);return h=u.tabs.CgBI?a(h,_):n(h,_),u.interlace==0?h=s(h,u,0,d,f):u.interlace==1&&(h=function(T,w){const I=w.width,j=w.height,P=i(w),N=P>>3,E=Math.ceil(I*P/8),y=new Uint8Array(j*E);let R=0;const A=[0,0,4,0,2,0,1],C=[0,4,0,2,0,1,0],k=[8,8,8,4,4,2,2],q=[8,8,4,4,2,2,1];let X=0;for(;X<7;){const H=k[X],ae=q[X];let W=0,ge=0,be=A[X];for(;be<j;)be+=H,ge++;let D=C[X];for(;D<I;)D+=ae,W++;const F=Math.ceil(W*P/8);s(T,w,R,W,ge);let U=0,M=A[X];for(;M<j;){let Q=C[X],oe=R+U*F<<3;for(;Q<I;){var V;if(P==1&&(V=(V=T[oe>>3])>>7-(7&oe)&1,y[M*E+(Q>>3)]|=V<<7-((7&Q)<<0)),P==2&&(V=(V=T[oe>>3])>>6-(7&oe)&3,y[M*E+(Q>>2)]|=V<<6-((3&Q)<<1)),P==4&&(V=(V=T[oe>>3])>>4-(7&oe)&15,y[M*E+(Q>>1)]|=V<<4-((1&Q)<<2)),P>=8){const de=M*E+Q*N;for(let he=0;he<N;he++)y[de+he]=T[(oe>>3)+he]}oe+=P,Q+=ae}U++,M+=H}W*ge!=0&&(R+=ge*(1+F)),X+=1}return y}(h,u)),h}function n(u,h){return a(new Uint8Array(u.buffer,2,u.length-6),h)}var a=function(){const u={H:{}};return u.H.N=function(h,d){const f=Uint8Array;let p,m,_=0,x=0,T=0,w=0,I=0,j=0,P=0,N=0,E=0;if(h[0]==3&&h[1]==0)return d||new f(0);const y=u.H,R=y.b,A=y.e,C=y.R,k=y.n,q=y.A,X=y.Z,V=y.m,H=d==null;for(H&&(d=new f(h.length>>>2<<5));_==0;)if(_=R(h,E,1),x=R(h,E+1,2),E+=3,x!=0){if(H&&(d=u.H.W(d,N+(1<<17))),x==1&&(p=V.J,m=V.h,j=511,P=31),x==2){T=A(h,E,5)+257,w=A(h,E+5,5)+1,I=A(h,E+10,4)+4,E+=14;let W=1;for(var ae=0;ae<38;ae+=2)V.Q[ae]=0,V.Q[ae+1]=0;for(ae=0;ae<I;ae++){const D=A(h,E+3*ae,3);V.Q[1+(V.X[ae]<<1)]=D,D>W&&(W=D)}E+=3*I,k(V.Q,W),q(V.Q,W,V.u),p=V.w,m=V.d,E=C(V.u,(1<<W)-1,T+w,h,E,V.v);const ge=y.V(V.v,0,T,V.C);j=(1<<ge)-1;const be=y.V(V.v,T,w,V.D);P=(1<<be)-1,k(V.C,ge),q(V.C,ge,p),k(V.D,be),q(V.D,be,m)}for(;;){const W=p[X(h,E)&j];E+=15&W;const ge=W>>>4;if(!(ge>>>8))d[N++]=ge;else{if(ge==256)break;{let be=N+ge-254;if(ge>264){const Q=V.q[ge-257];be=N+(Q>>>3)+A(h,E,7&Q),E+=7&Q}const D=m[X(h,E)&P];E+=15&D;const F=D>>>4,U=V.c[F],M=(U>>>4)+R(h,E,15&U);for(E+=15&U;N<be;)d[N]=d[N++-M],d[N]=d[N++-M],d[N]=d[N++-M],d[N]=d[N++-M];N=be}}}}else{7&E&&(E+=8-(7&E));const W=4+(E>>>3),ge=h[W-4]|h[W-3]<<8;H&&(d=u.H.W(d,N+ge)),d.set(new f(h.buffer,h.byteOffset+W,ge),N),E=W+ge<<3,N+=ge}return d.length==N?d:d.slice(0,N)},u.H.W=function(h,d){const f=h.length;if(d<=f)return h;const p=new Uint8Array(f<<1);return p.set(h,0),p},u.H.R=function(h,d,f,p,m,_){const x=u.H.e,T=u.H.Z;let w=0;for(;w<f;){const I=h[T(p,m)&d];m+=15&I;const j=I>>>4;if(j<=15)_[w]=j,w++;else{let P=0,N=0;j==16?(N=3+x(p,m,2),m+=2,P=_[w-1]):j==17?(N=3+x(p,m,3),m+=3):j==18&&(N=11+x(p,m,7),m+=7);const E=w+N;for(;w<E;)_[w]=P,w++}}return m},u.H.V=function(h,d,f,p){let m=0,_=0;const x=p.length>>>1;for(;_<f;){const T=h[_+d];p[_<<1]=0,p[1+(_<<1)]=T,T>m&&(m=T),_++}for(;_<x;)p[_<<1]=0,p[1+(_<<1)]=0,_++;return m},u.H.n=function(h,d){const f=u.H.m,p=h.length;let m,_,x,T;const w=f.j;for(var I=0;I<=d;I++)w[I]=0;for(I=1;I<p;I+=2)w[h[I]]++;const j=f.K;for(m=0,w[0]=0,_=1;_<=d;_++)m=m+w[_-1]<<1,j[_]=m;for(x=0;x<p;x+=2)T=h[x+1],T!=0&&(h[x]=j[T],j[T]++)},u.H.A=function(h,d,f){const p=h.length,m=u.H.m.r;for(let _=0;_<p;_+=2)if(h[_+1]!=0){const x=_>>1,T=h[_+1],w=x<<4|T,I=d-T;let j=h[_]<<I;const P=j+(1<<I);for(;j!=P;)f[m[j]>>>15-d]=w,j++}},u.H.l=function(h,d){const f=u.H.m.r,p=15-d;for(let m=0;m<h.length;m+=2){const _=h[m]<<d-h[m+1];h[m]=f[_]>>>p}},u.H.M=function(h,d,f){f<<=7&d;const p=d>>>3;h[p]|=f,h[p+1]|=f>>>8},u.H.I=function(h,d,f){f<<=7&d;const p=d>>>3;h[p]|=f,h[p+1]|=f>>>8,h[p+2]|=f>>>16},u.H.e=function(h,d,f){return(h[d>>>3]|h[1+(d>>>3)]<<8)>>>(7&d)&(1<<f)-1},u.H.b=function(h,d,f){return(h[d>>>3]|h[1+(d>>>3)]<<8|h[2+(d>>>3)]<<16)>>>(7&d)&(1<<f)-1},u.H.Z=function(h,d){return(h[d>>>3]|h[1+(d>>>3)]<<8|h[2+(d>>>3)]<<16)>>>(7&d)},u.H.i=function(h,d){return(h[d>>>3]|h[1+(d>>>3)]<<8|h[2+(d>>>3)]<<16|h[3+(d>>>3)]<<24)>>>(7&d)},u.H.m=function(){const h=Uint16Array,d=Uint32Array;return{K:new h(16),j:new h(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new h(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new d(32),J:new h(512),_:[],h:new h(32),$:[],w:new h(32768),C:[],v:[],d:new h(32768),D:[],u:new h(512),Q:[],r:new h(32768),s:new d(286),Y:new d(30),a:new d(19),t:new d(15e3),k:new h(65536),g:new h(32768)}}(),function(){const h=u.H.m;for(var d=0;d<32768;d++){let p=d;p=(2863311530&p)>>>1|(1431655765&p)<<1,p=(3435973836&p)>>>2|(858993459&p)<<2,p=(4042322160&p)>>>4|(252645135&p)<<4,p=(4278255360&p)>>>8|(16711935&p)<<8,h.r[d]=(p>>>16|p<<16)>>>17}function f(p,m,_){for(;m--!=0;)p.push(0,_)}for(d=0;d<32;d++)h.q[d]=h.S[d]<<3|h.T[d],h.c[d]=h.p[d]<<4|h.z[d];f(h._,144,8),f(h._,112,9),f(h._,24,7),f(h._,8,8),u.H.n(h._,9),u.H.A(h._,9,h.J),u.H.l(h._,9),f(h.$,32,5),u.H.n(h.$,5),u.H.A(h.$,5,h.h),u.H.l(h.$,5),f(h.Q,19,0),f(h.C,286,0),f(h.D,30,0),f(h.v,320,0)}(),u.H.N}();function i(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function s(u,h,d,f,p){let m=i(h);const _=Math.ceil(f*m/8);let x,T;m=Math.ceil(m/8);let w=u[d],I=0;if(w>1&&(u[d]=[0,0,1][w-2]),w==3)for(I=m;I<_;I++)u[I+1]=u[I+1]+(u[I+1-m]>>>1)&255;for(let j=0;j<p;j++)if(x=d+j*_,T=x+j+1,w=u[T-1],I=0,w==0)for(;I<_;I++)u[x+I]=u[T+I];else if(w==1){for(;I<m;I++)u[x+I]=u[T+I];for(;I<_;I++)u[x+I]=u[T+I]+u[x+I-m]}else if(w==2)for(;I<_;I++)u[x+I]=u[T+I]+u[x+I-_];else if(w==3){for(;I<m;I++)u[x+I]=u[T+I]+(u[x+I-_]>>>1);for(;I<_;I++)u[x+I]=u[T+I]+(u[x+I-_]+u[x+I-m]>>>1)}else{for(;I<m;I++)u[x+I]=u[T+I]+o(0,u[x+I-_],0);for(;I<_;I++)u[x+I]=u[T+I]+o(u[x+I-m],u[x+I-_],u[x+I-m-_])}return u}function o(u,h,d){const f=u+h-d,p=f-u,m=f-h,_=f-d;return p*p<=m*m&&p*p<=_*_?u:m*m<=_*_?h:d}function l(u,h,d){d.width=t.readUint(u,h),h+=4,d.height=t.readUint(u,h),h+=4,d.depth=u[h],h++,d.ctype=u[h],h++,d.compress=u[h],h++,d.filter=u[h],h++,d.interlace=u[h],h++}function c(u,h,d,f,p,m,_,x,T){const w=Math.min(h,p),I=Math.min(d,m);let j=0,P=0;for(let X=0;X<I;X++)for(let V=0;V<w;V++)if(_>=0&&x>=0?(j=X*h+V<<2,P=(x+X)*p+_+V<<2):(j=(-x+X)*h-_+V<<2,P=X*p+V<<2),T==0)f[P]=u[j],f[P+1]=u[j+1],f[P+2]=u[j+2],f[P+3]=u[j+3];else if(T==1){var N=u[j+3]*.00392156862745098,E=u[j]*N,y=u[j+1]*N,R=u[j+2]*N,A=f[P+3]*(1/255),C=f[P]*A,k=f[P+1]*A,q=f[P+2]*A;const H=1-N,ae=N+A*H,W=ae==0?0:1/ae;f[P+3]=255*ae,f[P+0]=(E+C*H)*W,f[P+1]=(y+k*H)*W,f[P+2]=(R+q*H)*W}else if(T==2)N=u[j+3],E=u[j],y=u[j+1],R=u[j+2],A=f[P+3],C=f[P],k=f[P+1],q=f[P+2],N==A&&E==C&&y==k&&R==q?(f[P]=0,f[P+1]=0,f[P+2]=0,f[P+3]=0):(f[P]=E,f[P+1]=y,f[P+2]=R,f[P+3]=N);else if(T==3){if(N=u[j+3],E=u[j],y=u[j+1],R=u[j+2],A=f[P+3],C=f[P],k=f[P+1],q=f[P+2],N==A&&E==C&&y==k&&R==q)continue;if(N<220&&A>20)return!1}return!0}return{decode:function(h){const d=new Uint8Array(h);let f=8;const p=t,m=p.readUshort,_=p.readUint,x={tabs:{},frames:[]},T=new Uint8Array(d.length);let w,I=0,j=0;const P=[137,80,78,71,13,10,26,10];for(var N=0;N<8;N++)if(d[N]!=P[N])throw"The input is not a PNG file!";for(;f<d.length;){const X=p.readUint(d,f);f+=4;const V=p.readASCII(d,f,4);if(f+=4,V=="IHDR")l(d,f,x);else if(V=="iCCP"){for(var E=f;d[E]!=0;)E++;p.readASCII(d,f,E-f),d[E+1];const H=d.slice(E+2,f+X);let ae=null;try{ae=n(H)}catch{ae=a(H)}x.tabs[V]=ae}else if(V=="CgBI")x.tabs[V]=d.slice(f,f+4);else if(V=="IDAT"){for(N=0;N<X;N++)T[I+N]=d[f+N];I+=X}else if(V=="acTL")x.tabs[V]={num_frames:_(d,f),num_plays:_(d,f+4)},w=new Uint8Array(d.length);else if(V=="fcTL"){j!=0&&((q=x.frames[x.frames.length-1]).data=r(x,w.slice(0,j),q.rect.width,q.rect.height),j=0);const H={x:_(d,f+12),y:_(d,f+16),width:_(d,f+4),height:_(d,f+8)};let ae=m(d,f+22);ae=m(d,f+20)/(ae==0?100:ae);const W={rect:H,delay:Math.round(1e3*ae),dispose:d[f+24],blend:d[f+25]};x.frames.push(W)}else if(V=="fdAT"){for(N=0;N<X-4;N++)w[j+N]=d[f+N+4];j+=X-4}else if(V=="pHYs")x.tabs[V]=[p.readUint(d,f),p.readUint(d,f+4),d[f+8]];else if(V=="cHRM")for(x.tabs[V]=[],N=0;N<8;N++)x.tabs[V].push(p.readUint(d,f+4*N));else if(V=="tEXt"||V=="zTXt"){x.tabs[V]==null&&(x.tabs[V]={});var y=p.nextZero(d,f),R=p.readASCII(d,f,y-f),A=f+X-y-1;if(V=="tEXt")k=p.readASCII(d,y+1,A);else{var C=n(d.slice(y+2,y+2+A));k=p.readUTF8(C,0,C.length)}x.tabs[V][R]=k}else if(V=="iTXt"){x.tabs[V]==null&&(x.tabs[V]={}),y=0,E=f,y=p.nextZero(d,E),R=p.readASCII(d,E,y-E);const H=d[E=y+1];var k;d[E+1],E+=2,y=p.nextZero(d,E),p.readASCII(d,E,y-E),E=y+1,y=p.nextZero(d,E),p.readUTF8(d,E,y-E),A=X-((E=y+1)-f),H==0?k=p.readUTF8(d,E,A):(C=n(d.slice(E,E+A)),k=p.readUTF8(C,0,C.length)),x.tabs[V][R]=k}else if(V=="PLTE")x.tabs[V]=p.readBytes(d,f,X);else if(V=="hIST"){const H=x.tabs.PLTE.length/3;for(x.tabs[V]=[],N=0;N<H;N++)x.tabs[V].push(m(d,f+2*N))}else if(V=="tRNS")x.ctype==3?x.tabs[V]=p.readBytes(d,f,X):x.ctype==0?x.tabs[V]=m(d,f):x.ctype==2&&(x.tabs[V]=[m(d,f),m(d,f+2),m(d,f+4)]);else if(V=="gAMA")x.tabs[V]=p.readUint(d,f)/1e5;else if(V=="sRGB")x.tabs[V]=d[f];else if(V=="bKGD")x.ctype==0||x.ctype==4?x.tabs[V]=[m(d,f)]:x.ctype==2||x.ctype==6?x.tabs[V]=[m(d,f),m(d,f+2),m(d,f+4)]:x.ctype==3&&(x.tabs[V]=d[f]);else if(V=="IEND")break;f+=X,p.readUint(d,f),f+=4}var q;return j!=0&&((q=x.frames[x.frames.length-1]).data=r(x,w.slice(0,j),q.rect.width,q.rect.height)),x.data=r(x,T,x.width,x.height),delete x.compress,delete x.interlace,delete x.filter,x},toRGBA8:function(h){const d=h.width,f=h.height;if(h.tabs.acTL==null)return[e(h.data,d,f,h).buffer];const p=[];h.frames[0].data==null&&(h.frames[0].data=h.data);const m=d*f*4,_=new Uint8Array(m),x=new Uint8Array(m),T=new Uint8Array(m);for(let I=0;I<h.frames.length;I++){const j=h.frames[I],P=j.rect.x,N=j.rect.y,E=j.rect.width,y=j.rect.height,R=e(j.data,E,y,h);if(I!=0)for(var w=0;w<m;w++)T[w]=_[w];if(j.blend==0?c(R,E,y,_,d,f,P,N,0):j.blend==1&&c(R,E,y,_,d,f,P,N,1),p.push(_.buffer.slice(0)),j.dispose!=0){if(j.dispose==1)c(x,E,y,_,d,f,P,N,0);else if(j.dispose==2)for(w=0;w<m;w++)_[w]=T[w]}}return p},_paeth:o,_copyTile:c,_bin:t}}();(function(){const{_copyTile:t}=Vo,{_bin:e}=Vo,r=Vo._paeth;var n={table:function(){const E=new Uint32Array(256);for(let y=0;y<256;y++){let R=y;for(let A=0;A<8;A++)1&R?R=3988292384^R>>>1:R>>>=1;E[y]=R}return E}(),update(E,y,R,A){for(let C=0;C<A;C++)E=n.table[255&(E^y[R+C])]^E>>>8;return E},crc:(E,y,R)=>4294967295^n.update(4294967295,E,y,R)};function a(E,y,R,A){y[R]+=E[0]*A>>4,y[R+1]+=E[1]*A>>4,y[R+2]+=E[2]*A>>4,y[R+3]+=E[3]*A>>4}function i(E){return Math.max(0,Math.min(255,E))}function s(E,y){const R=E[0]-y[0],A=E[1]-y[1],C=E[2]-y[2],k=E[3]-y[3];return R*R+A*A+C*C+k*k}function o(E,y,R,A,C,k,q){q==null&&(q=1);const X=A.length,V=[];for(var H=0;H<X;H++){const M=A[H];V.push([M>>>0&255,M>>>8&255,M>>>16&255,M>>>24&255])}for(H=0;H<X;H++){let M=4294967295;for(var ae=0,W=0;W<X;W++){var ge=s(V[H],V[W]);W!=H&&ge<M&&(M=ge,ae=W)}}const be=new Uint32Array(C.buffer),D=new Int16Array(y*R*4),F=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(H=0;H<F.length;H++)F[H]=255*((F[H]+.5)/16-.5);for(let M=0;M<R;M++)for(let Q=0;Q<y;Q++){var U;H=4*(M*y+Q),q!=2?U=[i(E[H]+D[H]),i(E[H+1]+D[H+1]),i(E[H+2]+D[H+2]),i(E[H+3]+D[H+3])]:(ge=F[4*(3&M)+(3&Q)],U=[i(E[H]+ge),i(E[H+1]+ge),i(E[H+2]+ge),i(E[H+3]+ge)]),ae=0;let oe=16777215;for(W=0;W<X;W++){const we=s(U,V[W]);we<oe&&(oe=we,ae=W)}const de=V[ae],he=[U[0]-de[0],U[1]-de[1],U[2]-de[2],U[3]-de[3]];q==1&&(Q!=y-1&&a(he,D,H+4,7),M!=R-1&&(Q!=0&&a(he,D,H+4*y-4,3),a(he,D,H+4*y,5),Q!=y-1&&a(he,D,H+4*y+4,1))),k[H>>2]=ae,be[H>>2]=A[ae]}}function l(E,y,R,A,C){C==null&&(C={});const{crc:k}=n,q=e.writeUint,X=e.writeUshort,V=e.writeASCII;let H=8;const ae=E.frames.length>1;let W,ge=!1,be=33+(ae?20:0);if(C.sRGB!=null&&(be+=13),C.pHYs!=null&&(be+=21),C.iCCP!=null&&(W=pako.deflate(C.iCCP),be+=21+W.length+4),E.ctype==3){for(var D=E.plte.length,F=0;F<D;F++)E.plte[F]>>>24!=255&&(ge=!0);be+=8+3*D+4+(ge?8+1*D+4:0)}for(var U=0;U<E.frames.length;U++)ae&&(be+=38),be+=(de=E.frames[U]).cimg.length+12,U!=0&&(be+=4);be+=12;const M=new Uint8Array(be),Q=[137,80,78,71,13,10,26,10];for(F=0;F<8;F++)M[F]=Q[F];if(q(M,H,13),H+=4,V(M,H,"IHDR"),H+=4,q(M,H,y),H+=4,q(M,H,R),H+=4,M[H]=E.depth,H++,M[H]=E.ctype,H++,M[H]=0,H++,M[H]=0,H++,M[H]=0,H++,q(M,H,k(M,H-17,17)),H+=4,C.sRGB!=null&&(q(M,H,1),H+=4,V(M,H,"sRGB"),H+=4,M[H]=C.sRGB,H++,q(M,H,k(M,H-5,5)),H+=4),C.iCCP!=null){const he=13+W.length;q(M,H,he),H+=4,V(M,H,"iCCP"),H+=4,V(M,H,"ICC profile"),H+=11,H+=2,M.set(W,H),H+=W.length,q(M,H,k(M,H-(he+4),he+4)),H+=4}if(C.pHYs!=null&&(q(M,H,9),H+=4,V(M,H,"pHYs"),H+=4,q(M,H,C.pHYs[0]),H+=4,q(M,H,C.pHYs[1]),H+=4,M[H]=C.pHYs[2],H++,q(M,H,k(M,H-13,13)),H+=4),ae&&(q(M,H,8),H+=4,V(M,H,"acTL"),H+=4,q(M,H,E.frames.length),H+=4,q(M,H,C.loop!=null?C.loop:0),H+=4,q(M,H,k(M,H-12,12)),H+=4),E.ctype==3){for(q(M,H,3*(D=E.plte.length)),H+=4,V(M,H,"PLTE"),H+=4,F=0;F<D;F++){const he=3*F,we=E.plte[F],ke=255&we,ne=we>>>8&255,Z=we>>>16&255;M[H+he+0]=ke,M[H+he+1]=ne,M[H+he+2]=Z}if(H+=3*D,q(M,H,k(M,H-3*D-4,3*D+4)),H+=4,ge){for(q(M,H,D),H+=4,V(M,H,"tRNS"),H+=4,F=0;F<D;F++)M[H+F]=E.plte[F]>>>24&255;H+=D,q(M,H,k(M,H-D-4,D+4)),H+=4}}let oe=0;for(U=0;U<E.frames.length;U++){var de=E.frames[U];ae&&(q(M,H,26),H+=4,V(M,H,"fcTL"),H+=4,q(M,H,oe++),H+=4,q(M,H,de.rect.width),H+=4,q(M,H,de.rect.height),H+=4,q(M,H,de.rect.x),H+=4,q(M,H,de.rect.y),H+=4,X(M,H,A[U]),H+=2,X(M,H,1e3),H+=2,M[H]=de.dispose,H++,M[H]=de.blend,H++,q(M,H,k(M,H-30,30)),H+=4);const he=de.cimg;q(M,H,(D=he.length)+(U==0?0:4)),H+=4;const we=H;V(M,H,U==0?"IDAT":"fdAT"),H+=4,U!=0&&(q(M,H,oe++),H+=4),M.set(he,H),H+=D,q(M,H,k(M,we,H-we)),H+=4}return q(M,H,0),H+=4,V(M,H,"IEND"),H+=4,q(M,H,k(M,H-4,4)),H+=4,M.buffer}function c(E,y,R){for(let A=0;A<E.frames.length;A++){const C=E.frames[A];C.rect.width;const k=C.rect.height,q=new Uint8Array(k*C.bpl+k);C.cimg=f(C.img,k,C.bpp,C.bpl,q,y,R)}}function u(E,y,R,A,C){const k=C[0],q=C[1],X=C[2],V=C[3],H=C[4],ae=C[5];let W=6,ge=8,be=255;for(var D=0;D<E.length;D++){const Te=new Uint8Array(E[D]);for(var F=Te.length,U=0;U<F;U+=4)be&=Te[U+3]}const M=be!=255,Q=function(Re,Oe,Ne,Qe,Ke,ht){const ct=[];for(var yt=0;yt<Re.length;yt++){const at=new Uint8Array(Re[yt]),it=new Uint32Array(at.buffer);var mt;let Ft=0,wt=0,Nt=Oe,zt=Ne,vr=Qe?1:0;if(yt!=0){const Ot=ht||Qe||yt==1||ct[yt-2].dispose!=0?1:2;let Pe=0,st=1e9;for(let ut=0;ut<Ot;ut++){var St=new Uint8Array(Re[yt-1-ut]);const Qt=new Uint32Array(Re[yt-1-ut]);let Tt=Oe,Ct=Ne,Kt=-1,Xr=-1;for(let gn=0;gn<Ne;gn++)for(let Mr=0;Mr<Oe;Mr++)it[Et=gn*Oe+Mr]!=Qt[Et]&&(Mr<Tt&&(Tt=Mr),Mr>Kt&&(Kt=Mr),gn<Ct&&(Ct=gn),gn>Xr&&(Xr=gn));Kt==-1&&(Tt=Ct=Kt=Xr=0),Ke&&((1&Tt)==1&&Tt--,(1&Ct)==1&&Ct--);const Jt=(Kt-Tt+1)*(Xr-Ct+1);Jt<st&&(st=Jt,Pe=ut,Ft=Tt,wt=Ct,Nt=Kt-Tt+1,zt=Xr-Ct+1)}St=new Uint8Array(Re[yt-1-Pe]),Pe==1&&(ct[yt-1].dispose=2),mt=new Uint8Array(Nt*zt*4),t(St,Oe,Ne,mt,Nt,zt,-Ft,-wt,0),vr=t(at,Oe,Ne,mt,Nt,zt,-Ft,-wt,3)?1:0,vr==1?d(at,Oe,Ne,mt,{x:Ft,y:wt,width:Nt,height:zt}):t(at,Oe,Ne,mt,Nt,zt,-Ft,-wt,0)}else mt=at.slice(0);ct.push({rect:{x:Ft,y:wt,width:Nt,height:zt},img:mt,blend:vr,dispose:0})}if(Qe)for(yt=0;yt<ct.length;yt++){if((gt=ct[yt]).blend==1)continue;const at=gt.rect,it=ct[yt-1].rect,Ft=Math.min(at.x,it.x),wt=Math.min(at.y,it.y),Nt={x:Ft,y:wt,width:Math.max(at.x+at.width,it.x+it.width)-Ft,height:Math.max(at.y+at.height,it.y+it.height)-wt};ct[yt-1].dispose=1,yt-1!=0&&h(Re,Oe,Ne,ct,yt-1,Nt,Ke),h(Re,Oe,Ne,ct,yt,Nt,Ke)}let $t=0;if(Re.length!=1)for(var Et=0;Et<ct.length;Et++){var gt;$t+=(gt=ct[Et]).rect.width*gt.rect.height}return ct}(E,y,R,k,q,X),oe={},de=[],he=[];if(A!=0){const Te=[];for(U=0;U<Q.length;U++)Te.push(Q[U].img.buffer);const Re=function(Ke){let ht=0;for(var ct=0;ct<Ke.length;ct++)ht+=Ke[ct].byteLength;const yt=new Uint8Array(ht);let mt=0;for(ct=0;ct<Ke.length;ct++){const St=new Uint8Array(Ke[ct]),$t=St.length;for(let Et=0;Et<$t;Et+=4){let gt=St[Et],at=St[Et+1],it=St[Et+2];const Ft=St[Et+3];Ft==0&&(gt=at=it=0),yt[mt+Et]=gt,yt[mt+Et+1]=at,yt[mt+Et+2]=it,yt[mt+Et+3]=Ft}mt+=$t}return yt.buffer}(Te),Oe=m(Re,A);for(U=0;U<Oe.plte.length;U++)de.push(Oe.plte[U].est.rgba);let Ne=0;for(U=0;U<Q.length;U++){const Qe=(ke=Q[U]).img.length;var we=new Uint8Array(Oe.inds.buffer,Ne>>2,Qe>>2);he.push(we);const Ke=new Uint8Array(Oe.abuf,Ne,Qe);ae&&o(ke.img,ke.rect.width,ke.rect.height,de,Ke,we),ke.img.set(Ke),Ne+=Qe}}else for(D=0;D<Q.length;D++){var ke=Q[D];const Te=new Uint32Array(ke.img.buffer);var ne=ke.rect.width;for(F=Te.length,we=new Uint8Array(F),he.push(we),U=0;U<F;U++){const Re=Te[U];if(U!=0&&Re==Te[U-1])we[U]=we[U-1];else if(U>ne&&Re==Te[U-ne])we[U]=we[U-ne];else{let Oe=oe[Re];if(Oe==null&&(oe[Re]=Oe=de.length,de.push(Re),de.length>=300))break;we[U]=Oe}}}const Z=de.length;for(Z<=256&&H==0&&(ge=Z<=2?1:Z<=4?2:Z<=16?4:8,ge=Math.max(ge,V)),D=0;D<Q.length;D++){(ke=Q[D]).rect.x,ke.rect.y,ne=ke.rect.width;const Te=ke.rect.height;let Re=ke.img;new Uint32Array(Re.buffer);let Oe=4*ne,Ne=4;if(Z<=256&&H==0){Oe=Math.ceil(ge*ne/8);var Ae=new Uint8Array(Oe*Te);const Qe=he[D];for(let Ke=0;Ke<Te;Ke++){U=Ke*Oe;const ht=Ke*ne;if(ge==8)for(var K=0;K<ne;K++)Ae[U+K]=Qe[ht+K];else if(ge==4)for(K=0;K<ne;K++)Ae[U+(K>>1)]|=Qe[ht+K]<<4-4*(1&K);else if(ge==2)for(K=0;K<ne;K++)Ae[U+(K>>2)]|=Qe[ht+K]<<6-2*(3&K);else if(ge==1)for(K=0;K<ne;K++)Ae[U+(K>>3)]|=Qe[ht+K]<<7-1*(7&K)}Re=Ae,W=3,Ne=1}else if(M==0&&Q.length==1){Ae=new Uint8Array(ne*Te*3);const Qe=ne*Te;for(U=0;U<Qe;U++){const Ke=3*U,ht=4*U;Ae[Ke]=Re[ht],Ae[Ke+1]=Re[ht+1],Ae[Ke+2]=Re[ht+2]}Re=Ae,W=2,Ne=3,Oe=3*ne}ke.img=Re,ke.bpl=Oe,ke.bpp=Ne}return{ctype:W,depth:ge,plte:de,frames:Q}}function h(E,y,R,A,C,k,q){const X=Uint8Array,V=Uint32Array,H=new X(E[C-1]),ae=new V(E[C-1]),W=C+1<E.length?new X(E[C+1]):null,ge=new X(E[C]),be=new V(ge.buffer);let D=y,F=R,U=-1,M=-1;for(let oe=0;oe<k.height;oe++)for(let de=0;de<k.width;de++){const he=k.x+de,we=k.y+oe,ke=we*y+he,ne=be[ke];ne==0||A[C-1].dispose==0&&ae[ke]==ne&&(W==null||W[4*ke+3]!=0)||(he<D&&(D=he),he>U&&(U=he),we<F&&(F=we),we>M&&(M=we))}U==-1&&(D=F=U=M=0),q&&((1&D)==1&&D--,(1&F)==1&&F--),k={x:D,y:F,width:U-D+1,height:M-F+1};const Q=A[C];Q.rect=k,Q.blend=1,Q.img=new Uint8Array(k.width*k.height*4),A[C-1].dispose==0?(t(H,y,R,Q.img,k.width,k.height,-k.x,-k.y,0),d(ge,y,R,Q.img,k)):t(ge,y,R,Q.img,k.width,k.height,-k.x,-k.y,0)}function d(E,y,R,A,C){t(E,y,R,A,C.width,C.height,-C.x,-C.y,2)}function f(E,y,R,A,C,k,q){const X=[];let V,H=[0,1,2,3,4];k!=-1?H=[k]:(y*A>5e5||R==1)&&(H=[0]),q&&(V={level:0});const ae=Nue;for(var W=0;W<H.length;W++){for(let D=0;D<y;D++)p(C,E,D,A,R,H[W]);X.push(ae.deflate(C,V))}let ge,be=1e9;for(W=0;W<X.length;W++)X[W].length<be&&(ge=W,be=X[W].length);return X[ge]}function p(E,y,R,A,C,k){const q=R*A;let X=q+R;if(E[X]=k,X++,k==0)if(A<500)for(var V=0;V<A;V++)E[X+V]=y[q+V];else E.set(new Uint8Array(y.buffer,q,A),X);else if(k==1){for(V=0;V<C;V++)E[X+V]=y[q+V];for(V=C;V<A;V++)E[X+V]=y[q+V]-y[q+V-C]+256&255}else if(R==0){for(V=0;V<C;V++)E[X+V]=y[q+V];if(k==2)for(V=C;V<A;V++)E[X+V]=y[q+V];if(k==3)for(V=C;V<A;V++)E[X+V]=y[q+V]-(y[q+V-C]>>1)+256&255;if(k==4)for(V=C;V<A;V++)E[X+V]=y[q+V]-r(y[q+V-C],0,0)+256&255}else{if(k==2)for(V=0;V<A;V++)E[X+V]=y[q+V]+256-y[q+V-A]&255;if(k==3){for(V=0;V<C;V++)E[X+V]=y[q+V]+256-(y[q+V-A]>>1)&255;for(V=C;V<A;V++)E[X+V]=y[q+V]+256-(y[q+V-A]+y[q+V-C]>>1)&255}if(k==4){for(V=0;V<C;V++)E[X+V]=y[q+V]+256-r(0,y[q+V-A],0)&255;for(V=C;V<A;V++)E[X+V]=y[q+V]+256-r(y[q+V-C],y[q+V-A],y[q+V-C-A])&255}}}function m(E,y){const R=new Uint8Array(E),A=R.slice(0),C=new Uint32Array(A.buffer),k=_(A,y),q=k[0],X=k[1],V=R.length,H=new Uint8Array(V>>2);let ae;if(R.length<2e7)for(var W=0;W<V;W+=4)ae=x(q,ge=R[W]*(1/255),be=R[W+1]*(1/255),D=R[W+2]*(1/255),F=R[W+3]*(1/255)),H[W>>2]=ae.ind,C[W>>2]=ae.est.rgba;else for(W=0;W<V;W+=4){var ge=R[W]*.00392156862745098,be=R[W+1]*(1/255),D=R[W+2]*(1/255),F=R[W+3]*(1/255);for(ae=q;ae.left;)ae=T(ae.est,ge,be,D,F)<=0?ae.left:ae.right;H[W>>2]=ae.ind,C[W>>2]=ae.est.rgba}return{abuf:A.buffer,inds:H,plte:X}}function _(E,y,R){R==null&&(R=1e-4);const A=new Uint32Array(E.buffer),C={i0:0,i1:E.length,bst:null,est:null,tdst:0,left:null,right:null};C.bst=j(E,C.i0,C.i1),C.est=P(C.bst);const k=[C];for(;k.length<y;){let X=0,V=0;for(var q=0;q<k.length;q++)k[q].est.L>X&&(X=k[q].est.L,V=q);if(X<R)break;const H=k[V],ae=w(E,A,H.i0,H.i1,H.est.e,H.est.eMq255);if(H.i0>=ae||H.i1<=ae){H.est.L=0;continue}const W={i0:H.i0,i1:ae,bst:null,est:null,tdst:0,left:null,right:null};W.bst=j(E,W.i0,W.i1),W.est=P(W.bst);const ge={i0:ae,i1:H.i1,bst:null,est:null,tdst:0,left:null,right:null};for(ge.bst={R:[],m:[],N:H.bst.N-W.bst.N},q=0;q<16;q++)ge.bst.R[q]=H.bst.R[q]-W.bst.R[q];for(q=0;q<4;q++)ge.bst.m[q]=H.bst.m[q]-W.bst.m[q];ge.est=P(ge.bst),H.left=W,H.right=ge,k[V]=W,k.push(ge)}for(k.sort((X,V)=>V.bst.N-X.bst.N),q=0;q<k.length;q++)k[q].ind=q;return[C,k]}function x(E,y,R,A,C){if(E.left==null)return E.tdst=function(W,ge,be,D,F){const U=ge-W[0],M=be-W[1],Q=D-W[2],oe=F-W[3];return U*U+M*M+Q*Q+oe*oe}(E.est.q,y,R,A,C),E;const k=T(E.est,y,R,A,C);let q=E.left,X=E.right;k>0&&(q=E.right,X=E.left);const V=x(q,y,R,A,C);if(V.tdst<=k*k)return V;const H=x(X,y,R,A,C);return H.tdst<V.tdst?H:V}function T(E,y,R,A,C){const{e:k}=E;return k[0]*y+k[1]*R+k[2]*A+k[3]*C-E.eMq}function w(E,y,R,A,C,k){for(A-=4;R<A;){for(;I(E,R,C)<=k;)R+=4;for(;I(E,A,C)>k;)A-=4;if(R>=A)break;const q=y[R>>2];y[R>>2]=y[A>>2],y[A>>2]=q,R+=4,A-=4}for(;I(E,R,C)>k;)R-=4;return R+4}function I(E,y,R){return E[y]*R[0]+E[y+1]*R[1]+E[y+2]*R[2]+E[y+3]*R[3]}function j(E,y,R){const A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],C=[0,0,0,0],k=R-y>>2;for(let q=y;q<R;q+=4){const X=E[q]*.00392156862745098,V=E[q+1]*(1/255),H=E[q+2]*(1/255),ae=E[q+3]*(1/255);C[0]+=X,C[1]+=V,C[2]+=H,C[3]+=ae,A[0]+=X*X,A[1]+=X*V,A[2]+=X*H,A[3]+=X*ae,A[5]+=V*V,A[6]+=V*H,A[7]+=V*ae,A[10]+=H*H,A[11]+=H*ae,A[15]+=ae*ae}return A[4]=A[1],A[8]=A[2],A[9]=A[6],A[12]=A[3],A[13]=A[7],A[14]=A[11],{R:A,m:C,N:k}}function P(E){const{R:y}=E,{m:R}=E,{N:A}=E,C=R[0],k=R[1],q=R[2],X=R[3],V=A==0?0:1/A,H=[y[0]-C*C*V,y[1]-C*k*V,y[2]-C*q*V,y[3]-C*X*V,y[4]-k*C*V,y[5]-k*k*V,y[6]-k*q*V,y[7]-k*X*V,y[8]-q*C*V,y[9]-q*k*V,y[10]-q*q*V,y[11]-q*X*V,y[12]-X*C*V,y[13]-X*k*V,y[14]-X*q*V,y[15]-X*X*V],ae=H,W=N;let ge=[Math.random(),Math.random(),Math.random(),Math.random()],be=0,D=0;if(A!=0)for(let U=0;U<16&&(ge=W.multVec(ae,ge),D=Math.sqrt(W.dot(ge,ge)),ge=W.sml(1/D,ge),!(U!=0&&Math.abs(D-be)<1e-9));U++)be=D;const F=[C*V,k*V,q*V,X*V];return{Cov:H,q:F,e:ge,L:be,eMq255:W.dot(W.sml(255,F),ge),eMq:W.dot(ge,F),rgba:(Math.round(255*F[3])<<24|Math.round(255*F[2])<<16|Math.round(255*F[1])<<8|Math.round(255*F[0])<<0)>>>0}}var N={multVec:(E,y)=>[E[0]*y[0]+E[1]*y[1]+E[2]*y[2]+E[3]*y[3],E[4]*y[0]+E[5]*y[1]+E[6]*y[2]+E[7]*y[3],E[8]*y[0]+E[9]*y[1]+E[10]*y[2]+E[11]*y[3],E[12]*y[0]+E[13]*y[1]+E[14]*y[2]+E[15]*y[3]],dot:(E,y)=>E[0]*y[0]+E[1]*y[1]+E[2]*y[2]+E[3]*y[3],sml:(E,y)=>[E*y[0],E*y[1],E*y[2],E*y[3]]};Vo.encode=function(y,R,A,C,k,q,X){C==null&&(C=0),X==null&&(X=!1);const V=u(y,R,A,C,[!1,!1,!1,0,X,!1]);return c(V,-1),l(V,R,A,k,q)},Vo.encodeLL=function(y,R,A,C,k,q,X,V){const H={ctype:0+(C==1?0:2)+(k==0?0:4),depth:q,frames:[]},ae=(C+k)*q,W=ae*R;for(let ge=0;ge<y.length;ge++)H.frames.push({rect:{x:0,y:0,width:R,height:A},img:new Uint8Array(y[ge]),blend:0,dispose:1,bpp:Math.ceil(ae/8),bpl:Math.ceil(W/8)});return c(H,0,!0),l(H,R,A,X,V)},Vo.encode.compress=u,Vo.encode.dither=o,Vo.quantize=m,Vo.quantize.getKDtree=_,Vo.quantize.getNearest=x})();const XP={toArrayBuffer(t,e){const r=t.width,n=t.height,a=r<<2,i=t.getContext("2d").getImageData(0,0,r,n),s=new Uint32Array(i.data.buffer),o=(32*r+31)/32<<2,l=o*n,c=122+l,u=new ArrayBuffer(c),h=new DataView(u),d=1<<20;let f,p,m,_,x=d,T=0,w=0,I=0;function j(E){h.setUint16(w,E,!0),w+=2}function P(E){h.setUint32(w,E,!0),w+=4}function N(E){w+=E}j(19778),P(c),N(4),P(122),P(108),P(r),P(-n>>>0),j(1),j(32),P(3),P(l),P(2835),P(2835),N(8),P(16711680),P(65280),P(255),P(4278190080),P(1466527264),function E(){for(;T<n&&x>0;){for(_=122+T*o,f=0;f<a;)x--,p=s[I++],m=p>>>24,h.setUint32(_+f,p<<8|m),f+=4;T++}I<s.length?(x=d,setTimeout(E,XP._dly)):e(u)}()},toBlob(t,e){this.toArrayBuffer(t,r=>{e(new Blob([r],{type:"image/bmp"}))})},_dly:9};var us={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Iue={[us.CHROME]:16384,[us.FIREFOX]:11180,[us.DESKTOP_SAFARI]:16384,[us.IE]:8192,[us.IOS]:4096,[us.ETC]:8192};const ZE=typeof window<"u",KP=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Jv=ZE&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Rue=(ZE||KP)&&(Jv&&Jv.getOriginalSymbol(window,"File")||typeof File<"u"&&File),YP=(ZE||KP)&&(Jv&&Jv.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function e3(t,e,r=Date.now()){return new Promise(n=>{const a=t.split(","),i=a[0].match(/:(.*?);/)[1],s=globalThis.atob(a[1]);let o=s.length;const l=new Uint8Array(o);for(;o--;)l[o]=s.charCodeAt(o);const c=new Blob([l],{type:i});c.name=e,c.lastModified=r,n(c)})}function QP(t){return new Promise((e,r)=>{const n=new YP;n.onload=()=>e(n.result),n.onerror=a=>r(a),n.readAsDataURL(t)})}function JP(t){return new Promise((e,r)=>{const n=new Image;n.onload=()=>e(n),n.onerror=a=>r(a),n.src=t})}function zf(){if(zf.cachedResult!==void 0)return zf.cachedResult;let t=us.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=us.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=us.IOS:/Safari/i.test(e)?t=us.DESKTOP_SAFARI:/Firefox/i.test(e)?t=us.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=us.IE),zf.cachedResult=t,zf.cachedResult}function ZP(t,e){const r=zf(),n=Iue[r];let a=t,i=e,s=a*i;const o=a>i?i/a:a/i;for(;s>n*n;){const l=(n+a)/2,c=(n+i)/2;l<c?(i=c,a=c*o):(i=l*o,a=l),s=a*i}return{width:a,height:i}}function n_(t,e){let r,n;try{if(r=new OffscreenCanvas(t,e),n=r.getContext("2d"),n===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{r=document.createElement("canvas"),n=r.getContext("2d")}return r.width=t,r.height=e,[r,n]}function eF(t,e){const{width:r,height:n}=ZP(t.width,t.height),[a,i]=n_(r,n);return e&&/jpe?g/.test(e)&&(i.fillStyle="white",i.fillRect(0,0,a.width,a.height)),i.drawImage(t,0,0,a.width,a.height),a}function L2(){return L2.cachedResult!==void 0||(L2.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),L2.cachedResult}function Zv(t,e={}){return new Promise(function(r,n){let a,i;var s=function(){try{return i=eF(a,e.fileType||t.type),r([a,i])}catch(l){return n(l)}},o=function(l){try{var c=function(u){try{throw u}catch(h){return n(h)}};try{let u;return QP(t).then(function(h){try{return u=h,JP(u).then(function(d){try{return a=d,function(){try{return s()}catch(f){return n(f)}}()}catch(f){return c(f)}},c)}catch(d){return c(d)}},c)}catch(u){c(u)}}catch(u){return n(u)}};try{if(L2()||[us.DESKTOP_SAFARI,us.MOBILE_SAFARI].includes(zf()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return a=l,s()}catch{return o()}},o)}catch{o()}})}function ex(t,e,r,n,a=1){return new Promise(function(i,s){let o;if(e==="image/png"){let c,u,h;return c=t.getContext("2d"),{data:u}=c.getImageData(0,0,t.width,t.height),h=Vo.encode([u.buffer],t.width,t.height,4096*a),o=new Blob([h],{type:e}),o.name=r,o.lastModified=n,l.call(this)}{let c=function(){return l.call(this)};if(e==="image/bmp")return new Promise(u=>XP.toBlob(t,u)).then((function(u){try{return o=u,o.name=r,o.lastModified=n,c.call(this)}catch(h){return s(h)}}).bind(this),s);{let u=function(){return c.call(this)};if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:a}).then((function(h){try{return o=h,o.name=r,o.lastModified=n,u.call(this)}catch(d){return s(d)}}).bind(this),s);{let h;return h=t.toDataURL(e,a),e3(h,r,n).then((function(d){try{return o=d,u.call(this)}catch(f){return s(f)}}).bind(this),s)}}}function l(){return i(o)}})}function yl(t){t.width=0,t.height=0}function O0(){return new Promise(function(t,e){let r,n,a,i;return O0.cachedResult!==void 0?t(O0.cachedResult):e3("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(s){try{return r=s,Zv(r).then(function(o){try{return n=o[1],ex(n,r.type,r.name,r.lastModified).then(function(l){try{return a=l,yl(n),Zv(a).then(function(c){try{return i=c[0],O0.cachedResult=i.width===1&&i.height===2,t(O0.cachedResult)}catch(u){return e(u)}},e)}catch(c){return e(c)}},e)}catch(l){return e(l)}},e)}catch(o){return e(o)}},e)})}function tF(t){return new Promise((e,r)=>{const n=new YP;n.onload=a=>{const i=new DataView(a.target.result);if(i.getUint16(0,!1)!=65496)return e(-2);const s=i.byteLength;let o=2;for(;o<s;){if(i.getUint16(o+2,!1)<=8)return e(-1);const l=i.getUint16(o,!1);if(o+=2,l==65505){if(i.getUint32(o+=2,!1)!=1165519206)return e(-1);const c=i.getUint16(o+=6,!1)==18761;o+=i.getUint32(o+4,c);const u=i.getUint16(o,c);o+=2;for(let h=0;h<u;h++)if(i.getUint16(o+12*h,c)==274)return e(i.getUint16(o+12*h+8,c))}else{if((65280&l)!=65280)break;o+=i.getUint16(o,!1)}}return e(-1)},n.onerror=a=>r(a),n.readAsArrayBuffer(t)})}function rF(t,e){const{width:r}=t,{height:n}=t,{maxWidthOrHeight:a}=e;let i,s=t;return isFinite(a)&&(r>a||n>a)&&([s,i]=n_(r,n),r>n?(s.width=a,s.height=n/r*a):(s.width=r/n*a,s.height=a),i.drawImage(t,0,0,s.width,s.height),yl(t)),s}function nF(t,e){const{width:r}=t,{height:n}=t,[a,i]=n_(r,n);switch(e>4&&e<9?(a.width=n,a.height=r):(a.width=r,a.height=n),e){case 2:i.transform(-1,0,0,1,r,0);break;case 3:i.transform(-1,0,0,-1,r,n);break;case 4:i.transform(1,0,0,-1,0,n);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,n,0);break;case 7:i.transform(0,-1,-1,0,n,r);break;case 8:i.transform(0,-1,1,0,0,r)}return i.drawImage(t,0,0,r,n),yl(t),a}function TC(t,e,r=0){return new Promise(function(n,a){let i,s,o,l,c,u,h,d,f,p,m,_,x,T,w,I,j,P,N,E;function y(A=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;i+=A,e.onProgress(Math.min(i,100))}function R(A){if(e.signal&&e.signal.aborted)throw e.signal.reason;i=Math.min(Math.max(A,i),100),e.onProgress(i)}return i=r,s=e.maxIteration||10,o=1024*e.maxSizeMB*1024,y(),Zv(t,e).then((function(A){try{return[,l]=A,y(),c=rF(l,e),y(),new Promise(function(C,k){var q;if(!(q=e.exifOrientation))return tF(t).then((function(V){try{return q=V,X.call(this)}catch(H){return k(H)}}).bind(this),k);function X(){return C(q)}return X.call(this)}).then((function(C){try{return u=C,y(),O0().then((function(k){try{return h=k?c:nF(c,u),y(),d=e.initialQuality||1,f=e.fileType||t.type,ex(h,f,t.name,t.lastModified,d).then((function(q){try{{let V=function(){if(s--&&(w>o||w>x)){let ae,W;return ae=E?.95*N.width:N.width,W=E?.95*N.height:N.height,[j,P]=n_(ae,W),P.drawImage(N,0,0,ae,W),d*=f==="image/png"?.85:.95,ex(j,f,t.name,t.lastModified,d).then(function(ge){try{return I=ge,yl(N),N=j,w=I.size,R(Math.min(99,Math.floor((T-w)/(T-o)*100))),V}catch(be){return a(be)}},a)}return[1]},H=function(){return yl(N),yl(j),yl(c),yl(h),yl(l),R(100),n(I)};if(p=q,y(),m=p.size>o,_=p.size>t.size,!m&&!_)return R(100),n(p);var X;return x=t.size,T=p.size,w=T,N=h,E=!e.alwaysKeepResolution&&m,(X=(function(ae){for(;ae;){if(ae.then)return void ae.then(X,a);try{if(ae.pop){if(ae.length)return ae.pop()?H.call(this):ae;ae=V}else ae=ae.call(this)}catch(W){return a(W)}}}).bind(this))(V)}}catch(V){return a(V)}}).bind(this),a)}catch(q){return a(q)}}).bind(this),a)}catch(k){return a(k)}}).bind(this),a)}catch(C){return a(C)}}).bind(this),a)})}const Lue=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let n5;function Due(t,e){return new Promise((r,n)=>{n5||(n5=function(s){const o=[];return o.push(s),URL.createObjectURL(new Blob(o))}(Lue));const a=new Worker(n5);a.addEventListener("message",function(s){if(e.signal&&e.signal.aborted)a.terminate();else if(s.data.progress===void 0){if(s.data.error)return n(new Error(s.data.error)),void a.terminate();r(s.data.file),a.terminate()}else e.onProgress(s.data.progress)}),a.addEventListener("error",n),e.signal&&e.signal.addEventListener("abort",()=>{n(e.signal.reason),a.terminate()}),a.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function bi(t,e){return new Promise(function(r,n){let a,i,s,o,l,c;if(a={...e},s=0,{onProgress:o}=a,a.maxSizeMB=a.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof a.useWebWorker!="boolean"||a.useWebWorker,delete a.useWebWorker,a.onProgress=f=>{s=f,typeof o=="function"&&o(s)},!(t instanceof Blob||t instanceof Rue))return n(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return n(new Error("The file given is not an image"));if(c=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||c)return TC(t,a).then((function(f){try{return i=f,d.call(this)}catch(p){return n(p)}}).bind(this),n);var u=(function(){try{return d.call(this)}catch(f){return n(f)}}).bind(this),h=function(f){try{return TC(t,a).then(function(p){try{return i=p,u()}catch(m){return n(m)}},n)}catch(p){return n(p)}};try{return a.libURL=a.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Due(t,a).then(function(f){try{return i=f,u()}catch{return h()}},h)}catch{h()}function d(){try{i.name=t.name,i.lastModified=t.lastModified}catch{}try{a.preserveExif&&t.type==="image/jpeg"&&(!a.fileType||a.fileType&&a.fileType===t.type)&&(i=$P(t,i))}catch{}return r(i)}})}bi.getDataUrlFromFile=QP,bi.getFilefromDataUrl=e3,bi.loadImage=JP,bi.drawImageInCanvas=eF,bi.drawFileInCanvas=Zv,bi.canvasToFile=ex,bi.getExifOrientation=tF,bi.handleMaxWidthOrHeight=rF,bi.followExifOrientation=nF,bi.cleanupCanvasMemory=yl,bi.isAutoOrientationInBrowser=O0,bi.approximateBelowMaximumCanvasSizeOfBrowser=ZP,bi.copyExifWithoutOrientation=$P,bi.getBrowserName=zf,bi.version="2.0.2";const Oue=1,kC=3,CC=4,NC=5,Pue=7,Fue=8;function Mue(t){if(t==null||t==="")return 0;if(typeof t=="number")return t;const e=String(t).replace(",",".").trim();return parseFloat(e)||0}function Bue(t){return t==null||t===""?null:String(t)}function Uue({onImportado:t,catalogo:e="polesie"}){const[r,n]=fe.useState(!1),[a,i]=fe.useState(!1),[s,o]=fe.useState(""),l=fe.useRef(null),c=async h=>{var f;const d=(f=h.target.files)==null?void 0:f[0];if(d){o(""),n(!0);try{const p=await d.arrayBuffer(),m=new Uint8Array(p),_=Qw(m,{type:"array"}),x=_.SheetNames[0],T=_.Sheets[x],w=rh.sheet_to_json(T,{header:1,defval:"",raw:!0});if(!w.length){o("El archivo est vaco."),n(!1);return}const j=w.slice(1).filter(E=>{const y=E[CC];return y!==""&&y!=null&&String(y).trim()!==""}).map(E=>{const y=String(E[CC]??"").trim(),R=Bue(E[Oue]),A=E[kC]!=null?String(E[kC]).trim():null,C=E[NC]!=null?String(E[NC]).trim():null,k=Math.max(1,parseInt(String(E[Pue]??"1"),10)||1),q=Mue(E[Fue]),X=q*k;return{descripcion:y,sku:R||null,imagen:null,imagenes:[],dimensiones:A||null,presentacion:C||null,unidadesPorBulto:k,precioUnitario:q,precioPorBulto:X,activo:!0,catalogo:e}}),P=xr(kt,"productos"),N=500;for(let E=0;E<j.length;E+=N){const y=j.slice(E,E+N),R=Lv(kt);for(const A of y){const C=nn(P);R.set(C,A)}await R.commit()}t==null||t(),alert(`Se importaron ${j.length} productos correctamente. Pods subir las imgenes manualmente en Editar.`)}catch(p){o("Error al importar: "+(p.message||p))}finally{n(!1)}h.target.value=""}},u=async()=>{if(confirm(`Eliminar todos los productos del catlogo ${e==="luni"?"LUNI":"Polesie"}? Esta accin no se puede deshacer.`)){i(!0),o("");try{const f=(await q$(xr(kt,"productos"))).docs.filter(_=>(_.data().catalogo||"polesie")===e),p=500;let m=0;for(let _=0;_<f.length;_+=p){const x=Lv(kt);f.slice(_,_+p).forEach(T=>{x.delete(T.ref),m++}),await x.commit()}t==null||t(),alert(`Se eliminaron ${m} productos.`)}catch(d){o("Error al eliminar: "+(d.message||d))}finally{i(!1)}}};return S.jsxs("div",{className:"importar-excel",children:[S.jsx("input",{ref:l,type:"file",accept:".xlsx,.xls",onChange:c,style:{display:"none"},disabled:r}),S.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{var h;return(h=l.current)==null?void 0:h.click()},disabled:r,children:r?"Importando...":"Importar Excel"}),S.jsx("button",{type:"button",className:"btn btn-danger-outline",onClick:u,disabled:a,children:a?"Eliminando...":`Eliminar catlogo ${e==="luni"?"LUNI":"Polesie"}`}),s&&S.jsx("p",{className:"hint error",style:{marginTop:"0.5rem"},children:s})]})}const jue={maxSizeMB:.3,maxWidthOrHeight:1200};function Vue(){var ke,ne;const{user:t}=el(),[e,r]=fe.useState([]),[n,a]=fe.useState([]),[i,s]=fe.useState(""),[o,l]=fe.useState(!1),[c,u]=fe.useState(""),[h,d]=fe.useState("polesie"),f=[{id:"polesie",label:"Polesie"},{id:"luni",label:"LUNI"}],[p,m]=fe.useState({descripcion:"",sku:"",imagenFiles:[],dimensiones:"",presentacion:"",precioUnitario:"",unidadesPorBulto:"",categoriaId:""}),[_,x]=fe.useState(null),[T,w]=fe.useState(!1),[I,j]=fe.useState(null),[P,N]=fe.useState(!1),[E,y]=fe.useState(null),[R,A]=fe.useState({descripcion:"",sku:"",imagenes:[],nuevosArchivos:[],dimensiones:"",presentacion:"",precioUnitario:"",unidadesPorBulto:"",categoriaId:""});fe.useEffect(()=>{const Z=Lr(xr(kt,"productos"),Ae=>{r(Ae.docs.map(K=>({id:K.id,...K.data()})))});return()=>Z()},[]),fe.useEffect(()=>{const Z=Ta(xr(kt,"categorias"),Im("orden","asc")),Ae=Lr(Z,K=>{a(K.docs.map(Te=>({id:Te.id,...Te.data()})))});return()=>Ae()},[]);const C=async Z=>{var K;(K=Z==null?void 0:Z.preventDefault)==null||K.call(Z);const Ae=(i||"").trim();if(Ae){l(!0);try{const Te=n.length>0?Math.max(...n.map(Re=>Re.orden??0)):0;await Kf(xr(kt,"categorias"),{nombre:Ae,orden:Te+1}),s("")}finally{l(!1)}}},k=async Z=>{if(!confirm("Eliminar esta categora? Los productos quedarn sin categora."))return;const Ae=Lv(kt),K=e.filter(Te=>Te.categoriaId===Z);for(const Te of K)Ae.update(nn(kt,"productos",Te.id),{categoriaId:null});Ae.delete(nn(kt,"categorias",Z)),await Ae.commit()},q=async(Z,Ae=0)=>{var Ne;if(!Z||!t)return null;let K=Z;if((Ne=Z.type)!=null&&Ne.startsWith("image/"))try{K=await bi(Z,jue)}catch{}const Te=`${Date.now()}_${Ae}_${Math.random().toString(36).slice(2,9)}`,Re=`productos/${t.uid}/${Te}_${K.name}`,Oe=tK(oK,Re);return await ZX(Oe,K),eK(Oe)},X=async Z=>{Z.preventDefault(),w(!0);try{const Ae=Number(p.precioUnitario)||0,K=Number(p.unidadesPorBulto)||1,Te=Ae*K,Re=p.imagenFiles||[],Oe=(await Promise.all(Re.map((Ke,ht)=>q(Ke,ht)))).filter(Boolean),Ne=e.filter(Ke=>(Ke.catalogo||"polesie")===h),Qe=Ne.length>0?Math.max(...Ne.map(Ke=>Ke.orden??0),0):0;await Kf(xr(kt,"productos"),{descripcion:p.descripcion,sku:p.sku||null,imagenes:Oe,imagen:Oe[0]||null,dimensiones:p.dimensiones||null,presentacion:p.presentacion||null,precioUnitario:Ae,unidadesPorBulto:K,precioPorBulto:Te,activo:!0,catalogo:h,categoriaId:p.categoriaId||null,orden:Qe+1}),m({descripcion:"",sku:"",imagenFiles:[],dimensiones:"",presentacion:"",precioUnitario:"",unidadesPorBulto:"",categoriaId:""})}finally{w(!1)}},V=Z=>{var K;const Ae=(K=Z.imagenes)!=null&&K.length?Z.imagenes:Z.imagen?[Z.imagen]:[];x(Z.id),A({descripcion:String(Z.descripcion??""),sku:String(Z.sku??""),imagenes:[...Ae],nuevosArchivos:[],dimensiones:String(Z.dimensiones??""),presentacion:String(Z.presentacion??""),precioUnitario:String(Z.precioUnitario??""),unidadesPorBulto:String(Z.unidadesPorBulto??"1"),categoriaId:Z.categoriaId||""})},H=async()=>{if(_){w(!0);try{const Z=Number(R.precioUnitario)||0,Ae=Number(R.unidadesPorBulto)||1,K=Z*Ae,Te=[...R.imagenes||[]],Re=R.nuevosArchivos||[],Oe=(await Promise.all(Re.map((Ne,Qe)=>q(Ne,Qe)))).filter(Boolean);Te.push(...Oe),await qo(nn(kt,"productos",_),{descripcion:R.descripcion,sku:R.sku||null,imagenes:Te,imagen:Te[0]||null,dimensiones:R.dimensiones||null,presentacion:R.presentacion||null,precioUnitario:Z,unidadesPorBulto:Ae,precioPorBulto:K,catalogo:h,categoriaId:R.categoriaId||null}),x(null)}finally{w(!1)}}},ae=Z=>{A(Ae=>({...Ae,nuevosArchivos:(Ae.nuevosArchivos||[]).filter((K,Te)=>Te!==Z)}))},W=Z=>{A(Ae=>({...Ae,imagenes:Ae.imagenes.filter((K,Te)=>Te!==Z)}))},ge=(Z,Ae)=>{if(Ae<0||Ae>=R.imagenes.length)return;const K=[...R.imagenes],[Te]=K.splice(Z,1);K.splice(Ae,0,Te),A(Re=>({...Re,imagenes:K}))},be=e.filter(Z=>(Z.catalogo||"polesie")===h),D=()=>{const Z=c.toLowerCase().trim();if(!Z)return be;const Ae=Z.split(/\s+/);return be.filter(K=>{const Te=(K.descripcion??K.nombre??"").toLowerCase(),Re=(K.sku??K.codigo??"").toLowerCase(),Oe=(K.presentacion??"").toLowerCase(),Ne=(K.dimensiones??"").toLowerCase(),Qe=`${Te} ${Re} ${Oe} ${Ne}`;return Ae.every(Ke=>Qe.includes(Ke))})},F=Z=>{const Ae=Object.fromEntries(n.map((K,Te)=>[K.id,Te]));return[...Z].sort((K,Te)=>{const Re=K.orden??999999,Oe=Te.orden??999999;if(Re!==Oe)return Re-Oe;const Ne=K.categoriaId!=null?Ae[K.categoriaId]??9999:9999,Qe=Te.categoriaId!=null?Ae[Te.categoriaId]??9999:9999;return Ne!==Qe?Ne-Qe:(K.descripcion??"").localeCompare(Te.descripcion??"")})},U=F(be),M=c.trim()?F(D()):U,Q=(Z,Ae)=>{Z.preventDefault(),Z.stopPropagation(),Z.dataTransfer.dropEffect="move",typeof Ae=="number"&&y(Ae)},oe=Z=>{Z.currentTarget.contains(Z.relatedTarget)||y(null)},de=()=>{j(null)},he=Z=>{m(Ae=>({...Ae,imagenFiles:(Ae.imagenFiles||[]).filter((K,Te)=>Te!==Z)}))},we=async Z=>{confirm("Eliminar este producto?")&&(await Gx(nn(kt,"productos",Z)),_===Z&&x(null))};return S.jsxs("div",{className:"container page",children:[S.jsx("h1",{className:"page-title",children:"Catlogo"}),S.jsx("div",{className:"catalogo-tabs",style:{marginBottom:"1.5rem"},children:f.map(Z=>S.jsx("button",{type:"button",className:`catalogo-tab ${h===Z.id?"active":""}`,onClick:()=>d(Z.id),children:Z.label},Z.id))}),S.jsxs("section",{className:"admin-section",children:[S.jsx("div",{className:"admin-section-header",children:S.jsx("h2",{children:"Categoras"})}),S.jsxs("form",{onSubmit:C,className:"form-inline flex-wrap",style:{marginBottom:"1rem"},children:[S.jsx("input",{placeholder:"Nueva categora",value:i,onChange:Z=>s(Z.target.value),style:{width:200}}),S.jsx("button",{type:"submit",className:"btn btn-primary",disabled:o||!i.trim(),children:o?"...":"Agregar categora"})]}),n.length>0&&S.jsx("div",{className:"categorias-lista",children:n.map(Z=>S.jsxs("span",{className:"badge-categoria",children:[Z.nombre,S.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>k(Z.id),title:"Eliminar",children:""})]},Z.id))})]}),S.jsxs("section",{className:"admin-section",children:[S.jsxs("div",{className:"admin-section-header",children:[S.jsx("h2",{children:"Agregar producto"}),S.jsx(Uue,{catalogo:h,onImportado:()=>{}})]}),S.jsxs("form",{onSubmit:X,className:"form-inline flex-wrap",children:[S.jsx("input",{placeholder:"Descripcin *",value:p.descripcion,onChange:Z=>m({...p,descripcion:Z.target.value}),required:!0}),S.jsx("input",{placeholder:"SKU",value:p.sku,onChange:Z=>m({...p,sku:Z.target.value})}),S.jsxs("label",{className:"input-file-label",children:["Fotos (varias)",S.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:Z=>{const Ae=Z.target.files?Array.from(Z.target.files):[];Ae.length&&m(K=>({...K,imagenFiles:[...K.imagenFiles||[],...Ae]})),Z.target.value=""},style:{display:"none"}}),S.jsx("span",{className:"input-file-text",children:(ke=p.imagenFiles)!=null&&ke.length?`${p.imagenFiles.length} archivo(s)`:"Seleccionar"})]}),((ne=p.imagenFiles)==null?void 0:ne.length)>0&&S.jsx("div",{className:"admin-fotos-pendientes",children:p.imagenFiles.map((Z,Ae)=>S.jsxs("span",{className:"admin-foto-pendiente",children:[Z.name,S.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>he(Ae),title:"Quitar",children:""})]},Ae))}),S.jsx("input",{placeholder:"Dimensiones",value:p.dimensiones,onChange:Z=>m({...p,dimensiones:Z.target.value})}),S.jsx("input",{placeholder:"Presentacin",value:p.presentacion,onChange:Z=>m({...p,presentacion:Z.target.value})}),S.jsx("input",{type:"number",placeholder:"Precio unitario *",value:p.precioUnitario,onChange:Z=>m({...p,precioUnitario:Z.target.value}),required:!0}),S.jsx("input",{type:"number",placeholder:"Unidades por bulto",value:p.unidadesPorBulto,onChange:Z=>m({...p,unidadesPorBulto:Z.target.value}),min:"1"}),S.jsxs("select",{value:p.categoriaId,onChange:Z=>m({...p,categoriaId:Z.target.value}),style:{minWidth:140},children:[S.jsx("option",{value:"",children:"Sin categora"}),n.map(Z=>S.jsx("option",{value:Z.id,children:Z.nombre},Z.id))]}),S.jsx("button",{type:"submit",className:"btn btn-primary",disabled:T,children:T?"Subiendo fotos...":"Agregar"})]})]}),S.jsxs("section",{className:"admin-section",children:[S.jsxs("div",{className:"admin-section-header",children:[S.jsxs("h2",{children:["Productos (",M.length,c?` de ${be.length}`:"",")"]}),S.jsx("span",{className:"hint",style:{marginLeft:"0.5rem",fontWeight:"normal"},children:"Arrastr las filas para cambiar el orden"}),S.jsx("input",{type:"search",placeholder:"Buscar por descripcin, SKU o palabras clave...",value:c,onChange:Z=>u(Z.target.value),className:"busqueda-input",style:{maxWidth:320}})]}),S.jsx("div",{className:"table-wrap",children:S.jsxs("table",{className:"admin-table",children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{style:{width:32}}),S.jsx("th",{children:"Descripcin"}),S.jsx("th",{children:"SKU"}),S.jsx("th",{children:"Categora"}),S.jsx("th",{children:"Imagen"}),S.jsx("th",{children:"Dimensiones"}),S.jsx("th",{children:"Presentacin"}),S.jsx("th",{children:"Precio unit."}),S.jsx("th",{children:"Unid/bulto"}),S.jsx("th",{children:"Precio/bulto"}),S.jsx("th",{children:"Acciones"})]})}),S.jsx("tbody",{onDragOver:Z=>{Z.preventDefault(),Z.dataTransfer.dropEffect="move"},children:M.map((Z,Ae)=>{var Re;const K=Z.precioPorBulto??(Z.precioUnitario??0)*(Z.unidadesPorBulto??1),Te=I===Z.id;return S.jsxs("tr",{"data-row-index":Ae,draggable:!_&&!P,onDragStart:Oe=>{!_&&!P&&(Oe.dataTransfer.effectAllowed="move",Oe.dataTransfer.setData("text/plain",Z.id),j(Z.id))},onDragOver:Oe=>Q(Oe,Ae),onDragLeave:oe,onDrop:Oe=>{Oe.preventDefault(),Oe.stopPropagation();const Ne=Oe.dataTransfer.getData("text/plain");if(!Ne||P)return;const Qe=M[Ae];if(!Qe||Qe.id===Ne)return;j(null),y(null),N(!0);const Ke=[...U],ht=Ke.findIndex(St=>St.id===Ne);if(ht===-1){N(!1);return}const ct=Ke.findIndex(St=>St.id===Qe.id);if(ct===-1){N(!1);return}const[yt]=Ke.splice(ht,1);Ke.splice(ct,0,yt);const mt=Lv(kt);Ke.forEach((St,$t)=>{mt.update(nn(kt,"productos",St.id),{orden:$t})}),mt.commit().catch(St=>{console.error("Error al reordenar:",St),alert("Error al guardar el nuevo orden.")}).finally(()=>N(!1))},onDragEnd:de,className:`admin-producto-row ${Te?"admin-row-dragging":""} ${E===Ae?"admin-row-drop-target":""}`,children:[S.jsx("td",{className:"admin-drag-handle",title:"Arrastrar para reordenar",children:!_&&S.jsx("span",{className:"drag-handle-icon",children:""})}),S.jsx("td",{children:_===Z.id?S.jsx("input",{value:R.descripcion,onChange:Oe=>A({...R,descripcion:Oe.target.value}),style:{width:140}}):Z.descripcion}),S.jsx("td",{children:_===Z.id?S.jsx("input",{value:R.sku,onChange:Oe=>A({...R,sku:Oe.target.value}),style:{width:80}}):Z.sku??"-"}),S.jsx("td",{children:_===Z.id?S.jsxs("select",{value:R.categoriaId,onChange:Oe=>A({...R,categoriaId:Oe.target.value}),style:{minWidth:120},children:[S.jsx("option",{value:"",children:"Sin categora"}),n.map(Oe=>S.jsx("option",{value:Oe.id,children:Oe.nombre},Oe.id))]}):((Re=n.find(Oe=>Oe.id===Z.categoriaId))==null?void 0:Re.nombre)??"-"}),S.jsx("td",{children:_===Z.id?S.jsxs("div",{className:"admin-imagenes-edit",children:[S.jsxs("div",{className:"admin-imagenes-thumbs",children:[(R.imagenes||[]).map((Oe,Ne)=>S.jsxs("div",{className:"admin-imagen-thumb",children:[S.jsx("img",{src:Oe,alt:""}),S.jsxs("div",{className:"admin-imagen-acciones",children:[Ne>0&&S.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>ge(Ne,Ne-1),title:"Principal",children:""}),S.jsx("button",{type:"button",className:"btn btn-danger btn-sm",onClick:()=>W(Ne),children:""})]})]},`img-${Ne}`)),(R.nuevosArchivos||[]).map((Oe,Ne)=>S.jsxs("div",{className:"admin-imagen-thumb",children:[S.jsx("img",{src:URL.createObjectURL(Oe),alt:""}),S.jsx("div",{className:"admin-imagen-acciones",children:S.jsx("button",{type:"button",className:"btn btn-danger btn-sm",onClick:()=>ae(Ne),title:"Quitar",children:""})})]},`new-${Ne}`))]}),S.jsxs("label",{className:"input-file-label",children:[S.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:Oe=>{const Ne=Oe.target.files?Array.from(Oe.target.files):[];Ne.length&&A(Qe=>({...Qe,nuevosArchivos:[...Qe.nuevosArchivos||[],...Ne]})),Oe.target.value=""},style:{display:"none"}}),S.jsx("span",{className:"input-file-text",children:"+ Agregar fotos"})]})]}):(()=>{var Ne;const Oe=((Ne=Z.imagenes)==null?void 0:Ne[0])||Z.imagen;return Oe?S.jsx("img",{src:Oe,alt:"",style:{maxWidth:40,maxHeight:40,objectFit:"contain"},onError:Qe=>{Qe.target.style.display="none"}}):"-"})()}),S.jsx("td",{children:_===Z.id?S.jsx("input",{value:R.dimensiones,onChange:Oe=>A({...R,dimensiones:Oe.target.value}),style:{width:90}}):Z.dimensiones??"-"}),S.jsx("td",{children:_===Z.id?S.jsx("input",{value:R.presentacion,onChange:Oe=>A({...R,presentacion:Oe.target.value}),style:{width:90}}):Z.presentacion??"-"}),S.jsx("td",{children:_===Z.id?S.jsx("input",{type:"number",value:R.precioUnitario,onChange:Oe=>A({...R,precioUnitario:Oe.target.value}),style:{width:80}}):`$${kr(Z.precioUnitario??0)}`}),S.jsx("td",{children:_===Z.id?S.jsx("input",{type:"number",value:R.unidadesPorBulto,onChange:Oe=>A({...R,unidadesPorBulto:Oe.target.value}),style:{width:70},min:"1"}):Z.unidadesPorBulto??1}),S.jsxs("td",{children:["$",kr(K)]}),S.jsx("td",{children:_===Z.id?S.jsxs("div",{className:"acciones-cell",children:[S.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:H,disabled:T,children:T?"Guardando...":"Guardar"}),S.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>x(null),children:"Cancelar"})]}):S.jsxs("div",{className:"acciones-cell",children:[S.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>V(Z),children:"Editar"}),S.jsx("button",{type:"button",className:"btn btn-danger btn-sm",onClick:()=>we(Z.id),children:"Eliminar"})]})})]},Z.id)})})]})})]})]})}function zue(){const[t,e]=fe.useState([]),[r,n]=fe.useState(""),[a,i]=fe.useState(null),[s,o]=fe.useState("");fe.useEffect(()=>{const d=Lr(xr(kt,"vendedores"),f=>{e(f.docs.map(p=>({id:p.id,...p.data()})))});return()=>d()},[]);const l=async d=>{d.preventDefault();const f=r.trim();f&&(await Kf(xr(kt,"vendedores"),{nombre:f}),n(""))},c=d=>{i(d.id),o(d.nombre||"")},u=async()=>{if(!a)return;const d=s.trim();d&&(await qo(nn(kt,"vendedores",a),{nombre:d}),i(null))},h=async d=>{confirm("Eliminar este vendedor?")&&(await Gx(nn(kt,"vendedores",d)),a===d&&i(null))};return S.jsxs("div",{className:"container page",children:[S.jsx("h1",{className:"page-title",children:"Vendedores"}),S.jsx("p",{className:"page-subtitle",children:"Gestion la lista de vendedores. Esta lista se usa en el checkout y al asignar clientes."}),S.jsxs("section",{className:"admin-section",children:[S.jsx("h2",{children:"Agregar vendedor"}),S.jsxs("form",{onSubmit:l,className:"form-inline",children:[S.jsx("input",{placeholder:"Nombre del vendedor",value:r,onChange:d=>n(d.target.value)}),S.jsx("button",{type:"submit",className:"btn btn-primary",children:"Agregar"})]})]}),S.jsxs("section",{className:"admin-section",children:[S.jsxs("h2",{children:["Lista de vendedores (",t.length,")"]}),t.length===0?S.jsx("p",{className:"empty-state",children:"No hay vendedores cargados. Agreg uno arriba."}):S.jsx("ul",{className:"entidades-list admin-vendedores-list",children:t.map(d=>S.jsx("li",{className:"admin-vendedor-item",children:a===d.id?S.jsxs(S.Fragment,{children:[S.jsx("input",{value:s,onChange:f=>o(f.target.value),className:"admin-vendedor-input"}),S.jsxs("div",{className:"acciones-cell",children:[S.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:u,children:"Guardar"}),S.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>i(null),children:"Cancelar"})]})]}):S.jsxs(S.Fragment,{children:[S.jsx("strong",{children:d.nombre}),S.jsxs("div",{className:"acciones-cell",children:[S.jsx("button",{type:"button",className:"btn btn-ghost btn-sm",onClick:()=>c(d),children:"Editar"}),S.jsx("button",{type:"button",className:"btn btn-danger btn-sm",onClick:()=>h(d.id),children:"Eliminar"})]})]})},d.id))})]})]})}function Hue(){const[t,e]=fe.useState([]),[r,n]=fe.useState([]),[a,i]=fe.useState(""),[s,o]=fe.useState({});fe.useEffect(()=>{const f=Lr(Ta(xr(kt,"productos"),ca("activo","==",!0)),p=>e(p.docs.map(m=>({id:m.id,...m.data()}))));return()=>f()},[]),fe.useEffect(()=>{const f=Lr(xr(kt,"ofertas"),p=>{n(p.docs.map(m=>({id:m.id,...m.data()})))});return()=>f()},[]);const l=a.toLowerCase().trim(),c=l?t.filter(f=>`${f.descripcion??""} ${f.nombre??""} ${f.sku??""} ${f.codigo??""}`.toLowerCase().includes(l)):[],u=async(f,p)=>{const m=Number(p);if(p===""||p===null||p===void 0){alert("Ingres un porcentaje de descuento (0-100) antes de agregar la oferta.");return}if(isNaN(m)){alert("El porcentaje debe ser un nmero.");return}const _=Math.max(0,Math.min(100,m));try{await Rv(nn(kt,"ofertas",f.id),{productId:f.id,descuentoPct:_,descripcion:f.descripcion??f.nombre,sku:f.sku??f.codigo}),o(x=>({...x,[f.id]:""}))}catch(x){console.error("Error al agregar oferta:",x),alert("No se pudo agregar la oferta. Revis la consola o permisos de Firestore.")}},h=async f=>{confirm("Quitar esta oferta?")&&await Gx(nn(kt,"ofertas",f))},d=async(f,p)=>{const m=Math.max(0,Math.min(100,Number(p)));if(isNaN(m))return;const _=r.find(x=>x.productId===f);_&&(await Rv(nn(kt,"ofertas",f),{..._,descuentoPct:m}),o(x=>({...x,[f]:""})))};return S.jsxs("div",{className:"container page",children:[S.jsx("h1",{className:"page-title",children:"Ofertas"}),S.jsx("p",{className:"page-subtitle",children:"Busc productos del catlogo y asign un descuento puntual. Esos productos se vern en la seccin OFERTAS del cliente."}),S.jsx("div",{className:"admin-ofertas-busqueda",children:S.jsx("input",{type:"search",placeholder:"Buscar por descripcin, SKU...",value:a,onChange:f=>i(f.target.value),className:"busqueda-input"})}),a&&S.jsxs("div",{className:"admin-ofertas-resultados",children:[S.jsxs("h3",{children:["Resultados (",c.length,")"]}),c.length===0?S.jsx("p",{className:"empty-state",children:"No hay productos que coincidan."}):S.jsx("ul",{className:"admin-ofertas-lista",children:c.map(f=>{const p=r.find(x=>x.productId===f.id),m=f.precioPorBulto??(f.precioUnitario??0)*(f.unidadesPorBulto??1),_=s[f.id]??(p==null?void 0:p.descuentoPct)??"";return S.jsxs("li",{className:"admin-oferta-item",children:[S.jsxs("span",{className:"admin-oferta-nombre",children:[f.descripcion??f.nombre,"  ",f.sku??f.codigo]}),S.jsxs("span",{className:"admin-oferta-precio",children:["$",kr(m),"/bulto"]}),S.jsxs("div",{className:"admin-oferta-acciones",children:[S.jsx("input",{type:"number",min:"0",max:"100",placeholder:"% desc",value:_,onChange:x=>o(T=>({...T,[f.id]:x.target.value})),style:{width:70}}),p?S.jsxs(S.Fragment,{children:[S.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>d(f.id,_),children:"Actualizar %"}),S.jsx("button",{type:"button",className:"btn btn-danger-outline btn-sm",onClick:()=>h(f.id),children:"Quitar oferta"})]}):S.jsx("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>u(f,_),children:"Agregar oferta"})]})]},f.id)})})]}),S.jsxs("div",{className:"admin-ofertas-activas",children:[S.jsxs("h3",{children:["Ofertas activas (",r.length,")"]}),r.length===0?S.jsx("p",{className:"empty-state",children:"An no hay ofertas. Busc un producto y asignale un descuento."}):S.jsx("ul",{className:"admin-ofertas-lista",children:r.map(f=>{const p=t.find(x=>x.id===f.productId),m=p?p.precioPorBulto??(p.precioUnitario??0)*(p.unidadesPorBulto??1):0,_=m*(1-(f.descuentoPct??0)/100);return S.jsxs("li",{className:"admin-oferta-item",children:[S.jsxs("span",{className:"admin-oferta-nombre",children:[f.descripcion??(p==null?void 0:p.descripcion),"  ",f.sku??(p==null?void 0:p.sku)]}),S.jsxs("span",{className:"admin-oferta-precio",children:["$",kr(m),"  $",kr(_)," (",f.descuentoPct,"% off)"]}),S.jsx("button",{type:"button",className:"btn btn-danger-outline btn-sm",onClick:()=>h(f.productId),children:"Quitar"})]},f.id)})})]})]})}function IC({children:t,requireAdmin:e}){const{user:r,profile:n,loading:a}=el();return a?S.jsxs("div",{className:"loading-screen",children:[S.jsx("div",{className:"loading-spinner"}),S.jsx("p",{children:"Cargando..."})]}):r?n!=null&&n.deleted?S.jsx(d2,{to:"/login?reason=deleted",replace:!0}):e&&(n==null?void 0:n.role)!=="admin"?S.jsx(d2,{to:"/",replace:!0}):t:S.jsx(d2,{to:"/login",replace:!0})}function que(){return S.jsxs(BU,{children:[S.jsx(Oa,{path:"/login",element:S.jsx(pK,{})}),S.jsx(Oa,{path:"/registro",element:S.jsx(mK,{})}),S.jsxs(Oa,{path:"/",element:S.jsx(IC,{children:S.jsx(uK,{children:S.jsx(dK,{})})}),children:[S.jsx(Oa,{index:!0,element:S.jsx(gK,{})}),S.jsx(Oa,{path:"catalogo",element:S.jsx(xK,{})}),S.jsx(Oa,{path:"checkout",element:S.jsx(gue,{})}),S.jsx(Oa,{path:"datos",element:S.jsx(xue,{})}),S.jsx(Oa,{path:"mis-pedidos",element:S.jsx(_ue,{})})]}),S.jsxs(Oa,{path:"/admin",element:S.jsx(IC,{requireAdmin:!0,children:S.jsx(yue,{})}),children:[S.jsx(Oa,{index:!0,element:S.jsx(wue,{})}),S.jsx(Oa,{path:"usuarios",element:S.jsx(bue,{})}),S.jsx(Oa,{path:"usuarios/:id",element:S.jsx(Sue,{})}),S.jsx(Oa,{path:"pedidos",element:S.jsx(Eue,{})}),S.jsx(Oa,{path:"pedidos/:id",element:S.jsx(Aue,{})}),S.jsx(Oa,{path:"catalogo",element:S.jsx(Vue,{})}),S.jsx(Oa,{path:"ofertas",element:S.jsx(Hue,{})}),S.jsx(Oa,{path:"vendedores",element:S.jsx(zue,{})})]}),S.jsx(Oa,{path:"*",element:S.jsx(d2,{to:"/",replace:!0})})]})}UB.createRoot(document.getElementById("root")).render(S.jsx(fe.StrictMode,{children:S.jsx(cj,{children:S.jsx(cK,{children:S.jsx(que,{})})})}));export{tn as _};
